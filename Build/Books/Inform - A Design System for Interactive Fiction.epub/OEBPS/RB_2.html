<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>Chapter 2: Adaptive Prose</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 2: Adaptive Prose</p>
<p class="chaptercontents"><a href="RB_2.html#s1" class="standardlink"><span class="chaptercontentsitem">§2.1. Varying What Is Written</span></a>; <a href="RB_2.html#s2" class="standardlink"><span class="chaptercontentsitem">§2.2. Varying What Is Read</span></a>; <a href="RB_2.html#s3" class="standardlink"><span class="chaptercontentsitem">§2.3. Using the Player's Input</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="RB_1.html" class="standardlink">Contents of <i>The Inform Recipe Book</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#chapter_1_1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_1.html#chapter_1_1" class="standardlink">Chapter 1: How to Use The Recipe Book</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html" class="standardlink">Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§2.1. Varying What Is Written</p>
<p>Before getting to actual recipes, many recipe books begin with intimidating lists of high-end kitchen equipment (carbon-steel pans, a high-temperature range, a Provencal shallot-grater, a set of six pomegranate juicers): fortunately, readers who have downloaded Inform already have the complete kitchen used by the authors. But the other traditional preliminaries, about universal skills such as chopping vegetables, boiling water and measuring quantities, do have an equivalent.</p>
<p>For us, the most basic technique of IF is to craft the text so that it smoothly and elegantly adapts to describe the situation, disguising the machine which is never far beneath the surface. This means using text substitutions so that any response likely to be seen more than once or twice will vary.</p>
<p><span class="boldface">M. Melmoth's Duel</span> demonstrates three basic techniques: an ever-changing random variation, a random variation changing only after the player has been absent for a while, and a message tweaked to add an extra comment in one special case. (Random choices can be quite specifically constrained, as <span class="boldface">Ahem</span> shows in passing.) <span class="boldface">Fifty Ways to Leave Your Larva</span> and <span class="boldface">Fifty Times Fifty Ways</span> show how a generic message can be given a tweak to make it a better fit for the person it currently talks about. <span class="boldface">Curare</span> picks out an item carried by the player to work into a message, trying to make an apt rather than random choice. <span class="boldface">Straw Into Gold</span> demonstrates how to have Inform parrot back the player's choice of name for an object.</p>
<p>Another reason to vary messages is to avoid unnatural phrasing. <span class="boldface">Ballpark</span> turns needlessly precise numbers - another computerish trait - into more idiomatic English. (Likewise <span class="boldface">Numberless</span>, though it is really an example demonstrating how to split behaviour into many cases.) <span class="boldface">Prolegomena</span> shows how to use these vaguer quantifiers any time Inform describes a group of objects (as in &quot;You can see 27 paper clips here.&quot;).</p>
<p><span class="boldface">Blink</span>, a short but demanding example from the extreme end of <span class="italic">Writing with Inform</span>, shows how the basic text variation mechanisms of Inform can themselves be extended. <span class="boldface">Blackout</span> demonstrates text manipulation at a lower level, replacing every letter of a room name with &quot;*&quot; when the player is in darkness.</p>
<p>Inform's included extension Complex Listing allows us more control over the order and presentation of lists of items.</p>
<p>For how to change printed text to upper, lower, sentence, or title casing, see <span class="boldface">Rocket Man</span>.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_2.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_2.html" class="standardlink">Start of Chapter 2: Adaptive Prose</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_1.html#s4" class="standardlink">Back to Chapter 1: How to Use The Recipe Book: §1.4. Information Only</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_2.html#s2" class="standardlink">Onward to §2.2. Varying What Is Read</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e215" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e215" class="standardlink">Example 71: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Fifty Ways to Leave Your Larva</b>&#160;&#160;&#160; Using text substitution to make characters reply differently under the same circumstances.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e3" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e3" class="standardlink">Example 169: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ahem</b>&#160;&#160;&#160; Writing a phrase, with several variant forms, whose function is to follow a rule several times.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e372" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e372" class="standardlink">Example 174: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Numberless</b>&#160;&#160;&#160; A simple exercise in printing the names of random numbers, comparing the use of "otherwise if...", a switch statement, or a table-based alternative.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e422" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e422" class="standardlink">Example 178: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>M. Melmoth's Duel</b>&#160;&#160;&#160; Three basic ways to inject random or not-so-random variations into text.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e274" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e274" class="standardlink">Example 249: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Olfactory Settings</b>&#160;&#160;&#160; Some adaptive text for smelling the flowers, or indeed, anything else.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e324" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e324" class="standardlink">Example 252: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Responsive</b>&#160;&#160;&#160; Altering the standard inventory text for when the player is carrying nothing.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e302" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e302" class="standardlink">Example 343: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Prolegomena</b>&#160;&#160;&#160; Replacing precise numbers with "some" or other quantifiers when too many objects are clustered together for the player to count at a glance.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e432" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e432" class="standardlink">Example 345: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Wesponses</b>&#160;&#160;&#160; Parser messages that are delivered with a speech impediment.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e328" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e328" class="standardlink">Example 413: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Rocket Man</b>&#160;&#160;&#160; Using case changes on any text produced by a "to say..." phrase.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e37" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e37" class="standardlink">Example 419: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Blackout</b>&#160;&#160;&#160; Filtering the names of rooms printed while in darkness.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e100" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e100" class="standardlink">Example 439: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Curare</b>&#160;&#160;&#160; A phrase that chooses and names the least-recently selected item from the collection given, allowing the text to cycle semi-randomly through a group of objects.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e40" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e40" class="standardlink">Example 454: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Blink</b>&#160;&#160;&#160; Making a "by atmosphere" token, allowing us to design our own text variations such as "[one of]normal[or]gloomy[or]scary[by atmosphere]".</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e159" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e159" class="standardlink">Example 245: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Fun with Participles</b>&#160;&#160;&#160; Creating dynamic room descriptions that contain sentences such as "Clark is here, wasting time" or "Clark is here, looking around" depending on Clark's idle activity.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e409" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e409" class="standardlink">Example 246: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Variety</b>&#160;&#160;&#160; Suppose we want all of our action responses to display some randomized variety. We could do this by laboriously rewriting all of the response texts, but this example demonstrates an alternative.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e410" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e410" class="standardlink">Example 247: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Variety 2</b>&#160;&#160;&#160; This builds on the Variety example to add responses such as "You are now carrying the fedora" that describe relations that result from a given verb, as alternate responses.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e189" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e189" class="standardlink">Example 250: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>History Lab</b>&#160;&#160;&#160; We create phrases such as "the box we took" and "the newspaper Clark looked at" based on what has already happened in the story.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e321" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e321" class="standardlink">Example 251: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Relevant Relations</b>&#160;&#160;&#160; An example of how to create room descriptions that acknowledge particular relations using their assigned verbs, rather than by the heavily special-cased code used by the standard library.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e14" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e14" class="standardlink">Example 60: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ballpark</b>&#160;&#160;&#160; A new "to say" definition which allows the author to say "[a number in round numbers]" and get verbal descriptions like "a couple of" or "a few" as a result.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e216" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e216" class="standardlink">Example 72: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Fifty Times Fifty Ways</b>&#160;&#160;&#160; Writing your own rules for how to carry out substitutions.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e261" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e261" class="standardlink">Example 248: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Narrative Register</b>&#160;&#160;&#160; Suppose we want all of our action responses to vary depending on some alterable quality of the narrator, so that sometimes they're slangy, sometimes pompous or archaic.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e367" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e367" class="standardlink">Example 305: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Straw Into Gold</b>&#160;&#160;&#160; Creating a Rumpelstiltskin character who is always referred to as "dwarf", "guy", "dude", or "man" -- depending on which the player last used -- until the first time the player refers to him as "Rumpelstiltskin".</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§2.2. Varying What Is Read</p>
<p>Making the printed text adapt to circumstances only makes half of the conversation graceful: the other half is to allow the player's commands to have a similar freedom. The things the player can refer to should always respond to the names which would seem natural to the player. Inform provides a variety of techniques for understanding words always, or only under certain conditions; and, if need be, we can also get direct access to what the player has typed in order to examine it with regular expressions. (This last resort is rarely necessary.)</p>
<p><span class="boldface">First Name Basis</span> shows how to assign names to things or to kinds of thing - if, for instance, we want the player to be able to refer to any man as &quot;man&quot; or &quot;gentleman&quot;:</p>
<!-- START CODE "c9429" -->
<a id="c9429"></a><blockquote class="code"><p class="quoted">
Understand &quot;man&quot; or &quot;gentleman&quot; as a man.
</p></blockquote>
<!-- END CODE -->
<p>We may also sometimes want to give names that are specifically plural, as in</p>
<!-- START CODE "c9430" -->
<a id="c9430"></a><blockquote class="code"><p class="quoted">
A duck is a kind of animal. Understand &quot;birds&quot; as the plural of duck.
</p></blockquote>
<!-- END CODE -->
<p>or</p>
<!-- START CODE "c9431" -->
<a id="c9431"></a><blockquote class="code"><p class="quoted">
Understand &quot;birds&quot; as the plural of the magpie.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">Vouvray</span> demonstrates.</p>
<p>A common challenge arises when two objects have names that overlap or are related, and we wish Inform to choose sensibly between them: for instance, a cigarette vs. a cigarette case. If a word should apply to something only as part of a phrase (e.g., &quot;cigarette&quot; alone should never refer to the cigarette case) we can manage the situation as follows:</p>
<!-- START CODE "c9432" -->
<a id="c9432"></a><blockquote class="code"><p class="quoted">
The case is a closed openable container. The printed name is &quot;cigarette case&quot;. Understand &quot;cigarette case&quot; as the case.
</p></blockquote>
<!-- END CODE -->
<p>Because &quot;cigarette&quot; here appears only as part of the phrase &quot;cigarette case&quot;, it will be understood only in that context; the conflict with the bare cigarette will not arise.</p>
<p>As a variant, we may want one object only to take precedence over another in naming. If we wanted the player to be allowed to refer casually to the cigarette case as &quot;cigarette&quot; when (and only when) the cigarette itself is not in view, we could add</p>
<!-- START CODE "c9433" -->
<a id="c9433"></a><blockquote class="code"><p class="quoted">
Understand &quot;cigarette&quot; as the case when the cigarette is not visible.
</p></blockquote>
<!-- END CODE -->
<p>Tricks which consider the visibility of other objects can be bad for performance if used widely; but for adding finesse to the treatment of a few items, they work very well.</p>
<p>(There may still arise cases where the player uses a name which can legitimately refer to two different things in view. To deal with this situation, we may want the Does the player mean... rules, explained in the chapter on Understanding; and to change the way the story asks for clarification, see the two activities Asking which do you mean and Clarifying the parser's choice of something.)</p>
<p>Names of things which contain prepositions can also be tricky because Inform misreads the sentences creating them: <span class="boldface">Laura</span> shows how some awkward cases can be safely overcome.</p>
<p>A more difficult case is to ensure that if we change the description or nature of something in play, then the names we understand for it adapt, too. &quot;Understand... when...&quot; can be all that's needed:</p>
<!-- START CODE "c9434" -->
<a id="c9434"></a><blockquote class="code"><p class="quoted">
Understand &quot;king&quot; as Aragorn when we have crowned Aragorn.
</p></blockquote>
<!-- END CODE -->
<p>Or, similarly, if we want some combination of categories and characteristics to be recognized:</p>
<!-- START CODE "c9435" -->
<a id="c9435"></a><blockquote class="code"><p class="quoted">
Understand &quot;giant&quot; as a man when the item described is tall.
</p></blockquote>
<!-- END CODE -->
<p>&quot;The item described&quot; here refers to the thing being named. &quot;...when&quot; can even be useful in defining new commands, and <span class="boldface">Quiz Show</span> demonstrates how to ask open-ended questions that the player can answer only on the subsequent turn.</p>
<p>Properties can also be matched without fuss:</p>
<!-- START CODE "c9436" -->
<a id="c9436"></a><blockquote class="code"><p class="quoted">
Tint is a kind of value. The tints are green, aquamarine and darkish purple. The wallpaper is fixed in place in the Hotel. The wallpaper has a tint. Understand the tint property as describing the wallpaper.
</p></blockquote>
<!-- END CODE -->
<p>This allows EXAMINE AQUAMARINE WALLPAPER if, but only if, it happens to be aquamarine at the moment. Relationships can also be matched automatically:</p>
<!-- START CODE "c9437" -->
<a id="c9437"></a><blockquote class="code"><p class="quoted">
A box is a kind of container. The red box is a box in the Toyshop. Some crayons are in the red box. Understand &quot;box of [something related by containment]&quot; as a box.
</p></blockquote>
<!-- END CODE -->
<p>which recognises BOX OF CRAYONS until they are removed, when it reverts to plain BOX only.</p>
<p>Greater difficulty arises if, using some variable or property or table to mark that a bottle contains wine, we print messages calling it &quot;bottle of wine&quot;. We are then honour-bound to understand commands like TAKE BOTTLE OF WINE in return, not to insist on TAKE BOTTLE. Almost all &quot;simulation&quot; IF runs in to issues like this, and there is no general solution because simulations are so varied.</p>
<p>A converse challenge arises when we want to <span class="italic">avoid</span> understanding the player's references to an object under some or all circumstances. This is relatively uncommon, but does sometimes occur. For this situation, Inform provides the &quot;privately-named&quot; property, as in</p>
<!-- START CODE "c9438" -->
<a id="c9438"></a><blockquote class="code"><p class="quoted">
The unrecognizable object is a privately-named thing in the Kitchen.
</p></blockquote>
<!-- END CODE -->
<p>Here &quot;privately-named&quot; tells Inform not to understand the object's source name automatically. It is then up to us to create any understand lines we want to refer to the object, as in</p>
<!-- START CODE "c9439" -->
<a id="c9439"></a><blockquote class="code"><p class="quoted">
Understand &quot;oyster fork&quot; as the unrecognizable object when the etiquette book is read.
</p></blockquote>
<!-- END CODE -->
<p>Of course, if we need an object that the player is never allowed to refer to at all, we can just make this privately-named and then not provide any understand lines at all.</p>
<p>A final source of difficulty is that by default Inform truncates words to nine letters before attempting to identify them. This is no problem in most circumstances and is likely to go unnoticed -- until we have two very long words whose names are nearly identical, such as &quot;north-northwest exit&quot; and &quot;north-northeast exit&quot;. (To make matters worse, a punctuation mark such as a hyphen counts as two letters on its own.)</p>
<p>When we are compiling for Glulx, the limit is easily changed with a single line, setting the constant called DICT_WORD_SIZE. For instance, if we wanted to raise the limit to 15, we would write</p>
<!-- START CODE "c9440" -->
<a id="c9440"></a><blockquote class="code"><p class="quoted">
Use DICT_WORD_SIZE of 15.
</p></blockquote>
<!-- END CODE -->
<p>When compiling for the Z-machine, the solution is harder. <span class="boldface">North by Northwest</span> shows how to use the reading a command activity to pre-process very long names, rendering them accessible to the parser again.</p>
<p>Inform also allows the player to refer to the most recently seen objects and people as IT, HIM, HER, and so on. It sets these pronouns by default, but there are times when we wish to override the way it does that. <span class="boldface">Pot of Petunias</span> shows off a way to make Inform recognize an object as IT when it would not otherwise have done so.</p>
<p class="crossreference"><a href="RB_10.html#s2" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Liquids</b></a><i> for a resolution of this bottle-of-wine issue</i></p><p class="crossreference"><a href="RB_2.html#s3" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Using the Player's Input</b></a><i> for an example (Mr. Burns' Repast) in which a fish can be called by any arbitrary word as long as it ends in the letters -fish</i></p><p class="crossreference"><a href="RB_5.html#s5" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Memory and Knowledge</b></a><i> for a way to refer to characters whom the player knows about but who aren't currently in the room</i></p><p class="crossreference"><a href="RB_6.html#s17" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Clarification and Correction</b></a><i> for ways to improve guesses about what the player means</i></p><p class="crossreference"><a href="RB_6.html#s18" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Alternatives To Standard Parsing</b></a><i> for several esoteric variations on the default behavior, such as accepting adverbs anywhere in the command, and scanning the player's input for keywords</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_2.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_2.html" class="standardlink">Start of Chapter 2: Adaptive Prose</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_2.html#s1" class="standardlink">Back to §2.1. Varying What Is Written</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_2.html#s3" class="standardlink">Onward to §2.3. Using the Player's Input</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e146" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e146" class="standardlink">Example 11: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>First Name Basis</b>&#160;&#160;&#160; Allowing the player to use different synonyms to refer to something.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e312" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e312" class="standardlink">Example 323: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Quiz Show</b>&#160;&#160;&#160; In this example by Mike Tarbert, the player can occasionally be quizzed on random data from a table; the potential answers will only be understood if a question has just been asked.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e298" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e298" class="standardlink">Example 325: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Pot of Petunias</b>&#160;&#160;&#160; Responding sensibly to a pot of petunias falling from the sky.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e219" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e219" class="standardlink">Example 19: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Laura</b>&#160;&#160;&#160; Some general advice about creating objects with unusual or awkward names, and a discussion of the use of printed names.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e417" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e417" class="standardlink">Example 43: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Vouvray</b>&#160;&#160;&#160; Adding synonyms to an entire kind of thing.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e266" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e266" class="standardlink">Example 375: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>North by Northwest</b>&#160;&#160;&#160; Creating additional compass directions between those that already exist (for instance, NNW) -- and dealing with an awkwardness that arises when the player tries to type "north-northwest". The example demonstrates a way around the nine-character limit on parsed words.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§2.3. Using the Player's Input</p>
<p>We may sometimes want to capture specific words the player has used and then feature that text elsewhere in the story.</p>
<p><span class="boldface">Terracottissima Maxima</span> demonstrates using text to describe objects; <span class="boldface">Mr. Burns' Repast</span> lets the player refer to a fish by any of a number of names, and changes the way the fish is described as a result.</p>
<p>More specialized effects are also possible: <span class="boldface">Xot</span> shows how to collect the player's erroneous input and store the command line to be printed back later. <span class="boldface">Igpay Atinlay</span> shows how to parrot the player's command back in pig Latin form.</p>
<p class="crossreference"><a href="RB_8.html#s3" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Animals</b></a><i> for a dog which the player can re-name</i></p><p class="crossreference"><a href="RB_5.html#s2" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Traits Determined By the Player</b></a><i> for a way to let the player name the player character</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_2.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_2.html" class="standardlink">Start of Chapter 2: Adaptive Prose</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_2.html#s2" class="standardlink">Back to §2.2. Varying What Is Read</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html#s1" class="standardlink">Onward to Chapter 3: Place: §3.1. Room Descriptions</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e198" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e198" class="standardlink">Example 421: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Igpay Atinlay</b>&#160;&#160;&#160; A pig Latin filter for the player's commands.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e253" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e253" class="standardlink">Example 422: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Mr. Burns' Repast</b>&#160;&#160;&#160; Letting the player guess types for an unidentifiable fish.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e378" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e378" class="standardlink">Example 317: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Terracottissima Maxima</b>&#160;&#160;&#160; Flowerpots with textual names that might change during play.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#e445" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_2.html#e445" class="standardlink">Example 381: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Xot</b>&#160;&#160;&#160; Storing an invalid command to be repeated as text later in the game.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 2: Adaptive Prose</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_2.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_2.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html" class="standardlink">Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "71: Fifty Ways to Leave Your Larva" "e215" -->
<a id="e215"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e215" class="eglink"><b>71</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e215" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fifty Ways to Leave Your Larva</span></b></a><br />Using text substitution to make characters reply differently under the same circumstances.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_5.html#e215"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example215">
<p>We can use these substitutions to put together fairly complicated variations within a single piece of text:</p>
<!-- START CODE "c9441_215" -->
<a id="c9441_215"></a><blockquote class="code"><p class="quoted">
&quot;Fifty Ways to Leave Your Larva&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9442_215" -->
<a id="c9442_215"></a><blockquote class="code"><p class="quoted">
The Beekeeper's Palace is a room. Wasp is a woman in the palace. Drone is a man in the palace.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9443_215" -->
<a id="c9443_215"></a><blockquote class="code"><p class="quoted">
Instead of kissing someone:
<br />&#160;&#160;&#160;&#160;say &quot;'[denial], [insult]! [boast]!'&quot;;
</p></blockquote>
<!-- END CODE -->
<p>In this context, [denial] is understood to refer to the denial property of the noun -- but we could spell it out with &quot;denial of the noun&quot; if we wanted to.</p>
<!-- START CODE "c9444_215" -->
<a id="c9444_215"></a><blockquote class="code"><p class="quoted">
A person has some text called denial. The denial of a person is usually &quot;Stand back&quot;. The denial of Drone is &quot;You forget yourself&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9445_215" -->
<a id="c9445_215"></a><blockquote class="code"><p class="quoted">
A person has some text called  insult. The insult of a person is usually &quot;Grasshopper&quot;. The insult of Wasp is &quot;Larva&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9446_215" -->
<a id="c9446_215"></a><blockquote class="code"><p class="quoted">
A person has some text called  boast. The boast of a person is usually &quot;I am ferocious&quot;. The boast of Drone is &quot;I have ferocious allies&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And then it would be trivial to insert further rules using these responses:</p>
<!-- START CODE "c9447_215" -->
<a id="c9447_215"></a><blockquote class="code"><p class="quoted">
Instead of attacking someone:
<br />&#160;&#160;&#160;&#160;say &quot;'Get away, [insult]!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9448_215" -->
<a id="c9448_215"></a><blockquote class="code"><p class="quoted">
Test me with &quot;kiss wasp / hit wasp / hit drone / kiss drone&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "169: Ahem" "e3" -->
<a id="e3"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e3" class="eglink"><b>169</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e3" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ahem</span></b></a><br />Writing a phrase, with several variant forms, whose function is to follow a rule several times.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_11.html#e3"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example3">
<p>As we see in the example here, it is possible to use slashed variations in more than one place in a phrase, and to offer a number of separate forms. The main rule of thumb to remember is that value inputs for the phrase should always be separated by some text; so</p>
<!-- START CODE "c9449_3" -->
<a id="c9449_3"></a><blockquote class="code"><p class="quoted">
To do/follow (chosen rule - a rule) exactly/precisely/just/-- (N - a number) time/times:
<br />&#160;&#160;&#160;&#160;....
</p></blockquote>
<!-- END CODE -->
<p>would cause a problem when we tried to call it with</p>
<!-- START CODE "c9450_3" -->
<a id="c9450_3"></a><blockquote class="code"><p class="quoted">
follow the throat-clearing rule 2 times.
</p></blockquote>
<!-- END CODE -->
<p>In general, we probably don't need to make our phrase definitions quite so flexible as this, but it's a good idea to account for &quot;a&quot; vs. &quot;the&quot;, and for the possibility of using singular and plural forms, especially when writing extensions or other source to be shared.</p>
<!-- START CODE "c9451_3" -->
<a id="c9451_3"></a><blockquote class="code"><p class="quoted">
 &quot;Ahem&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9452_3" -->
<a id="c9452_3"></a><blockquote class="code"><p class="quoted">
To do/follow (chosen rule - a rule) exactly/precisely/just (N - a number) time/times:
<br />&#160;&#160;&#160;&#160;repeat with index running from 1 to N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow chosen rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9453_3" -->
<a id="c9453_3"></a><blockquote class="code"><p class="quoted">
This is the throat-clearing rule:
<br />&#160;&#160;&#160;&#160;say &quot;'Ahem,' says [a random visible person who is not the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9454_3" -->
<a id="c9454_3"></a><blockquote class="code"><p class="quoted">
After waiting:
<br />&#160;&#160;&#160;&#160;do the throat-clearing rule just one time.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9455_3" -->
<a id="c9455_3"></a><blockquote class="code"><p class="quoted">
Instead of listening:
<br />&#160;&#160;&#160;&#160;follow the throat-clearing rule precisely three times.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9456_3" -->
<a id="c9456_3"></a><blockquote class="code"><p class="quoted">
Instead of smelling:
<br />&#160;&#160;&#160;&#160;follow the throat-clearing rule exactly 2 times.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9457_3" -->
<a id="c9457_3"></a><blockquote class="code"><p class="quoted">
Chateau Marmont is a room. Tom, Jack, Zsa-Zsa, and Wilma-Faye are people in the Chateau. Zsa-Zsa and Wilma-Faye are women.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9458_3" -->
<a id="c9458_3"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wait / smell / listen&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "174: Numberless" "e372" -->
<a id="e372"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e372" class="eglink"><b>174</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e372" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Numberless</span></b></a><br />A simple exercise in printing the names of random numbers, comparing the use of "otherwise if...", a switch statement, or a table-based alternative.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_11.html#e372"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example372">
<!-- START CODE "c9459_372" -->
<a id="c9459_372"></a><blockquote class="code"><p class="quoted">
&quot;Numberless&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9460_372" -->
<a id="c9460_372"></a><blockquote class="code"><p class="quoted">
The Rambling Warren is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9461_372" -->
<a id="c9461_372"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let N be a random number between 1 and 5;
<br />&#160;&#160;&#160;&#160;if N is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;N is one.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if N is 2:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;N is two.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if N is 3:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;N is three.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;N is more than the number of your toes.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The final &quot;otherwise&quot; here will fire only if none of the earlier conditions applies; we could leave it out and print nothing in the case that N is 4 or 5.</p>
<p>The more compact way to do this is to create a list of values that our number could match; in many programming languages this is called a switch statement. For example:</p>
<!-- START CODE "c9462_372" -->
<a id="c9462_372"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let Y be a random number between 6 and 10;
<br />&#160;&#160;&#160;&#160;if Y is:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-- 6: say &quot;Six is the magic number!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-- 7: say &quot;The number of the day is seven!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-- otherwise: say &quot;Today's magic number is boring.&quot;
</p></blockquote>
<!-- END CODE -->
<p>As a final option, we can use a construction we've seen only briefly before now: a table. The use of tables will be explained more fully in their own chapter, but here we see in brief that we can assign a number of values to one column of a table and then use that table to look up output:</p>
<!-- START CODE "c9463_372" -->
<a id="c9463_372"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let X be a random number between 11 and 14;
<br />&#160;&#160;&#160;&#160;if X is a number listed in the Table of Switching, say &quot;[output entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;X is greater than the number of your noses!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9464_372" -->
<a id="c9464_372"></a><blockquote class="code"><p class="quoted">
Table of Switching
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">number</p></td><td class="quotedtablecell"><p class="quoted">output</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11</p></td><td class="quotedtablecell"><p class="quoted">&quot;X is eleven!&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">&quot;X is twelve!&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">&quot;X is thirteen!&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9465_372" -->
<a id="c9465_372"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z&quot;.
</p></blockquote>
<!-- END CODE -->
<p>As we shall see, things other than text can be stored in tables, so we could also use a table as a way to look up objects or even rules to carry out.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "178: M. Melmoth's Duel" "e422" -->
<a id="e422"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e422" class="eglink"><b>178</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e422" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">M. Melmoth's Duel</span></b></a><br />Three basic ways to inject random or not-so-random variations into text.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_11.html#e422"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example422">
<!-- START CODE "c9466_422" -->
<a id="c9466_422"></a><blockquote class="code"><p class="quoted">
&quot;M. Melmoth's Duel&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9467_422" -->
<a id="c9467_422"></a><blockquote class="code"><p class="quoted">
Saint-Germain-des-Prés is a room. &quot;Haunt of artists, of the coffee-drinking sort, and of cafés, of the artist-haunted sort, you once again find yourself outside M. Melmoth's hotel. Today [one of]the recently-fallen rain runs down the gutters of the 6th[or]sunlight glints even off the blackened windows of the Abbey[or]crowds of vulgar children play chase around the lampposts[at random], and you long to be indoors.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9468_422" -->
<a id="c9468_422"></a><blockquote class="code"><p class="quoted">
The Hôtel d'Alsace is inside from Saint-Germain-des-Prés. &quot;Typical. Oscar writes you a letter announcing his own imminent demise - 'My wallpaper and I are fighting a duel to the death. One or other of us has got to go.' - and then you get there and he's out, no doubt procuring paint the colour of absinthe, if he isn't procuring the painter.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9469_422" -->
<a id="c9469_422"></a><blockquote class="code"><p class="quoted">
Tint is a kind of value. The tints are green, aquamarine and darkish purple.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9470_422" -->
<a id="c9470_422"></a><blockquote class="code"><p class="quoted">
The wallpaper is fixed in place in the Hôtel. The wallpaper has a tint. &quot;In this light, the wallpaper has a distinctly [tint of the wallpaper] wash. [if the tint of the wallpaper is darkish purple]You particularly dislike purple.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9471_422" -->
<a id="c9471_422"></a><blockquote class="code"><p class="quoted">
Before going to the Hôtel: now the wallpaper is a random tint.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9472_422" -->
<a id="c9472_422"></a><blockquote class="code"><p class="quoted">
After going from the Hôtel, say &quot;You leave, shaking your head. But within twenty-four hours, you are back, as you always knew you would be.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9473_422" -->
<a id="c9473_422"></a><blockquote class="code"><p class="quoted">
Test me with &quot;in / out / look / in / out / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "249: Olfactory Settings" "e274" -->
<a id="e274"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e274" class="eglink"><b>249</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e274" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Olfactory Settings</span></b></a><br />Some adaptive text for smelling the flowers, or indeed, anything else.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_14.html#e274"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example274">
<p>While this isn't very interesting as IF, it runs through most of the adaptive-text tricks.</p>
<!-- START CODE "c9474_274" -->
<a id="c9474_274"></a><blockquote class="code"><p class="quoted">
&quot;Olfactory Settings&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9475_274" -->
<a id="c9475_274"></a><blockquote class="code"><p class="quoted">
The Doghouse is a room. &quot;Not so much a place as a state of being.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9476_274" -->
<a id="c9476_274"></a><blockquote class="code"><p class="quoted">
The player carries a ticket to the opera, some papers, and a bouquet of flowers. The bouquet is ambiguously plural.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9477_274" -->
<a id="c9477_274"></a><blockquote class="code"><p class="quoted">
Instead of eating something inedible, say &quot;[The noun] [don't] seem likely to agree with [us] at all. [We][']d be wiser to leave [regarding the noun][them] alone.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9478_274" -->
<a id="c9478_274"></a><blockquote class="code"><p class="quoted">
Instead of touching something: say &quot;[regarding the noun][Those] [are] all prickly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9479_274" -->
<a id="c9479_274"></a><blockquote class="code"><p class="quoted">
Instead of smelling something: say &quot;[Our] nose [regarding nothing][are] too weak to get much smell from [regarding the noun][those].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9480_274" -->
<a id="c9480_274"></a><blockquote class="code"><p class="quoted">
Instead of smelling the bouquet: say &quot;[regarding the noun][They]['re] lovely.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9481_274" -->
<a id="c9481_274"></a><blockquote class="code"><p class="quoted">
Instead of tasting something:
<br />&#160;&#160;&#160;&#160;say &quot;Whew, [regarding the noun][are] [those] ever nasty!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9482_274" -->
<a id="c9482_274"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x ticket / eat it / eat them / touch it / touch them / smell it / smell them / taste it / taste them / x papers / eat it / eat them / touch them / smell them / taste them / x bouquet / eat it / eat them / touch them / smell them / taste them&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "252: Responsive" "e324" -->
<a id="e324"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e324" class="eglink"><b>252</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e324" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Responsive</span></b></a><br />Altering the standard inventory text for when the player is carrying nothing.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_14.html#e324"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example324">
<p>The most straightforward way to alter the response text for something in the standard rules is to select the Index tab, then select Actions, then pick the particular action whose text we'd like to alter. Under action details, there will be icons that look like speech bubbles.</p>
<p>Clicking on the speech bubble will show what the current response text is, and give us an option called &quot;set&quot;.</p>
<p>If we click &quot;set&quot;, this will automatically paste in the response name that we need to change. We can put this inside a &quot;when play begins&quot; rule in order to make that change take effect from the start of the game, like so:</p>
<!-- START CODE "c9483_324" -->
<a id="c9483_324"></a><blockquote class="code"><p class="quoted">
&quot;Responsive&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9484_324" -->
<a id="c9484_324"></a><blockquote class="code"><p class="quoted">
An Anonymous B613 Cell is a room. &quot;There isn't much to see in this bare room. What there is, you've already seen sometime in the last twenty years.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9485_324" -->
<a id="c9485_324"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now print empty inventory rule response (A) is &quot;[We] [have] absolutely nothing.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9486_324" -->
<a id="c9486_324"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "343: Prolegomena" "e302" -->
<a id="e302"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e302" class="eglink"><b>343</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e302" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Prolegomena</span></b></a><br />Replacing precise numbers with "some" or other quantifiers when too many objects are clustered together for the player to count at a glance.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e302"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example302">
<p>Room descriptions often make the player character out to be a bit of a savant, able to count whole stacks of items at a glance: &quot;You see 27 paper clips here.&quot;</p>
<p>We can adjust this behavior to our liking, though, with the printing a number... activity, as follows:</p>
<!-- START CODE "c9487_302" -->
<a id="c9487_302"></a><blockquote class="code"><p class="quoted">
 &quot;Prolegomena&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9488_302" -->
<a id="c9488_302"></a><blockquote class="code"><p class="quoted">
The Editor's Office is a room. The desk is a supporter in the Editor's Office.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9489_302" -->
<a id="c9489_302"></a><blockquote class="code"><p class="quoted">
A red pencil is a kind of thing. 12 red pencils are on the desk.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9490_302" -->
<a id="c9490_302"></a><blockquote class="code"><p class="quoted">
A letter is a kind of thing. 12 letters are on the desk. Understand &quot;correspondence&quot; as a letter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9491_302" -->
<a id="c9491_302"></a><blockquote class="code"><p class="quoted">
Rule for printing the plural name of a letter:
<br />&#160;&#160;&#160;&#160;if the listing group size is greater than 7, say &quot;correspondence&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;letters&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9492_302" -->
<a id="c9492_302"></a><blockquote class="code"><p class="quoted">
Rule for printing a number of something (called the target) when the listing group size is greater than 7:
<br />&#160;&#160;&#160;&#160;say &quot;[one of]some [or]various [or]an assortment of [at random]&quot;;
<br />&#160;&#160;&#160;&#160;carry out the printing the plural name activity with the target.
</p></blockquote>
<!-- END CODE -->
<p>This general rule can of course be overridden by more specific ones; for instance, if we want to take the opportunity to comment on the viewpoint character's appetite for instruments of correction:</p>
<!-- START CODE "c9493_302" -->
<a id="c9493_302"></a><blockquote class="code"><p class="quoted">
Rule for printing a number of red pencils (called the target) when the listing group size is greater than 10:
<br />&#160;&#160;&#160;&#160;carry out the printing the plural name activity with the target;
<br />&#160;&#160;&#160;&#160;say &quot; in nearly-sufficient quantity&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9494_302" -->
<a id="c9494_302"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get two letters / look / get a pencil / i / get pencil / g / g / look / i / get all / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "345: Wesponses" "e432" -->
<a id="e432"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e432" class="eglink"><b>345</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e432" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Wesponses</span></b></a><br />Parser messages that are delivered with a speech impediment.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e432"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example432">
<p>If we want to change individual responses to player action, then the best thing to do is to use the response facility to modify those selections, as shown in the chapter on Responses.</p>
<p>However, suppose what we want is to give the parser a speech impediment that slightly alters all of the responses it issues. For this purpose, we might need to do a bit of text replacement...</p>
<!-- START CODE "c9495_432" -->
<a id="c9495_432"></a><blockquote class="code"><p class="quoted">
&quot;Wesponses&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9496_432" -->
<a id="c9496_432"></a><blockquote class="code"><p class="quoted">
The Office is a room. Barry Kripke is a man in the Office.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9497_432" -->
<a id="c9497_432"></a><blockquote class="code"><p class="quoted">
The response inhibition is initially false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9498_432" -->
<a id="c9498_432"></a><blockquote class="code"><p class="quoted">
Rule for issuing the response text of a response (called R) when response inhibition is false:
<br />&#160;&#160;&#160;&#160;now response inhibition is true;
<br />&#160;&#160;&#160;&#160;let output be &quot;[text of R]&quot;;
<br />&#160;&#160;&#160;&#160;now response inhibition is false;
<br />&#160;&#160;&#160;&#160;replace the text &quot;r&quot; in output with &quot;w&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;R&quot; in output with &quot;W&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[output]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9499_432" -->
<a id="c9499_432"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / x barry / listen / waffle / jump&quot;
</p></blockquote>
<!-- END CODE -->
<p>Notice that this doesn't affect the printed names of objects in the room description or other kinds of output text -- only those that are issued by the response mechanism.</p>
<p>It would also not work to try to give our parser a nervous personality by simply adding &quot;Um, &quot; to the beginning of each response, because responses are not guaranteed to be full standalone sentences. For example, we could imagine writing</p>
<!-- START CODE "c9500_432" -->
<a id="c9500_432"></a><blockquote class="code"><p class="quoted">
Rule for issuing the response text of a response (called R) when response inhibition is false:
<br />&#160;&#160;&#160;&#160;now response inhibition is true;
<br />&#160;&#160;&#160;&#160;let output be &quot;Um, [text of R]&quot;;
<br />&#160;&#160;&#160;&#160;now response inhibition is false;
<br />&#160;&#160;&#160;&#160;say &quot;[output]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>but here is what the room description would say as a result:</p>
<!-- START CODE "c9501_432" -->
<a id="c9501_432"></a><blockquote class="code"><p class="quoted">
Office
<br />Um, You Um, can see Barry KripkeUm,  here
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "413: Rocket Man" "e328" -->
<a id="e328"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e328" class="eglink"><b>413</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e328" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Rocket Man</span></b></a><br />Using case changes on any text produced by a "to say..." phrase.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_20.html#e328"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example328">
<p>We can now change the case of any text produced by a &quot;to say...&quot; phrase. This is often useful when we would like to make use of a standard say phrase in some new context. Say, for instance, that we would like to &quot;[is-are the list...]&quot; in a context that needs the first letter to be capitalized.</p>
<p>We could write a new say phrase, such as &quot;to say is-are the list of (N - a description of objects) in sentence capitalization&quot;; but there is an easier way, and that is to set a text variable to the output of the to say phrase, and then print that text in the case of our choice.</p>
<p>For example:</p>
<!-- START CODE "c9502_328" -->
<a id="c9502_328"></a><blockquote class="code"><p class="quoted">
&quot;Rocket Man&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9503_328" -->
<a id="c9503_328"></a><blockquote class="code"><p class="quoted">
Instead of going somewhere from the spaceport when the player carries something:
<br />&#160;&#160;&#160;&#160;let N be &quot;[is-are the list of things carried by the player] really suitable gear to take to the moon?&quot; in sentence case;
<br />&#160;&#160;&#160;&#160;say &quot;[N][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9504_328" -->
<a id="c9504_328"></a><blockquote class="code"><p class="quoted">
The Spaceport is a room. North of the Spaceport is the Rocket Launch Pad. The player carries a stuffed bear, a chocolate cookie, and a book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9505_328" -->
<a id="c9505_328"></a><blockquote class="code"><p class="quoted">
The description of the book is &quot;It is entitled [italic type]Why Not To Take [sentence cased inventory] To The Moon[roman type].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9506_328" -->
<a id="c9506_328"></a><blockquote class="code"><p class="quoted">
To say sentence cased inventory:
<br />&#160;&#160;&#160;&#160;let N be &quot;[a list of things carried by the player]&quot; in title case;
<br />&#160;&#160;&#160;&#160;say &quot;[N]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9507_328" -->
<a id="c9507_328"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / x book&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "419: Blackout" "e37" -->
<a id="e37"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e37" class="eglink"><b>419</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e37" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Blackout</span></b></a><br />Filtering the names of rooms printed while in darkness.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_20.html#e37"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example37">
<p>In this example, we want the names of rooms to be asterisked out if the player wanders around without the benefit of a candle. We can do this by treating the room names as text, then replacing every letter:</p>
<!-- START CODE "c9508_37" -->
<a id="c9508_37"></a><blockquote class="code"><p class="quoted">
 &quot;Blackout&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9509_37" -->
<a id="c9509_37"></a><blockquote class="code"><p class="quoted">
Tiny Room is a dark room. Absurdly Long-Named Room is a dark room. It is west of Tiny Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9510_37" -->
<a id="c9510_37"></a><blockquote class="code"><p class="quoted">
The Candle Factory is north of Tiny Room. It contains a beeswax candle. The beeswax candle is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9511_37" -->
<a id="c9511_37"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a dark room:
<br />&#160;&#160;&#160;&#160;let N be &quot;[location]&quot;;
<br />&#160;&#160;&#160;&#160;replace the regular expression &quot;\w&quot; in N with &quot;*&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[N]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9512_37" -->
<a id="c9512_37"></a><blockquote class="code"><p class="quoted">
Test me with &quot;w / look / e / n / get candle / s / w&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that the hyphen in the Absurdly Long-Named Room does not get replaced. We could replace even that, if we liked, with</p>
<!-- START CODE "c9513_37" -->
<a id="c9513_37"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;replace the regular expression &quot;\S&quot; in N with &quot;*&quot;;
</p></blockquote>
<!-- END CODE -->
<p>which would catch every character that is not a space.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "439: Curare" "e100" -->
<a id="e100"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e100" class="eglink"><b>439</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e100" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Curare</span></b></a><br />A phrase that chooses and names the least-recently selected item from the collection given, allowing the text to cycle semi-randomly through a group of objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_22.html#e100"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example100">
<!-- START CODE "c9514_100" -->
<a id="c9514_100"></a><blockquote class="code"><p class="quoted">
&quot;Curare&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9515_100" -->
<a id="c9515_100"></a><blockquote class="code"><p class="quoted">
A thing has a number called the last use. The last use of a thing is usually 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9516_100" -->
<a id="c9516_100"></a><blockquote class="code"><p class="quoted">
Definition: a thing is old if its last use is 12 or less.
</p></blockquote>
<!-- END CODE -->
<p>The actual number chosen in this definition is pretty much irrelevant: the main thing is that we want to establish relative values. The lower the &quot;last use&quot; number of an item, the older that item should be understood to be, as we see here:</p>
<!-- START CODE "c9517_100" -->
<a id="c9517_100"></a><blockquote class="code"><p class="quoted">
To decide which thing is cyclically random (collection - a description of objects):
<br />&#160;&#160;&#160;&#160;let choice be the oldest member of the collection;
<br />&#160;&#160;&#160;&#160;now the last use of the choice is the turn count;
<br />&#160;&#160;&#160;&#160;decide on choice.
</p></blockquote>
<!-- END CODE -->
<p>This phrase will select, from the collection of objects passed to it, the one that has been mentioned least recently. This means that if we consult it repeatedly about the same collection, it will begin to cycle predictably; but if new items are added to the collection, it will mention these first before returning to the previous cycle. Now we can use this:</p>
<!-- START CODE "c9518_100" -->
<a id="c9518_100"></a><blockquote class="code"><p class="quoted">
After taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;You stare morosely at [the cyclically random thing carried by the player], wondering what you're ever going to find to do with it.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We could have said &quot;You stare morosely at [the oldest thing carried by the player]&quot; here, but doing so would not have set the &quot;last use&quot; property correctly, so we would not get the cycling behavior that we're looking for.</p>
<!-- START CODE "c9519_100" -->
<a id="c9519_100"></a><blockquote class="code"><p class="quoted">
The Evidence Room is a room. Some shelves are scenery supporters in the Evidence Room. A box is a kind of container which is open and not openable. On the shelves is a box.  It contains a deformed bullet and a driver's license.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9520_100" -->
<a id="c9520_100"></a><blockquote class="code"><p class="quoted">
The player carries a steel fish hook, a Chinese passport, a tube of synthetic curare, and an envelope full of Euros.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9521_100" -->
<a id="c9521_100"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / i / i / i / i / i / get all from box / i / i / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "454: Blink" "e40" -->
<a id="e40"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e40" class="eglink"><b>454</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e40" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Blink</span></b></a><br />Making a "by atmosphere" token, allowing us to design our own text variations such as "[one of]normal[or]gloomy[or]scary[by atmosphere]".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_27.html#e40"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example40">
<p>Suppose we are writing a game in which the mood of the piece changes, and we would like to have lots of descriptions that vary according to its current state. We might in that case want to create our own &quot;by atmosphere&quot; token, to control text variations, like this:</p>
<!-- START CODE "c9522_40" -->
<a id="c9522_40"></a><blockquote class="code"><p class="quoted">
&quot;Blink&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9523_40" -->
<a id="c9523_40"></a><blockquote class="code"><p class="quoted">
Atmosphere is a kind of value. The atmospheres are normal, melancholy, and creepy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9524_40" -->
<a id="c9524_40"></a><blockquote class="code"><p class="quoted">
The current atmosphere is an atmosphere that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9525_40" -->
<a id="c9525_40"></a><blockquote class="code"><p class="quoted">
To say by atmosphere -- ending say_one_of with marker I7_SOO_ATM:
<br />&#160;&#160;&#160;&#160;(- {-close-brace} -).
</p></blockquote>
<!-- END CODE -->
<p>Since we're operating within the untyped Inform 6, we can make use of the fact that kinds of value are (internally) just constants, enumerated in the same order in which they were originally defined. In other words, &quot;normal&quot; at the I6 level translates to 1, &quot;melancholy&quot; to 2, and &quot;creepy&quot; to 3; so we can return the value of the current atmosphere, and thereby select option 1, 2, or 3:</p>
<!-- START CODE "c9526_40" -->
<a id="c9526_40"></a><blockquote class="code"><p class="quoted">
Include (-
<br />[ I7_SOO_ATM oldval count;
<br />&#160;&#160;&#160;&#160;if (count &lt; (+ current atmosphere +)) return count;
<br />&#160;&#160;&#160;&#160;return (+ current atmosphere +); ];
<br />-)
</p></blockquote>
<!-- END CODE -->
<p>And that concludes the hard part. Now to test that it works:</p>
<!-- START CODE "c9527_40" -->
<a id="c9527_40"></a><blockquote class="code"><p class="quoted">
The Flat is a room. &quot;A small [one of]but cozy[or]depressing[or]imprisoning[by atmosphere] flat. Outside the window, the sun is [one of][or][or]apparently [by atmosphere]shining and there is a brisk breeze through the leaves of the birch trees. [one of]It would be quite nice weather for a walk[or]The rest of the world apparently has no appreciation of what you suffer[or]It all looks deceptively normal[by atmosphere].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9528_40" -->
<a id="c9528_40"></a><blockquote class="code"><p class="quoted">
Instead of waiting when the current atmosphere is normal:
<br />&#160;&#160;&#160;&#160;say &quot;Everything stretches wide and flat for just a moment, as though all the world around you were painted on a thin rubber sheet that is being [italic type]stretched[roman type]. Then it snaps back into place, leaving your ears ringing. But that little glitch was enough to warn you. Someone is tampering with space-time again. Someone very close by.&quot;;
<br />&#160;&#160;&#160;&#160;now the current atmosphere is creepy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9529_40" -->
<a id="c9529_40"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / z / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "245: Fun with Participles" "e159" -->
<a id="e159"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e159" class="eglink"><b>245</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e159" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fun with Participles</span></b></a><br />Creating dynamic room descriptions that contain sentences such as "Clark is here, wasting time" or "Clark is here, looking around" depending on Clark's idle activity.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_14.html#e159"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example159">
<p>Mostly the Standard Rules use verbs adapted to finite forms (&quot;he jumped&quot;, &quot;we take the hammer&quot;, and so on). But Inform can also produce participles to describe actions that are ongoing: &quot;he is carrying the fedora&quot; or &quot;taking the hammer...&quot;</p>
<p>In this example, we give non-player characters actions to perform and then have Inform dynamically describe what they're doing when the player chooses to look.</p>
<p>We start by establishing the idea that a verb can describe a particular action:</p>
<!-- START CODE "c9530_159" -->
<a id="c9530_159"></a><blockquote class="code"><p class="quoted">
&quot;Fun with Participles&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9531_159" -->
<a id="c9531_159"></a><blockquote class="code"><p class="quoted">
Section 1 - Descriptive Functionality
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9532_159" -->
<a id="c9532_159"></a><blockquote class="code"><p class="quoted">
Describing relates various verbs to various action names. The verb to describe means the describing relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9533_159" -->
<a id="c9533_159"></a><blockquote class="code"><p class="quoted">
To look around is a verb. The verb look around describes the looking action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9534_159" -->
<a id="c9534_159"></a><blockquote class="code"><p class="quoted">
To stand about is a verb. The verb stand about describes the waiting action. To look bored is a verb. The verb look bored describes the waiting action. To waste time is a verb. The verb waste time describes the waiting action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9535_159" -->
<a id="c9535_159"></a><blockquote class="code"><p class="quoted">
To jump is a verb. To leap is a verb. To pirouette is a verb. The verb jump describes the jumping action. The verb leap describes the jumping action. The verb pirouette describes the jumping action.
</p></blockquote>
<!-- END CODE -->
<p>Now we need to give every character some sort of idle activity. By default, we'll have people just be waiting, but allow for that idle activity to change into something more interesting if the player has told them to do something else.</p>
<!-- START CODE "c9536_159" -->
<a id="c9536_159"></a><blockquote class="code"><p class="quoted">
A person has an action name called the current idle. The current idle of a person is usually the waiting action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9537_159" -->
<a id="c9537_159"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about someone  (called chosen person) when a verb describes the current idle of the chosen person:
<br />&#160;&#160;&#160;&#160;say &quot;[The chosen person] [are] here, [present participle of a random verb that describes (the current idle of the chosen person)].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9538_159" -->
<a id="c9538_159"></a><blockquote class="code"><p class="quoted">
Instead of someone doing something:
<br />&#160;&#160;&#160;&#160;now the current idle of the person asked is (the action name part of the current action);
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9539_159" -->
<a id="c9539_159"></a><blockquote class="code"><p class="quoted">
A persuasion rule:
<br />&#160;&#160;&#160;&#160;persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9540_159" -->
<a id="c9540_159"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9541_159" -->
<a id="c9541_159"></a><blockquote class="code"><p class="quoted">
Lab is a room. The fedora is a wearable thing in the Lab. Clark is a man in the Lab.
</p></blockquote>
<!-- END CODE -->
<p>And just to give past participles a test-drive as well, let's make Clark a bit of a drama king:</p>
<!-- START CODE "c9542_159" -->
<a id="c9542_159"></a><blockquote class="code"><p class="quoted">
After Clark doing something when a verb describes (the action name part of the current action):
<br />&#160;&#160;&#160;&#160;say &quot;'Fine, have it your way!' Clark exclaims. 'But I have [past participle of a random verb that describes (the action name part of the current action)] for the last time!'&quot;;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9543_159" -->
<a id="c9543_159"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / Clark, jump / look / Clark, look / look / Clark, wait&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "246: Variety" "e409" -->
<a id="e409"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e409" class="eglink"><b>246</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e409" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Variety</span></b></a><br />Suppose we want all of our action responses to display some randomized variety. We could do this by laboriously rewriting all of the response texts, but this example demonstrates an alternative.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_14.html#e409"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example409">
<p>Verbs can be related to other things by relations. We've seen that it's possible for a verb to &quot;mean&quot; a relationship. But we can also create a relation between verbs and actions. For instance, we can tell Inform that &quot;take&quot;, &quot;get&quot;, and &quot;acquire&quot; are all valid ways to describe the action of taking, and then allow it to pick a verb randomly to describe whatever action just occurred.</p>
<!-- START CODE "c9544_409" -->
<a id="c9544_409"></a><blockquote class="code"><p class="quoted">
&quot;Variety&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9545_409" -->
<a id="c9545_409"></a><blockquote class="code"><p class="quoted">
Section 1 - Descriptive Functionality
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9546_409" -->
<a id="c9546_409"></a><blockquote class="code"><p class="quoted">
Describing relates various verbs to various action names. The verb to describe means the describing relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9547_409" -->
<a id="c9547_409"></a><blockquote class="code"><p class="quoted">
To take is a verb. To acquire is a verb. To get is a verb.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9548_409" -->
<a id="c9548_409"></a><blockquote class="code"><p class="quoted">
The verb take describes the taking action. The verb acquire describes the taking action. The verb get describes the taking action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9549_409" -->
<a id="c9549_409"></a><blockquote class="code"><p class="quoted">
To drop is a verb. To put down is a verb. To discard is a verb. The verb drop describes the dropping action. The verb put down describes the dropping action. The verb discard describes the dropping action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9550_409" -->
<a id="c9550_409"></a><blockquote class="code"><p class="quoted">
To sniff is a verb. To smell is a verb. The verb sniff describes the smelling action. The verb smell describes the smelling action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9551_409" -->
<a id="c9551_409"></a><blockquote class="code"><p class="quoted">
To jump is a verb. To leap is a verb. To pirouette is a verb. The verb jump describes the jumping action. The verb leap describes the jumping action. The verb pirouette describes the jumping action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9552_409" -->
<a id="c9552_409"></a><blockquote class="code"><p class="quoted">
After an actor doing something when the noun is nothing and a verb describes (the action name part of the current action) (this is the apply random verbs to describing nounless actions rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The actor] [verb rendering applied to a random verb that describes (the action name part of the current action)].&quot;;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9553_409" -->
<a id="c9553_409"></a><blockquote class="code"><p class="quoted">
After an actor doing something to something when a verb describes (the action name part of the current action) (this is the apply random verbs to describing actions rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The actor] [verb rendering applied to a random verb that describes (the action name part of the current action)] [the noun].&quot;;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9554_409" -->
<a id="c9554_409"></a><blockquote class="code"><p class="quoted">
To decide which text is the rendering of (V - verb) (this is verb rendering):
<br />&#160;&#160;&#160;&#160;decide on &quot;[adapt V]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9555_409" -->
<a id="c9555_409"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9556_409" -->
<a id="c9556_409"></a><blockquote class="code"><p class="quoted">
Lab is a room. The table is here. The bat and the ball are on the table.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9557_409" -->
<a id="c9557_409"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get ball / drop ball / get bat / drop bat / smell ball&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "247: Variety 2" "e410" -->
<a id="e410"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e410" class="eglink"><b>247</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e410" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Variety 2</span></b></a><br />This builds on the Variety example to add responses such as "You are now carrying the fedora" that describe relations that result from a given verb, as alternate responses.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_14.html#e410"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example410">
<p>Some of our default actions establish relations between items in the world, and reporting on the relation (&quot;You are now carrying the fedora&quot;) can be a valid response alongside reporting on the action itself (&quot;You take the fedora&quot;).</p>
<p>To do this, we need to teach Inform explicitly which relations are the results of actions, then check this when reporting on actions:</p>
<!-- START CODE "c9558_410" -->
<a id="c9558_410"></a><blockquote class="code"><p class="quoted">
&quot;Variety 2&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9559_410" -->
<a id="c9559_410"></a><blockquote class="code"><p class="quoted">
Section 1 - Descriptive Functionality
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9560_410" -->
<a id="c9560_410"></a><blockquote class="code"><p class="quoted">
Describing relates various verbs to various action names. The verb to describe means the describing relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9561_410" -->
<a id="c9561_410"></a><blockquote class="code"><p class="quoted">
Table of Action Results
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">related action</p></td><td class="quotedtablecell"><p class="quoted">relation</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">the carrying relation</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the wearing action</p></td><td class="quotedtablecell"><p class="quoted">the wearing relation</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the taking off action</p></td><td class="quotedtablecell"><p class="quoted">the carrying relation</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9562_410" -->
<a id="c9562_410"></a><blockquote class="code"><p class="quoted">
To take is a verb. To acquire is a verb. To get is a verb.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9563_410" -->
<a id="c9563_410"></a><blockquote class="code"><p class="quoted">
The verb take describes the taking action. The verb acquire describes the taking action. The verb get describes the taking action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9564_410" -->
<a id="c9564_410"></a><blockquote class="code"><p class="quoted">
To drop is a verb. To put down is a verb. To discard is a verb. The verb drop describes the dropping action. The verb put down describes the dropping action. The verb discard describes the dropping action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9565_410" -->
<a id="c9565_410"></a><blockquote class="code"><p class="quoted">
To sniff is a verb. To smell is a verb. The verb sniff describes the smelling action. The verb smell describes the smelling action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9566_410" -->
<a id="c9566_410"></a><blockquote class="code"><p class="quoted">
To jump is a verb. To leap is a verb. To pirouette is a verb. The verb jump describes the jumping action. The verb leap describes the jumping action. The verb pirouette describes the jumping action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9567_410" -->
<a id="c9567_410"></a><blockquote class="code"><p class="quoted">
To don is a verb. The verb don describes the wearing action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9568_410" -->
<a id="c9568_410"></a><blockquote class="code"><p class="quoted">
To doff is a verb. The verb doff describes the taking off action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9569_410" -->
<a id="c9569_410"></a><blockquote class="code"><p class="quoted">
After an actor doing something when the noun is nothing and a verb describes (the action name part of the current action) (this is the apply random verbs to describing nounless actions rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The actor] [verb rendering applied to a random verb that describes (the action name part of the current action)].&quot;;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9570_410" -->
<a id="c9570_410"></a><blockquote class="code"><p class="quoted">
After an actor doing something to something when a verb describes (the action name part of the current action) (this is the apply random verbs to describing actions rule):
<br />&#160;&#160;&#160;&#160;let current action name be the action name part of the current action;
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 2 succeeds and the current action name is a related action listed in the Table of Action Results:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose a row with the related action of current action name in the Table of Action Results;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let R be the relation entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let subject be the actor;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let chosen object be the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The subject] [are] now [present participle of a random verb that means R] [the chosen object].&quot;;
<br />&#160;&#160;&#160;&#160;else:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The actor] [verb rendering applied to a random verb that describes (the action name part of the current action)] [the noun].&quot;;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9571_410" -->
<a id="c9571_410"></a><blockquote class="code"><p class="quoted">
To decide which text is the rendering of (V - verb) (this is verb rendering):
<br />&#160;&#160;&#160;&#160;decide on &quot;[adapt V]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9572_410" -->
<a id="c9572_410"></a><blockquote class="code"><p class="quoted">
To say infinitive of (V - a verb): (- {V}(1); -).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9573_410" -->
<a id="c9573_410"></a><blockquote class="code"><p class="quoted">
To say past participle of (V - a verb): (- {V}(2); -).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9574_410" -->
<a id="c9574_410"></a><blockquote class="code"><p class="quoted">
To say present participle of (V - a verb): (- {V}(3); -).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9575_410" -->
<a id="c9575_410"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9576_410" -->
<a id="c9576_410"></a><blockquote class="code"><p class="quoted">
Lab is a room. The fedora is a wearable thing in the Lab.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9577_410" -->
<a id="c9577_410"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wear the fedora / take off the fedora / wear fedora / take off fedora&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "250: History Lab" "e189" -->
<a id="e189"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e189" class="eglink"><b>250</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e189" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">History Lab</span></b></a><br />We create phrases such as "the box we took" and "the newspaper Clark looked at" based on what has already happened in the story.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_14.html#e189"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example189">
<p>The examples Variety and Narrative Register show how verbs can be associated with particular actions. Here, we use the same principle so that we can report to the player what was last done to a particular object, either by the player or by someone else.</p>
<p>To do this, we need to use the idea of stored actions from the Advanced Actions chapter.</p>
<!-- START CODE "c9578_189" -->
<a id="c9578_189"></a><blockquote class="code"><p class="quoted">
&quot;History Lab&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9579_189" -->
<a id="c9579_189"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9580_189" -->
<a id="c9580_189"></a><blockquote class="code"><p class="quoted">
An object has an action called the last action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9581_189" -->
<a id="c9581_189"></a><blockquote class="code"><p class="quoted">
Describing relates various verbs to various action names. The verb to describe means the describing relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9582_189" -->
<a id="c9582_189"></a><blockquote class="code"><p class="quoted">
To take is a verb. The verb take describes the taking action.
<br />To drop is a verb. The verb drop describes the dropping action.
<br />To look at is a verb. The verb look at describes the examining action.
<br />To examine is a verb. The verb examine describes the examining action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9583_189" -->
<a id="c9583_189"></a><blockquote class="code"><p class="quoted">
After an actor doing something to something:
<br />&#160;&#160;&#160;&#160;if a verb describes the action name part of the current action:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the indefinite article of the noun is &quot;the&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last action of the noun is the current action;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9584_189" -->
<a id="c9584_189"></a><blockquote class="code"><p class="quoted">
After printing the name of something (called item):
<br />&#160;&#160;&#160;&#160;if the last action of the item is not waiting and the last action of the item is not the current action:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let chosen action-name be the action name part of the last action of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let chosen actor be the actor part of the the last action of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a verb describes the chosen action-name:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the chosen verb be a random verb that describes the chosen action-name;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; [if the chosen actor is the player][we][else][chosen actor][end if] [adapt chosen verb in past tense]&quot;;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9585_189" -->
<a id="c9585_189"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9586_189" -->
<a id="c9586_189"></a><blockquote class="code"><p class="quoted">
Lab is a room. It contains a box. The box contains a newspaper. Clark is a man in the Lab.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9587_189" -->
<a id="c9587_189"></a><blockquote class="code"><p class="quoted">
A persuasion rule:
<br />&#160;&#160;&#160;&#160;persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9588_189" -->
<a id="c9588_189"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x box / look / x newspaper / look / clark, x newspaper / clark, get box / clark, drop box / look / take box / i / smell box / i&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that smelling the box does not change the box's description because we haven't gotten around to defining a smell or sniff verb.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "251: Relevant Relations" "e321" -->
<a id="e321"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e321" class="eglink"><b>251</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e321" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Relevant Relations</span></b></a><br />An example of how to create room descriptions that acknowledge particular relations using their assigned verbs, rather than by the heavily special-cased code used by the standard library.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_14.html#e321"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example321">
<p>Suppose that we wanted authors to be able to indicate which relations should or should not be included in room descriptions, and have the system dynamically honor that instruction.</p>
<p>Inform already knows about verbs for describing supporting, containment, carrying, and wearing, so we could write a set of instructions to handle such cases. To do this, we're using the &quot;writing a paragraph about&quot; activity, which is described in the chapter on activities.</p>
<!-- START CODE "c9589_321" -->
<a id="c9589_321"></a><blockquote class="code"><p class="quoted">
&quot;Relevant Relations&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9590_321" -->
<a id="c9590_321"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9591_321" -->
<a id="c9591_321"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about something (called item):
<br />&#160;&#160;&#160;&#160;now the current paragraph is { };
<br />&#160;&#160;&#160;&#160;say &quot;[one of][regarding item]There [are] [an item] here[or][We] [can see] [an item] here[at random]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;follow the descriptive rules for the item;
<br />&#160;&#160;&#160;&#160;repeat with new item running through the current paragraph:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the prior named object is nothing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if new item is not the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the descriptive rules for the new item;
<br />&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9592_321" -->
<a id="c9592_321"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about someone (called chosen person):
<br />&#160;&#160;&#160;&#160;now the current paragraph is { };
<br />&#160;&#160;&#160;&#160;say &quot;[one of][regarding chosen person][The chosen person] [are] here[or][We] [can see] [a chosen person] here[at random]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;follow the descriptive rules for the chosen person;
<br />&#160;&#160;&#160;&#160;repeat with new item running through the current paragraph:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the prior named object is nothing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if new item is not the chosen person:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the descriptive rules for the new item;
<br />&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9593_321" -->
<a id="c9593_321"></a><blockquote class="code"><p class="quoted">
The descriptive rules are an object-based rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9594_321" -->
<a id="c9594_321"></a><blockquote class="code"><p class="quoted">
Definition: a container is see-through:
<br />&#160;&#160;&#160;&#160;if it is transparent:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yes;
<br />&#160;&#160;&#160;&#160;if it is open:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9595_321" -->
<a id="c9595_321"></a><blockquote class="code"><p class="quoted">
A descriptive rule for a see-through container (called item) (this is the describe contents rule):
<br />&#160;&#160;&#160;&#160;describe the containment relation for item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9596_321" -->
<a id="c9596_321"></a><blockquote class="code"><p class="quoted">
A descriptive rule for a supporter (called item):
<br />&#160;&#160;&#160;&#160;describe the support relation for item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9597_321" -->
<a id="c9597_321"></a><blockquote class="code"><p class="quoted">
A descriptive rule for a person (called item):
<br />&#160;&#160;&#160;&#160;describe the wearing relation for the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9598_321" -->
<a id="c9598_321"></a><blockquote class="code"><p class="quoted">
A descriptive rule for a person (called item):
<br />&#160;&#160;&#160;&#160;describe the carrying relation for the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9599_321" -->
<a id="c9599_321"></a><blockquote class="code"><p class="quoted">
The current paragraph is a list of things that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9600_321" -->
<a id="c9600_321"></a><blockquote class="code"><p class="quoted">
Before printing the name of something (called mentioned target) while writing a paragraph about something:
<br />&#160;&#160;&#160;&#160;add the mentioned target to the current paragraph, if absent.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9601_321" -->
<a id="c9601_321"></a><blockquote class="code"><p class="quoted">
To describe (R - a relation of objects) for (item - a thing):
<br />&#160;&#160;&#160;&#160;if a thing to which item relates by R is a thing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item with pronoun] [verb rendering applied to a random verb that means R] [the list of things to which item relates by R with indefinite articles]. [run paragraph on]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9602_321" -->
<a id="c9602_321"></a><blockquote class="code"><p class="quoted">
To decide which text is the rendering of (V - verb) (this is verb rendering):
<br />&#160;&#160;&#160;&#160;decide on &quot;[adapt V]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9603_321" -->
<a id="c9603_321"></a><blockquote class="code"><p class="quoted">
To say (T - a thing) with pronoun:
<br />&#160;&#160;&#160;&#160;if T is the prior named object:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[regarding T][They]&quot;;
<br />&#160;&#160;&#160;&#160;else:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The T]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9604_321" -->
<a id="c9604_321"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9605_321" -->
<a id="c9605_321"></a><blockquote class="code"><p class="quoted">
The Space Elevator is a room. &quot;Mercifully, there aren't any windows. The ability to see how far up you are would almost certainly make you ill.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9606_321" -->
<a id="c9606_321"></a><blockquote class="code"><p class="quoted">
The luggage rack is a supporter in the Space Elevator. The suitcase is a closed openable container on the luggage rack. The bouquet is on the luggage rack.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9607_321" -->
<a id="c9607_321"></a><blockquote class="code"><p class="quoted">
Clark is a man in the Space Elevator. Clark is carrying a box of cupcakes. Clark is wearing a t-shirt. The description of the box of cupcakes is &quot;They're the latest confection from Red Velvet Planet, the Martian bakery.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9608_321" -->
<a id="c9608_321"></a><blockquote class="code"><p class="quoted">
Persuasion rule: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<p>We can if we like then add alternate names for these relations that will be randomly swapped in some of the time. For instance:</p>
<!-- START CODE "c9609_321" -->
<a id="c9609_321"></a><blockquote class="code"><p class="quoted">
To sport is a verb. The verb to sport means the wearing relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9610_321" -->
<a id="c9610_321"></a><blockquote class="code"><p class="quoted">
To hold up is a verb. The verb to hold up means the support relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9611_321" -->
<a id="c9611_321"></a><blockquote class="code"><p class="quoted">
Test me with &quot;clark, drop the box / look / clark, take the suitcase / look / clark, get bouquet&quot;.
</p></blockquote>
<!-- END CODE -->
<p>One might, hypothetically, imagine going even further than this and simply designating relations as either &quot;important&quot; or &quot;unimportant&quot; -- perhaps changing the relation's designation at runtime. Relations are not themselves allowed to have properties, however.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "60: Ballpark" "e14" -->
<a id="e14"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e14" class="eglink"><b>60</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e14" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ballpark</span></b></a><br />A new "to say" definition which allows the author to say "[a number in round numbers]" and get verbal descriptions like "a couple of" or "a few" as a result.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_5.html#e14"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example14">
<p>Sometimes it is more sensible to describe numbers roughly than in exact terms. For instance, we might want to have our player perceive &quot;many people&quot; rather than &quot;forty-two people&quot; on entering a room. To achieve this, we might write our own &quot;to say&quot; phrase.</p>
<!-- START CODE "c9612_14" -->
<a id="c9612_14"></a><blockquote class="code"><p class="quoted">
&quot;Ballpark&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9613_14" -->
<a id="c9613_14"></a><blockquote class="code"><p class="quoted">
To say (count - a number) in round numbers:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Numerical Approximation:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if count is less than threshold entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[approximation entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>Phrases will be explained more thoroughly in a later chapter, but as we have already seen in the examples, we can make a &quot;To say...&quot; phrase that will allow us to create our own text substitutions. In this case, we are going to replace the specific number with a vaguer one chosen from a chart, so:</p>
<!-- START CODE "c9614_14" -->
<a id="c9614_14"></a><blockquote class="code"><p class="quoted">
Table of Numerical Approximation
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">threshold</p></td><td class="quotedtablecell"><p class="quoted">approximation</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">&quot;no&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">&quot;one&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">&quot;a couple of&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">&quot;a few&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11</p></td><td class="quotedtablecell"><p class="quoted">&quot;some&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">21</p></td><td class="quotedtablecell"><p class="quoted">&quot;many&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">1000</p></td><td class="quotedtablecell"><p class="quoted">&quot;lots and lots of&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>The idea here is that we will work our way through the table until we hit a line where the threshold number is higher than the number we want to express, and then print that output: so if we have less than one item, we'll print &quot;no&quot;; if we have more than none but less than two, we'll print &quot;one&quot;; if we have less than three, we'll print &quot;a couple of&quot;; if we have three, four, or five (but not six), we'll print &quot;a few.&quot;</p>
<!-- START CODE "c9615_14" -->
<a id="c9615_14"></a><blockquote class="code"><p class="quoted">
A room has a number called the population. The population of a room is usually 0. The description of a room is usually &quot;You observe [population of the location in round numbers] [if population of the location is 1]person [otherwise]people [end if]here.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9616_14" -->
<a id="c9616_14"></a><blockquote class="code"><p class="quoted">
The Stadium is a room. The Hot Dog Stand is west of the Stadium. The Women's Restroom is south of the Stadium.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9617_14" -->
<a id="c9617_14"></a><blockquote class="code"><p class="quoted">
The population of the Stadium is 500. The population of the Hot Dog Stand is 3. The population of the Restroom is 750.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9618_14" -->
<a id="c9618_14"></a><blockquote class="code"><p class="quoted">
Test me with &quot;w / e / s&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "72: Fifty Times Fifty Ways" "e216" -->
<a id="e216"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e216" class="eglink"><b>72</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e216" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fifty Times Fifty Ways</span></b></a><br />Writing your own rules for how to carry out substitutions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_5.html#e216"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example216">
<p>There is only so much we can cram into a text property, so being able to swap in properties is useful but limited. Fortunately, we can also, if we want, create new phrases for how to say things in brackets:</p>
<!-- START CODE "c9619_216" -->
<a id="c9619_216"></a><blockquote class="code"><p class="quoted">
&quot;Fifty Times Fifty Ways&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9620_216" -->
<a id="c9620_216"></a><blockquote class="code"><p class="quoted">
The Beekeeper's Palace is a room. Wasp is a woman in the palace. Drone is a man in the palace.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9621_216" -->
<a id="c9621_216"></a><blockquote class="code"><p class="quoted">
A person can be fierce or mellow. Wasp is fierce. Drone is mellow. A person can be calm or angry. A person is usually calm. A person has some text called  insult. The insult of a person is usually &quot;Grasshopper&quot;. The insult of Wasp is &quot;Larva&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9622_216" -->
<a id="c9622_216"></a><blockquote class="code"><p class="quoted">
Instead of kissing someone:
<br />&#160;&#160;&#160;&#160;say &quot;'[denial for the noun], [insult for the noun]! [boast]!'&quot;;
</p></blockquote>
<!-- END CODE -->
<p>Now to provide some meaning to these bracketed forms. We'll start with the easy one:</p>
<!-- START CODE "c9623_216" -->
<a id="c9623_216"></a><blockquote class="code"><p class="quoted">
To say boast:
<br />&#160;&#160;&#160;&#160;say &quot;I have ferocious allies&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This is a &quot;to say&quot; phrase; we will learn more about phrases in a later chapter, but for now it may be enough to observe that whatever we write after &quot;to say...&quot; becomes a valid substitution in bracketed speech. In this particular case there is no advantage to using the boast token rather than spelling the text out in the quotation, but we might in theory add further instructions to randomize the output, for instance.</p>
<p>To say phrases can be more complex, as well, since we can have them incorporate extra information:</p>
<!-- START CODE "c9624_216" -->
<a id="c9624_216"></a><blockquote class="code"><p class="quoted">
To say insult for (speaker - a person):
<br />&#160;&#160;&#160;&#160;if speaker is angry, say &quot;[the insult of the noun]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;small one&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Here where we have (speaker - a person), we are leaving a slot which we can later fill in, madlibs-like, with any person we like. That is why we can write &quot;insult for the noun&quot;: we are summoning the To say phrase and telling it to fill in the identity of the unknown speaker with the noun.</p>
<p>This differs from &quot;insult of the noun&quot; in the previous example; in that case, each person had his own insult property, and were merely printing that property out. Here we are actually telling Inform to calculate anew what the insult should be, and giving it some instructions about how to do that.</p>
<p>Our instructions can also get arbitrarily complex:</p>
<!-- START CODE "c9625_216" -->
<a id="c9625_216"></a><blockquote class="code"><p class="quoted">
To say denial for (speaker - a person):
<br />&#160;&#160;&#160;&#160;if speaker is calm:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You must not&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if speaker is female:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Stand back&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You forget yourself&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9626_216" -->
<a id="c9626_216"></a><blockquote class="code"><p class="quoted">
Instead of attacking someone:
<br />&#160;&#160;&#160;&#160;now the noun is angry;
<br />&#160;&#160;&#160;&#160;say &quot;'Get away, [insult]!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9627_216" -->
<a id="c9627_216"></a><blockquote class="code"><p class="quoted">
Test me with &quot;kiss wasp / hit wasp / kiss wasp / kiss drone / hit drone / kiss drone&quot;.
</p></blockquote>
<!-- END CODE -->
<p>So the effects we can get with text substitutions are quite flexible. We could even, if we wanted, fill in the substitutions by random choice, or by selecting items from a long list or table, should we have so bellicose a set of characters that they cannot make do with one or two insulting remarks apiece.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "248: Narrative Register" "e261" -->
<a id="e261"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e261" class="eglink"><b>248</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e261" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Narrative Register</span></b></a><br />Suppose we want all of our action responses to vary depending on some alterable quality of the narrator, so that sometimes they're slangy, sometimes pompous or archaic.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_14.html#e261"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example261">
<p>As we saw in &quot;Variety&quot;, we can associate verbs with particular actions and call them up as needed. If we do that, though, we can also store additional information about those verbs and use that information to select the ideal verb to use in a particular situation.</p>
<p>In this example, we create a table of verbs and their meanings, together with some connotative information. Each time we report an action, we then score all the available verbs to decide which is the most suitable to use at the moment.  This allows us to change the narrator's diction change mid-game and have the action descriptions change as well.</p>
<p>Moreover, because we're using adaptive verbs, these responses will automatically inflect properly even if we change the story tense and viewpoint.</p>
<!-- START CODE "c9628_261" -->
<a id="c9628_261"></a><blockquote class="code"><p class="quoted">
&quot;Narrative Register&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9629_261" -->
<a id="c9629_261"></a><blockquote class="code"><p class="quoted">
Section 1 - Descriptive Functionality
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9630_261" -->
<a id="c9630_261"></a><blockquote class="code"><p class="quoted">
Describing relates various verbs to various action names. The verb to describe means the describing relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9631_261" -->
<a id="c9631_261"></a><blockquote class="code"><p class="quoted">
To take is a verb. To acquire is a verb. To get is a verb. To gain is a verb. To obtain is a verb. To pick up is a verb. To bag is a verb. To procure is a verb. To score is a verb. To grab is a verb. To snag is a verb. To snatch is a verb. To collect is a verb.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9632_261" -->
<a id="c9632_261"></a><blockquote class="code"><p class="quoted">
To drop is a verb. To put down is a verb. To discard is a verb. To throw away is a verb. To dispose of is a verb. To set down is a verb. To toss aside is a verb. To ditch is a verb. To abandon is a verb. To dump is a verb. To jettison is a verb. To abjure is a verb. To foresake is a verb. To dispense with is a verb.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9633_261" -->
<a id="c9633_261"></a><blockquote class="code"><p class="quoted">
After an actor doing something to something when a verb describes (the action name part of the current action) (this is the apply random verbs to describing actions rule):
<br />&#160;&#160;&#160;&#160;score the relevant verbs;
<br />&#160;&#160;&#160;&#160;sort the Table of Verb Meanings in reverse relevance order;
<br />&#160;&#160;&#160;&#160;choose row 1 in the Table of Verb Meanings;
<br />&#160;&#160;&#160;&#160;let top score be the relevance entry;
<br />&#160;&#160;&#160;&#160;sort Table of Verb Meanings in random order;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Verb Meanings:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if relevance entry is top score:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The actor] [verb rendering applied to (word entry)] [the noun].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;erase relevance;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9634_261" -->
<a id="c9634_261"></a><blockquote class="code"><p class="quoted">
To decide which text is the rendering of (V - verb) (this is verb rendering):
<br />&#160;&#160;&#160;&#160;decide on &quot;[adapt V]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9635_261" -->
<a id="c9635_261"></a><blockquote class="code"><p class="quoted">
To score the relevant verbs:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Verb Meanings:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the meaning entry is (the action name part of the current action):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase relevance entry by 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with chosen connotation running through connotations entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the chosen connotation is listed in the current register:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase relevance entry by 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease relevance entry by 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9636_261" -->
<a id="c9636_261"></a><blockquote class="code"><p class="quoted">
To erase relevance:
<br />&#160;&#160;&#160;&#160;repeat through Table of Verb Meanings:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now relevance entry is 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9637_261" -->
<a id="c9637_261"></a><blockquote class="code"><p class="quoted">
A tonality is a kind of value. The tonalities are pompous, archaic, slangy, upbeat, downbeat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9638_261" -->
<a id="c9638_261"></a><blockquote class="code"><p class="quoted">
Connoting relates various verbs to various tonalities. The verb to connote means the connoting relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9639_261" -->
<a id="c9639_261"></a><blockquote class="code"><p class="quoted">
The current register is a list of tonalities that varies. The current register is { }.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9640_261" -->
<a id="c9640_261"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Verb Meanings:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the word entry describes the meaning entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now relevance entry is 0;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with chosen tone running through the connotations entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the word entry connotes the chosen tone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9641_261" -->
<a id="c9641_261"></a><blockquote class="code"><p class="quoted">
Table of Verb Meanings
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">word</p></td><td class="quotedtablecell"><p class="quoted">meaning</p></td><td class="quotedtablecell"><p class="quoted">connotations</p></td><td class="quotedtablecell"><p class="quoted">relevance ( a number )</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb take</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb acquire</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ pompous }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb get</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb gain</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb obtain</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ pompous }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb pick up </p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb bag</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ slangy }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb score</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ slangy, upbeat }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb procure</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ archaic }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb grab</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ slangy }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb snag</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ slangy }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb snatch</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ slangy }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb collect</p></td><td class="quotedtablecell"><p class="quoted">the taking action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb discard</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ pompous }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb drop</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb put down</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb toss aside</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb ditch</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ slangy }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb throw away</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb dispose of</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb set down</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb abandon</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ downbeat }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb dump</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ downbeat }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb abjure</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ archaic }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb foresake</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ archaic }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb jettison</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ pompous }</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">the verb dispense with</p></td><td class="quotedtablecell"><p class="quoted">the dropping action</p></td><td class="quotedtablecell"><p class="quoted">{ pompous }</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9642_261" -->
<a id="c9642_261"></a><blockquote class="code"><p class="quoted">
Section 2 - Changing Tone Mid-Game
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9643_261" -->
<a id="c9643_261"></a><blockquote class="code"><p class="quoted">
Understand &quot;new tone&quot; as changing the tone. Changing the tone is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9644_261" -->
<a id="c9644_261"></a><blockquote class="code"><p class="quoted">
Carry out changing the tone:
<br />&#160;&#160;&#160;&#160;now the current register is { };
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 4 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Your narrator will now adopt an ordinary tone.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;let rando be a random tonality;
<br />&#160;&#160;&#160;&#160;add rando to the current register, if absent;
<br />&#160;&#160;&#160;&#160;say &quot;Your narrator will now be [rando].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9645_261" -->
<a id="c9645_261"></a><blockquote class="code"><p class="quoted">
Section 3 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9646_261" -->
<a id="c9646_261"></a><blockquote class="code"><p class="quoted">
Lab is a room. The table is here. The bat and the ball are on the table.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9647_261" -->
<a id="c9647_261"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get ball / drop ball / get bat / drop bat / new tone / get all / drop all / new tone / get all / drop all&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "305: Straw Into Gold" "e367" -->
<a id="e367"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e367" class="eglink"><b>305</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e367" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Straw Into Gold</span></b></a><br />Creating a Rumpelstiltskin character who is always referred to as "dwarf", "guy", "dude", or "man" -- depending on which the player last used -- until the first time the player refers to him as "Rumpelstiltskin".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e367"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example367">
<!-- START CODE "c9648_367" -->
<a id="c9648_367"></a><blockquote class="code"><p class="quoted">
 &quot;Straw Into Gold&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9649_367" -->
<a id="c9649_367"></a><blockquote class="code"><p class="quoted">
The Cell is a room. Rumpelstiltskin is an improper-named man in the Cell.  Rumpelstiltskin can be identified or unidentified. Rumpelstiltskin is unidentified.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9650_367" -->
<a id="c9650_367"></a><blockquote class="code"><p class="quoted">
R-name is a kind of value. The R-names are dwarf, guy, dude, and man-thing. Rumpelstiltskin has an R-name. Understand &quot;[R-name]&quot; as Rumpelstiltskin.
</p></blockquote>
<!-- END CODE -->
<p>Our example is slightly complicated by the fact that &quot;man&quot; is a name already known to Inform, so we can't re-use it as a kind of value. This is possible to work around, though:</p>
<!-- START CODE "c9651_367" -->
<a id="c9651_367"></a><blockquote class="code"><p class="quoted">
Understand &quot;man&quot; as man-thing.
</p></blockquote>
<!-- END CODE -->
<p>Now we borrow from the Activities chapter to look at the exact wording of the player's command:</p>
<!-- START CODE "c9652_367" -->
<a id="c9652_367"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;[R-name]&quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the R-name of Rumpelstiltskin is the R-name understood;
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;Rumpelstiltskin&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now Rumpelstiltskin is identified;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now Rumpelstiltskin is proper-named.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9653_367" -->
<a id="c9653_367"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of Rumpelstiltskin when Rumpelstiltskin is unidentified:
<br />&#160;&#160;&#160;&#160;if the R-name of Rumpelstiltskin is man-thing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;man&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[R-name]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9654_367" -->
<a id="c9654_367"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x dwarf / x guy / x dude / look / x rumpelstiltskin / look / x man&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "11: First Name Basis" "e146" -->
<a id="e146"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e146" class="eglink"><b>11</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e146" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">First Name Basis</span></b></a><br />Allowing the player to use different synonyms to refer to something.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e146"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example146">
<p>Sometimes we create objects that we want the player to be able to call by different names: a television that should also answer to &quot;tv&quot; and &quot;telly&quot;, for instance, or a refrigerator the player might also call &quot;fridge&quot;. In this case, we can use instructions like</p>
<!-- START CODE "c9655_146" -->
<a id="c9655_146"></a><blockquote class="code"><p class="quoted">
Understand &quot;tv&quot; and &quot;telly&quot; as the television.
</p></blockquote>
<!-- END CODE -->
<p>to add extra names to the object we've defined.</p>
<!-- START CODE "c9656_146" -->
<a id="c9656_146"></a><blockquote class="code"><p class="quoted">
&quot;First Name Basis&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9657_146" -->
<a id="c9657_146"></a><blockquote class="code"><p class="quoted">
The Crew Lounge is a room. &quot;Deliberately spartan: the crew feels weight restrictions here first, so there aren't any chairs, just a few thin pads on the ground.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9658_146" -->
<a id="c9658_146"></a><blockquote class="code"><p class="quoted">
The holographic projector is a device in the Crew Lounge. &quot;The one major source of entertainment is the holographic projector, a top of the line Misthon 9000, on which you view every beam you can get.&quot; Understand &quot;holo&quot; or &quot;holograph&quot; or &quot;Misthon&quot; or &quot;9000&quot; as the projector.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9659_146" -->
<a id="c9659_146"></a><blockquote class="code"><p class="quoted">
The description of the projector is &quot;[if switched on]The projector is now playing a documentary about the early politics of the Mars colony.[otherwise]The air above the projector is disappointingly clear.[end if]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(This description is for local color; we will learn more about devices, and conditions like &quot;if switched on&quot;, later in this chapter.)</p>
<p>By default, Inform does not understand the names of an object's kind as referring to that object, unless the object has no other name of its own. We can change this, if we like, by defining names that should be applied to everything of a given kind:</p>
<!-- START CODE "c9660_146" -->
<a id="c9660_146"></a><blockquote class="code"><p class="quoted">
Lewis and Harper are men in the Crew Lounge. Understand &quot;man&quot; or &quot;guy&quot; or &quot;chap&quot; or &quot;lad&quot; or &quot;male&quot; as a man. Understand &quot;men&quot; or &quot;chaps&quot; or &quot;lads&quot; or &quot;guys&quot; or &quot;males&quot; as the plural of a man.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9661_146" -->
<a id="c9661_146"></a><blockquote class="code"><p class="quoted">
The description of Lewis is &quot;A wiry, excitable engineer who just signed aboard last week.&quot; The description of Harper is &quot;Harper's a good guy: taciturn when sober, affectionate when drunk, but rarely annoying in either state.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9662_146" -->
<a id="c9662_146"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x holo / x man / lewis / x guy / harper / turn on projector / x holo projector / get men&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Inform's naming abilities go considerably further, in fact: we can also instruct it to understand words only under certain circumstances, or only when they appear with other words. Fuller details may be found in the chapter on Understanding.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "323: Quiz Show" "e312" -->
<a id="e312"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e312" class="eglink"><b>323</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e312" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Quiz Show</span></b></a><br />In this example by Mike Tarbert, the player can occasionally be quizzed on random data from a table; the potential answers will only be understood if a question has just been asked.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e312"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example312">
<!-- START CODE "c9663_312" -->
<a id="c9663_312"></a><blockquote class="code"><p class="quoted">
&quot;Quiz Show&quot; by Mike Tarbert
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9664_312" -->
<a id="c9664_312"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9665_312" -->
<a id="c9665_312"></a><blockquote class="code"><p class="quoted">
Answer mode is a truth state that varies.
<br />Current state is a text that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9666_312" -->
<a id="c9666_312"></a><blockquote class="code"><p class="quoted">
Guessing is an action applying to one topic.
<br />Understand &quot;[text]&quot; as guessing when answer mode is true.
</p></blockquote>
<!-- END CODE -->
<p>Because of the &quot;...when&quot; part of this line, random text is only treated as an answer when a question is being asked.</p>
<!-- START CODE "c9667_312" -->
<a id="c9667_312"></a><blockquote class="code"><p class="quoted">
Check guessing (this is the default wrong answer rule):
<br />&#160;&#160;&#160;&#160;if the topic understood is not a topic listed in the Table of Dates of Statehood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Wrong!&quot;;
<br />&#160;&#160;&#160;&#160;now answer mode is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9668_312" -->
<a id="c9668_312"></a><blockquote class="code"><p class="quoted">
Carry out guessing a topic listed in the Table of Dates of Statehood:
<br />&#160;&#160;&#160;&#160;if state entry is the current state:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Correct! ([comment entry], to be exact!)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the score by one;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Wrong!&quot;;
<br />&#160;&#160;&#160;&#160;now answer mode is false.
</p></blockquote>
<!-- END CODE -->
<p>This next rule allows a player to do something other than answer the question, but then makes him wait for another question before answering.</p>
<!-- START CODE "c9669_312" -->
<a id="c9669_312"></a><blockquote class="code"><p class="quoted">
Before doing anything other than guessing:
<br />&#160;&#160;&#160;&#160;if answer mode is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(ignoring the question)[line break]&quot;;
<br />&#160;&#160;&#160;&#160;now answer mode is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9670_312" -->
<a id="c9670_312"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9671_312" -->
<a id="c9671_312"></a><blockquote class="code"><p class="quoted">
The Lab is a room.  Sam is a man in the lab.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9672_312" -->
<a id="c9672_312"></a><blockquote class="code"><p class="quoted">
Every turn when the player is in the lab:
<br />&#160;&#160;&#160;&#160;if a random chance of 3 in 5 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose a random row in the Table of Dates of Statehood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Sam asks you, 'In what year was [state entry] admitted into the Union?'&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current state is state entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now answer mode is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9673_312" -->
<a id="c9673_312"></a><blockquote class="code"><p class="quoted">
Table of Dates of Statehood
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">State</p></td><td class="quotedtablecell"><p class="quoted">Topic</p></td><td class="quotedtablecell"><p class="quoted">Comment</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Florida&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1845&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;March 3rd&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Delaware&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1787&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;December 7th&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Hawaii&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1960&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;July 4th&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9674_312" -->
<a id="c9674_312"></a><blockquote class="code"><p class="quoted">
Test me with &quot;1845 / z / z / 1787 / 1792 / z / 1845 / g&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that the situation will become a little more complicated if we have two or more identical topics in our trivia list; in that case, we would need to loop through the Table of Dates of Statehood explicitly, and only mark the player wrong if none of the lines were found to match. (See the chapter on Tables for many more ways to manipulate table behavior.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "325: Pot of Petunias" "e298" -->
<a id="e298"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e298" class="eglink"><b>325</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e298" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pot of Petunias</span></b></a><br />Responding sensibly to a pot of petunias falling from the sky.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e298"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example298">
<p>Suppose we have an object that makes a dramatic entrance on the scene, like so:</p>
<!-- START CODE "c9675_298" -->
<a id="c9675_298"></a><blockquote class="code"><p class="quoted">
&quot;Pot of Petunias&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9676_298" -->
<a id="c9676_298"></a><blockquote class="code"><p class="quoted">
Wide Open Field is a room. &quot;A big field under a big sky. The clouds are puffy, the trees are handsome.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9677_298" -->
<a id="c9677_298"></a><blockquote class="code"><p class="quoted">
Some clouds and some trees are scenery in Wide Open Field. The description of the clouds is &quot;That one looks like Yoda's head.&quot; The description of the trees is &quot;You've never been much good at botany, so it's anyone's guess what kind they are.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9678_298" -->
<a id="c9678_298"></a><blockquote class="code"><p class="quoted">
A rock is in Wide Open Field. The description of the rock is &quot;It looks like it's been here from the dawn of time.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9679_298" -->
<a id="c9679_298"></a><blockquote class="code"><p class="quoted">
The broken flower pot is a thing. The description of the broken flower pot is &quot;It contains the remains of some abused petunias.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9680_298" -->
<a id="c9680_298"></a><blockquote class="code"><p class="quoted">
At 9:01 am:
<br />&#160;&#160;&#160;&#160;move the broken flower pot to the location;
<br />&#160;&#160;&#160;&#160;say &quot;Quite unexpectedly, a flower pot falls from the sky and breaks open on the ground. Good thing you weren't standing six inches to the left.&quot;;
<br />&#160;&#160;&#160;&#160;set pronouns from the broken flower pot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9681_298" -->
<a id="c9681_298"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x it / x it / x it&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we leave out the &quot;set pronouns...&quot; line here, we'll wind up with the following very unsatisfactory end to our test transcript:</p>
<!-- START CODE "c9682_298" -->
<a id="c9682_298"></a><blockquote class="code"><p class="quoted">
Quite unexpectedly, a flower pot falls from the sky and breaks open on the ground. Good thing you weren't standing six inches to the left.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9683_298" -->
<a id="c9683_298"></a><blockquote class="code"><p class="quoted">
&gt;[3] x it
<br />It looks like it's been here from the dawn of time.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "19: Laura" "e219" -->
<a id="e219"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e219" class="eglink"><b>19</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e219" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Laura</span></b></a><br />Some general advice about creating objects with unusual or awkward names, and a discussion of the use of printed names.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e219"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example219">
<p>Occasionally it is useful to give something a printed name because we want to call it something extremely long-winded; give one thing a name that is the subset of the name of something else; or use words such as &quot;with&quot; or &quot;and&quot; that are likely to confuse Inform into thinking that the object name ends before it actually does.</p>
<p>Often it is enough to preface these ambiguously-titled things with &quot;a thing called...&quot; or &quot;a supporter called...&quot; or the like, as here:</p>
<!-- START CODE "c9684_219" -->
<a id="c9684_219"></a><blockquote class="code"><p class="quoted">
South of Spring Rolls is a room called Hot and Sour Soup.
</p></blockquote>
<!-- END CODE -->
<p>prevents Inform from trying to read &quot;Hot and Sour Soup&quot; as two separate rooms, while</p>
<!-- START CODE "c9685_219" -->
<a id="c9685_219"></a><blockquote class="code"><p class="quoted">
The player carries an orange ticket. The player carries a thing called an orange.
</p></blockquote>
<!-- END CODE -->
<p>creates two objects instead of the one orange ticket that would result if the second sentence were merely &quot;The player carries an orange.&quot;</p>
<p>Really long names can be a bit cumbersome. For example:</p>
<!-- START CODE "c9686_219" -->
<a id="c9686_219"></a><blockquote class="code"><p class="quoted">
The player carries a thing called an incriminating photograph of a woman with blonde hair.
</p></blockquote>
<!-- END CODE -->
<p>So we might instead give the photograph a printed name:</p>
<!-- START CODE "c9687_219" -->
<a id="c9687_219"></a><blockquote class="code"><p class="quoted">
&quot;Laura&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9688_219" -->
<a id="c9688_219"></a><blockquote class="code"><p class="quoted">
The City of Angels is a room. The incriminating photograph is carried by the player. The printed name of the incriminating photograph is &quot;incriminating photograph of a woman with blonde hair&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now we've gotten around any awkwardness with printing the name -- but we also need to understand when the player refers to the photograph. When we define the names of objects under normal circumstances, Inform takes care of this automatically, but if we have especially set the printed name, we must also specially define the appropriate terms for the player to use. For this we need &quot;understand&quot;, which will be explained in much more depth in a later chapter:</p>
<!-- START CODE "c9689_219" -->
<a id="c9689_219"></a><blockquote class="code"><p class="quoted">
Understand &quot;woman&quot; or &quot;with&quot; or &quot;blonde&quot; or &quot;hair&quot; or &quot;of&quot; or &quot;a&quot; as the incriminating photograph.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9690_219" -->
<a id="c9690_219"></a><blockquote class="code"><p class="quoted">
Test one with &quot;x photograph / x incriminating photograph of a woman with blonde hair / x hair / x blonde / x woman with blonde hair / x incriminating photograph of a woman&quot;.
</p></blockquote>
<!-- END CODE -->
<p>That's probably as far as we really need to go, and if you are satisfied with this behavior, there is no need to read on.</p>
<p>One possible objection to this solution is that Inform will accept some nonsensical formulations as applying to the photograph: for instance, it will allow &gt;EXAMINE PHOTOGRAPH OF, &gt;X BLONDE PHOTOGRAPH WOMAN INCRIMINATING, or even &gt;X OF ...though in the case there were two items with &quot;of&quot; names, the game would disambiguate with a question such as &quot;Which do you mean, the incriminating photograph of a woman with blonde hair or the essence of wormwood?&quot;</p>
<p>Traditionally, Inform has tended to be fairly flexible about word order, preferring to err in the direction of leniency. On the other hand, there are times when we need more exacting rules in order to distinguish otherwise similar cases.</p>
<p>Two features allow us to specify more exactly if we so desire. The first is that, if we specify a whole phrase as the name of something, all the words in that phrase are required, in the order given. Thus &quot;Understand &quot;blonde hair&quot; as the photograph&quot; would require that both &quot;blonde&quot; and &quot;hair&quot; be present, and would not recognize &gt;X BLONDE, &gt;X HAIR BLONDE, or &gt;X HAIR.</p>
<p>Second, we can create tokens, such as &quot;Understand &quot;blonde hair&quot; or &quot;hair&quot; as &quot;[hair]&quot;, and then use these tokens in match phrases. This saves a good deal of time when we want to specify a number of different but fussy alternatives. So, for instance, here is a drawing that would not respond to &gt;X OF, or &gt;X BROWN EYES, but would respond to &gt;X DRAWING OF MAN WITH BROWN EYES, &gt;X MAN WITH BROWN EYES, and so on:</p>
<!-- START CODE "c9691_219" -->
<a id="c9691_219"></a><blockquote class="code"><p class="quoted">
The drawing is carried by the player. The printed name of the drawing is &quot;drawing of a man with brown eyes&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9692_219" -->
<a id="c9692_219"></a><blockquote class="code"><p class="quoted">
Understand &quot;eyes&quot; or &quot;brown eyes&quot; as &quot;[brown eyes]&quot;. Understand &quot;man&quot; or &quot;man with [brown eyes]&quot; or &quot;brown-eyed man&quot; as &quot;[man]&quot;. Understand &quot;[man]&quot; or &quot;drawing of [man]&quot; or &quot;drawing of a [man]&quot; as the drawing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9693_219" -->
<a id="c9693_219"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test one / test two&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9694_219" -->
<a id="c9694_219"></a><blockquote class="code"><p class="quoted">
Test two with &quot;x drawing / x man / x of / x drawing of man / x drawing of a man / x drawing of a man with brown eyes / x drawing of a brown-eyed man / x brown eyes&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Further refinements are possible: the &quot;privately-named&quot; attribute tells Inform not to try to understand the source name of an object at all, so if we write</p>
<!-- START CODE "c9695_219" -->
<a id="c9695_219"></a><blockquote class="code"><p class="quoted">
The purple rabbit is a privately-named thing.
</p></blockquote>
<!-- END CODE -->
<p>...the player will not be able to refer to it as &quot;purple&quot; or &quot;rabbit&quot; or &quot;purple rabbit&quot;.</p>
<p>There are also ways to make names to refer to entire kinds of objects (so &quot;dude&quot; will refer to any man in the game); to specify names that only refer to objects in the plural (so GET PICTURES will pick up several pictures together); to reflect an object's properties (so &quot;red apple&quot; works only as long as the apple is in fact red); or even to refer to the object's relationships to other objects (so &quot;bottle of wine&quot; works only when wine is indeed in the bottle). All these refinements are discussed in the chapter on Understanding.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "43: Vouvray" "e417" -->
<a id="e417"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e417" class="eglink"><b>43</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e417" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Vouvray</span></b></a><br />Adding synonyms to an entire kind of thing.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_4.html#e417"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example417">
<p>The Understanding chapter lays out ways to change how the player can refer to objects, but we may not want to wait that long for some of the basic features. Here, for instance, is how to add synonyms that the player can use to refer to an entire kind of object:</p>
<!-- START CODE "c9696_417" -->
<a id="c9696_417"></a><blockquote class="code"><p class="quoted">
&quot;Vouvray&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9697_417" -->
<a id="c9697_417"></a><blockquote class="code"><p class="quoted">
The Wine Emporium is a room. &quot;Set aside, you rather suspect, for tourists: this chamber is barrel-vaulted stone, lined on each side with casks of aging wine. Discarded brochures here and there advertise Wine Tours of the Loire Valley in three different languages, none of them French.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9698_417" -->
<a id="c9698_417"></a><blockquote class="code"><p class="quoted">
A cask is a kind of thing. A cask is always fixed in place. Understand &quot;cask&quot; or &quot;barrel&quot; as a cask. Understand &quot;casks&quot; or &quot;barrels&quot; as the plural of cask.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9699_417" -->
<a id="c9699_417"></a><blockquote class="code"><p class="quoted">
The Vouvray cask and the Muscadet cask are casks in the Wine Emporium.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9700_417" -->
<a id="c9700_417"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get barrels / get barrel / muscadet / x casks / x muscadet cask&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "375: North by Northwest" "e266" -->
<a id="e266"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e266" class="eglink"><b>375</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e266" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">North by Northwest</span></b></a><br />Creating additional compass directions between those that already exist (for instance, NNW) -- and dealing with an awkwardness that arises when the player tries to type "north-northwest". The example demonstrates a way around the nine-character limit on parsed words.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e266"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example266">
<p>Suppose we wanted to add intermediate compass directions such as north-northwest to our game. Because of the limitations of the index map, we won't be able to view these connections on the world map, but we can certainly create them, and use them in route-finding, just like other directions.</p>
<p>Here's how we'd set up such a thing:</p>
<!-- START CODE "c9701_266" -->
<a id="c9701_266"></a><blockquote class="code"><p class="quoted">
&quot;North by Northwest&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9702_266" -->
<a id="c9702_266"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9703_266" -->
<a id="c9703_266"></a><blockquote class="code"><p class="quoted">
The north-northwest is a direction. North-northwest has opposite south-southeast. Understand &quot;n-nw&quot; or &quot;nnw&quot; as north-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9704_266" -->
<a id="c9704_266"></a><blockquote class="code"><p class="quoted">
The north-northeast is a direction. North-northeast has opposite south-southwest. Understand &quot;n-ne&quot; or &quot;nne&quot; as north-northeast.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9705_266" -->
<a id="c9705_266"></a><blockquote class="code"><p class="quoted">
The south-southwest is a direction. South-southwest has opposite north-northeast. Understand &quot;s-sw&quot; or &quot;ssw&quot; as north-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9706_266" -->
<a id="c9706_266"></a><blockquote class="code"><p class="quoted">
The south-southeast is a direction. South-southeast has opposite north-northwest. Understand &quot;s-se&quot; or &quot;sse&quot; as south-southeast.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9707_266" -->
<a id="c9707_266"></a><blockquote class="code"><p class="quoted">
The west-northwest is a direction. West-northwest has opposite east-southeast. Understand &quot;w-nw&quot; or &quot;wnw&quot; as west-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9708_266" -->
<a id="c9708_266"></a><blockquote class="code"><p class="quoted">
The east-northeast is a direction. East-northeast has opposite west-southwest. Understand &quot;e-ne&quot; or &quot;ene&quot; as east-northeast.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9709_266" -->
<a id="c9709_266"></a><blockquote class="code"><p class="quoted">
The west-southwest is a direction. West-southwest has opposite east-northeast. Understand &quot;w-sw&quot; or &quot;wsw&quot; as west-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9710_266" -->
<a id="c9710_266"></a><blockquote class="code"><p class="quoted">
The east-southeast is a direction. East-southeast has opposite west-northwest. Understand &quot;e-se&quot; or &quot;ese&quot; as east-southeast.
</p></blockquote>
<!-- END CODE -->
<p>A complication arises because we reach the 9-character limit: Inform truncates the names of objects to nine characters before trying to understand them. To make matters worse, the hyphen (and other punctuation marks) count as two letters. So both north-northwest and north-northeast will get truncated to &quot;north-no&quot;, and be indistinguishable when the player types them.</p>
<p>When we are compiling for Glulx, the limit is easily changed with a single line, setting the constant called DICT_WORD_SIZE. For instance, if we wanted to raise the limit to 15, we would simply write &quot;Use DICT_WORD_SIZE of 15.&quot;</p>
<p>If we're compiling to the Z-machine, however, we'll have to resort to some manipulation of the player's command. The general solution is that when the player's name for an object is going to have to be longer than we can correctly read, we can substitute an unambiguous abbreviation for the thing the player typed. In this case, it will be simplest and most efficient always to condense the player's direction names to single letters, thus:</p>
<!-- START CODE "c9711_266" -->
<a id="c9711_266"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;let N be &quot;[the player's command]&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;north&quot; in N with &quot;n&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;east&quot; in N with &quot;e&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;south&quot; in N with &quot;s&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;west&quot; in N with &quot;w&quot;;
<br />&#160;&#160;&#160;&#160;change the text of the player's command to N.
</p></blockquote>
<!-- END CODE -->
<p>For more on the use of text, see the Advanced Text chapter.</p>
<!-- START CODE "c9712_266" -->
<a id="c9712_266"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9713_266" -->
<a id="c9713_266"></a><blockquote class="code"><p class="quoted">
The Empty Field is north-northwest of the Deserted Road.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9714_266" -->
<a id="c9714_266"></a><blockquote class="code"><p class="quoted">
A crop-dusting plane is a backdrop. It is not scenery. It is in the Deserted Road and Empty Field. The initial appearance of the crop-dusting plane is &quot;[one of]In the distance[or]Approaching faster and faster[or]Flying ominously low and directly towards you[or]Immediately overhead[or]Circling around for another approach[cycling] is a standard crop-dusting plane.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9715_266" -->
<a id="c9715_266"></a><blockquote class="code"><p class="quoted">
After looking:
<br />&#160;&#160;&#160;&#160;say &quot;From here you can run to [the list of adjacent rooms].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9716_266" -->
<a id="c9716_266"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a room (called the target) which is not the location while looking:
<br />&#160;&#160;&#160;&#160;let chosen direction be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;say &quot;[chosen direction]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9717_266" -->
<a id="c9717_266"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sse / north-northwest&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In practice, this is going to be overkill for almost all games: most players already find eight compass directions plus up and down to be enough (or more than enough) to keep track of. But the option exists, in case there is a compelling reason to use it.</p>
<p>(Note also that we are allowed to use multi-word direction names, so we could  have called the directions &quot;north by northwest&quot;, &quot;north by northeast&quot;, and so on. This example deliberately takes the hard way in order to show how to resolve the nine-character problem.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "421: Igpay Atinlay" "e198" -->
<a id="e198"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e198" class="eglink"><b>421</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e198" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Igpay Atinlay</span></b></a><br />A pig Latin filter for the player's commands.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_20.html#e198"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example198">
<p>For the sake of argument, suppose we want to parrot back all the player's commands in pig Latin:</p>
<!-- START CODE "c9718_198" -->
<a id="c9718_198"></a><blockquote class="code"><p class="quoted">
 &quot;Igpay Atinlay&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9719_198" -->
<a id="c9719_198"></a><blockquote class="code"><p class="quoted">
Armfay is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9720_198" -->
<a id="c9720_198"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;let N be &quot;[the player's command]&quot;;
<br />&#160;&#160;&#160;&#160;replace the regular expression &quot;\b(&lt;aeiou&gt;+)(\w*)&quot; in N with &quot;\1\2ay&quot;;
<br />&#160;&#160;&#160;&#160;replace the regular expression &quot;\b(&lt;bcdfghjklmnpqrstvwxz&gt;+)(\w*)&quot; in N with &quot;\2\1ay&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[N][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;reject the player's command.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9721_198" -->
<a id="c9721_198"></a><blockquote class="code"><p class="quoted">
Test me with &quot;nix on the stupid&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "422: Mr. Burns' Repast" "e253" -->
<a id="e253"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e253" class="eglink"><b>422</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e253" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Mr. Burns' Repast</span></b></a><br />Letting the player guess types for an unidentifiable fish.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_20.html#e253"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example253">
<p>Suppose we have an unhappily mutated fish that the player can refer to by any of a number of species names, or any word followed by -fish. We want to reject these commands, but preserve a memory of what the player last tried to call the thing:</p>
<!-- START CODE "c9722_253" -->
<a id="c9722_253"></a><blockquote class="code"><p class="quoted">
 &quot;Mr. Burns' Repast&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9723_253" -->
<a id="c9723_253"></a><blockquote class="code"><p class="quoted">
Wharf is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9724_253" -->
<a id="c9724_253"></a><blockquote class="code"><p class="quoted">
There is an unknown fish in the Wharf. The unknown fish has some a text called the supposed name. The description of the unknown fish is &quot;The victim of heavy mutagens, this thing is not really recognizable as any species you know.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9725_253" -->
<a id="c9725_253"></a><blockquote class="code"><p class="quoted">
Fish variety is a kind of value. The fish varieties are salmon, albacore, mackerel.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9726_253" -->
<a id="c9726_253"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the unknown fish:
<br />&#160;&#160;&#160;&#160;if the supposed name of the unknown fish is &quot;&quot;, say the printed name of the unknown fish;
<br />&#160;&#160;&#160;&#160;otherwise say the supposed name of the unknown fish.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9727_253" -->
<a id="c9727_253"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the unknown fish is visible and player's command matches the regular expression &quot;\b\w+fish&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let N be &quot;[the player's command]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;replace the regular expression &quot;.*(?=\b\w+fish)&quot; in N with &quot;&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now N is &quot;[N](?)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the supposed name of the unknown fish is N;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;respond with doubt;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reject the player's command;
<br />&#160;&#160;&#160;&#160;otherwise if the unknown fish is visible and the player's command includes &quot;[fish variety]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now supposed name of the fish is &quot;[fish variety understood](?)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;respond with doubt;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reject the player's command.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9728_253" -->
<a id="c9728_253"></a><blockquote class="code"><p class="quoted">
To respond with doubt:
<br />&#160;&#160;&#160;&#160;say &quot;You're not [italic type]sure[roman type] you're seeing any such thing.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9729_253" -->
<a id="c9729_253"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get swordfish / look / touch monkfish / look / listen to tunafish / x fish / x salmon / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "317: Terracottissima Maxima" "e378" -->
<a id="e378"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e378" class="eglink"><b>317</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e378" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Terracottissima Maxima</span></b></a><br />Flowerpots with textual names that might change during play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e378"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example378">
<p>Inform can also understand text properties:</p>
<!-- START CODE "c9730_378" -->
<a id="c9730_378"></a><blockquote class="code"><p class="quoted">
 &quot;Terracottissima Maxima&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9731_378" -->
<a id="c9731_378"></a><blockquote class="code"><p class="quoted">
A flowerpot is a kind of thing. A flowerpot has a text called pattern. Understand the pattern property as describing a flowerpot. The printed name of a flowerpot is usually &quot;[pattern] flowerpot&quot;. The printed plural name of a flowerpot is usually &quot;[pattern] flowerpots&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9732_378" -->
<a id="c9732_378"></a><blockquote class="code"><p class="quoted">
The Herb Garden is a room. In the Herb Garden is a flowerpot with pattern &quot;blue willow&quot;. In the Herb Garden is a flowerpot with pattern &quot;striped&quot;. In the Herb Garden is a flowerpot with pattern &quot;striped&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9733_378" -->
<a id="c9733_378"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x blue willow / get striped / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This may not seem very much different from having the pattern be a kind of value -- except that texts can, of course, hold almost anything. Further exploration of these possibilities may be found in the chapter on Advanced Text.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "381: Xot" "e445" -->
<a id="e445"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_2.html#e445" class="eglink"><b>381</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2.html#e445" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Xot</span></b></a><br />Storing an invalid command to be repeated as text later in the game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e445"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example445">
<p>In Hitchhiker's Guide to the Galaxy, any erroneous command the player types can return to haunt him later in the game. We could do the same, if we liked, by storing the player's command whenever we print a parser error.</p>
<!-- START CODE "c9734_445" -->
<a id="c9734_445"></a><blockquote class="code"><p class="quoted">
 &quot;Xot&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9735_445" -->
<a id="c9735_445"></a><blockquote class="code"><p class="quoted">
Humiliation Chamber is a room. &quot;A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can't disable it, is a loudspeaker.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9736_445" -->
<a id="c9736_445"></a><blockquote class="code"><p class="quoted">
The last error is a text that varies. The last error is &quot;xot&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9737_445" -->
<a id="c9737_445"></a><blockquote class="code"><p class="quoted">
Before printing a parser error:
<br />&#160;&#160;&#160;&#160;now the last error is the player's command.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9738_445" -->
<a id="c9738_445"></a><blockquote class="code"><p class="quoted">
Every turn when a random chance of 1 in 2 succeeds:
<br />&#160;&#160;&#160;&#160;say &quot;Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying '[last error], [last error], [last error]!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9739_445" -->
<a id="c9739_445"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wiggle / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
