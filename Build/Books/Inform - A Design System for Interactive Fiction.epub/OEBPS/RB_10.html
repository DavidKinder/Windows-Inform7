<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>Chapter 10: Physics: Substances, Ropes, Energy and Weight</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 10: Physics: Substances, Ropes, Energy and Weight</p>
<p class="chaptercontents"><a href="RB_10.html#s1" class="standardlink"><span class="chaptercontentsitem">§10.1. Gases</span></a>; <a href="RB_10.html#s2" class="standardlink"><span class="chaptercontentsitem">§10.2. Liquids</span></a>; <a href="RB_10.html#s3" class="standardlink"><span class="chaptercontentsitem">§10.3. Dispensers and Supplies of Small Objects</span></a>; <a href="RB_10.html#s4" class="standardlink"><span class="chaptercontentsitem">§10.4. Glass and Other Damage-Prone Substances</span></a>; <a href="RB_10.html#s5" class="standardlink"><span class="chaptercontentsitem">§10.5. Volume, Height, Weight</span></a>; <a href="RB_10.html#s6" class="standardlink"><span class="chaptercontentsitem">§10.6. Ropes</span></a>; <a href="RB_10.html#s7" class="standardlink"><span class="chaptercontentsitem">§10.7. Electricity and Magnetism</span></a>; <a href="RB_10.html#s8" class="standardlink"><span class="chaptercontentsitem">§10.8. Fire</span></a>; <a href="RB_10.html#s9" class="standardlink"><span class="chaptercontentsitem">§10.9. Heat</span></a>; <a href="RB_10.html#s10" class="standardlink"><span class="chaptercontentsitem">§10.10. Magic (Breaking the Laws of Physics)</span></a>; <a href="RB_10.html#s11" class="standardlink"><span class="chaptercontentsitem">§10.11. Mathematics</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="RB_1.html" class="standardlink">Contents of <i>The Inform Recipe Book</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html" class="standardlink">Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_11.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_11.html" class="standardlink">Chapter 11: Out Of World Actions and Effects</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§10.1. Gases</p>
<p>Inform normally assumes that everything is solid. It has no built-in support for gases or liquids, because they have so many different behaviours. For instance, is the important thing about gas that it diffuses, or that we breathe it, or that it mixes with other gases to react, or that it sometimes obscures vision? The answer depends on what we are trying to write, and for this reason Inform leaves it up to us.</p>
<p>Gases are easier to deal with than liquids, because they tend to be everywhere in their location at once (unlike a liquid which might form a pool on the floor) and because they diffuse and mix by themselves (rather than being carried around or brought into contact with each other by the player). On the other hand, unlike liquids, gases are compressible: they can be present at low or high pressures, that is, in low or high concentrations.</p>
<p>The simplest approach is the one in <span class="boldface">Only You...</span>, where rooms are either filled with smoke or else smoke-free. Smoke gradually fills through the map, obscuring vision: no attempt is made to conserve the total quantity of smoke, as we assume that some fire is churning it out continuously to replace what diffuses away.</p>
<p><span class="boldface">Lethal Concentration 1</span> and <span class="boldface">2</span> simulate a gas diffusing through a three-dimensional maze of rooms, and becoming dangerous above certain concentrations. There is just one possible gas, and it is modelled by giving each room a number which represents the concentration (in parts per million). This enables us to conserve the total amount of gas, or to have it released or captured by sources and sinks of given capacity.</p>
<p>This could be extended by giving each room similar concentration levels for other gases, and providing for the diffusion rule to notice when different gases come into contact; or by giving a concentration (and also, for realism, a volume) to each closed container, applying rules for capturing and releasing gases as containers are opened and closed.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s12" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s12" class="standardlink">Back to Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics: §9.12. Cameras and Recording Devices</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s2" class="standardlink">Onward to §10.2. Liquids</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e166" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e166" class="standardlink">Example 255: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lethal Concentration 1</b>&#160;&#160;&#160; A poisonous gas that spreads from room to room, incapacitating or killing the player when it reaches sufficient levels.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e352" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e352" class="standardlink">Example 74: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Only You...</b>&#160;&#160;&#160; Smoke which spreads through the rooms of the map, but only every other turn.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e165" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e165" class="standardlink">Example 257: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lethal Concentration 2</b>&#160;&#160;&#160; Poisonous gas again, only this time it sinks.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§10.2. Liquids</p>
<p>Liquids are notoriously difficult to simulate well. A fully thorough approach consumes endless storage and can be very finicky to write and keep realistic. It is essential to decide what aspect of a liquid's behaviour is actually needed in a given story, and to simulate only that. For instance, if we only need a little chemistry, where a player can add (say) water to salt and make a solution, we do not want to fool around with calculating quantities or concentrations: what's important is that &quot;some water&quot; (amount unspecified) combines with &quot;some salt&quot; to produce &quot;some salty water&quot;. We should no more calculate precisely here than we would work out where all the furniture is to the nearest inch. Good advice for handling liquids is to simulate the least amount of realism possible, but no less.</p>
<p>Sometimes all we want is a down-in-one drink: we needn't simulate the actual liquid, just the bottle it comes in, and all we need is to handle the &quot;drinking&quot; action. See <span class="boldface">Beverage Service</span>, and also <span class="boldface">3 AM</span>, where carbonated drinks can be shaken - again simulating the vessel, not the liquid.</p>
<p>Some elementary biochemistry in <span class="boldface">Xylan</span> is done simply by... well, the point is that two different liquids are represented by single things each, and a chemical reaction simply switches one for the other.</p>
<p>In <span class="boldface">Frizz</span>, we allow any container to be filled with water (only) and we simulate what happens to any solid objects also inside: some waterproof, some not. <span class="boldface">Flotation</span> provides a well (always full of water), with rules to determine whether things dropped into it should sink or float.</p>
<p>Next we move up to quantitative approaches, where we remember not just whether a liquid is present, but how much of it. In its simplest form, we could have a drinking vessel from which we draw in sips, so that it can be full, half-empty or empty: see <span class="boldface">Thirst</span>.</p>
<p>The example with the best compromise between simulation quality and complexity is <span class="boldface">Lemonade</span>. Here we provide a kind of container called a &quot;fluid container&quot;, not just a single cup, and each such vessel has a given &quot;fluid capacity&quot;. Each holds only a single liquid at a time (so no mixtures) and can be empty or full to any level (rounded off to the nearest 0.1 fl oz). We can fill one vessel from another (unless it would make a mixture). But liquids leaving these vessels must be consumed - drunk or poured away without trace: we cannot make pools on the floor, or carry liquids in our cupped hands. There is no object representing &quot;lemonade&quot;: there are only fluid containers, but which can be called LEMONADE if that is what they now contain.</p>
<p><span class="boldface">Savannah</span> is a light elaboration of Lemonade, showing how liquids might be poured on other objects, as for instance to extinguish a fire.</p>
<p><span class="boldface">Noisy Cricket</span> extends <span class="boldface">Lemonade</span> to allow for mixing, though then the number of different possible mixtures is so large that complexity increases greatly. <span class="boldface">Lakeside Living</span> extends <span class="boldface">Lemonade</span> differently to add a &quot;liquid source&quot; kind, a form of fluid container which has infinite fluid capacity and is scenery - ideal for a lake, river or spring.</p>
<p class="crossreference"><a href="RB_9.html#s2" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Bags, Bottles, Boxes and Safes</b></a><i> for stoppered bottles which could also be used for carrying liquids around in</i></p><p class="crossreference"><a href="RB_10.html#s9" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Heat</b></a><i> for keeping liquids warm in insulated containers</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_10.html#s1" class="standardlink">Back to §10.1. Gases</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s3" class="standardlink">Onward to §10.3. Dispensers and Supplies of Small Objects</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e427" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e427" class="standardlink">Example 117: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Thirst</b>&#160;&#160;&#160; A waterskin that is depleted as the player drinks from it.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e31" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e31" class="standardlink">Example 122: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Beverage Service</b>&#160;&#160;&#160; A potion that the player can drink.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e148" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e148" class="standardlink">Example 403: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Flotation</b>&#160;&#160;&#160; Objects that can sink or float in a well, depending on their own properties and the state of the surrounding environment.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e446" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e446" class="standardlink">Example 288: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Xylan</b>&#160;&#160;&#160; Creating a new command that does require an object to be named; and some comments about the choice of vocabulary, in general.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e173" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e173" class="standardlink">Example 192: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Frizz</b>&#160;&#160;&#160; Liquid flows within containers and soaks objects that are not waterproof; any contact with a wet object can dampen our gloves.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e429" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e429" class="standardlink">Example 193: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>3 AM</b>&#160;&#160;&#160; A shake command which agitates soda and makes items thump around in boxes.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e223" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e223" class="standardlink">Example 266: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lemonade</b>&#160;&#160;&#160; Containers for liquid which keep track of how much liquid they are holding and of what kind, and allow quantities to be moved from one container to another.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e339" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e339" class="standardlink">Example 267: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Savannah</b>&#160;&#160;&#160; Using the liquid implementation demonstrated in Lemonade for putting out fires.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e443" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e443" class="standardlink">Example 276: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Noisy Cricket</b>&#160;&#160;&#160; Implementing liquids that can be mixed, and the components automatically recognized as matching one recipe or another.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e212" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e212" class="standardlink">Example 333: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lakeside Living</b>&#160;&#160;&#160; Similar to "Lemonade", but with bodies of liquid that can never be depleted, and some adjustments to the "fill" command so that it will automatically attempt to fill from a large liquid source if possible.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§10.3. Dispensers and Supplies of Small Objects</p>
<p>A slightly tricky situation arises in IF when we want to offer the player a simulation of a near-infinite supply of something: a napkin dispenser from which he can keep taking more napkins, or an infinite selection of pebbles on a beach, or something of that nature.</p>
<p>One approach is simply to limit the number of items the player is allowed to pick up at a time, while maintaining the fiction that there are more of these items in existence than the player is allowed to interact with. <span class="boldface">Extra Supplies</span> demonstrates this.</p>
<p>The task becomes harder if we do want to let the player have as many napkins as he wants. In some languages, it is possible to generate new objects on the fly after the story has begun (called &quot;dynamic object creation&quot;), and something like this is possible if we are compiling for Glulx. (See the Inform extensions site for examples.) Usually, though, it is less complicated and almost as effective simply to have a very large supply of existing objects, which are moved in and out of play as the player needs them. <span class="boldface">Pizza Prince</span> demonstrates how to do this with slices of pizza.</p>
<p class="crossreference"><a href="RB_10.html#s6" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Ropes</b></a><i> for an example involving divisible pieces of string, which relies on similar techniques</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_10.html#s2" class="standardlink">Back to §10.2. Liquids</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s4" class="standardlink">Onward to §10.4. Glass and Other Damage-Prone Substances</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e293" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e293" class="standardlink">Example 378: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Pizza Prince</b>&#160;&#160;&#160; Providing a pizza buffet from which the player can take as many pieces as he wants.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e132" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e132" class="standardlink">Example 124: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Extra Supplies</b>&#160;&#160;&#160; A supply of red pens from which the player can take another pen only if he doesn't already have one somewhere in the game world.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§10.4. Glass and Other Damage-Prone Substances</p>
<p>Just as Inform normally assumes everything is solid, it also assumes that these solid objects will not buckle, crack, break or deform under pressure, and cannot be fragmented. But breakability adds realism, and breakage need not be negative: sometimes we want the player to break her way in to something.</p>
<p>In IF the word DROP is more often used to mean &quot;put down&quot; or &quot;leave behind&quot; than &quot;let go from a height&quot;: so it is perhaps unfair that in <span class="boldface">Ming Vase</span> something fragile, when dropped, shatters (into nothing). In <span class="boldface">Spring Cleaning</span>, fragile objects must be explicitly attacked by the player in order to break, and although they leave no tangible debris behind, their loss is at least remembered. <span class="boldface">Kyoto</span> provides a general-purpose model for things being thrown at other things, with consequences including things moving (even between rooms) as well as breaking each other.</p>
<p>Debris from breakages is to be avoided if possible because it means keeping track of increasing numbers of objects. But we can increase realism by allowing something to have a visibly &quot;broken&quot; state, which it changes to when it breaks, rather than simply vanishing. <span class="boldface">Terracottissima</span> provides for broken and unbroken flowerpots in this way.</p>
<p>Since &quot;part of&quot; allows us to have two objects joined together into what the player sees as one, it also gives us a natural seam which allows the whole to be broken back down into its component parts, and this is the neatest way of providing a breakage into pieces. <span class="boldface">Paddington</span> demonstrates a cutting action which allows component parts to be cut away from their holders but will only make small surface gashes in any individual thing: so the player can cut something up, but only into the pieces we specifically choose to allow. Cutting also forces an opening into containers.</p>
<p class="crossreference"><a href="RB_7.html#s5" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Combat and Death</b></a><i> for a robot that breaks into its component limbs when shot with a blaster</i></p><p class="crossreference"><a href="RB_7.html#s15" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Goal-Seeking Characters</b></a><i> for a character who eats donuts, leaving crumbs on the floor</i></p><p class="crossreference"><a href="RB_10.html#s5" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Volume, Height, Weight</b></a><i> for containers breaking under the weight of their contents</i></p><p class="crossreference"><a href="RB_10.html#s6" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Ropes</b></a><i> for cutting up string into up to 35 different pieces of different lengths - a limit the player is unlikely to find out about, but a limit all the same, and an expensive solution since we need 35 different things for the &quot;debris&quot; when string is &quot;broken&quot;</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_10.html#s3" class="standardlink">Back to §10.3. Dispensers and Supplies of Small Objects</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s5" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s5" class="standardlink">Onward to §10.5. Volume, Height, Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e158" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e158" class="standardlink">Example 97: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ming Vase</b>&#160;&#160;&#160; ATTACK or DROP break and remove fragile items from play.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e356" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e356" class="standardlink">Example 123: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Spring Cleaning</b>&#160;&#160;&#160; A character who sulks over objects that the player has broken (and which are now off-stage).</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e281" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e281" class="standardlink">Example 195: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Paddington</b>&#160;&#160;&#160; A CUT [something] WITH [something] command which acts differently on different types of objects.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e149" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e149" class="standardlink">Example 314: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Terracottissima</b>&#160;&#160;&#160; The flowerpots once again, but this time arranged so that after the first breakage all undamaged pots are said to be "unbroken", to distinguish them from the others.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e381" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e381" class="standardlink">Example 404: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Kyoto</b>&#160;&#160;&#160; Expanding the effects of the THROW something AT something command so that objects do make contact with one another.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§10.5. Volume, Height, Weight</p>
<p>What should fit into what? Inform has basically three sizes: small, person-sized, and room-sized. The difference between &quot;small&quot; and &quot;person-sized&quot; doesn't appear much, but it's the difference between an ordinary container and an enterable container; the fact that a person cannot get inside an ordinary container is one of the few size-related rules built into Inform. It will not object to, say, a fishing rod being put inside a matchbox.</p>
<p>Inform does have one built-in measure of the size of a container: its &quot;carrying capacity&quot;. This is a maximum number of contents:</p>
<!-- START CODE "c15018" -->
<a id="c15018"></a><blockquote class="code"><p class="quoted">
The carrying capacity of the rucksack is 3.
</p></blockquote>
<!-- END CODE -->
<p>This of course allows three anvils, while forbidding four postage stamps. To do better, we need units of measurement, and <span class="boldface">Dimensions</span> demonstrates setting these up. <span class="boldface">The Speed of Thought</span>, meanwhile, ventures into the area of unit conversion: having multiple types of unit and being able to express them to the player, or parse these in the player's input.</p>
<p>To be fully realistic in what will fit into what, we need sophisticated three-dimensional models of shapes, both of the items being carried and of the free space remaining inside containers. <span class="boldface">Depth</span> elegantly simplifies this by approximating items as cuboids, with a given width, length and height: these multiply to give a volume. To fit in a container, a new item's volume must not exceed the volume remaining inside the container, and in addition its three dimensions must also fit in one of the possible arrangements at right angles to the sides. (So this system would indeed prevent a 1x1x100 fishing rod from being put inside a 5x2x1 matchbox, but would also prevent a 12x1x1 pencil from being put into a 10x10x1 box, because it would need to be turned diagonally to fit.)</p>
<p><span class="boldface">Lead Cuts Paper</span> provides a different constraint: here we do not let light-weight containers hold heavy objects.</p>
<p>Weight comes in a different way into <span class="boldface">Swerve left? Swerve right? Or think about it and die?</span>, which exploits up/down map connections to work out which way gravity would take a rolling marble.</p>
<p class="crossreference"><a href="RB_10.html#s2" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Liquids</b></a><i> for containers with liquid capacity</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_10.html#s4" class="standardlink">Back to §10.4. Glass and Other Damage-Prone Substances</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s6" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s6" class="standardlink">Onward to §10.6. Ropes</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e239" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e239" class="standardlink">Example 232: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Swerve left? Swerve right? Or think about it and die?</b>&#160;&#160;&#160; Building a marble chute track in which a dropped marble will automatically roll downhill.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e317" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e317" class="standardlink">Example 268: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Depth</b>&#160;&#160;&#160; Receptacles that calculate internal volume and the amount of room available, and  cannot be overfilled.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e431" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e431" class="standardlink">Example 258: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Dimensions</b>&#160;&#160;&#160; This example draws together the previous snippets into a working implementation of the weighbridge.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e355" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e355" class="standardlink">Example 270: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Speed of Thought</b>&#160;&#160;&#160; Describing scientifically-measured objects in units more familiar to the casual audience.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e365" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e365" class="standardlink">Example 259: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lead Cuts Paper</b>&#160;&#160;&#160; To give every container a breaking strain, that is, a maximum weight of contents which it can bear - so that to put the lead pig into a paper bag invites disaster.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s6"></a>§10.6. Ropes</p>
<p>Ropes, chains and similar long, thin, bendable items present three problems: they are like a liquid in that (unless unbreakable) they can be divided arbitrarily into smaller and smaller portions of themselves, they can be in two or more places at once (even in two or more rooms at once), and they can be tied down at either or both ends, allowing them to occupy an uneasy state in between being &quot;portable&quot; and &quot;fixed in place&quot;. Even when all this is simulated, they allow us to pull on one end and so to exert force at the other - allowing action-at-a-distance which Inform's realism rules would ordinarily forbid. Ropes are hard. And it is very difficult to imagine everything a player might try when given a fully practical rope with which to solve puzzles.</p>
<p><span class="boldface">Snip</span> solves the divisibility question, allowing string to be cut or retied into lengths of any size, with all the consequences for describing and understanding that this entails.</p>
<p><span class="boldface">Otranto</span> provides a lengthy but straightforward approach to the other rope-related issues, subject to the simplifying assumptions that a rope is indivisible, has about the length of the distance between two adjacent rooms, and cannot be tied to another rope.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s5" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_10.html#s5" class="standardlink">Back to §10.5. Volume, Height, Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s7" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s7" class="standardlink">Onward to §10.7. Electricity and Magnetism</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e330" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e330" class="standardlink">Example 228: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Otranto</b>&#160;&#160;&#160; A kind of rope which can be tied to objects and used to anchor the player or drag items from room to room.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e368" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e368" class="standardlink">Example 261: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Snip</b>&#160;&#160;&#160; A string which can be cut into arbitrary lengths, and then tied back together.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s7"></a>§10.7. Electricity and Magnetism</p>
<p>Electrons are so tiny, and move so fast, that we will never want to simulate them in ordinary IF. So we simply regard electricity and magnetism as behaviours which are either present or not present, and which have instantaneous effects.</p>
<p>In <span class="boldface">Witnessed 1</span>, batteries provide electricity to enable a &quot;device&quot; to work. Even if switched on, a device with no battery will be ineffective.</p>
<p>Larger voltages are exposed in <span class="boldface">Electrified</span>, which makes certain items untouchable, and ensures that an experienced electrician will not even try.</p>
<p><span class="boldface">Rules of Attraction</span> provides for a magnet which attracts metallic items just strongly enough to stick together until pulled apart for any reason.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s6" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_10.html#s6" class="standardlink">Back to §10.6. Ropes</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s8" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s8" class="standardlink">Onward to §10.8. Fire</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e235" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e235" class="standardlink">Example 346: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Rules of Attraction</b>&#160;&#160;&#160; A magnet which picks up nearby metal objects, and describes itself appropriately in room descriptions and inventory listings, but otherwise goes by its ordinary name.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e116" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e116" class="standardlink">Example 408: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Electrified</b>&#160;&#160;&#160; Adding a rule before the basic accessibility rule that will prevent the player from touching electrified objects under the wrong circumstances.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e24" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e24" class="standardlink">Example 139: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Witnessed 1</b>&#160;&#160;&#160; A kind of battery which can be put into different devices, and which will lose power after extended use.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s8"></a>§10.8. Fire</p>
<p>Fire exhibits some of the properties of a gas: it is only vaguely located and tends to spread out, though it passes by touch rather than on the air. It is hazardous to life, through direct contact, heat, and smoke. Better governed, it provides light and warmth. Worse governed, it consumes almost anything it comes into contact with. Here the problem with &quot;debris&quot; is not so much that we need potentially hundreds of new objects to represent broken items: instead, fire could sweep through a work of IF destroying so much that no play is possible any longer. Setting up a problem in which the player must defeat a fully-capable fire is difficult to balance.</p>
<p>As with liquids, it is best to simulate the least amount of fire that the design will allow. <span class="boldface">Bruneseau's Journey</span> provides a single candle which can be lit, or blown out, but where fire can never transfer from the candle's end to anything else - or vice versa: the player's source of fire, with which to light the candle, is discreetly neglected.</p>
<p>In the more realistic <span class="boldface">Thirst 2</span>, a campfire is lit using a tinderbox, so that fire does transfer from one thing (tinder) to another (the campfire): but it is always confined to just these two items, and can be used only for light and warmth.</p>
<p><span class="boldface">The Cow Exonerated</span> provides a class of matches that can light any flammable object, but assumes that burning objects requires only one turn; lighting one thing does not burn another.</p>
<p><span class="boldface">In Fire or in Flood</span> provides a complete simulation of what we might call &quot;wild-fire&quot;: combustion which spreads through arbitrary objects and rooms, destroying all in its path.</p>
<p class="crossreference"><a href="RB_6.html#s5" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Examining</b></a><i> for a way to describe objects as charred once they have been partly burnt</i></p><p class="crossreference"><a href="RB_10.html#s9" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Heat</b></a><i> for one consequence of fire having touched something</i></p><p class="crossreference"><a href="RB_10.html#s1" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Gases</b></a><i> for an implementation of smoke without fire, if this can exist</i></p><p class="crossreference"><a href="RB_10.html#s2" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Liquids</b></a><i> for water being used to extinguish a simple fire</i></p><p class="crossreference"><a href="RB_3.html#s7" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Lighting</b></a><i> for other uses of candles and torches as light sources</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s7" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_10.html#s7" class="standardlink">Back to §10.7. Electricity and Magnetism</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s9" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s9" class="standardlink">Onward to §10.9. Heat</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e428" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e428" class="standardlink">Example 118: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Thirst 2</b>&#160;&#160;&#160; A campfire added to the camp site, which can be lit using tinder.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e61" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e61" class="standardlink">Example 150: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Bruneseau's Journey</b>&#160;&#160;&#160; A candle which reacts to lighting and blowing actions differently depending on whether it has already been lit once.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e95" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e95" class="standardlink">Example 418: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Cow Exonerated</b>&#160;&#160;&#160; Creating a class of matches that burn for a time and then go out, with elegant reporting when several matches go out at once.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e47" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e47" class="standardlink">Example 401: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>In Fire or in Flood</b>&#160;&#160;&#160; A BURN command; flammable objects which light other items in their vicinity and can burn for different periods of time; the possibility of having parts or contents of a flaming item which survive being burnt.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s9"></a>§10.9. Heat</p>
<p>Since we prefer not to simulate burnt skin, and it is unsporting to kill a player outright merely for touching a hot object, heat is mostly used as a reason why something cannot be picked up at a given moment. This very basic puzzle is demonstrated in <span class="boldface">Grilling</span>.</p>
<p>With the naked eye, it is not always easy to detect what is too hot to touch - a point made in both <span class="boldface">Masochism Deli</span>, where the only solution is to keep picking up potatoes until one doesn't burn, and in <span class="boldface">Hot Glass Looks Like Cold Glass</span>, where infrared goggles turn the scales.</p>
<p>If a hot object is not to be touched, will it stay hot forever? It might well, if it is a steak on an electric grill, but not if it is a recently-baked apple pie sitting on a window-sill. <span class="boldface">Entropy</span> simulates the gradual return of temperature to equilibrium.</p>
<p class="crossreference"><a href="RB_10.html#s7" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Electricity and Magnetism</b></a><i> for items which shouldn't be touched because they are hot in a different way</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s8" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_10.html#s8" class="standardlink">Back to §10.8. Fire</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s10" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s10" class="standardlink">Onward to §10.10. Magic (Breaking the Laws of Physics)</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e179" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e179" class="standardlink">Example 84: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Grilling</b>&#160;&#160;&#160; A grill, from which the player is not allowed to take anything lest he burn himself.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e124" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e124" class="standardlink">Example 182: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Entropy</b>&#160;&#160;&#160; All objects in the game have a heat, but if not kept insulated they will tend toward room temperature (and at a somewhat exaggerated rate).</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e297" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e297" class="standardlink">Example 326: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Masochism Deli</b>&#160;&#160;&#160; Multiple potatoes, with rules to make the player drop the hot potato first and pick it up last.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e105" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e105" class="standardlink">Example 331: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hot Glass Looks Like Cold Glass</b>&#160;&#160;&#160; Responding to references to a property that the player isn't yet allowed to mention (or when not to use "understand as a mistake").</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s10"></a>§10.10. Magic (Breaking the Laws of Physics)</p>
<p>Every previous section of this chapter has been about adding further realism constraints to Inform, to give it a more advanced understanding of physics (and chemistry). But Inform has plenty of physical laws built into it already, even if they are more mundane: inanimate objects do not spontaneously move or change, one solid object cannot pass through another, there are opaque barriers through which light cannot pass, and so on. These rules stop many attempted actions. (GO EAST - &quot;The oak door is closed.&quot; GET EMERALD - &quot;You can't, since the glass display case is in the way.&quot;)</p>
<p>In the real world, physics is not negotiable. (&quot;Gravity: it's not just a good idea, it's the law.&quot;) But in stories, magic can sometimes happen, and in these examples some of the rules built into Inform are waived in special circumstances, which in effect cancel certain physical laws. Very many other magical tricks could be achieved: if you want to make a given command work despite realism constraints, try typing ACTIONS - a testing command which reveals what is happening behind the scenes - and then typing the command you want. This should reveal which named rule is stopping it: you can then try suspending that rule, and seeing if the effect now works.</p>
<p class="crossreference"><a href="RB_6.html#s13" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Magic Words</b></a><i> for ways to create new single-word spell commands</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s9" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_10.html#s9" class="standardlink">Back to §10.9. Heat</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s11" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s11" class="standardlink">Onward to §10.11. Mathematics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e209" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e209" class="standardlink">Example 215: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Magneto's Revenge</b>&#160;&#160;&#160; Kitty Pryde of the X-Men is able to reach through solid objects, so we might implement her with special powers that the player does not have...</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e200" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e200" class="standardlink">Example 225: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Interrogation</b>&#160;&#160;&#160; A wand which, when waved, reveals the concealed items carried by people the player can see.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e390" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e390" class="standardlink">Example 227: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Transmutations</b>&#160;&#160;&#160; A machine that turns objects into other, similar objects.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e227" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e227" class="standardlink">Example 398: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Access All Areas</b>&#160;&#160;&#160; The Pointy Hat of Liminal Transgression allows its wearer to walk clean through closed doors.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s11"></a>§10.11. Mathematics</p>
<p>It is uncommon, but not absolutely unheard-of, to need to do detailed mathematical calculations in interactive fiction.</p>
<p><span class="boldface">The Fibonacci Sequence</span> demonstrates the calculation of a series of numbers; <span class="boldface">Sieve of Eratosthenes</span> shows off how to calculate the prime numbers within a certain range.</p>
<p><span class="boldface">Number Study</span> demonstrates conditional relations between numbers.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s10" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_10.html#s10" class="standardlink">Back to §10.10. Magic (Breaking the Laws of Physics)</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_11.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_11.html#s1" class="standardlink">Onward to Chapter 11: Out Of World Actions and Effects: §11.1. Start-Up Features</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e270" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e270" class="standardlink">Example 240: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Number Study</b>&#160;&#160;&#160; The parity and joint magnitude relations explored.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e140" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e140" class="standardlink">Example 434: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Fibonacci Sequence</b>&#160;&#160;&#160; The modest Leonardo Fibonacci of Pisa will be only too happy to construct his sequence on request, using an array.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#e346" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_10.html#e346" class="standardlink">Example 437: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Sieve of Eratosthenes</b>&#160;&#160;&#160; The haughty Eratosthenes of Cyrene will nevertheless consent to sieve prime numbers on request.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 10: Physics: Substances, Ropes, Energy and Weight</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_10.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_11.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_11.html" class="standardlink">Chapter 11: Out Of World Actions and Effects</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "255: Lethal Concentration 1" "e166" -->
<a id="e166"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e166" class="eglink"><b>255</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e166" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lethal Concentration 1</span></b></a><br />A poisonous gas that spreads from room to room, incapacitating or killing the player when it reaches sufficient levels.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e166"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example166">
<!-- START CODE "c15019_166" -->
<a id="c15019_166"></a><blockquote class="code"><p class="quoted">
&quot;Lethal Concentration&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15020_166" -->
<a id="c15020_166"></a><blockquote class="code"><p class="quoted">
A concentration is a kind of value. 200.9ppm specifies concentration. 200.9 ppm specifies concentration.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15021_166" -->
<a id="c15021_166"></a><blockquote class="code"><p class="quoted">
A room has a concentration called current concentration. A room has a concentration called former concentration.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15022_166" -->
<a id="c15022_166"></a><blockquote class="code"><p class="quoted">
Probability inverse is a number that varies. [This is expressed as an inverse of the actual probability of diffusion from one room to another, to avoid error.] Probability inverse is 20. [That is, any given molecule of gas has a 5% chance of leaving by a given doorway at any given minute. Probability inverse should never drop below 10, the maximum number of exits from the room.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15023_166" -->
<a id="c15023_166"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;follow the diffusion rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15024_166" -->
<a id="c15024_166"></a><blockquote class="code"><p class="quoted">
The diffusion rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15025_166" -->
<a id="c15025_166"></a><blockquote class="code"><p class="quoted">
A diffusion rule (this is the gas movement rule):
<br />&#160;&#160;&#160;&#160;repeat with space running through rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let sum be 0.0 ppm;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let second space be the room way from the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if second space is a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be the former concentration of the second space minus the former concentration of the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase sum by the difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let sum be sum divided by probability inverse;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current concentration of the space is the former concentration of the space plus the sum.
</p></blockquote>
<!-- END CODE -->
<p>A technical note: it would be possible to write &quot;repeat with space running through rooms... repeat with second space running through rooms adjacent to the space&quot; instead, but in practice this loops through all the rooms * all the rooms again * all the directions (to determine adjacency). Phrasing the loop this way omits the second multiplier. For a map of 25 rooms, this means that the loop runs 25 times faster than it would otherwise, and of course for a larger map the effect would be even more dramatic.</p>
<!-- START CODE "c15026_166" -->
<a id="c15026_166"></a><blockquote class="code"><p class="quoted">
A diffusion rule (this is the resetting concentration rule):
<br />&#160;&#160;&#160;&#160;repeat with space running through rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the former concentration of the space is the current concentration of the space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15027_166" -->
<a id="c15027_166"></a><blockquote class="code"><p class="quoted">
The last diffusion rule (this is the lethal dosage rule):
<br />&#160;&#160;&#160;&#160;if the current concentration of the location is greater than LC50:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The concentration in the air overpowers you...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current concentration of the location is greater than TLV-STEL:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You feel extremely uncomfortable in this environment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15028_166" -->
<a id="c15028_166"></a><blockquote class="code"><p class="quoted">
Instead of doing something when the current concentration of the location is greater than TLV-STEL:
<br />&#160;&#160;&#160;&#160;if going, continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;You can't work in this environment: your eyes and nose sting and it hurts to breathe.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And, for testing purposes, a square grid of rooms:</p>
<!-- START CODE "c15029_166" -->
<a id="c15029_166"></a><blockquote class="code"><p class="quoted">
Room 1A is west of Room 1B. Room 1B is west of Room 1C. Room 1C is west of Room 1D. Room 1D is west of Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15030_166" -->
<a id="c15030_166"></a><blockquote class="code"><p class="quoted">
Room 2A is south of room 1A and west of Room 2B. Room 2B is west of Room 2C and south of Room 1B. Room 2C is west of Room 2D and south of Room 1C. Room 2D is west of Room 2E and south of Room 1D. Room 2E is south of Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15031_166" -->
<a id="c15031_166"></a><blockquote class="code"><p class="quoted">
Room 3A is south of room 2A and west of Room 3B. Room 3B is west of Room 3C and south of Room 2B. Room 3C is west of Room 3D and south of Room 2C. Room 3D is west of Room 3E and south of Room 2D. Room 3E is south of Room 2E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15032_166" -->
<a id="c15032_166"></a><blockquote class="code"><p class="quoted">
Room 4A is south of room 3A and west of Room 4B. Room 4B is west of Room 4C and south of Room 3B. Room 4C is west of Room 4D and south of Room 3C. Room 4D is west of Room 4E and south of Room 3D. Room 4E is south of Room 3E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15033_166" -->
<a id="c15033_166"></a><blockquote class="code"><p class="quoted">
Room 5A is south of room 4A and west of Room 5B. Room 5B is west of Room 5C and south of Room 4B. Room 5C is west of Room 5D and south of Room 4C. Room 5D is west of Room 5E and south of Room 4D. Room 5E is south of Room 4E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15034_166" -->
<a id="c15034_166"></a><blockquote class="code"><p class="quoted">
The former concentration of room 3C is 800.0 ppm.
</p></blockquote>
<!-- END CODE -->
<p>For variety of testing, here is another room set-up, this time with some corridors and walls within; uncommenting it, and commenting out the connected grid, will let us explore what would happen in alternative cases, to prove to ourselves that the model works consistently.</p>
<!-- START CODE "c15035_166" -->
<a id="c15035_166"></a><blockquote class="code"><p class="quoted">
[Room 1A is west of Room 1B. Room 1B is west of Room 1C. Room 1C is west of Room 1D. Room 1D is west of Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15036_166" -->
<a id="c15036_166"></a><blockquote class="code"><p class="quoted">
Room 2A is west of Room 2B. Room 2B is west of Room 2C. Room 2C is west of Room 2D. Room 2D is west of Room 2E. Room 2E is south of Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15037_166" -->
<a id="c15037_166"></a><blockquote class="code"><p class="quoted">
Room 3A is south of room 2A and west of Room 3B. Room 3B is west of Room 3C. Room 3C is west of Room 3D. Room 3D is west of Room 3E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15038_166" -->
<a id="c15038_166"></a><blockquote class="code"><p class="quoted">
Room 4A is west of Room 4B. Room 4B is west of Room 4C. Room 4C is west of Room 4D. Room 4D is west of Room 4E. Room 4E is south of Room 3E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15039_166" -->
<a id="c15039_166"></a><blockquote class="code"><p class="quoted">
Room 5A is south of room 4A and west of Room 5B. Room 5B is west of Room 5C and south of Room 4B. Room 5C is west of Room 5D and south of Room 4C. Room 5D is west of Room 5E and south of Room 4D. Room 5E is south of Room 4E.]
</p></blockquote>
<!-- END CODE -->
<p>For the sake at least of seeing what's going on in the example, let's also provide the player with the means to view the gas diffusion graphically:</p>
<!-- START CODE "c15040_166" -->
<a id="c15040_166"></a><blockquote class="code"><p class="quoted">
The status grid is a device carried by the player. The status grid is switched on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15041_166" -->
<a id="c15041_166"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;try examining the grid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15042_166" -->
<a id="c15042_166"></a><blockquote class="code"><p class="quoted">
Instead of examining the status grid:
<br />&#160;&#160;&#160;&#160;say &quot;[fixed letter spacing][bar][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;|[state of room 1A]|[state of room 1B]|[state of room 1C]|[state of room 1D]|[state of room 1E]|[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[bar][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;|[state of room 2A]|[state of room 2B]|[state of room 2C]|[state of room 2D]|[state of room 2E]|[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[bar][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;|[state of room 3A]|[state of room 3B]|[state of room 3C]|[state of room 3D]|[state of room 3E]|[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[bar][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;|[state of room 4A]|[state of room 4B]|[state of room 4C]|[state of room 4D]|[state of room 4E]|[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[bar][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;|[state of room 5A]|[state of room 5B]|[state of room 5C]|[state of room 5D]|[state of room 5E]|[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[bar][variable letter spacing][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15043_166" -->
<a id="c15043_166"></a><blockquote class="code"><p class="quoted">
To say bar:
<br />&#160;&#160;&#160;&#160;say &quot;----------------------------------------------&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15044_166" -->
<a id="c15044_166"></a><blockquote class="code"><p class="quoted">
TLV is a concentration that varies. TLV is 30.0ppm. [Long-term exposure maximum, safe for 8 hours a day.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15045_166" -->
<a id="c15045_166"></a><blockquote class="code"><p class="quoted">
TLV-STEL is a concentration that varies. TLV-STEL is 50.0ppm. [Short-term exposure maximum, safe for fifteen minutes max.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15046_166" -->
<a id="c15046_166"></a><blockquote class="code"><p class="quoted">
TLV-C is a concentration that varies. TLV-C is 150.0ppm. [Absolute exposure ceiling.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15047_166" -->
<a id="c15047_166"></a><blockquote class="code"><p class="quoted">
LC50 is a concentration that varies. LC50 is 300.0ppm. [Concentration at which 50 percent of test subjects die of exposure, usually expressed in terms of time and body weight; in our LC50 these are factored in for the player's weight for one minute.]
</p></blockquote>
<!-- END CODE -->
<p>The values set for these would depend on the type of poisonous gas in question; we'd want to adjust appropriately.</p>
<!-- START CODE "c15048_166" -->
<a id="c15048_166"></a><blockquote class="code"><p class="quoted">
To say state of (space - a room):
<br />&#160;&#160;&#160;&#160;if the space is the location, say bold type;
<br />&#160;&#160;&#160;&#160;if current concentration of space is less than 10.0ppm, say &quot; &quot;;
<br />&#160;&#160;&#160;&#160;if current concentration of space is less than 100.0ppm, say &quot; &quot;;
<br />&#160;&#160;&#160;&#160;say current concentration of space;
<br />&#160;&#160;&#160;&#160;say roman type.
</p></blockquote>
<!-- END CODE -->
<p>Now, in theory we might also want to account for sources and sinks, items that either inject poisonous gas into the environment or remove it again. For simplicity, we will assume that these contributions can also be calculated in ppm and that the total number of inert and poisonous gas molecules in a room never changes (so if poison gas molecules are added, an equal number of inert molecules are removed). If room pressure were able to change, our model would have to be improved, so let us assume for now that that never happens. We want this sink/source business to calculate before any other portion of the diffusion rulebook, so set it as a first diffusion rule.</p>
<!-- START CODE "c15049_166" -->
<a id="c15049_166"></a><blockquote class="code"><p class="quoted">
A gas source is a kind of thing. A gas source has a concentration called the contribution. The contribution of a gas source is usually 30.0ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15050_166" -->
<a id="c15050_166"></a><blockquote class="code"><p class="quoted">
Room 2B contains a gas source called a spigot. The contribution of the spigot is 50.0ppm. Room 5A contains a gas source.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15051_166" -->
<a id="c15051_166"></a><blockquote class="code"><p class="quoted">
A gas sink is a kind of thing. A gas sink has a concentration called the contribution. The contribution of a gas sink is usually 30.0ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15052_166" -->
<a id="c15052_166"></a><blockquote class="code"><p class="quoted">
Room 5E contains a gas sink called a fan. The contribution of the fan is 80.0ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15053_166" -->
<a id="c15053_166"></a><blockquote class="code"><p class="quoted">
The first diffusion rule (this is the sources and sinks rule):
<br />&#160;&#160;&#160;&#160;follow the sources rule;
<br />&#160;&#160;&#160;&#160;follow the sinks rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15054_166" -->
<a id="c15054_166"></a><blockquote class="code"><p class="quoted">
This is the sinks rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through gas sinks:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let space be the location of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the former concentration of the space by the contribution of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the former concentration of the space is less than 0.0ppm, now the former concentration of the space is 0.0ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15055_166" -->
<a id="c15055_166"></a><blockquote class="code"><p class="quoted">
This is the sources rule:
<br />&#160;&#160;&#160;&#160;repeat with second item running through gas sources:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let space be the location of the second item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the former concentration of the space by the contribution of the second item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the former concentration of the space is less than 0.0ppm, now the former concentration of the space is 0.0ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15056_166" -->
<a id="c15056_166"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "74: Only You..." "e352" -->
<a id="e352"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e352" class="eglink"><b>74</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e352" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Only You...</span></b></a><br />Smoke which spreads through the rooms of the map, but only every other turn.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_6.html#e352"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example352">
<p>Suppose we want to have smoke that spreads from room to room, gradually filling the entire map with a clogging smoke. Having it spread every single turn would make for a pretty rapid diffusion, so we temper this by having it spread only on even-numbered turns, instead. Conveniently, Inform by default already knows about even and odd numbers, so we can write:</p>
<!-- START CODE "c15057_352" -->
<a id="c15057_352"></a><blockquote class="code"><p class="quoted">
&quot;Only You...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15058_352" -->
<a id="c15058_352"></a><blockquote class="code"><p class="quoted">
Section 1 - The Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15059_352" -->
<a id="c15059_352"></a><blockquote class="code"><p class="quoted">
Every turn when the turn count is even:
<br />&#160;&#160;&#160;&#160;if every room is smoky, make no decision;
<br />&#160;&#160;&#160;&#160;let previously smoky be whether or not the location is smoky;
<br />&#160;&#160;&#160;&#160;repeat with area running through smoky rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every room which is adjacent to the area is smoky;
<br />&#160;&#160;&#160;&#160;if previously smoky is false and the location is smoky:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The location] is filling rapidly with smoke.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15060_352" -->
<a id="c15060_352"></a><blockquote class="code"><p class="quoted">
A room can be smoky or unsmoky.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15061_352" -->
<a id="c15061_352"></a><blockquote class="code"><p class="quoted">
Some air is a backdrop. Air is everywhere. Instead of doing something other than examining or smelling to air: say &quot;It's just air.&quot; Understand &quot;smoke&quot; as the air when the location is smoky.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15062_352" -->
<a id="c15062_352"></a><blockquote class="code"><p class="quoted">
Instead of examining the air in a smoky room: say &quot;A thick layer of smoke lies just under the ceiling.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15063_352" -->
<a id="c15063_352"></a><blockquote class="code"><p class="quoted">
Instead of smelling the air in a smoky room: say &quot;Agh, acrid.&quot; Instead of smelling a smoky room: try smelling the air.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15064_352" -->
<a id="c15064_352"></a><blockquote class="code"><p class="quoted">
After looking in a smoky room: say &quot;A thick layer of smoke has gathered under the ceiling.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15065_352" -->
<a id="c15065_352"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15066_352" -->
<a id="c15066_352"></a><blockquote class="code"><p class="quoted">
The Guide Lodge is a room. &quot;A very spacious room capable of containing several hundred girls while they eat, talk, or do crafts. It is constructed in a not-unappealing rustic style, with floor-to-ceiling windows overlooking the lake below, and a fieldstone hearth at the center.&quot; The Guide Lodge is smoky.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15067_352" -->
<a id="c15067_352"></a><blockquote class="code"><p class="quoted">
The Kitchen is north of the Guide Lodge. &quot;Multiple eight-burner ranges, ovens, and a walk-in refrigerator: you know the sort of thing.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15068_352" -->
<a id="c15068_352"></a><blockquote class="code"><p class="quoted">
The Industrial Pantry is east of the Kitchen. &quot;Awe-inspiring quantities of food line every shelf, from the three-gallon tub of mayonnaise to the 50-pound tub of rice. Perhaps the most astonishing item is a bag of marshmallows big enough to double as a futon.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15069_352" -->
<a id="c15069_352"></a><blockquote class="code"><p class="quoted">
The player is in the Pantry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15070_352" -->
<a id="c15070_352"></a><blockquote class="code"><p class="quoted">
The Hallway is west of the Guide Lodge. The description of the Hallway is &quot;A perpetually-crammed hallway which has to handle the overflow line for the toilets.&quot; A singed sign is fixed in place in the Hallway. The description of the sign is &quot;Where the edge of the sign has not been burnt, the legible words are '...Can Prevent Forest Fires'.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15071_352" -->
<a id="c15071_352"></a><blockquote class="code"><p class="quoted">
The Toilets are north of the Hallway. &quot;Always in full use, at least when the 12-to-15s are here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15072_352" -->
<a id="c15072_352"></a><blockquote class="code"><p class="quoted">
The Coat Closet is south of the Hallway. &quot;Muddy boots may not be worn inside the lodge; instead, about 250 pair are piled here, along with their owners' damp parkas and umbrellas.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15073_352" -->
<a id="c15073_352"></a><blockquote class="code"><p class="quoted">
The Craft Supply Room is west of the Hallway. &quot;A holding-depot for jugs of white glue and popsicle sticks.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15074_352" -->
<a id="c15074_352"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x smoke / z / z / z / z / x smoke / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "257: Lethal Concentration 2" "e165" -->
<a id="e165"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e165" class="eglink"><b>257</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e165" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lethal Concentration 2</span></b></a><br />Poisonous gas again, only this time it sinks.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e165"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example165">
<p>This is a slight variation on the previous gas diffusion example: the main difference is that gas preferentially moves towards lower rooms, and will gradually settle in the bottom floor. We do this by calculating the probability of movement separately for each pair of rooms.</p>
<!-- START CODE "c15075_165" -->
<a id="c15075_165"></a><blockquote class="code"><p class="quoted">
&quot;Lethal Concentration&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15076_165" -->
<a id="c15076_165"></a><blockquote class="code"><p class="quoted">
A concentration is a kind of value. 200.9ppm specifies concentration. 200.9 ppm specifies concentration.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15077_165" -->
<a id="c15077_165"></a><blockquote class="code"><p class="quoted">
A room has a concentration called current concentration. A room has a concentration called former concentration.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15078_165" -->
<a id="c15078_165"></a><blockquote class="code"><p class="quoted">
To decide what number is the probability inverse between (space - a room) and (second space - a room):
<br />&#160;&#160;&#160;&#160;let guess be 20;
<br />&#160;&#160;&#160;&#160;let way be the best route from space to second space;
<br />&#160;&#160;&#160;&#160;if way is up, let guess be 50;
<br />&#160;&#160;&#160;&#160;if way is down, let guess be 10;
<br />&#160;&#160;&#160;&#160;if the guess is less than 10, decide on 10;
<br />&#160;&#160;&#160;&#160;decide on guess.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted, we could introduce other concerns into the calculation here: open and closed doors, windows between rooms, rooms that are outdoors vs. those that are indoors, and so on. The possibilities are numerous, so we will stick with the simple principle that our poison gas sinks.</p>
<!-- START CODE "c15079_165" -->
<a id="c15079_165"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;follow the diffusion rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15080_165" -->
<a id="c15080_165"></a><blockquote class="code"><p class="quoted">
The diffusion rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15081_165" -->
<a id="c15081_165"></a><blockquote class="code"><p class="quoted">
A diffusion rule (this is the gas movement rule):
<br />&#160;&#160;&#160;&#160;repeat with space running through rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let sum be 0.0 ppm;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let second space be the room way from the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if second space is a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let incoming be the former concentration of the second space divided by the probability inverse between second space and space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let outgoing be the former concentration of the space divided by the probability inverse between space and second space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be incoming minus outgoing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase sum by the difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current concentration of the space is the former concentration of the space plus the sum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15082_165" -->
<a id="c15082_165"></a><blockquote class="code"><p class="quoted">
A diffusion rule (this is the resetting concentration rule):
<br />&#160;&#160;&#160;&#160;repeat with space running through rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the former concentration of the space is the current concentration of the space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15083_165" -->
<a id="c15083_165"></a><blockquote class="code"><p class="quoted">
The last diffusion rule (this is the lethal dosage rule):
<br />&#160;&#160;&#160;&#160;if the current concentration of the location is greater than LC50:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The concentration in the air overpowers you...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current concentration of the location is greater than TLV-STEL:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You feel extremely uncomfortable in this environment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15084_165" -->
<a id="c15084_165"></a><blockquote class="code"><p class="quoted">
Instead of doing something when the current concentration of the location is greater than TLV-STEL:
<br />&#160;&#160;&#160;&#160;if going, continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;You can't work in this environment: your eyes and nose sting and it hurts to breathe.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15085_165" -->
<a id="c15085_165"></a><blockquote class="code"><p class="quoted">
Room 1A is west of Room 1B. Room 1B is west of Room 1C. Room 1C is west of Room 1D. Room 1D is west of Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15086_165" -->
<a id="c15086_165"></a><blockquote class="code"><p class="quoted">
Room 2A is west of Room 2B and below room 1A. Room 2B is west of Room 2C and below Room 1B. Room 2C is west of Room 2D and below Room 1C. Room 2D is west of Room 2E and below Room 1D. Room 2E is south of Room 1E and below Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15087_165" -->
<a id="c15087_165"></a><blockquote class="code"><p class="quoted">
The former concentration of Room 1C is 800.0 ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15088_165" -->
<a id="c15088_165"></a><blockquote class="code"><p class="quoted">
The status grid is a device carried by the player. The status grid is switched on.
</p></blockquote>
<!-- END CODE -->
<p>And just for fun, this time we'll make the grid prettier, too; but this will work only on the Z-machine setting, not Glulx.</p>
<!-- START CODE "c15089_165" -->
<a id="c15089_165"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;try examining the grid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15090_165" -->
<a id="c15090_165"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Instead of examining the status grid:
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light down and right][top bar][unicode box drawings light down and left][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light vertical]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[state of room 1A][state of room 1B][state of room 1C][state of room 1D][state of room 1E]   upstairs[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light vertical and right][middle bar][unicode box drawings light vertical and left][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light vertical]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[state of room 2A][state of room 2B][state of room 2C][state of room 2D][state of room 2E]   downstairs[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light up and right][bottom bar][unicode box drawings light up and left][variable letter spacing][line break]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15091_165" -->
<a id="c15091_165"></a><blockquote class="code"><p class="quoted">
Include Unicode Character Names by Graham Nelson.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15092_165" -->
<a id="c15092_165"></a><blockquote class="code"><p class="quoted">
To say top bar:
<br />&#160;&#160;&#160;&#160;repeat with N running from 1 to 9:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the remainder after dividing N by 2 is 0, say &quot;[unicode box drawings light down and horizontal]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[unicode box drawings light horizontal]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15093_165" -->
<a id="c15093_165"></a><blockquote class="code"><p class="quoted">
To say middle bar:
<br />&#160;&#160;&#160;&#160;repeat with N running from 1 to 9:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the remainder after dividing N by 2 is 0, say &quot;[unicode box drawings light vertical and horizontal]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[unicode box drawings light triple dash horizontal]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15094_165" -->
<a id="c15094_165"></a><blockquote class="code"><p class="quoted">
To say bottom bar:
<br />&#160;&#160;&#160;&#160;repeat with N running from 1 to 9:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the remainder after dividing N by 2 is 0, say &quot;[unicode box drawings light up and horizontal]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[unicode box drawings light horizontal]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15095_165" -->
<a id="c15095_165"></a><blockquote class="code"><p class="quoted">
TLV is a concentration that varies. TLV is 30.0ppm. [Long-term exposure maximum, safe for 8 hours a day.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15096_165" -->
<a id="c15096_165"></a><blockquote class="code"><p class="quoted">
TLV-STEL is a concentration that varies. TLV-STEL is 50.0ppm. [Short-term exposure maximum, safe for fifteen minutes max.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15097_165" -->
<a id="c15097_165"></a><blockquote class="code"><p class="quoted">
TLV-C is a concentration that varies. TLV-C is 150.0ppm. [Absolute exposure ceiling.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15098_165" -->
<a id="c15098_165"></a><blockquote class="code"><p class="quoted">
LC50 is a concentration that varies. LC50 is 300.0ppm. [Concentration at which 50 percent of test subjects die of exposure, usually expressed in terms of time and body weight; in our LC50 these are factored in for the player's weight for one minute.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15099_165" -->
<a id="c15099_165"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15100_165" -->
<a id="c15100_165"></a><blockquote class="code"><p class="quoted">
To say state of (space - a room):
<br />&#160;&#160;&#160;&#160;if the current concentration of space is less than TLV, say blue letters;
<br />&#160;&#160;&#160;&#160;if the current concentration of space is TLV, say blue letters;
<br />&#160;&#160;&#160;&#160;if the current concentration of space is greater than TLV, say green letters;
<br />&#160;&#160;&#160;&#160;if the current concentration of space is greater than TLV-STEL, say yellow letters;
<br />&#160;&#160;&#160;&#160;if the current concentration of space is greater than TLV-C, say red letters;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode square with diagonal crosshatch fill]&quot;;
<br />&#160;&#160;&#160;&#160;say default letters;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light vertical]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15101_165" -->
<a id="c15101_165"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "117: Thirst" "e427" -->
<a id="e427"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e427" class="eglink"><b>117</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e427" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Thirst</span></b></a><br />A waterskin that is depleted as the player drinks from it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e427"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example427">
<!-- START CODE "c15102_427" -->
<a id="c15102_427"></a><blockquote class="code"><p class="quoted">
&quot;Thirst&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15103_427" -->
<a id="c15103_427"></a><blockquote class="code"><p class="quoted">
The player carries a waterskin. The waterskin can be full, partly drained, or empty. The waterskin is full. Understand &quot;water&quot; as the waterskin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15104_427" -->
<a id="c15104_427"></a><blockquote class="code"><p class="quoted">
Instead of drinking the waterskin when the waterskin is empty:
<br />&#160;&#160;&#160;&#160;say &quot;There is no water left.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15105_427" -->
<a id="c15105_427"></a><blockquote class="code"><p class="quoted">
Instead of drinking the waterskin: if the waterskin is partly drained, now the waterskin is empty; if the waterskin is full, now the waterskin is partly drained; say &quot;You drink a long draught.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15106_427" -->
<a id="c15106_427"></a><blockquote class="code"><p class="quoted">
After printing the name of the waterskin: say &quot; ([waterskin condition])&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15107_427" -->
<a id="c15107_427"></a><blockquote class="code"><p class="quoted">
Campsite is a room. &quot;It is solid night now, and the stars have come out. Unfamiliar stars. On the other side of the valley -- a valley round-bottomed but shallow, like a soup bowl -- burn other campfires, most likely bandits. Their voices do not carry, but the smoke rises and obscures the starlight over that way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15108_427" -->
<a id="c15108_427"></a><blockquote class="code"><p class="quoted">
A sleepsack is an enterable container in the Campsite. &quot;Your sleepsack is laid out in a pocket of sandy soil and coarse grass.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15109_427" -->
<a id="c15109_427"></a><blockquote class="code"><p class="quoted">
The sandy soil, the stars, the distant campfires, and the coarse grass are scenery in the Campsite. Understand &quot;smoke&quot; as the campfires. Instead of listening in the presence of your campfire: say &quot;All you hear are the reassuring snaps and cracks of the sticks in your fire.&quot; Understand &quot;campfires&quot; or &quot;fires&quot; as the distant campfires.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15110_427" -->
<a id="c15110_427"></a><blockquote class="code"><p class="quoted">
Your campfire is scenery in the Campsite. Instead of pushing, pulling, turning, tasting, or touching your campfire, say &quot;You would burn yourself.&quot; Understand &quot;fire&quot; as your campfire. The description of your campfire is &quot;A reassuring protection against wild animals and cold.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15111_427" -->
<a id="c15111_427"></a><blockquote class="code"><p class="quoted">
The description of the stars is &quot;You invent constellations for them. The slingshot. The scroll. The heart (upside down).&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15112_427" -->
<a id="c15112_427"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere when the player is in Campsite:
<br />&#160;&#160;&#160;&#160;say &quot;Now is not the time for wandering, alone in the dark. Better to keep here[if your campfire is visible], by the fire[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15113_427" -->
<a id="c15113_427"></a><blockquote class="code"><p class="quoted">
Singing is an action applying to nothing. Understand &quot;sing&quot; as singing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15114_427" -->
<a id="c15114_427"></a><blockquote class="code"><p class="quoted">
Instead of singing:
<br />&#160;&#160;&#160;&#160;say &quot;You sing, deep and low, a song from home. It is a good night for singing and the song raises your spirits.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15115_427" -->
<a id="c15115_427"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / drink water / i / drink water / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "122: Beverage Service" "e31" -->
<a id="e31"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e31" class="eglink"><b>122</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e31" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Beverage Service</span></b></a><br />A potion that the player can drink.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e31"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example31">
<p>Some kinds of game objects -- food, for instance -- can only sensibly be used once, and should then be destroyed. The EAT command already implements this, but suppose we also had a category of drinkable potions:</p>
<!-- START CODE "c15116_31" -->
<a id="c15116_31"></a><blockquote class="code"><p class="quoted">
&quot;Beverage Service&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15117_31" -->
<a id="c15117_31"></a><blockquote class="code"><p class="quoted">
A potion is a kind of thing. The sparkly blue potion is a potion carried by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15118_31" -->
<a id="c15118_31"></a><blockquote class="code"><p class="quoted">
Level 3 is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15119_31" -->
<a id="c15119_31"></a><blockquote class="code"><p class="quoted">
Instead of drinking a potion (called the drink):
<br />&#160;&#160;&#160;&#160;now the drink is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;You quaff [the drink]. It goes down beautifully.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15120_31" -->
<a id="c15120_31"></a><blockquote class="code"><p class="quoted">
Test me with &quot;drink sparkly / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "403: Flotation" "e148" -->
<a id="e148"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e148" class="eglink"><b>403</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e148" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Flotation</span></b></a><br />Objects that can sink or float in a well, depending on their own properties and the state of the surrounding environment.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_19.html#e148"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example148">
<p>Here we want a rulebook to determine whether objects float or sink, so we create an object-based rulebook for the purpose. The more specific rules here, pertaining to corks and to inflated things, will be consulted first; then, as a default, the general flotation rule.</p>
<p>We also want a switch that can turn flotation off at will. The rule about the big switch will be observed before the others because the when... clause makes it more specific than the other rules in the flotation rulebook.</p>
<p>If we wanted, we could also put these rules into a rulebook in an explicit order, overriding Inform's automatic sorting by specificity.</p>
<!-- START CODE "c15121_148" -->
<a id="c15121_148"></a><blockquote class="code"><p class="quoted">
&quot;Flotation&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15122_148" -->
<a id="c15122_148"></a><blockquote class="code"><p class="quoted">
The Pumping House is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15123_148" -->
<a id="c15123_148"></a><blockquote class="code"><p class="quoted">
A well is a fixed in place container in the Pumping House.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15124_148" -->
<a id="c15124_148"></a><blockquote class="code"><p class="quoted">
Instead of examining the well:
<br />&#160;&#160;&#160;&#160;say &quot;[if something is in the well]On the surface of the water you can see [a list of things in the well][otherwise]There is nothing on the surface of the water, nor can you see into the depths[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15125_148" -->
<a id="c15125_148"></a><blockquote class="code"><p class="quoted">
The well bottom is a container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15126_148" -->
<a id="c15126_148"></a><blockquote class="code"><p class="quoted">
The cork, the rubber ring and a lead ingot are in the Pumping House.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15127_148" -->
<a id="c15127_148"></a><blockquote class="code"><p class="quoted">
A big switch is a fixed in place device in the Pumping House. &quot;A big switch labelled 'MAKE EVERYTHING SINK' is mounted on one wall[if switched on]. It crackles with electricity[otherwise]. It is currently switched off and silent[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15128_148" -->
<a id="c15128_148"></a><blockquote class="code"><p class="quoted">
A thing can be inflated or uninflated. A thing is usually uninflated. Before printing the name of an inflated thing: say &quot;inflated &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15129_148" -->
<a id="c15129_148"></a><blockquote class="code"><p class="quoted">
The rubber ring is inflated.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15130_148" -->
<a id="c15130_148"></a><blockquote class="code"><p class="quoted">
The flotation rules are an object-based rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15131_148" -->
<a id="c15131_148"></a><blockquote class="code"><p class="quoted">
A flotation rule for the cork: rule succeeds.
<br />A flotation rule for an inflated thing: rule succeeds.
<br />A flotation rule when the big switch is switched on: rule fails.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15132_148" -->
<a id="c15132_148"></a><blockquote class="code"><p class="quoted">
After inserting something into the well:
<br />&#160;&#160;&#160;&#160;follow the flotation rules for the noun;
<br />&#160;&#160;&#160;&#160;if the rule succeeded:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] bobs on the surface.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the well bottom;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] sinks out of sight.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15133_148" -->
<a id="c15133_148"></a><blockquote class="code"><p class="quoted">
A thing can be sinking, rising, or static. A thing is usually static.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15134_148" -->
<a id="c15134_148"></a><blockquote class="code"><p class="quoted">
Definition: a thing is wet:
<br />&#160;&#160;&#160;&#160;if it is in the well, yes;
<br />&#160;&#160;&#160;&#160;if it is in the well bottom, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15135_148" -->
<a id="c15135_148"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;now every thing is static;
<br />&#160;&#160;&#160;&#160;repeat with item running through wet things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the flotation rules for the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the rule failed and the item is in the well, now the item is sinking;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the rule succeeded and the item is in the well bottom, now the item is rising;
<br />&#160;&#160;&#160;&#160;now every rising thing is in the well;
<br />&#160;&#160;&#160;&#160;now every sinking thing is in the well bottom;
<br />&#160;&#160;&#160;&#160;if something is rising, say &quot;[The list of rising things] rise[if the number of rising things is 1]s[end if] to the surface of the well.&quot;;
<br />&#160;&#160;&#160;&#160;if something is sinking, say &quot;[The list of sinking things] sink[if the number of sinking things is 1]s[end if] out of sight.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And finally a few description rules to make things look prettier:</p>
<!-- START CODE "c15136_148" -->
<a id="c15136_148"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the well when the well contains something:
<br />&#160;&#160;&#160;&#160;say &quot;The chief feature of the room is a concrete-sided well in which there float[if the number of things in the well is 1]s[end if] [a list of things in the well].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15137_148" -->
<a id="c15137_148"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the well:
<br />&#160;&#160;&#160;&#160;say &quot;The chief feature of the room is a concrete-sided well full of water.&quot;
</p></blockquote>
<!-- END CODE -->
<p>As we recall from the chapter on activities, &quot;writing a paragraph about...&quot; is an activity; activities are themselves structured as sets of object-based rulebooks. The activity &quot;writing a paragraph about&quot; uses three object-based rulebooks (before writing..., for writing..., after writing...). We could have made a flotation activity as well, but in general it is overkill to make an activity to make success/failure decisions. For that purpose an object-based rulebook is sufficient.</p>
<!-- START CODE "c15138_148" -->
<a id="c15138_148"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get all / put cork in well / put ring in well / put ingot in well / x well / get cork / get ring / switch switch on / put cork in well / put ring in well / x well / switch switch off / switch switch on&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "288: Xylan" "e446" -->
<a id="e446"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e446" class="eglink"><b>288</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e446" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Xylan</span></b></a><br />Creating a new command that does require an object to be named; and some comments about the choice of vocabulary, in general.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e446"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example446">
<p>If we wanted to define a brand new verb that did affect a specific object, we might begin like this:</p>
<!-- START CODE "c15139_446" -->
<a id="c15139_446"></a><blockquote class="code"><p class="quoted">
&quot;Xylan&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15140_446" -->
<a id="c15140_446"></a><blockquote class="code"><p class="quoted">
Understand &quot;hydrolyze [something]&quot; as hydrolyzing. Hydrolyzing is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15141_446" -->
<a id="c15141_446"></a><blockquote class="code"><p class="quoted">
Carry out hydrolyzing:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] cannot be hydrolyzed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15142_446" -->
<a id="c15142_446"></a><blockquote class="code"><p class="quoted">
Instead of hydrolyzing the xylan:
<br />&#160;&#160;&#160;&#160;move the xylose to the holder of the xylan;
<br />&#160;&#160;&#160;&#160;now the xylan is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;At once the xylan becomes xylose.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15143_446" -->
<a id="c15143_446"></a><blockquote class="code"><p class="quoted">
Plant Cell Wall is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15144_446" -->
<a id="c15144_446"></a><blockquote class="code"><p class="quoted">
There is a xylose sample. The xylan sample is a thing in Plant Cell Wall. The description of the xylan is &quot;A polysaccharide. Totally useless. If only you had some xylose, instead!&quot; The description of the xylose is &quot;Awesome!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15145_446" -->
<a id="c15145_446"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x xylan / hydrolyze xylan / x xylose&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Of course, how our players will ever solve this problem is another question (especially if their biology and chemistry are both rusty). When adding entirely new commands to a game, it is often a good idea to provide as many ways of phrasing the command as possible; to drop hints about the correct phrasing within the game's text; or even to tell the player about the expanded command list in some documentation or help at the beginning of the game. So for instance we might also add</p>
<!-- START CODE "c15146_446" -->
<a id="c15146_446"></a><blockquote class="code"><p class="quoted">
Understand &quot;break down [something] with water&quot; or &quot;break [something] down with water&quot; as hydrolyzing.
</p></blockquote>
<!-- END CODE -->
<p>And these lines will also provide syntax for our new command, without interfering with the previous syntax. It's also good to anticipate alternative (British or American) spellings. People's typing habits are hard to overcome, even if they know you are spelling the word the other way. It is probably best not to annoy them unduly. So:</p>
<!-- START CODE "c15147_446" -->
<a id="c15147_446"></a><blockquote class="code"><p class="quoted">
Understand &quot;hydrolyse [something]&quot; as hydrolyzing.
</p></blockquote>
<!-- END CODE -->
<p>Then some text in-game might offer a clue, subtle or (since this is an example) blunt:</p>
<!-- START CODE "c15148_446" -->
<a id="c15148_446"></a><blockquote class="code"><p class="quoted">
Instead of examining the player, say &quot;You're a drop of water, which means that you can break down certain chemicals!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15149_446" -->
<a id="c15149_446"></a><blockquote class="code"><p class="quoted">
Understand &quot;break down [something]&quot; or &quot;break [something] down&quot; as hydrolyzing.
</p></blockquote>
<!-- END CODE -->
<p>And finally, we could try adding instructions explicitly:</p>
<!-- START CODE "c15150_446" -->
<a id="c15150_446"></a><blockquote class="code"><p class="quoted">
Understand &quot;help&quot; or &quot;hint&quot; or &quot;hints&quot; or &quot;instructions&quot; or &quot;info&quot; or &quot;about&quot; as asking for help. Asking for help is an action out of world. Carry out asking for help: say &quot;The following commands are understood, in addition to the standard ones: EVAPORATE, FREEZE, HYDROLYZE, SUBLIME...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15151_446" -->
<a id="c15151_446"></a><blockquote class="code"><p class="quoted">
Test more with &quot;help / x me / break down xylan&quot;
</p></blockquote>
<!-- END CODE -->
<p>...though of course in fact these other commands won't be available until we define them, too.</p>
<p>This last approach, defining all the extra commands up front, is especially useful if these commands are very technical or unusual; if they are needed early in the game, before you've a chance to educate the player; or if they are not suggested by any in-game objects. A player who encounters a tool with an obvious use, such as a hairbrush, will likely think of trying to BRUSH things with it. It's harder to rely on his guessing actions that are both outside the range of usual commands and unrelated to any of the visible props, however.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "192: Frizz" "e173" -->
<a id="e173"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e173" class="eglink"><b>192</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e173" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Frizz</span></b></a><br />Liquid flows within containers and soaks objects that are not waterproof; any contact with a wet object can dampen our gloves.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e173"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example173">
<p>Suppose we have some items that get wet in contact with other damp things; in particular, if we touch anything wet while wearing a pair of gloves, the gloves too get damp. This requires that we be systematic about detecting all cases where contact occurs. So:</p>
<!-- START CODE "c15152_173" -->
<a id="c15152_173"></a><blockquote class="code"><p class="quoted">
&quot;Frizz&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15153_173" -->
<a id="c15153_173"></a><blockquote class="code"><p class="quoted">
A thing can be waterproof or porous. A container is usually waterproof. An animal is usually waterproof.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15154_173" -->
<a id="c15154_173"></a><blockquote class="code"><p class="quoted">
A thing can be sodden or dry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15155_173" -->
<a id="c15155_173"></a><blockquote class="code"><p class="quoted">
A container can be waterfilled or empty.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15156_173" -->
<a id="c15156_173"></a><blockquote class="code"><p class="quoted">
Before printing the name of a sodden thing: say &quot;sodden &quot;. Understand the sodden property as describing a thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15157_173" -->
<a id="c15157_173"></a><blockquote class="code"><p class="quoted">
The player wears a pair of woolly gloves. Instead of wearing a sodden thing: say &quot;You dubiously contemplate [the noun], and decide it's best to wear dry clothing.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15158_173" -->
<a id="c15158_173"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;follow the liquid distribution rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15159_173" -->
<a id="c15159_173"></a><blockquote class="code"><p class="quoted">
The liquid distribution rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15160_173" -->
<a id="c15160_173"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through containers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is open and the item is empty and the item is in a waterfilled container:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is waterfilled;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the item, say &quot;[The item] fills up with water, of course.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15161_173" -->
<a id="c15161_173"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through things in a waterfilled container:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is porous and the item is dry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the item, say &quot;[The item] soaks through.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is sodden.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15162_173" -->
<a id="c15162_173"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through sodden things in the airing cupboard:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is not The Last Man, now the item is dry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15163_173" -->
<a id="c15163_173"></a><blockquote class="code"><p class="quoted">
The last liquid distribution rule:
<br />&#160;&#160;&#160;&#160;if the player carries a dry copy of The Last Man, end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15164_173" -->
<a id="c15164_173"></a><blockquote class="code"><p class="quoted">
Instead of examining a waterfilled container:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is full of water[if the noun contains something visible]; it also contains [the list of things in the noun][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15165_173" -->
<a id="c15165_173"></a><blockquote class="code"><p class="quoted">
Instead of examining a container:
<br />&#160;&#160;&#160;&#160;say &quot;Dry inside[if the noun contains something visible], and containing [a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15166_173" -->
<a id="c15166_173"></a><blockquote class="code"><p class="quoted">
A book is a kind of thing. Instead of examining a sodden book, say &quot;[The noun] is too soaked to read, thanks to someone's carelessness.&quot; Understand &quot;book&quot; as a book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15167_173" -->
<a id="c15167_173"></a><blockquote class="code"><p class="quoted">
The copy of The Last Man is a book. The description of The Last Man is &quot;Mary Shelley's very own original copy, loaned to you under the strictest of agreements[if the pond encloses the copy]. How it came to be in its present position is a long story, and not important at the moment: the critical thing is not to blame oneself - who could have anticipated the cricket bat, anyway? - but to fix it immediately, before anything worse occurs[end if].&quot; The The Last Man is in the ziploc bag. The ziploc bag is waterproof and empty. It is openable, transparent, and closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15168_173" -->
<a id="c15168_173"></a><blockquote class="code"><p class="quoted">
The Back Garden is a room. The Back Garden contains a pond. The pond is a waterfilled container. In the pond is the ziploc bag. A carp is in the pond. The carp is an animal. Instead of taking the carp, say &quot;You're not fast enough.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15169_173" -->
<a id="c15169_173"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the pond:
<br />&#160;&#160;&#160;&#160;if the pond encloses the Last Man:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It is a beautiful day just at the end of spring and beginning of summer. The sun shines, the trees blossom, the world conspires in Edenic cheerfulness. You can take in none of it. Your eye is on [the Last Man].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The pond[if something is in the pond] (containing [the list of things in the pond])[end if] remains a figure of menace in an otherwise lushly verdant landscape.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15170_173" -->
<a id="c15170_173"></a><blockquote class="code"><p class="quoted">
Before printing the name of the Last Man when the Last Man is enclosed by the Pond: if the Last Man is dry, say &quot;delicate, valuable &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15171_173" -->
<a id="c15171_173"></a><blockquote class="code"><p class="quoted">
After printing the name of something (called the target) while writing a paragraph about something:
<br />&#160;&#160;&#160;&#160;if the Last Man is enclosed by the Pond:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the target is in something (called the parent), say &quot; - which is in [the parent]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15172_173" -->
<a id="c15172_173"></a><blockquote class="code"><p class="quoted">
The Kitchen is west of the Back Garden. &quot;Not in any sense your province: Mrs Peaswell gets agitated if anyone besides herself so much as boils a kettle. In general it is best to sneak through, disturbing as little as possible and preserving the cosy domestic fiction that academics cannot cook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15173_173" -->
<a id="c15173_173"></a><blockquote class="code"><p class="quoted">
The nearby stairwell leads up to the second floor.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15174_173" -->
<a id="c15174_173"></a><blockquote class="code"><p class="quoted">
The Stairwell is above the Kitchen. &quot;Halfway up and halfway down.&quot; The airing cupboard is a container in the Stairwell. &quot;An airing cupboard here contains the heating system, and is the ideal place for restoring wet items to a dry state.&quot; The airing cupboard is fixed in place.
</p></blockquote>
<!-- END CODE -->
<p>Now: whenever the player definitely touches something, we want to follow certain rules about the transfer of liquid. These rules need to come after an action's check rules (to make sure the action really occurs) and before the carry out rules (so that nothing has moved or changed yet). So we'll borrow from the chapter on rulebooks to create a whole new stage to the action, occurring between the check and the carry out phases:</p>
<!-- START CODE "c15175_173" -->
<a id="c15175_173"></a><blockquote class="code"><p class="quoted">
The post-check rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15176_173" -->
<a id="c15176_173"></a><blockquote class="code"><p class="quoted">
This is the post-check stage rule:
<br />&#160;&#160;&#160;&#160;abide by the post-check rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15177_173" -->
<a id="c15177_173"></a><blockquote class="code"><p class="quoted">
The post-check stage rule is listed before the carry out stage rule in the specific action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15178_173" -->
<a id="c15178_173"></a><blockquote class="code"><p class="quoted">
A post-check rule (this is the dry glove rule):
<br />&#160;&#160;&#160;&#160;if we get wet:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player wears the gloves and the gloves are dry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the gloves are sodden;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(soaking your gloves in the process)&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15179_173" -->
<a id="c15179_173"></a><blockquote class="code"><p class="quoted">
A post-check rule (this is the wet glove rule):
<br />&#160;&#160;&#160;&#160;if the player wears the sodden gloves:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the The Last Man must be touched and the Last Man is not sodden:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(soaking the parched pages of The Last Man with the rude touch of your sodden gloves)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the The Last Man is sodden;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15180_173" -->
<a id="c15180_173"></a><blockquote class="code"><p class="quoted">
Before doing something when the player does not wear the gloves:
<br />&#160;&#160;&#160;&#160;if The Last Man must be touched:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if The Last Man is dry, say &quot;[The The Last Man] is too precious to endanger when you are not wearing gloves.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;You hesitate instinctively, then recollect that you can hardly harm [The The Last Man] any more than it has already been harmed...&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15181_173" -->
<a id="c15181_173"></a><blockquote class="code"><p class="quoted">
To decide whether we get wet:
<br />&#160;&#160;&#160;&#160;if the noun is not a thing, no;
<br />&#160;&#160;&#160;&#160;if the noun dampens us, yes;
<br />&#160;&#160;&#160;&#160;if the second noun is not a thing, no;
<br />&#160;&#160;&#160;&#160;if the second noun dampens us, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15182_173" -->
<a id="c15182_173"></a><blockquote class="code"><p class="quoted">
To decide whether (item - a thing) dampens us:
<br />&#160;&#160;&#160;&#160;if the item is not liquiferous, no;
<br />&#160;&#160;&#160;&#160;if item must be touched, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15183_173" -->
<a id="c15183_173"></a><blockquote class="code"><p class="quoted">
To decide whether (item - a thing) must be touched:
<br />&#160;&#160;&#160;&#160;if the item is the noun and the action requires a touchable noun, yes;
<br />&#160;&#160;&#160;&#160;if the item is the second noun and the action requires a touchable second noun, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15184_173" -->
<a id="c15184_173"></a><blockquote class="code"><p class="quoted">
Definition: a thing is liquiferous:
<br />&#160;&#160;&#160;&#160;if it is sodden, yes;
<br />&#160;&#160;&#160;&#160;if it is in a waterfilled container, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15185_173" -->
<a id="c15185_173"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x book / x bag / get bag / take off gloves / w / u / put gloves in cupboard / z / open bag / touch book / push book / turn book / get gloves / wear gloves / get book&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15186_173" -->
<a id="c15186_173"></a><blockquote class="code"><p class="quoted">
Test disaster with &quot;open bag&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15187_173" -->
<a id="c15187_173"></a><blockquote class="code"><p class="quoted">
Test mishandling with &quot;get bag / open bag / get book&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "193: 3 AM" "e429" -->
<a id="e429"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e429" class="eglink"><b>193</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e429" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">3 AM</span></b></a><br />A shake command which agitates soda and makes items thump around in boxes.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e429"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example429">
<!-- START CODE "c15188_429" -->
<a id="c15188_429"></a><blockquote class="code"><p class="quoted">
&quot;3 AM&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15189_429" -->
<a id="c15189_429"></a><blockquote class="code"><p class="quoted">
Understand &quot;shake [something preferably held]&quot; as shaking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15190_429" -->
<a id="c15190_429"></a><blockquote class="code"><p class="quoted">
Shaking is an action applying to one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15191_429" -->
<a id="c15191_429"></a><blockquote class="code"><p class="quoted">
Carry out shaking:
<br />&#160;&#160;&#160;&#160;say &quot;Nothing results of your shaking [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15192_429" -->
<a id="c15192_429"></a><blockquote class="code"><p class="quoted">
Instead of shaking a closed container when something is in the noun:
<br />&#160;&#160;&#160;&#160;say &quot;Something rattles inside [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15193_429" -->
<a id="c15193_429"></a><blockquote class="code"><p class="quoted">
Instead of shaking a closed transparent container when something is in the noun:
<br />&#160;&#160;&#160;&#160;say &quot;Inside [the noun] there are banging noises produced by [the list of things contained by the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15194_429" -->
<a id="c15194_429"></a><blockquote class="code"><p class="quoted">
Instead of shaking an open container which contains something:
<br />&#160;&#160;&#160;&#160;say &quot;[The list of things contained by the noun] might fly out.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15195_429" -->
<a id="c15195_429"></a><blockquote class="code"><p class="quoted">
The Wawa is a room. &quot;A convenience store, if you like to call it that, vending the usual assortment of chips, donuts, soda, and beer. There is something of a line at the sandwich counter.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15196_429" -->
<a id="c15196_429"></a><blockquote class="code"><p class="quoted">
The box of enrobed cakes is in the Wawa. &quot;A box of Tastykake Enrobed Cakes has fallen off its shelf.&quot; The description is &quot;'Enrobed Cakes' is a fancy term for 'strange sponge-like baked good, covered in a thin shell of waxy chocolate'. They are addictive, but not in a way that lets you respect yourself in the morning.&quot; The box is a closed openable container. In the box is a cake.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15197_429" -->
<a id="c15197_429"></a><blockquote class="code"><p class="quoted">
Instead of opening the box, say &quot;The Wawa clerks frown on the consumption of unpurchased foodstuffs.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15198_429" -->
<a id="c15198_429"></a><blockquote class="code"><p class="quoted">
The can of root beer is a closed openable container carried by the player. The can of root beer is either agitated or calm.
</p></blockquote>
<!-- END CODE -->
<p>Because the can of root beer should have some reactions to having been shaken later in the game, we need to borrow a few ideas from the chapter on Time:</p>
<!-- START CODE "c15199_429" -->
<a id="c15199_429"></a><blockquote class="code"><p class="quoted">
Instead of shaking the can of root beer:
<br />&#160;&#160;&#160;&#160;the can calms down in five turns from now;
<br />&#160;&#160;&#160;&#160;say &quot;You give the can a good hard shake.&quot;;
<br />&#160;&#160;&#160;&#160;now the can is agitated.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15200_429" -->
<a id="c15200_429"></a><blockquote class="code"><p class="quoted">
Instead of listening to the can: say &quot;It sounds [if agitated]fizzy[otherwise]calm[end if]!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15201_429" -->
<a id="c15201_429"></a><blockquote class="code"><p class="quoted">
At the time when the can calms down:
<br />&#160;&#160;&#160;&#160;now the can is calm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15202_429" -->
<a id="c15202_429"></a><blockquote class="code"><p class="quoted">
The sticky mess is fixed in place. &quot;There is a sticky mess on the ground.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15203_429" -->
<a id="c15203_429"></a><blockquote class="code"><p class="quoted">
Instead of opening the agitated can of root beer:
<br />&#160;&#160;&#160;&#160;now the can of root beer is nowhere;
<br />&#160;&#160;&#160;&#160;now the sticky mess is in the location;
<br />&#160;&#160;&#160;&#160;say &quot;You open the can and fizzing sweet soda goes absolutely everywhere.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15204_429" -->
<a id="c15204_429"></a><blockquote class="code"><p class="quoted">
Instead of opening the calm can of root beer when the can has been agitated:
<br />&#160;&#160;&#160;&#160;now the can of root beer is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;The root beer is disappointingly flat. That's what you get for shaking it up!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15205_429" -->
<a id="c15205_429"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get box / shake box / open box / shake box / listen to can / shake can / listen to can / wait / wait / wait / wait / wait / listen to can / open can&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "266: Lemonade" "e223" -->
<a id="e223"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e223" class="eglink"><b>266</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e223" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lemonade</span></b></a><br />Containers for liquid which keep track of how much liquid they are holding and of what kind, and allow quantities to be moved from one container to another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e223"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example223">
<p>Liquids, and all substances that can be mixed or broken off in partial amounts, pose a challenge to model in interactive fiction. The following example is a simple one, but adequate for many scenarios.</p>
<p>We start by assuming that all liquids in the game will always appear in containers. The player can pour liquids from one container to another, and the containers keep track of how full they are and describe themselves appropriately. The player can also refer to containers by content.</p>
<p>Mixture, however, is not allowed, nor is it possible to put liquids on other objects, pour them out on the ground, etc. These ideas would require a more complicated set-up.</p>
<!-- START CODE "c15206_223" -->
<a id="c15206_223"></a><blockquote class="code"><p class="quoted">
&quot;Lemonade&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15207_223" -->
<a id="c15207_223"></a><blockquote class="code"><p class="quoted">
A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15208_223" -->
<a id="c15208_223"></a><blockquote class="code"><p class="quoted">
A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called current volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15209_223" -->
<a id="c15209_223"></a><blockquote class="code"><p class="quoted">
The fluid capacity of a fluid container is usually 12.0 fl oz. The current volume of a fluid container is usually 0.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15210_223" -->
<a id="c15210_223"></a><blockquote class="code"><p class="quoted">
Liquid is a kind of value. The liquids are water, milk, lemonade, and iced tea. A fluid container has a liquid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15211_223" -->
<a id="c15211_223"></a><blockquote class="code"><p class="quoted">
Instead of examining a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You catch just a hint of [the liquid of the noun] at the bottom.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] contains [current volume of the noun in rough terms] of [liquid of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15212_223" -->
<a id="c15212_223"></a><blockquote class="code"><p class="quoted">
To say (amount - a volume) in rough terms:
<br />&#160;&#160;&#160;&#160;if the amount is less than 0.5 fl oz:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a swallow or two&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let estimate be ounces part of amount;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[estimate in words] or [estimate plus 1 in words] fluid ounces&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;about [ounces part of amount in words] fluid ounce[s]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15213_223" -->
<a id="c15213_223"></a><blockquote class="code"><p class="quoted">
Before printing the name of a fluid container (called the target) while not drinking:
<br />&#160;&#160;&#160;&#160;if the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;empty &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15214_223" -->
<a id="c15214_223"></a><blockquote class="code"><p class="quoted">
After printing the name of a fluid container (called the target) while not examining:
<br />&#160;&#160;&#160;&#160;unless the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; of [liquid of the target]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15215_223" -->
<a id="c15215_223"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] has too narrow a mouth to accept anything but liquids.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15216_223" -->
<a id="c15216_223"></a><blockquote class="code"><p class="quoted">
Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15217_223" -->
<a id="c15217_223"></a><blockquote class="code"><p class="quoted">
Understand &quot;drink from [fluid container]&quot; as drinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15218_223" -->
<a id="c15218_223"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is no more [liquid of the noun] within.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the current volume of the noun by 0.2 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current volume of the noun is less than 0.0 fl oz, now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You take a sip of [the liquid of the noun][if the noun is empty], leaving [the noun] empty[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We have allowed all liquids to be drunk, but it would be possible also to add checking, if we had a game where some liquids were beverages and others were, say, motor oil.</p>
<!-- START CODE "c15219_223" -->
<a id="c15219_223"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;fill&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15220_223" -->
<a id="c15220_223"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [fluid container] in/into/on/onto [fluid container]&quot; as pouring it into. Understand &quot;empty [fluid container] into [fluid container]&quot; as pouring it into. Understand &quot;fill [fluid container] with/from [fluid container]&quot; as pouring it into (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15221_223" -->
<a id="c15221_223"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [something] in/into/on/onto [something]&quot; as pouring it into. Understand &quot;empty [something] into [something]&quot; as pouring it into. Understand &quot;fill [something] with/from [something]&quot; as pouring it into (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15222_223" -->
<a id="c15222_223"></a><blockquote class="code"><p class="quoted">
Pouring it into is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15223_223" -->
<a id="c15223_223"></a><blockquote class="code"><p class="quoted">
Check pouring it into:
<br />&#160;&#160;&#160;&#160;if the noun is not a fluid container, say &quot;You can't pour [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a fluid container, say &quot;You can't pour liquids into [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the second noun, say &quot;You can hardly pour [the noun] into itself.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the liquid of the noun is not the liquid of the second noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second noun is empty, now the liquid of the second noun is the liquid of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;Mixing [the liquid of the noun] with [the liquid of the second noun] would give unsavory results.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;No more [liquid of the noun] remains in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is full, say &quot;[The second noun] cannot contain any more than it already holds.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15224_223" -->
<a id="c15224_223"></a><blockquote class="code"><p class="quoted">
Carry out pouring it into:
<br />&#160;&#160;&#160;&#160;let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;
<br />&#160;&#160;&#160;&#160;if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;
<br />&#160;&#160;&#160;&#160;increase the current volume of the second noun by available capacity;
<br />&#160;&#160;&#160;&#160;decrease the current volume of the noun by available capacity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15225_223" -->
<a id="c15225_223"></a><blockquote class="code"><p class="quoted">
Report pouring it into:
<br />&#160;&#160;&#160;&#160;say &quot;[if the noun is empty][The noun] is now empty;[otherwise][The noun] now contains [current volume of the noun in rough terms] of [liquid of the noun]; [end if]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[the second noun] contains [current volume of the second noun in rough terms] of [liquid of the second noun][if the second noun is full], and is now full[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is probably a drier description than we would actually want in our story, but it does allow us to see that the mechanics of the system are working, so we'll stick with this for the example.</p>
<p>Now we need a trick from a later chapter, which allows something to be described in terms of a property it has. This way, the story will understand not only &quot;pitcher&quot; and &quot;glass&quot; but also &quot;pitcher of lemonade&quot; and &quot;glass of milk&quot; -- and, indeed, &quot;glass of lemonade&quot;, if we empty the glass and refill it with another substance:</p>
<!-- START CODE "c15226_223" -->
<a id="c15226_223"></a><blockquote class="code"><p class="quoted">
Understand the liquid property as describing a fluid container. Understand &quot;of&quot; as a fluid container.
</p></blockquote>
<!-- END CODE -->
<p>And now the scenario itself:</p>
<!-- START CODE "c15227_223" -->
<a id="c15227_223"></a><blockquote class="code"><p class="quoted">
The Porch is a room. The porch swing is an enterable supporter in the Porch. &quot;An inviting swing hangs here at the end of the porch, allowing you to enjoy the summer with a cool beverage, and watch your neighbor Ted mowing his lawn with the very last manual powerless lawnmower on the block.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15228_223" -->
<a id="c15228_223"></a><blockquote class="code"><p class="quoted">
The glass is a fluid container carried by the player. The liquid of the glass is milk. The current volume of the glass is 0.8 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15229_223" -->
<a id="c15229_223"></a><blockquote class="code"><p class="quoted">
The pitcher is a fluid container in the Porch. The fluid capacity of the pitcher is 32.0 fl oz. The current volume of the pitcher is 20.0 fl oz. The liquid of the pitcher is lemonade.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15230_223" -->
<a id="c15230_223"></a><blockquote class="code"><p class="quoted">
Ted's Lawn is outside from the Porch. Ted is a man in Ted's Lawn. &quot;Ted has taken off his shirt, but still seems a bit oppressed by the sun.&quot; The description of Ted is &quot;He looks hot. In all senses.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15231_223" -->
<a id="c15231_223"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player: place Ted in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15232_223" -->
<a id="c15232_223"></a><blockquote class="code"><p class="quoted">
Instead of doing something to Ted when the player is in the Porch: say &quot;You can't really interact with Ted from this distance, except in the sense of eyeing him surreptitiously.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15233_223" -->
<a id="c15233_223"></a><blockquote class="code"><p class="quoted">
Instead of giving an empty fluid container to Ted: say &quot;Yes, taunt the poor man, why don't you?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15234_223" -->
<a id="c15234_223"></a><blockquote class="code"><p class="quoted">
Instead of giving a fluid container to Ted when the liquid of the noun is milk: say &quot;Ted looks ruefully at the milk. 'Thanks, but I'm lactose-intolerant,' he says.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15235_223" -->
<a id="c15235_223"></a><blockquote class="code"><p class="quoted">
The block giving rule is not listed in the check giving it to rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15236_223" -->
<a id="c15236_223"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if Ted is in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if Ted carries a fluid container (called refreshment):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try Ted drinking the refreshment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise if a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Ted pushes the ineffective mower over some dandelions.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15237_223" -->
<a id="c15237_223"></a><blockquote class="code"><p class="quoted">
Instead of someone drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try the person asked giving the noun to the player;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the current volume of the noun by 2.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current volume of the noun is less than 0.0 fl oz, now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The person asked] gulps down some [liquid of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15238_223" -->
<a id="c15238_223"></a><blockquote class="code"><p class="quoted">
After someone giving something to the player:
<br />&#160;&#160;&#160;&#160;say &quot;'Here,' says [the person asked], handing [the noun] back to you. 'Thanks, I owe you one.'&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15239_223" -->
<a id="c15239_223"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x milk / x lemonade / drink lemonade / drink milk / pour lemonade into glass / drink milk / x milk / drink milk / g / i / fill glass with lemonade / drink lemonade / drop glass / drink lemonade / pitcher&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15240_223" -->
<a id="c15240_223"></a><blockquote class="code"><p class="quoted">
Test Ted with &quot;out / give milk to ted / drink milk / g / g / g / give glass to ted / in / fill glass with lemonade / out / give lemonade to ted / wait / z / z / z &quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "267: Savannah" "e339" -->
<a id="e339"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e339" class="eglink"><b>267</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e339" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Savannah</span></b></a><br />Using the liquid implementation demonstrated in Lemonade for putting out fires.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e339"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example339">
<p>Here we build very slightly on the existing liquid implementation to add a puzzle where the player puts out a fire with a bucket of water. Most of the liquid implementation remains the same as before, but now we understand the names of containers according to the liquids they contain.</p>
<p>The new material, pertaining to extinguishing fires, is at the bottom in section 2.</p>
<!-- START CODE "c15241_339" -->
<a id="c15241_339"></a><blockquote class="code"><p class="quoted">
&quot;Savannah&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15242_339" -->
<a id="c15242_339"></a><blockquote class="code"><p class="quoted">
Section 1 - Essentials of Liquid
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15243_339" -->
<a id="c15243_339"></a><blockquote class="code"><p class="quoted">
A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15244_339" -->
<a id="c15244_339"></a><blockquote class="code"><p class="quoted">
A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called current volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15245_339" -->
<a id="c15245_339"></a><blockquote class="code"><p class="quoted">
The fluid capacity of a fluid container is usually 12.0 fl oz. The current volume of a fluid container is usually 0.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15246_339" -->
<a id="c15246_339"></a><blockquote class="code"><p class="quoted">
Liquid is a kind of value. A fluid container has a liquid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15247_339" -->
<a id="c15247_339"></a><blockquote class="code"><p class="quoted">
Instead of examining a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You catch just a hint of [the liquid of the noun] at the bottom.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] contains [current volume of the noun in rough terms] of [liquid of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15248_339" -->
<a id="c15248_339"></a><blockquote class="code"><p class="quoted">
To say (amount - a volume) in rough terms:
<br />&#160;&#160;&#160;&#160;if the amount is less than 0.5 fl oz:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a swallow or two&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let estimate be ounces part of amount;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[estimate in words] or [estimate plus 1 in words] fluid ounces&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;about [ounces part of amount in words] fluid ounce[s]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15249_339" -->
<a id="c15249_339"></a><blockquote class="code"><p class="quoted">
Before printing the name of a fluid container (called the target) while not drinking:
<br />&#160;&#160;&#160;&#160;if the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;empty &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15250_339" -->
<a id="c15250_339"></a><blockquote class="code"><p class="quoted">
After printing the name of a fluid container (called the target) while not examining:
<br />&#160;&#160;&#160;&#160;unless the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; of [liquid of the target]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15251_339" -->
<a id="c15251_339"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] has too narrow a mouth to accept anything but liquids.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15252_339" -->
<a id="c15252_339"></a><blockquote class="code"><p class="quoted">
Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15253_339" -->
<a id="c15253_339"></a><blockquote class="code"><p class="quoted">
Understand &quot;drink from [fluid container]&quot; as drinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15254_339" -->
<a id="c15254_339"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is no more [liquid of the noun] within.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the current volume of the noun by 0.2 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current volume of the noun is less than 0.0 fl oz, now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You take a sip of [the liquid of the noun][if the noun is empty], leaving [the noun] empty[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15255_339" -->
<a id="c15255_339"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;fill&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15256_339" -->
<a id="c15256_339"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [fluid container] in/into/on/onto [fluid container]&quot; as pouring it into. Understand &quot;empty [fluid container] into [fluid container]&quot; as pouring it into. Understand &quot;fill [fluid container] with/from [fluid container]&quot; as pouring it into (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15257_339" -->
<a id="c15257_339"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [something] in/into/on/onto [something]&quot; as pouring it into. Understand &quot;empty [something] into [something]&quot; as pouring it into. Understand &quot;fill [something] with/from [something]&quot; as pouring it into (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15258_339" -->
<a id="c15258_339"></a><blockquote class="code"><p class="quoted">
Pouring it into is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15259_339" -->
<a id="c15259_339"></a><blockquote class="code"><p class="quoted">
Check pouring it into:
<br />&#160;&#160;&#160;&#160;if the noun is not a fluid container, say &quot;You can't pour [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a fluid container, say &quot;You can't pour liquids into [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the second noun, say &quot;You can hardly pour [the noun] into itself.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the liquid of the noun is not the liquid of the second noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second noun is empty, now the liquid of the second noun is the liquid of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;Mixing [the liquid of the noun] with [the liquid of the second noun] would give unsavory results.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;No more [liquid of the noun] remains in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is full, say &quot;[The second noun] cannot contain any more than it already holds.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15260_339" -->
<a id="c15260_339"></a><blockquote class="code"><p class="quoted">
Carry out pouring it into:
<br />&#160;&#160;&#160;&#160;let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;
<br />&#160;&#160;&#160;&#160;if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;
<br />&#160;&#160;&#160;&#160;increase the current volume of the second noun by available capacity;
<br />&#160;&#160;&#160;&#160;decrease the current volume of the noun by available capacity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15261_339" -->
<a id="c15261_339"></a><blockquote class="code"><p class="quoted">
Report pouring it into:
<br />&#160;&#160;&#160;&#160;say &quot;[if the noun is empty][The noun] is now empty;[otherwise][The noun] now contains [current volume of the noun in rough terms] of [liquid of the noun]; [end if]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[the second noun] contains [current volume of the second noun in rough terms] of [liquid of the second noun][if the second noun is full], and is now full[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15262_339" -->
<a id="c15262_339"></a><blockquote class="code"><p class="quoted">
Understand the liquid property as describing a fluid container. Understand &quot;of&quot; as a fluid container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15263_339" -->
<a id="c15263_339"></a><blockquote class="code"><p class="quoted">
Section 2 - Putting Out Fires
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15264_339" -->
<a id="c15264_339"></a><blockquote class="code"><p class="quoted">
The Beach is a room. &quot;The Atlantic stretches east to the horizon, though it is at low tide at the moment. It is dawn: time to pack up and go home.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We will skip implementing the Pacific ocean itself, though the example Lakeside Living shows how to incorporate large bodies of water into our liquid simulation.</p>
<!-- START CODE "c15265_339" -->
<a id="c15265_339"></a><blockquote class="code"><p class="quoted">
The liquids are seawater. [We could include others, but for the moment...]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15266_339" -->
<a id="c15266_339"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container when the liquid of the noun is seawater:
<br />&#160;&#160;&#160;&#160;say &quot;Blech!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15267_339" -->
<a id="c15267_339"></a><blockquote class="code"><p class="quoted">
The bucket is a fluid container carried by the player. The liquid of the bucket is seawater. The current volume of the bucket is 64.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15268_339" -->
<a id="c15268_339"></a><blockquote class="code"><p class="quoted">
The fire is a fixed in place thing in the beach. &quot;A low fire crackles here, left over from an attempt at s'mores much earlier in the evening.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15269_339" -->
<a id="c15269_339"></a><blockquote class="code"><p class="quoted">
Instead of touching or rubbing or taking the fire, say &quot;You're not such a glutton for punishment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15270_339" -->
<a id="c15270_339"></a><blockquote class="code"><p class="quoted">
Instead of pouring something into the fire:
<br />&#160;&#160;&#160;&#160;now the fire is nowhere;
<br />&#160;&#160;&#160;&#160;now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] goes out in a great hiss.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15271_339" -->
<a id="c15271_339"></a><blockquote class="code"><p class="quoted">
Test me with &quot;drink seawater / pour seawater on fire / x bucket / i&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This is still a specific implementation: if we wanted to weave liquids together with a full-scale burning model (as in &quot;In Fire or in Flood&quot;), where pretty much any object in the game can be flaming (currently on fire) or damp (extinguished), we might generalize our rule to</p>
<!-- START CODE "c15272_339" -->
<a id="c15272_339"></a><blockquote class="code"><p class="quoted">
Instead of pouring something into a flaming thing:
<br />&#160;&#160;&#160;&#160;now the second noun is damp;
<br />&#160;&#160;&#160;&#160;now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] goes out in a great hiss.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Of course, the merging of fire and liquids also raises the possibility of gasoline and explosives, of heating and boiling liquids, etc.: as always, it's wise to incorporate a simulation that is only as detailed as the game's interactions really justify.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "276: Noisy Cricket" "e443" -->
<a id="e443"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e443" class="eglink"><b>276</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e443" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Noisy Cricket</span></b></a><br />Implementing liquids that can be mixed, and the components automatically recognized as matching one recipe or another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_16.html#e443"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example443">
<p>Our previous experiments into liquid have not dealt with the possibility of mixing components, but that is because for most games, tracking the details of mixture is overkill.</p>
<p>But let's suppose that this time we do want to have mixed liquids; moreover, we want a way to describe the mixtures to the player inventively, so that if he hits specific combinations those combinations are recognized: calling the result a martini, say, rather than just &quot;a mixture of vodka and vermouth&quot;.</p>
<p>The implementation that follows relies on a fairly simple idea from linear algebra. Any given liquid can be expressed as a vector in N-space, where N is the number of available ingredients and the length of the vector depends on how much of each ingredient is used; then we find the recipe that best describes the liquid by taking the dot product of our liquid vector with a bunch of sample vectors and selecting the one with the largest result.</p>
<p>If this does not make sense, don't worry: it's not necessary to understand the idea to use the code.</p>
<p>Any implementation involving a large number of place values is always a bit challenging in integer arithmetic. This examples assumes that no bodies of liquid will ever be very large, and that the proportions of ingredients in a mixture will not be vastly askew. (No 20-parts-to-1 proportions, for instance.) This probably works reasonably well for the cocktails that we make the basis of the example.</p>
<!-- START CODE "c15273_443" -->
<a id="c15273_443"></a><blockquote class="code"><p class="quoted">
&quot;Noisy Cricket&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15274_443" -->
<a id="c15274_443"></a><blockquote class="code"><p class="quoted">
Part 1 - Volumes and Mixtures
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15275_443" -->
<a id="c15275_443"></a><blockquote class="code"><p class="quoted">
A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15276_443" -->
<a id="c15276_443"></a><blockquote class="code"><p class="quoted">
A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called creme de menthe volume. A fluid container has a volume called vodka volume. A fluid container has a volume called cacao volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15277_443" -->
<a id="c15277_443"></a><blockquote class="code"><p class="quoted">
The fluid capacity of a fluid container is usually 12.0 fl oz. The creme de menthe volume of a fluid container is usually 0.0 fl oz. The vodka volume of a fluid container is usually 0.0 fl oz. The cacao volume of fluid container is usually 0.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15278_443" -->
<a id="c15278_443"></a><blockquote class="code"><p class="quoted">
To decide what volume is the current volume of (item - a fluid container):
<br />&#160;&#160;&#160;&#160;let total be the creme de menthe volume of the item;
<br />&#160;&#160;&#160;&#160;increase total by the vodka volume of the item;
<br />&#160;&#160;&#160;&#160;increase total by the cacao volume of the item;
<br />&#160;&#160;&#160;&#160;decide on total.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15279_443" -->
<a id="c15279_443"></a><blockquote class="code"><p class="quoted">
Instead of examining a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You catch just a hint of [the nominal descriptor of the noun] at the bottom.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] contains [current volume of the noun in rough terms] of [adjectival descriptor of the noun] [nominal descriptor of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15280_443" -->
<a id="c15280_443"></a><blockquote class="code"><p class="quoted">
Adjectival descriptor is a kind of value. The adjectival descriptors are strong, chocolatey, minty, perfect, and pure.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15281_443" -->
<a id="c15281_443"></a><blockquote class="code"><p class="quoted">
Nominal descriptor is a kind of value. The Nominal descriptors are creme de menthe, vodka, creme de cacao, grasshopper, chocolate vodka, mint vodka, chocolate martini, mintini, chocolate mint martini.
</p></blockquote>
<!-- END CODE -->
<p>Our table of mixtures is expressed in parts: so if a recipe contains one part X and two parts Y, we would put &quot;1&quot; in the first column and &quot;2&quot; in the second column.</p>
<!-- START CODE "c15282_443" -->
<a id="c15282_443"></a><blockquote class="code"><p class="quoted">
Table of Mixtures
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">rating</p></td><td class="quotedtablecell"><p class="quoted">creme de menthe comp</p></td><td class="quotedtablecell"><p class="quoted">vodka comp</p></td><td class="quotedtablecell"><p class="quoted">cacao comp</p></td><td class="quotedtablecell"><p class="quoted">adjectival descriptor</p></td><td class="quotedtablecell"><p class="quoted">nominal descriptor</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">minty</p></td><td class="quotedtablecell"><p class="quoted">creme de menthe</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">vodka</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">creme de cacao</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">mintini</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">grasshopper</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">chocolate martini</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">chocolate vodka</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">mint vodka</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">chocolate mint martini</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15283_443" -->
<a id="c15283_443"></a><blockquote class="code"><p class="quoted">
A fluid container has an adjectival descriptor. A fluid container has a nominal descriptor. Understand the adjectival descriptor property as describing a fluid container. Understand the nominal descriptor property as describing a fluid container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15284_443" -->
<a id="c15284_443"></a><blockquote class="code"><p class="quoted">
To decide what number is (quantity - a number) squared:
<br />&#160;&#160;&#160;&#160;decide on quantity times quantity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15285_443" -->
<a id="c15285_443"></a><blockquote class="code"><p class="quoted">
To score mixtures in (item - a fluid container):
<br />&#160;&#160;&#160;&#160;repeat through Table of Mixtures:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now rating entry is total score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total line parts is 1, now adjectival descriptor entry is pure;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now adjectival descriptor entry is perfect;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[and for creme de menthe...]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now creme de menthe comp entry is creme de menthe comp entry plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total score is greater than rating entry, now adjectival descriptor entry is minty;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now creme de menthe comp entry is creme de menthe comp entry minus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[and for vodka...]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now vodka comp entry is vodka comp entry plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total score is greater than rating entry, now adjectival descriptor entry is strong;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now vodka comp entry is vodka comp entry minus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[and for cacao...]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now cacao comp entry is cacao comp entry plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total score is greater than rating entry, now adjectival descriptor entry is chocolatey;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now cacao comp entry is cacao comp entry minus 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15286_443" -->
<a id="c15286_443"></a><blockquote class="code"><p class="quoted">
To identify mixture in (item - a fluid container):
<br />&#160;&#160;&#160;&#160;score mixtures in item;
<br />&#160;&#160;&#160;&#160;sort Table of Mixtures in reverse rating order;
<br />&#160;&#160;&#160;&#160;choose row 1 in Table of Mixtures;
<br />&#160;&#160;&#160;&#160;now nominal descriptor of the item is nominal descriptor entry;
<br />&#160;&#160;&#160;&#160;let sample vodka be vodka comp entry; [Now keep track of all these]
<br />&#160;&#160;&#160;&#160;let sample creme de menthe be creme de menthe comp entry;
<br />&#160;&#160;&#160;&#160;let sample cacao be cacao comp entry;
<br />&#160;&#160;&#160;&#160;if rating entry divided by 100 is the current volume of the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now adjectival descriptor of the item is pure;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now adjectival descriptor of the item is adjectival descriptor entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15287_443" -->
<a id="c15287_443"></a><blockquote class="code"><p class="quoted">
To decide what number is the raw quantity of (item volume - a volume):
<br />&#160;&#160;&#160;&#160;let raw be item volume divided by 0.5 fl oz;
<br />&#160;&#160;&#160;&#160;decide on raw.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15288_443" -->
<a id="c15288_443"></a><blockquote class="code"><p class="quoted">
To decide what number is calibration for (total - a number):
<br />&#160;&#160;&#160;&#160;if total is an initial listed in the table of Multipliers, decide on result entry;
<br />&#160;&#160;&#160;&#160;decide on 21.
</p></blockquote>
<!-- END CODE -->
<p>Here we cheat on our arithmetic. The following chart just provides values corresponding roughly to 1/(sqrt (x)), but since Inform does not deal very gracefully with square roots or fractions, we will calculate this elsewhere and just supply the answers in the code:</p>
<!-- START CODE "c15289_443" -->
<a id="c15289_443"></a><blockquote class="code"><p class="quoted">
Table of Multipliers
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">initial</p></td><td class="quotedtablecell"><p class="quoted">result</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">100</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">71</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">57</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">4</p></td><td class="quotedtablecell"><p class="quoted">50</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">44</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">41</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">7</p></td><td class="quotedtablecell"><p class="quoted">38</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8</p></td><td class="quotedtablecell"><p class="quoted">35</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">9</p></td><td class="quotedtablecell"><p class="quoted">33</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">10</p></td><td class="quotedtablecell"><p class="quoted">31</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11</p></td><td class="quotedtablecell"><p class="quoted">30</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">29</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">28</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">14</p></td><td class="quotedtablecell"><p class="quoted">27</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">15</p></td><td class="quotedtablecell"><p class="quoted">26</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">16</p></td><td class="quotedtablecell"><p class="quoted">25</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">17</p></td><td class="quotedtablecell"><p class="quoted">24</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">18</p></td><td class="quotedtablecell"><p class="quoted">24</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">19</p></td><td class="quotedtablecell"><p class="quoted">23</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">20</p></td><td class="quotedtablecell"><p class="quoted">22</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15290_443" -->
<a id="c15290_443"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat with item running through fluid containers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;identify mixture in item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15291_443" -->
<a id="c15291_443"></a><blockquote class="code"><p class="quoted">
To say (amount - a volume) in rough terms:
<br />&#160;&#160;&#160;&#160;if the amount is less than 0.6 fl oz:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;half an ounce or less&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let estimate be ounces part of amount;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[estimate in words] or [estimate plus 1 in words] fluid ounces&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;about [ounces part of amount in words] fluid ounce[s]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15292_443" -->
<a id="c15292_443"></a><blockquote class="code"><p class="quoted">
Before printing the name of a fluid container (called the target) while not drinking or pouring:
<br />&#160;&#160;&#160;&#160;if the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;empty &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15293_443" -->
<a id="c15293_443"></a><blockquote class="code"><p class="quoted">
After printing the name of a fluid container (called the target) while not examining or pouring:
<br />&#160;&#160;&#160;&#160;unless the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; of [adjectival descriptor of the target] [nominal descriptor of the target]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15294_443" -->
<a id="c15294_443"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] has too narrow a mouth to accept anything but liquids.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15295_443" -->
<a id="c15295_443"></a><blockquote class="code"><p class="quoted">
Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15296_443" -->
<a id="c15296_443"></a><blockquote class="code"><p class="quoted">
Understand &quot;drink from [fluid container]&quot; as drinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15297_443" -->
<a id="c15297_443"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is no more [nominal descriptor of the noun] within.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao loss be the consumed cacao of the noun out of sip volume;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe loss be the consumed creme de menthe of the noun out of sip volume;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka loss be the consumed vodka of the noun out of sip volume;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the cacao volume of the noun by the cacao loss;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the creme de menthe volume of the noun by creme de menthe loss;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the vodka volume of the noun by vodka loss;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You take a sip of [the nominal descriptor of the noun][if the noun is empty], leaving [the noun] empty[end if].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15298_443" -->
<a id="c15298_443"></a><blockquote class="code"><p class="quoted">
Sip volume is a volume that varies. Sip volume is 0.5 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15299_443" -->
<a id="c15299_443"></a><blockquote class="code"><p class="quoted">
To decide what volume is the consumed cacao of (item - a fluid container) out of (total consumption - a volume):
<br />&#160;&#160;&#160;&#160;let new volume be the cacao volume of the item times 100;
<br />&#160;&#160;&#160;&#160;let percentage be the new volume divided by the current volume of the item;
<br />&#160;&#160;&#160;&#160;let consumed volume be the percentage times total consumption;
<br />&#160;&#160;&#160;&#160;let consumed volume be consumed volume divided by 100;
<br />&#160;&#160;&#160;&#160;if consumed volume is greater than the cacao volume of the item, decide on the cacao volume of the item;
<br />&#160;&#160;&#160;&#160;decide on consumed volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15300_443" -->
<a id="c15300_443"></a><blockquote class="code"><p class="quoted">
To decide what volume is the consumed creme de menthe of (item - a fluid container) out of (total consumption - a volume):
<br />&#160;&#160;&#160;&#160;let new volume be the creme de menthe volume of the item times 100;
<br />&#160;&#160;&#160;&#160;let percentage be the new volume divided by the current volume of the item;
<br />&#160;&#160;&#160;&#160;let consumed volume be the percentage times total consumption;
<br />&#160;&#160;&#160;&#160;let consumed volume be consumed volume divided by 100;
<br />&#160;&#160;&#160;&#160;if consumed volume is greater than the creme de menthe volume of the item, decide on the creme de menthe volume of the item;
<br />&#160;&#160;&#160;&#160;decide on consumed volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15301_443" -->
<a id="c15301_443"></a><blockquote class="code"><p class="quoted">
To decide what volume is the consumed vodka of (item - a fluid container) out of (total consumption - a volume):
<br />&#160;&#160;&#160;&#160;let new volume be the vodka volume of the item times 100;
<br />&#160;&#160;&#160;&#160;let percentage be the new volume divided by the current volume of the item;
<br />&#160;&#160;&#160;&#160;let consumed volume be the percentage times total consumption;
<br />&#160;&#160;&#160;&#160;let consumed volume be consumed volume divided by 100;
<br />&#160;&#160;&#160;&#160;if consumed volume is greater than the vodka volume of the item, decide on the vodka volume of the item;
<br />&#160;&#160;&#160;&#160;decide on consumed volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15302_443" -->
<a id="c15302_443"></a><blockquote class="code"><p class="quoted">
Part 2 - Filling
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15303_443" -->
<a id="c15303_443"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;fill&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15304_443" -->
<a id="c15304_443"></a><blockquote class="code"><p class="quoted">
Understand &quot;fill [something] with/from [something]&quot; as filling it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15305_443" -->
<a id="c15305_443"></a><blockquote class="code"><p class="quoted">
Filling it with is an action applying to two things. Carry out filling it with: try pouring the second noun into the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15306_443" -->
<a id="c15306_443"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [fluid container] in/into/on/onto [fluid container]&quot; as pouring it into. Understand &quot;empty [fluid container] into [fluid container]&quot; as pouring it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15307_443" -->
<a id="c15307_443"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [something] in/into/on/onto [something]&quot; as pouring it into. Understand &quot;empty [something] into [something]&quot; as pouring it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15308_443" -->
<a id="c15308_443"></a><blockquote class="code"><p class="quoted">
Pouring it into is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15309_443" -->
<a id="c15309_443"></a><blockquote class="code"><p class="quoted">
Check pouring it into:
<br />&#160;&#160;&#160;&#160;if the noun is not a fluid container, say &quot;You can't pour [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a fluid container, say &quot;You can't pour liquids into [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the second noun, say &quot;You can hardly pour [the noun] into itself.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;No more [nominal descriptor of the noun] remains in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is full, say &quot;[The second noun] cannot contain any more than it already holds.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15310_443" -->
<a id="c15310_443"></a><blockquote class="code"><p class="quoted">
Carry out pouring it into:
<br />&#160;&#160;&#160;&#160;let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;
<br />&#160;&#160;&#160;&#160;if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;
<br />&#160;&#160;&#160;&#160;let cacao loss be the consumed cacao of the noun out of available capacity;
<br />&#160;&#160;&#160;&#160;let creme de menthe loss be the consumed creme de menthe of the noun out of available capacity;
<br />&#160;&#160;&#160;&#160;let vodka loss be the consumed vodka of the noun out of available capacity;
<br />&#160;&#160;&#160;&#160;decrease the cacao volume of the noun by the cacao loss;
<br />&#160;&#160;&#160;&#160;decrease the creme de menthe volume of the noun by creme de menthe loss;
<br />&#160;&#160;&#160;&#160;decrease the vodka volume of the noun by vodka loss;
<br />&#160;&#160;&#160;&#160;increase the cacao volume of the second noun by the cacao loss;
<br />&#160;&#160;&#160;&#160;increase the creme de menthe volume of the second noun by creme de menthe loss;
<br />&#160;&#160;&#160;&#160;increase the vodka volume of the second noun by vodka loss.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15311_443" -->
<a id="c15311_443"></a><blockquote class="code"><p class="quoted">
Report pouring it into:
<br />&#160;&#160;&#160;&#160;identify mixture in noun;
<br />&#160;&#160;&#160;&#160;identify mixture in second noun;
<br />&#160;&#160;&#160;&#160;say &quot;[if the noun is empty][The noun] is now empty; [otherwise][The noun] now contains [current volume of the noun in rough terms] of [nominal descriptor of the noun]; [end if]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[the second noun] contains [current volume of the second noun in rough terms] of [adjectival descriptor of the second noun] [nominal descriptor of the second noun][if the second noun is full], and is now full[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15312_443" -->
<a id="c15312_443"></a><blockquote class="code"><p class="quoted">
Understand &quot;of&quot; as a fluid container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15313_443" -->
<a id="c15313_443"></a><blockquote class="code"><p class="quoted">
Part 3 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15314_443" -->
<a id="c15314_443"></a><blockquote class="code"><p class="quoted">
When play begins: say &quot;When you decided to try Mixology WS102 (*cross-listed with Women's Studies), you envisioned yourself writing essays about gender discrimination during the Prohibition, say, or reading essays on male vs. female metabolism of alcohol. But no: MxWS102 turns out to be about... mixing the perfect chocolate mint martini.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15315_443" -->
<a id="c15315_443"></a><blockquote class="code"><p class="quoted">
The College of Mixology is a room. The bar is a supporter in the college.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15316_443" -->
<a id="c15316_443"></a><blockquote class="code"><p class="quoted">
The cocktail glass is a fluid container carried by the player. The fluid capacity of the cocktail glass is 4.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15317_443" -->
<a id="c15317_443"></a><blockquote class="code"><p class="quoted">
The flask is a fluid container carried by the player. The vodka volume of the flask is 4.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15318_443" -->
<a id="c15318_443"></a><blockquote class="code"><p class="quoted">
The jigger is a fluid container carried by the player. The fluid capacity of the jigger is 1.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15319_443" -->
<a id="c15319_443"></a><blockquote class="code"><p class="quoted">
The small measure is a fluid container carried by the player. The fluid capacity of the small measure is 0.5 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15320_443" -->
<a id="c15320_443"></a><blockquote class="code"><p class="quoted">
The decanter is a fluid container on the bar. The fluid capacity of the decanter is 32.0 fl oz. The creme de menthe volume of the decanter is 20.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15321_443" -->
<a id="c15321_443"></a><blockquote class="code"><p class="quoted">
The bottle is a fluid container carried by the player. The cacao volume of the bottle is 10.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15322_443" -->
<a id="c15322_443"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / pour flask in jigger / pour jigger in glass / pour bottle in jigger / pour jigger in glass / pour bottle in jigger / pour jigger in glass / pour decanter in jigger / pour jigger in glass / drink glass / g / g / x glass / pour flask in glass&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "333: Lakeside Living" "e212" -->
<a id="e212"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e212" class="eglink"><b>333</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e212" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lakeside Living</span></b></a><br />Similar to "Lemonade", but with bodies of liquid that can never be depleted, and some adjustments to the "fill" command so that it will automatically attempt to fill from a large liquid source if possible.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e212"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example212">
<p>Much of what follows is identical to &quot;Lemonade&quot; earlier; the new material begins at Part 2.</p>
<!-- START CODE "c15323_212" -->
<a id="c15323_212"></a><blockquote class="code"><p class="quoted">
&quot;Lakeside Living&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15324_212" -->
<a id="c15324_212"></a><blockquote class="code"><p class="quoted">
A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15325_212" -->
<a id="c15325_212"></a><blockquote class="code"><p class="quoted">
A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called current volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15326_212" -->
<a id="c15326_212"></a><blockquote class="code"><p class="quoted">
The fluid capacity of a fluid container is usually 12.0 fl oz. The current volume of a fluid container is usually 0.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15327_212" -->
<a id="c15327_212"></a><blockquote class="code"><p class="quoted">
Liquid is a kind of value. The liquids are water, absinthe, and iced tea. A fluid container has a liquid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15328_212" -->
<a id="c15328_212"></a><blockquote class="code"><p class="quoted">
Instead of examining a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You catch just a hint of [the liquid of the noun] at the bottom.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] contains [current volume of the noun in rough terms] of [liquid of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15329_212" -->
<a id="c15329_212"></a><blockquote class="code"><p class="quoted">
To say (amount - a volume) in rough terms:
<br />&#160;&#160;&#160;&#160;if the amount is less than 0.5 fl oz:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a swallow or two&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let estimate be ounces part of amount;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[estimate in words] or [estimate plus 1 in words] fluid ounces&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;about [ounces part of amount in words] fluid ounce[s]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15330_212" -->
<a id="c15330_212"></a><blockquote class="code"><p class="quoted">
Before printing the name of a fluid container (called the target) while not drinking or pouring:
<br />&#160;&#160;&#160;&#160;if the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;empty &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15331_212" -->
<a id="c15331_212"></a><blockquote class="code"><p class="quoted">
After printing the name of a fluid container (called the target) while not examining or pouring:
<br />&#160;&#160;&#160;&#160;unless the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; of [liquid of the target]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15332_212" -->
<a id="c15332_212"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] has too narrow a mouth to accept anything but liquids.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15333_212" -->
<a id="c15333_212"></a><blockquote class="code"><p class="quoted">
Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15334_212" -->
<a id="c15334_212"></a><blockquote class="code"><p class="quoted">
Understand &quot;drink from [fluid container]&quot; as drinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15335_212" -->
<a id="c15335_212"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is no more [liquid of the noun] within.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the current volume of the noun by 0.2 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current volume of the noun is less than 0.0 fl oz, now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You take a sip of [the liquid of the noun][if the noun is empty], leaving [the noun] empty[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15336_212" -->
<a id="c15336_212"></a><blockquote class="code"><p class="quoted">
Part 2 - Filling
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15337_212" -->
<a id="c15337_212"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;fill&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<p>Here we want Inform to prefer full liquid sources to other containers when it chooses an end to a player's unfinished or ambiguous command. And so:</p>
<!-- START CODE "c15338_212" -->
<a id="c15338_212"></a><blockquote class="code"><p class="quoted">
Understand &quot;fill [fluid container] with/from [full liquid source]&quot; as filling it with. Understand &quot;fill [fluid container] with/from [fluid container]&quot; as filling it with.
</p></blockquote>
<!-- END CODE -->
<p>Both grammar lines point to the same ultimate outcome; the purpose of specifying both is to tell Inform to check thoroughly for full liquid sources before falling back on other fluid containers when making its decisions.</p>
<!-- START CODE "c15339_212" -->
<a id="c15339_212"></a><blockquote class="code"><p class="quoted">
Understand &quot;fill [something] with/from [something]&quot; as filling it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15340_212" -->
<a id="c15340_212"></a><blockquote class="code"><p class="quoted">
Filling it with is an action applying to two things. Carry out filling it with: try pouring the second noun into the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15341_212" -->
<a id="c15341_212"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [fluid container] in/into/on/onto [fluid container]&quot; as pouring it into. Understand &quot;empty [fluid container] into [fluid container]&quot; as pouring it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15342_212" -->
<a id="c15342_212"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [something] in/into/on/onto [something]&quot; as pouring it into. Understand &quot;empty [something] into [something]&quot; as pouring it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15343_212" -->
<a id="c15343_212"></a><blockquote class="code"><p class="quoted">
Pouring it into is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15344_212" -->
<a id="c15344_212"></a><blockquote class="code"><p class="quoted">
Check pouring it into:
<br />&#160;&#160;&#160;&#160;if the noun is not a fluid container, say &quot;You can't pour [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a fluid container, say &quot;You can't pour liquids into [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the second noun, say &quot;You can hardly pour [the noun] into itself.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the liquid of the noun is not the liquid of the second noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second noun is empty, now the liquid of the second noun is the liquid of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;Mixing [the liquid of the noun] with [the liquid of the second noun] would give unsavory results.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;No more [liquid of the noun] remains in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is full, say &quot;[The second noun] cannot contain any more than it already holds.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15345_212" -->
<a id="c15345_212"></a><blockquote class="code"><p class="quoted">
Carry out pouring it into:
<br />&#160;&#160;&#160;&#160;let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;
<br />&#160;&#160;&#160;&#160;if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;
<br />&#160;&#160;&#160;&#160;increase the current volume of the second noun by available capacity;
<br />&#160;&#160;&#160;&#160;decrease the current volume of the noun by available capacity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15346_212" -->
<a id="c15346_212"></a><blockquote class="code"><p class="quoted">
Report pouring it into:
<br />&#160;&#160;&#160;&#160;say &quot;[if the noun is empty][The noun] is now empty;[otherwise][The noun] now contains [current volume of the noun in rough terms] of [liquid of the noun]; [end if]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[the second noun] contains [current volume of the second noun in rough terms] of [liquid of the second noun][if the second noun is full], and is now full[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15347_212" -->
<a id="c15347_212"></a><blockquote class="code"><p class="quoted">
Understand the liquid property as describing a fluid container. Understand &quot;of&quot; as a fluid container.
</p></blockquote>
<!-- END CODE -->
<p>And now we add our liquid source kind, which will represent lakes, absinthe fountains, and any other infinite supplies of liquid we might need. Note that 3276.7 is the largest possible number of fluid ounces available to us.</p>
<!-- START CODE "c15348_212" -->
<a id="c15348_212"></a><blockquote class="code"><p class="quoted">
A liquid source is a kind of fluid container. A liquid source has a liquid. A liquid source is usually scenery. The fluid capacity of a liquid source is usually 3276.7 fl oz. The current volume of a liquid source is usually 3276.7 fl oz. Instead of examining a liquid source: say &quot;[The noun] is full of [liquid of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15349_212" -->
<a id="c15349_212"></a><blockquote class="code"><p class="quoted">
Carry out pouring a liquid source into something: now the current volume of the noun is 3276.7 fl oz.
</p></blockquote>
<!-- END CODE -->
<p>We want filling things from liquid sources to work the same way as usual, with the distinction that a) the liquid source never depletes in quantity (hence the carry-out rule resetting its fullness); and b) we should report the results a bit differently as well:</p>
<!-- START CODE "c15350_212" -->
<a id="c15350_212"></a><blockquote class="code"><p class="quoted">
After pouring a liquid source into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;You fill [the second noun] up with [liquid of the noun] from [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>On the other hand, pouring liquids into a liquid source needs to work completely differently from pouring liquids into anything else. Let's say we're going to allow any liquid at all to be dumped into rivers and streams (environmental protections evidently are not very well-enforced in this scenario):</p>
<!-- START CODE "c15351_212" -->
<a id="c15351_212"></a><blockquote class="code"><p class="quoted">
Instead of pouring a fluid container into a liquid source:
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;[The noun] is already empty.&quot; instead;
<br />&#160;&#160;&#160;&#160;now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;say &quot;You dump out [the noun] into [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>A couple of minor refinements:</p>
<!-- START CODE "c15352_212" -->
<a id="c15352_212"></a><blockquote class="code"><p class="quoted">
Swimming is an action applying to nothing. Understand &quot;swim&quot; or &quot;dive&quot; as swimming.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15353_212" -->
<a id="c15353_212"></a><blockquote class="code"><p class="quoted">
Instead of swimming in the presence of a liquid source:
<br />&#160;&#160;&#160;&#160;say &quot;You don't feel like a dip just now.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15354_212" -->
<a id="c15354_212"></a><blockquote class="code"><p class="quoted">
Before inserting something into a liquid source: say &quot;[The noun] would get lost and never be seen again.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15355_212" -->
<a id="c15355_212"></a><blockquote class="code"><p class="quoted">
Part 3 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15356_212" -->
<a id="c15356_212"></a><blockquote class="code"><p class="quoted">
The Lakeside is a room. The Lakeside swing is an enterable supporter in the Lakeside. &quot;Here you are by the lake, enjoying a summery view.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15357_212" -->
<a id="c15357_212"></a><blockquote class="code"><p class="quoted">
The glass is a fluid container carried by the player. The liquid of the glass is absinthe. The current volume of the glass is 0.8 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15358_212" -->
<a id="c15358_212"></a><blockquote class="code"><p class="quoted">
The pitcher is a fluid container in the Lakeside. The fluid capacity of the pitcher is 32.0 fl oz. The current volume of the pitcher is 20.0 fl oz. The liquid of the pitcher is absinthe.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15359_212" -->
<a id="c15359_212"></a><blockquote class="code"><p class="quoted">
The lake is a liquid source. It is in the Lakeside.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15360_212" -->
<a id="c15360_212"></a><blockquote class="code"><p class="quoted">
The player wears a bathing outfit. The description of the bathing outfit is &quot;Stylishly striped in blue and white, and daringly cut to reveal almost all of your calves, and quite a bit of upper arm, as well. You had a moral struggle, purchasing it; but mercifully the lakeshore is sufficiently secluded that no one can see you in this immodest apparel.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15361_212" -->
<a id="c15361_212"></a><blockquote class="code"><p class="quoted">
Instead of taking off the outfit: say &quot;What odd ideas come into your head sometimes!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15362_212" -->
<a id="c15362_212"></a><blockquote class="code"><p class="quoted">
Test me with &quot;fill glass / empty absinthe into lake / fill glass / swim / drink lake / drink / x water / x lake&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "378: Pizza Prince" "e293" -->
<a id="e293"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e293" class="eglink"><b>378</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e293" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pizza Prince</span></b></a><br />Providing a pizza buffet from which the player can take as many pieces as he wants.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e293"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example293">
<p>Suppose we want the player to have a pizza buffet from which he can take a number of slices. But we don't want to actually put the slices there in front of him, because &quot;you can see 17 slices of pizza here&quot; is not the descriptive effect we want, and because we want to pretend, at least, that the pizza supply is nearly infinite. In fact, we're going to replenish the supply by allowing eaten slices to return to the buffet table (safer in IF than in real life).</p>
<p>To do this, we create one object to stand in for the pizza supply, but whenever the player tries to take it, we give him a different &quot;pizza slice&quot; object instead. Thus:</p>
<!-- START CODE "c15363_293" -->
<a id="c15363_293"></a><blockquote class="code"><p class="quoted">
&quot;Pizza Prince&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15364_293" -->
<a id="c15364_293"></a><blockquote class="code"><p class="quoted">
The Pizza Prince is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15365_293" -->
<a id="c15365_293"></a><blockquote class="code"><p class="quoted">
The buffet table is a supporter in Pizza Prince.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15366_293" -->
<a id="c15366_293"></a><blockquote class="code"><p class="quoted">
The pizza selection is a thing on the buffet table. Understand &quot;slice&quot; as the pizza selection. The description is &quot;They are all cheese-only, and all luke-warm.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15367_293" -->
<a id="c15367_293"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the buffet table:
<br />&#160;&#160;&#160;&#160;say &quot;On [the buffet table] is [a pizza selection]. [description of the pizza selection][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now we introduce our actual pizza slices, which are retained in a container out of play until they're needed:</p>
<!-- START CODE "c15368_293" -->
<a id="c15368_293"></a><blockquote class="code"><p class="quoted">
A pizza slice is a kind of thing. 10 pizza slices are in Pizza Limbo. A pizza slice is always edible. [After a fashion, anyway.]
</p></blockquote>
<!-- END CODE -->
<p>In this example we've set that supply to be artificially small, to make it easier to test what happens when the player reaches the limit; but we could provide many more slices to start with in Pizza Limbo, and the aim in practice would be to pick a number high enough (such as 50 or 100) that the average player will get bored of TAKE PIZZA long before he reaches the limit.</p>
<p>The main thing to be aware of is that objects consume memory in the game file, so creating a large number of pizza slices might bulk the game out. This is more of a concern if we're compiling for the Z-machine than if we're compiling for Glulx.</p>
<p>Whenever the player tries to take the selection, we want him to wind up holding an individual slice instead; but of course we need to check and make sure that he hasn't exhausted the pizza slice supply.</p>
<!-- START CODE "c15369_293" -->
<a id="c15369_293"></a><blockquote class="code"><p class="quoted">
Instead of taking the pizza selection:
<br />&#160;&#160;&#160;&#160;let chosen slice be a random pizza slice in Pizza Limbo;
<br />&#160;&#160;&#160;&#160;if chosen slice is nothing: [That is, there were no slices remaining]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[manager refusal]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the chosen slice to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Taken (gingerly).&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15370_293" -->
<a id="c15370_293"></a><blockquote class="code"><p class="quoted">
To say manager refusal:
<br />&#160;&#160;&#160;&#160;say &quot;[one of]'Hey!' barks a hitherto-unseen manager from behind you. 'It's an 'all you can eat' buffet, not an 'all you can stuff down your pants' buffet.'[or]You are conscious of a disapproving huff from the manager, so you refrain.[stopping]&quot;
</p></blockquote>
<!-- END CODE -->
<p>That's fine for the case where the player is taking a new slice of pizza explicitly, but we need to handle it a little differently if the taking action is generated in response to EAT PIZZA. In that case, we need to take the slice and also change the identity of the noun, because after the implicit take action happens, the game will test whether the player is holding the noun before attempting to eat it. So we need to refocus its attention:</p>
<!-- START CODE "c15371_293" -->
<a id="c15371_293"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking the pizza selection:
<br />&#160;&#160;&#160;&#160;let chosen slice be a random pizza slice in Pizza Limbo;
<br />&#160;&#160;&#160;&#160;if chosen slice is nothing: [That is, there were no slices remaining]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[manager refusal]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the chosen slice to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(helping yourself from the selection)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the noun is the chosen slice.
</p></blockquote>
<!-- END CODE -->
<p>And finally, a bit of touch-up:</p>
<!-- START CODE "c15372_293" -->
<a id="c15372_293"></a><blockquote class="code"><p class="quoted">
Rule for clarifying the parser's choice of the pizza selection while taking:
<br />&#160;&#160;&#160;&#160;say &quot;(from the magnificent selection before you)[line break]&quot;
</p></blockquote>
<!-- END CODE -->
<p>For tidiness, we should probably also return the consumed pizza slices to Pizza Limbo so that they can be re-used later:</p>
<!-- START CODE "c15373_293" -->
<a id="c15373_293"></a><blockquote class="code"><p class="quoted">
After eating a pizza slice:
<br />&#160;&#160;&#160;&#160;move the noun to Pizza Limbo;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15374_293" -->
<a id="c15374_293"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / get pizza / g / i / get pizza / drop pizza / look / get pizza / g / look / eat pizza / g / g / g / g / get pizza / g / g / g / g / g / g / g / g / g / g / g / g / i / eat pizza / take pizza / g&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "124: Extra Supplies" "e132" -->
<a id="e132"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e132" class="eglink"><b>124</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e132" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Extra Supplies</span></b></a><br />A supply of red pens from which the player can take another pen only if he doesn't already have one somewhere in the game world.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e132"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example132">
<p>Suppose we have a supply closet in our game from which the player is allowed to take red pens. To keep modeling simple, we only allow him to have one in play at a time, and we test this by seeing whether the red pen is &quot;off-stage&quot; before moving it to his possession.</p>
<p>This approach might seem no different from having a single red pen sitting in the closet, but it may be preferable, for two reasons. First, it's not very plausible for a supply closet to contain nothing but a single red pen (well, assuming a well-regulated supplier, anyway); and second, it gives the player a way to get a new red pen should the original be destroyed in a tragic handwriting accident.</p>
<!-- START CODE "c15375_132" -->
<a id="c15375_132"></a><blockquote class="code"><p class="quoted">
&quot;Extra Supplies&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15376_132" -->
<a id="c15376_132"></a><blockquote class="code"><p class="quoted">
The Supply Closet is a room. A supply of red pens is in the Supply Closet. Understand &quot;pen&quot; as the supply of red pens when the red pen is not visible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15377_132" -->
<a id="c15377_132"></a><blockquote class="code"><p class="quoted">
There is a red pen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15378_132" -->
<a id="c15378_132"></a><blockquote class="code"><p class="quoted">
Instead of taking the supply of red pens:
<br />&#160;&#160;&#160;&#160;if the red pen is off-stage:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the red pen to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You help yourself to a fresh red pen.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You're only allowed one pen at a time. The department secretary is very strict.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15379_132" -->
<a id="c15379_132"></a><blockquote class="code"><p class="quoted">
South of the Supply Closet is the Furnace Room. The incinerator is a thing in the Furnace Room. It is a container. &quot;The incinerator is here, working full blast.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15380_132" -->
<a id="c15380_132"></a><blockquote class="code"><p class="quoted">
After inserting something into the incinerator:
<br />&#160;&#160;&#160;&#160;now the noun is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;A fiery blast consumes [the noun]!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15381_132" -->
<a id="c15381_132"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get pen / i / get pen / get supply / s / put pen in incinerator / n / get pen&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "97: Ming Vase" "e158" -->
<a id="e158"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e158" class="eglink"><b>97</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e158" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ming Vase</span></b></a><br />ATTACK or DROP break and remove fragile items from play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_7.html#e158"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example158">
<p>In emulation of a certain annoying aspect of the original Adventure, in which there is a Ming vase that cannot safely be dropped:</p>
<!-- START CODE "c15382_158" -->
<a id="c15382_158"></a><blockquote class="code"><p class="quoted">
&quot;Ming Vase&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15383_158" -->
<a id="c15383_158"></a><blockquote class="code"><p class="quoted">
A thing can be strong or fragile. A thing is usually strong.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15384_158" -->
<a id="c15384_158"></a><blockquote class="code"><p class="quoted">
Instead of attacking or dropping a fragile thing:
<br />&#160;&#160;&#160;&#160;now the noun is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] breaks into thousands of pieces!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15385_158" -->
<a id="c15385_158"></a><blockquote class="code"><p class="quoted">
The Cave is a room. The Ming vase is carried by the player. The vase is fragile.
</p></blockquote>
<!-- END CODE -->
<p>We could also implement an additional refinement from Adventure, that a fragile thing is safe if dropped when there is a cushion nearby.</p>
<!-- START CODE "c15386_158" -->
<a id="c15386_158"></a><blockquote class="code"><p class="quoted">
The pillow is a portable supporter. It is carried by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15387_158" -->
<a id="c15387_158"></a><blockquote class="code"><p class="quoted">
Instead of dropping a fragile thing when the pillow is in the location: try putting the noun on the pillow instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15388_158" -->
<a id="c15388_158"></a><blockquote class="code"><p class="quoted">
After putting a fragile thing on the pillow:
<br />&#160;&#160;&#160;&#160;say &quot;You set [the noun] down gently on the pillow.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15389_158" -->
<a id="c15389_158"></a><blockquote class="code"><p class="quoted">
Test me with &quot;drop pillow / drop vase / get vase / get pillow / drop vase&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In this rule, the pillow is the second noun; if we had a general rule about setting fragile things on soft things, we could say &quot;You set [the noun] down gently on [the second noun].&quot; for the same effect.</p>
<p>If we wanted to be more refined, we would provide extra code so that breaking a container or a supporter would leave behind their contents. We will see how to do that later.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "123: Spring Cleaning" "e356" -->
<a id="e356"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e356" class="eglink"><b>123</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e356" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Spring Cleaning</span></b></a><br />A character who sulks over objects that the player has broken (and which are now off-stage).</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e356"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example356">
<p>Here we have a destruction action that allows the player to break any fragile items. Once destroyed, these things are removed from play, but we can still refer to them: they are now off-stage. This makes it easy for our sulking character to list the ones that have been destroyed:</p>
<!-- START CODE "c15390_356" -->
<a id="c15390_356"></a><blockquote class="code"><p class="quoted">
&quot;Spring Cleaning&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15391_356" -->
<a id="c15391_356"></a><blockquote class="code"><p class="quoted">
A thing can be tough or fragile. A thing is usually tough.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15392_356" -->
<a id="c15392_356"></a><blockquote class="code"><p class="quoted">
Instead of attacking something fragile:
<br />&#160;&#160;&#160;&#160;say &quot;You smash [the noun] to smithereens!&quot;;
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15393_356" -->
<a id="c15393_356"></a><blockquote class="code"><p class="quoted">
A knick-knack is a kind of thing which is fragile.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15394_356" -->
<a id="c15394_356"></a><blockquote class="code"><p class="quoted">
Every turn when a knick-knack is off-stage and Granny Blue can see the player:
<br />&#160;&#160;&#160;&#160;say &quot;'Ohh,' whimpers Granny to herself softly. 'How I will miss [the list of off-stage knick-knacks]!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15395_356" -->
<a id="c15395_356"></a><blockquote class="code"><p class="quoted">
The Parlor is a room. Granny Blue is a woman in the Parlor. A china lamb, a porcelain milkmaid, a frolicking Dutch cow, and a crystal unicorn are knick-knacks in the Parlor.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15396_356" -->
<a id="c15396_356"></a><blockquote class="code"><p class="quoted">
Test me with &quot;break lamb / break milkmaid / break cow / break unicorn&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "195: Paddington" "e281" -->
<a id="e281"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e281" class="eglink"><b>195</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e281" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Paddington</span></b></a><br />A CUT [something] WITH [something] command which acts differently on different types of objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e281"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example281">
<p>Suppose we intend a game in which the player needs to cut things open on a regular basis. We'll want to check whether he has the proper tools handy, and deal graciously with commands such as CUT [something] when no tool is specified. So:</p>
<!-- START CODE "c15397_281" -->
<a id="c15397_281"></a><blockquote class="code"><p class="quoted">
&quot;Paddington&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15398_281" -->
<a id="c15398_281"></a><blockquote class="code"><p class="quoted">
A blade is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15399_281" -->
<a id="c15399_281"></a><blockquote class="code"><p class="quoted">
Understand &quot;cut [something] with [something]&quot; as cutting it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15400_281" -->
<a id="c15400_281"></a><blockquote class="code"><p class="quoted">
Instead of cutting something:
<br />&#160;&#160;&#160;&#160;if a blade (called the edge) is held by the player,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try cutting the noun with the edge;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Your fingernails are not sharp enough.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15401_281" -->
<a id="c15401_281"></a><blockquote class="code"><p class="quoted">
Cutting it with is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15402_281" -->
<a id="c15402_281"></a><blockquote class="code"><p class="quoted">
Check cutting it with:
<br />&#160;&#160;&#160;&#160;if the noun is a person, say &quot;That would hurt.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a blade, say &quot;[The second noun] has not got enough of a blade.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15403_281" -->
<a id="c15403_281"></a><blockquote class="code"><p class="quoted">
Carry out cutting it with:
<br />&#160;&#160;&#160;&#160;increment the count of rips of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15404_281" -->
<a id="c15404_281"></a><blockquote class="code"><p class="quoted">
Report cutting it with:
<br />&#160;&#160;&#160;&#160;say &quot;You slash [the noun] with [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We'll need a way to account for all these cuts and rips.</p>
<!-- START CODE "c15405_281" -->
<a id="c15405_281"></a><blockquote class="code"><p class="quoted">
Definition: a thing is ripped if the count of rips of it &gt; 0.  A thing has a number called the count of rips. After examining something ripped, say &quot;You see [the count of rips of the noun in words] rip[s] in [the noun][if something is in the noun], revealing [a list of things in the noun][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Moreover, because open containers normally list their contents when examined but we'd prefer Paddington's to be mentioned in the ripping paragraph:</p>
<!-- START CODE "c15406_281" -->
<a id="c15406_281"></a><blockquote class="code"><p class="quoted">
The examine containers rule does nothing when examining the teddy bear.
</p></blockquote>
<!-- END CODE -->
<p>So far, so good. But suppose that we'd like cutting also to make containers be permanently open and impossible to close again. We could write an &quot;instead&quot; rule, but that would mean that only our instead instructions would take effect, overriding the normal cutting it with rules entirely. Better would be to add a second carry out rule:</p>
<!-- START CODE "c15407_281" -->
<a id="c15407_281"></a><blockquote class="code"><p class="quoted">
Carry out cutting a container with something:
<br />&#160;&#160;&#160;&#160;now the noun is open;
<br />&#160;&#160;&#160;&#160;now the noun is unopenable.
</p></blockquote>
<!-- END CODE -->
<p>Now our rule will occur whenever a container is cut, but play will still go on to the reporting stage. And indeed we can add more of these, of varying degrees of specificity:</p>
<!-- START CODE "c15408_281" -->
<a id="c15408_281"></a><blockquote class="code"><p class="quoted">
Carry out cutting something which is part of something with something:
<br />&#160;&#160;&#160;&#160;move the noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15409_281" -->
<a id="c15409_281"></a><blockquote class="code"><p class="quoted">
Carry out cutting the quilt with something:
<br />&#160;&#160;&#160;&#160;now the description of the quilt is &quot;Horribly tattered.&quot;
</p></blockquote>
<!-- END CODE -->
<p>For that matter, we might want to add a report rule as well, to occur after the &quot;You slash...&quot; rule, so that every time the player cuts something open which has contents, the contents will be listed.</p>
<!-- START CODE "c15410_281" -->
<a id="c15410_281"></a><blockquote class="code"><p class="quoted">
Report cutting it with:
<br />&#160;&#160;&#160;&#160;if the noun is open and the noun contains something,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Visible within [is-are a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This time we do not add the condition to the rule (i.e., Report cutting an open noun...) If we did, this report rule would be more specific than the general report rule, and would occur first.</p>
<!-- START CODE "c15411_281" -->
<a id="c15411_281"></a><blockquote class="code"><p class="quoted">
The Safehouse is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15412_281" -->
<a id="c15412_281"></a><blockquote class="code"><p class="quoted">
The teddy bear is a closed thing in the Safehouse. The description is &quot;Fluffy[if the head is part of the bear], with an outsized head[otherwise], but headless[end if].&quot; The head is a closed part of the teddy bear. In the bear is a large wad of stuffing. In the head are a small wad of stuffing and a packet of smuggled diamonds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15413_281" -->
<a id="c15413_281"></a><blockquote class="code"><p class="quoted">
The quilt is in the Safehouse. The description is &quot;An old but comforting quilt.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15414_281" -->
<a id="c15414_281"></a><blockquote class="code"><p class="quoted">
The player carries a blade called a switchblade.
</p></blockquote>
<!-- END CODE -->
<p>Here is a final nicety to get rid of the &quot;which is closed&quot; statement on our closed unopenable teddy bear, using an &quot;activity&quot; rule:</p>
<!-- START CODE "c15415_281" -->
<a id="c15415_281"></a><blockquote class="code"><p class="quoted">
After printing the name of a closed unopenable container:
<br />&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15416_281" -->
<a id="c15416_281"></a><blockquote class="code"><p class="quoted">
Test me with &quot;cut quilt with bear / cut quilt with switchblade / examine quilt / cut bear with switchblade / again / examine bear / cut head with switchblade / get diamonds / mourn loss of innocence&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "314: Terracottissima" "e149" -->
<a id="e149"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e149" class="eglink"><b>314</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e149" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Terracottissima</span></b></a><br />The flowerpots once again, but this time arranged so that after the first breakage all undamaged pots are said to be "unbroken", to distinguish them from the others.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e149"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example149">
<p>This easiest way to do this uses the &quot;printing the name of&quot; activity, which will come up in the following chapter:</p>
<!-- START CODE "c15417_149" -->
<a id="c15417_149"></a><blockquote class="code"><p class="quoted">
&quot;Terracottissima&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15418_149" -->
<a id="c15418_149"></a><blockquote class="code"><p class="quoted">
A flowerpot is a kind of thing. Understand &quot;pot&quot; as a flowerpot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15419_149" -->
<a id="c15419_149"></a><blockquote class="code"><p class="quoted">
A flowerpot can be unbroken or broken. After dropping an unbroken flowerpot: say &quot;Crack!&quot;; now the noun is broken. Understand the broken property as describing a flowerpot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15420_149" -->
<a id="c15420_149"></a><blockquote class="code"><p class="quoted">
Before printing the name of a broken flowerpot, say &quot;broken &quot;. Before printing the name of an unbroken flowerpot: if a flowerpot is broken, say &quot;unbroken &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15421_149" -->
<a id="c15421_149"></a><blockquote class="code"><p class="quoted">
Before printing the plural name of a broken flowerpot, say &quot;broken &quot;. Before printing the plural name of an unbroken flowerpot: if a flowerpot is broken, say &quot;unbroken &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15422_149" -->
<a id="c15422_149"></a><blockquote class="code"><p class="quoted">
The Herb Garden is a room. In the Herb Garden are ten unbroken flowerpots.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15423_149" -->
<a id="c15423_149"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get three flowerpots / drop all / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "404: Kyoto" "e381" -->
<a id="e381"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e381" class="eglink"><b>404</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e381" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Kyoto</span></b></a><br />Expanding the effects of the THROW something AT something command so that objects do make contact with one another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_19.html#e381"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example381">
<p>Suppose we want to expand the function of the existing THROW SOMETHING AT command so that a thrown object actually does make contact most of the time. A glance at the Actions index tells us that the Throwing it at rulebook currently looks like this:</p>
<!-- START CODE "c15424_381" -->
<a id="c15424_381"></a><blockquote class="code"><p class="quoted">
Throwing something at something (past tense thrown it at)
<br />&#160;&#160;&#160;&#160;&quot;drop [something held] at/against/on/onto [something]&quot;
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">check</p></td><td class="quotedtablecell"><p class="quoted">an actor throwing something at</p></td><td class="quotedtablecell"><p class="quoted">implicitly remove thrown clothing rule</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">check</p></td><td class="quotedtablecell"><p class="quoted">an actor throwing something at</p></td><td class="quotedtablecell"><p class="quoted">futile to throw things at inanimate objects rule</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">check</p></td><td class="quotedtablecell"><p class="quoted">an actor throwing something at</p></td><td class="quotedtablecell"><p class="quoted">block throwing at rule</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Some of those still look useful. We want to leave the &quot;implicitly remove thrown clothing&quot; rule, for instance -- no fair having the player throw a hat that's on his head. On the other hand, the &quot;futile to throw things at inanimate objects rule&quot; is going to have to go, because that would prevent us from ever being able to complete the throwing command. So let's get rid of that:</p>
<!-- START CODE "c15425_381" -->
<a id="c15425_381"></a><blockquote class="code"><p class="quoted">
&quot;Kyoto&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15426_381" -->
<a id="c15426_381"></a><blockquote class="code"><p class="quoted">
Part 1 - Throwing Rules
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15427_381" -->
<a id="c15427_381"></a><blockquote class="code"><p class="quoted">
The futile to throw things at inanimate objects rule is not listed in the check throwing it at rules.
</p></blockquote>
<!-- END CODE -->
<p>That &quot;block throwing at&quot; rule also looks sinister: any &quot;block...&quot; rule in the standard actions library is there to print a message telling the player he can't do what he's asked to do.</p>
<p>But it's not enough to ignore it, the way we did the &quot;futile&quot; rule. Since we are only expanding the command to affect inanimate objects, let's replace the &quot;block throwing at&quot; rule with a different one which will only prevent the player throwing things at people:</p>
<!-- START CODE "c15428_381" -->
<a id="c15428_381"></a><blockquote class="code"><p class="quoted">
The block throwing at people rule is listed instead of the block throwing at rule in the check throwing it at rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15429_381" -->
<a id="c15429_381"></a><blockquote class="code"><p class="quoted">
This is the block throwing at people rule:
<br />&#160;&#160;&#160;&#160;if the second noun is a person, say &quot;That might be construed as an attack.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Now we've changed the command so that some action can sometimes be carried out here -- but we don't have any rules for what happens. It's time to create some rules for our model world.</p>
<!-- START CODE "c15430_381" -->
<a id="c15430_381"></a><blockquote class="code"><p class="quoted">
A thing can be hard or soft. A thing can be fragile or strong. Shape is a kind of value. The shapes are round, flat, and linear. A thing has shape.
</p></blockquote>
<!-- END CODE -->
<p>If we're actually going to allow throwing, we might want to add a couple of extra checks to the rulebook to make sure that this happens when it ought:</p>
<!-- START CODE "c15431_381" -->
<a id="c15431_381"></a><blockquote class="code"><p class="quoted">
Check throwing it at (this is the block juggling rule):
<br />&#160;&#160;&#160;&#160;if the player is carrying the second noun, say &quot;It would be difficult to throw at something you are yourself holding.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15432_381" -->
<a id="c15432_381"></a><blockquote class="code"><p class="quoted">
Check throwing it at (this is the avoid throwing things into themselves rule):
<br />&#160;&#160;&#160;&#160;if the second noun is within the noun, say &quot;That would be a nice magic trick.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>And then the rules for the action itself:</p>
<!-- START CODE "c15433_381" -->
<a id="c15433_381"></a><blockquote class="code"><p class="quoted">
Carry out throwing it at (this is the check aerodynamics rule):
<br />&#160;&#160;&#160;&#160;if the noun is flat:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move noun to location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun], unwieldy, flutters to the ground.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>That &quot;rule succeeds&quot; ends the action here, if the noun is flat. If not, Inform goes on to the next rule in the carry out throwing it at rulebook:</p>
<!-- START CODE "c15434_381" -->
<a id="c15434_381"></a><blockquote class="code"><p class="quoted">
Carry out throwing it at (this is the contact rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] hits [the second noun].[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;if the second noun is fragile and the noun is hard:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;destroy the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15435_381" -->
<a id="c15435_381"></a><blockquote class="code"><p class="quoted">
Carry out throwing it at (this is the landing rule):
<br />&#160;&#160;&#160;&#160;let destination be the location;
<br />&#160;&#160;&#160;&#160;if the second noun is on a supporter (called endtable), let destination be the endtable;
<br />&#160;&#160;&#160;&#160;if the second noun is a supporter, let destination be the second noun;
<br />&#160;&#160;&#160;&#160;move the noun to the destination;
<br />&#160;&#160;&#160;&#160;if the noun is fragile and the second noun is hard:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;destroy the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] lands [if the destination is the location]nearby[otherwise]on [the destination][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>These rules are assuming some backup information, so let's provide that as well:</p>
<!-- START CODE "c15436_381" -->
<a id="c15436_381"></a><blockquote class="code"><p class="quoted">
Reliance relates a thing (called X) to a thing (called Y) when X is part of Y or X is in Y or X is on Y. The verb to be relying on means the reliance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15437_381" -->
<a id="c15437_381"></a><blockquote class="code"><p class="quoted">
To destroy (item - a thing):
<br />&#160;&#160;&#160;&#160;let home be the holder of the item;
<br />&#160;&#160;&#160;&#160;if the item is part of something (called the superstructure), let home be the holder of the superstructure;
<br />&#160;&#160;&#160;&#160;if the item is visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item] breaks[if something is relying on the item], leaving [a list of things which are relying on the item] behind[end if].&quot;;
<br />&#160;&#160;&#160;&#160;if something is relying on the item,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now all the things which are relying on the item are in the home;
<br />&#160;&#160;&#160;&#160;now the item is nowhere.
</p></blockquote>
<!-- END CODE -->
<p>Now suppose we'd like to add some further cases for what happens if the player breaks a fragile door this way:</p>
<!-- START CODE "c15438_381" -->
<a id="c15438_381"></a><blockquote class="code"><p class="quoted">
To destroy (item - a door):
<br />&#160;&#160;&#160;&#160;now the item is open;
<br />&#160;&#160;&#160;&#160;now the item is unopenable;
<br />&#160;&#160;&#160;&#160;say &quot;[The item] smashes.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15439_381" -->
<a id="c15439_381"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of an unopenable open door while not throwing something at something:
<br />&#160;&#160;&#160;&#160;say &quot;open doorway&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15440_381" -->
<a id="c15440_381"></a><blockquote class="code"><p class="quoted">
Understand &quot;door&quot; or &quot;doorway&quot; as a door.
</p></blockquote>
<!-- END CODE -->
<p>This works, except that objects will continue to &quot;strike&quot; open, unopenable doors, with the result that the player can smash the same door over and over. What we need is another rule, after the aerodynamics rule and before the contact rule, that tells Inform how to handle throwing things at open doors.</p>
<!-- START CODE "c15441_381" -->
<a id="c15441_381"></a><blockquote class="code"><p class="quoted">
This is the flying through doorways rule:
<br />&#160;&#160;&#160;&#160;if the second noun is an open door:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the distant room be the other side of the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the distant room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] flies out of sight into [the distant room].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>If the original rulebook is one we wrote ourselves, we could just add that rule in the proper spot in order. If we got it from an extension, though, we might need to put it in the right place explicitly:</p>
<!-- START CODE "c15442_381" -->
<a id="c15442_381"></a><blockquote class="code"><p class="quoted">
The flying through doorways rule is listed before the contact rule in the carry out throwing it at rules.
</p></blockquote>
<!-- END CODE -->
<p>The magic of rulebooks is that they allow authors to amend each other's work (or the Standard Rules) with a fair amount of freedom. A well-written extension will give individual names to its rules, to allow subsequent authors to modify the function of the extension without too much trouble.</p>
<p>Now for an actual scenario with which to test this:</p>
<!-- START CODE "c15443_381" -->
<a id="c15443_381"></a><blockquote class="code"><p class="quoted">
 Part 2 - The Study
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15444_381" -->
<a id="c15444_381"></a><blockquote class="code"><p class="quoted">
The sliding paper screen is a door. It is north of the Moss Garden and south of the Study. The paper screen is fragile.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15445_381" -->
<a id="c15445_381"></a><blockquote class="code"><p class="quoted">
The player carries a netsuke and a shamisen. The description of the netsuke is &quot;A weight for the cord on which you wear your purse or your medicine box. This particular one has the shape of a bullfrog, carved from green stone.&quot; The netsuke is round, hard, and strong. Understand &quot;green&quot; or &quot;stone&quot; or &quot;bullfrog&quot; as the netsuke.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15446_381" -->
<a id="c15446_381"></a><blockquote class="code"><p class="quoted">
The description of the shamisen is &quot;An instrument you have only begun to learn to play.&quot; The shamisen is linear, soft, and fragile. A neck is part of the shamisen. The neck is linear, strong, and hard. A body is part of the shamisen. The body is round, fragile, and soft. A string is part of the shamisen. The string is linear, soft, and strong. The printed name of the body is &quot;[if the body is not part of the shamisen]shamisen [end if]body&quot;. The printed name of the neck is &quot;[if the neck is not part of the shamisen]shamisen [end if]neck&quot;. Understand &quot;shamisen&quot; as the body when the body is not part of the shamisen. Understand &quot;shamisen&quot; as the neck when the neck is not part of the shamisen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15447_381" -->
<a id="c15447_381"></a><blockquote class="code"><p class="quoted">
The description of the Study is &quot;A restful three-tatami room.&quot; The Study contains a calligraphy box and a hanging scroll. The initial appearance of the hanging scroll is &quot;A handsome scroll depicts two women in kimonos crossing a bridge; Mount Fuji is in the background.&quot; The calligraphy box contains a brush. The box is openable and closed. The brush is hard, linear, and strong. The calligraphy box is round, soft, and strong. The hanging scroll is flat, soft, and strong.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15448_381" -->
<a id="c15448_381"></a><blockquote class="code"><p class="quoted">
The description of the Moss Garden is &quot;Earlier today, you arranged three leaves on the moss in imitation of autumn. They must not be disturbed.&quot; The leaves are scenery in the Moss Garden. Instead of throwing something at the leaves: say &quot;You spent too long over their placement.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15449_381" -->
<a id="c15449_381"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test one / test two&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15450_381" -->
<a id="c15450_381"></a><blockquote class="code"><p class="quoted">
Test one with &quot;open screen / throw netsuke at screen / n / get netsuke / close screen / get scroll / throw scroll at screen / throw netsuke at scroll / get netsuke / throw netsuke at shamisen / drop netsuke&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15451_381" -->
<a id="c15451_381"></a><blockquote class="code"><p class="quoted">
Test two with &quot;throw shamisen at netsuke / get all / throw netsuke at screen / get netsuke / throw netsuke at door / s / get netsuke&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "232: Swerve left? Swerve right? Or think about it and die?" "e239" -->
<a id="e239"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e239" class="eglink"><b>232</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e239" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Swerve left? Swerve right? Or think about it and die?</span></b></a><br />Building a marble chute track in which a dropped marble will automatically roll downhill.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e239"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example239">
<p>Suppose we have marbles that roll downhill across our map, in a life-size version of one of those marble-chute toys. We might now want to keep track of both compass relationships and which-room-slopes-into-which, so we make a new relation:</p>
<!-- START CODE "c15452_239" -->
<a id="c15452_239"></a><blockquote class="code"><p class="quoted">
&quot;Swerve left? Swerve right? Or think about it and die?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15453_239" -->
<a id="c15453_239"></a><blockquote class="code"><p class="quoted">
Overlooking relates various rooms to various rooms.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15454_239" -->
<a id="c15454_239"></a><blockquote class="code"><p class="quoted">
The verb to overlook means the overlooking relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15455_239" -->
<a id="c15455_239"></a><blockquote class="code"><p class="quoted">
A thing can be spherical or lumpy. A marble is a kind of thing. A marble is always spherical. The player carries a marble called a red marble. The player carries a marble called an agate marble. The player carries a marble called a blue cloudy marble.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15456_239" -->
<a id="c15456_239"></a><blockquote class="code"><p class="quoted">
The Long Yellow Slide is north of the Funnel. The Long Yellow Slide overlooks the Blue Funnel. The Ski-jump is below the Blue Funnel. The Blue Funnel overlooks the Ski-jump. The Ski-jump overlooks the Landing Bowl. The Landing Bowl overlooks the Snake Run. The Landing Bowl is north of the Snake Run. The Snake Run overlooks the Goal. The Snake Run is north of the Goal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15457_239" -->
<a id="c15457_239"></a><blockquote class="code"><p class="quoted">
Definition: a room is sloping if it overlooks a room.
</p></blockquote>
<!-- END CODE -->
<p>And let's say we want the player to be allowed to slide, too, since that would be much more fun than just watching the marbles go:</p>
<!-- START CODE "c15458_239" -->
<a id="c15458_239"></a><blockquote class="code"><p class="quoted">
Understand &quot;sit&quot; as sitting down. Sitting down is an action applying to nothing. Check sitting down: if the player is spherical, say &quot;You are already seated.&quot; Carry out sitting down: now the player is spherical. Report sitting down: say &quot;You sit, ready to slide wherever fate takes you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15459_239" -->
<a id="c15459_239"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;stand&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15460_239" -->
<a id="c15460_239"></a><blockquote class="code"><p class="quoted">
Understand &quot;stand&quot; or &quot;stand up&quot; as standing up. Standing up is an action applying to nothing. Check standing up: if the player is lumpy, say &quot;You are already standing.&quot; Carry out standing up: now the player is lumpy. Report standing up: say &quot;You get to your feet.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now a rule to control what happens to all our sliding and rolling objects:</p>
<!-- START CODE "c15461_239" -->
<a id="c15461_239"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with item running through spherical things which are in sloping rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the current space be the holder of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the final space be a random room which is overlooked by the current space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the item and the item is a marble, say &quot;[The item] rolls out of the room toward [the final space].[line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player is the item, say &quot;You keep sliding...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the item to the final space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the item and the item is a marble, say &quot;[The item] rolls into the room from [the current space].[line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Since the Ski-jump overlooks the Landing Bowl, the marble will be able to fly through the air to its destination, even though there is no map connection to allow the player to cross. We might want to let the player make it across this barrier also, so:</p>
<!-- START CODE "c15462_239" -->
<a id="c15462_239"></a><blockquote class="code"><p class="quoted">
Instead of jumping in a sloping room:
<br />&#160;&#160;&#160;&#160;say &quot;You leap...&quot;;
<br />&#160;&#160;&#160;&#160;move the player to a random room overlooked by the location.
</p></blockquote>
<!-- END CODE -->
<p>Because overlooking is various-to-various, we could include that element popular in marble chute toys, the splitter:</p>
<!-- START CODE "c15463_239" -->
<a id="c15463_239"></a><blockquote class="code"><p class="quoted">
The Downhill Splitter is north of the Long Yellow Slide. &quot;The green plastic chute runs downhill towards a Y-junction, forcing incoming marbles right or left.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15464_239" -->
<a id="c15464_239"></a><blockquote class="code"><p class="quoted">
The Downhill Splitter overlooks the Long Yellow Slide and the Purple Snaking Passage. The Purple Snaking Passage is southeast of the Downhill Splitter. The Purple Snaking Passage overlooks the Landing Bowl. The Purple Snaking Passage is above the Landing Bowl.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15465_239" -->
<a id="c15465_239"></a><blockquote class="code"><p class="quoted">
The player is in the Downhill Splitter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15466_239" -->
<a id="c15466_239"></a><blockquote class="code"><p class="quoted">
Test me with &quot;drop red / drop blue / sit / z / stand up / drop agate / sit / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "268: Depth" "e317" -->
<a id="e317"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e317" class="eglink"><b>268</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e317" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Depth</span></b></a><br />Receptacles that calculate internal volume and the amount of room available, and  cannot be overfilled.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e317"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example317">
<p>In the following, we pretend that every item has a cuboidal shape. Every thing has a length, width and depth, while a &quot;measured container&quot; also has interior dimensions. (Thus a 10x10x10 container with 1cm-thick sides might have interior dimensions 9x9x9.)</p>
<!-- START CODE "c15467_317" -->
<a id="c15467_317"></a><blockquote class="code"><p class="quoted">
&quot;Depth&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15468_317" -->
<a id="c15468_317"></a><blockquote class="code"><p class="quoted">
A length is a kind of value. 10 cm specifies a length. An area is a kind of value. 10 sq cm specifies an area. A length times a length specifies an area. A volume is a kind of value. 10 cu cm specifies a volume. A length times an area specifies a volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15469_317" -->
<a id="c15469_317"></a><blockquote class="code"><p class="quoted">
A thing has a length called height. A thing has a length called width. A thing has a length called depth. The height of a thing is usually 10 cm. The width of a thing is usually 10 cm. The depth of a thing is usually 10 cm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15470_317" -->
<a id="c15470_317"></a><blockquote class="code"><p class="quoted">
To decide what volume is the exterior volume of (item - a thing):
<br />&#160;&#160;&#160;&#160;let base area be the height of the item multiplied by the width of the item;
<br />&#160;&#160;&#160;&#160;let base volume be the base area multiplied by the depth of the item;
<br />&#160;&#160;&#160;&#160;decide on the base volume.
</p></blockquote>
<!-- END CODE -->
<p>In order to see how these shapes might fit together spatially, we need to work out the three dimensions in order of size. (If we were only dealing with portable objects, we could simply insist that the length always be greater than the width which in turn must be greater than the depth, because we could always turn them over in our hands until this was so: but some of the things we deal with may be fixed in place.) A clever way to do this might be to put them in a table of three rows and sort it, but we will write the calculation out longhand:</p>
<!-- START CODE "c15471_317" -->
<a id="c15471_317"></a><blockquote class="code"><p class="quoted">
To decide what length is the largest dimension of (item - a thing):
<br />&#160;&#160;&#160;&#160;let long side be the height of item;
<br />&#160;&#160;&#160;&#160;if the width of the item is greater than the long side, now the long side is the width of the item;
<br />&#160;&#160;&#160;&#160;if the depth of the item is greater than the long side, now the long side is the depth of the item;
<br />&#160;&#160;&#160;&#160;decide on the long side.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15472_317" -->
<a id="c15472_317"></a><blockquote class="code"><p class="quoted">
To decide what length is the middling dimension of (item - a thing):
<br />&#160;&#160;&#160;&#160;let longer side be the height of item;
<br />&#160;&#160;&#160;&#160;let shorter side be the width of item;
<br />&#160;&#160;&#160;&#160;if the width of the item is greater than the height of the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let shorter side be the height of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let longer side be the width of item;
<br />&#160;&#160;&#160;&#160;if the depth of the item is greater than the longer side, decide on the longer side;
<br />&#160;&#160;&#160;&#160;if the depth of the item is less than the shorter side, decide on the shorter side;
<br />&#160;&#160;&#160;&#160;decide on the depth of the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15473_317" -->
<a id="c15473_317"></a><blockquote class="code"><p class="quoted">
To decide what length is the shortest dimension of (item - a thing):
<br />&#160;&#160;&#160;&#160;let short side be the height of item;
<br />&#160;&#160;&#160;&#160;if the width of the item is less than the short side, now the short side is the width of the item;
<br />&#160;&#160;&#160;&#160;if the depth of the item is less than the short side, now the short side is the depth of the item;
<br />&#160;&#160;&#160;&#160;decide on the short side.
</p></blockquote>
<!-- END CODE -->
<p>When testing this example, the author made use of the following: it's no longer needed, but may be useful to anyone else planning elaborations.</p>
<!-- START CODE "c15474_317" -->
<a id="c15474_317"></a><blockquote class="code"><p class="quoted">
To test the dimensions of (item - a thing):
<br />&#160;&#160;&#160;&#160;say &quot;[the item] - height [height of the item], width [width of the item], depth [depth of the item].&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;largest side [largest dimension of the item], middling [middling dimension of the item], smallest [shortest dimension of the item].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We now introduce a new kind: a measured container, which not only has exterior dimensions - the height, width and depth which every thing now has - but also interior measurements. A convenient way to do calculations with the hollow interior is to regard it as if it were a solid shape in its own right, and we do this with the aid of something out of world, which the player never sees: the &quot;imaginary cuboid&quot;, which is made into the shape of whatever measured container's interior is being thought about.</p>
<!-- START CODE "c15475_317" -->
<a id="c15475_317"></a><blockquote class="code"><p class="quoted">
A measured container is a kind of container. A measured container has a length called interior height. A measured container has a length called interior width. A measured container has a length called interior depth.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15476_317" -->
<a id="c15476_317"></a><blockquote class="code"><p class="quoted">
There is an imaginary cuboid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15477_317" -->
<a id="c15477_317"></a><blockquote class="code"><p class="quoted">
To imagine the interior of (receptacle - a measured container) as a cuboid:
<br />&#160;&#160;&#160;&#160;now the height of the imaginary cuboid is the interior height of the receptacle;
<br />&#160;&#160;&#160;&#160;now the width of the imaginary cuboid is the interior width of the receptacle;
<br />&#160;&#160;&#160;&#160;now the depth of the imaginary cuboid is the interior depth of the receptacle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15478_317" -->
<a id="c15478_317"></a><blockquote class="code"><p class="quoted">
To decide what volume is the interior volume of (receptacle - a measured container):
<br />&#160;&#160;&#160;&#160;imagine the interior of the receptacle as a cuboid;
<br />&#160;&#160;&#160;&#160;decide on the exterior volume of the imaginary cuboid.
</p></blockquote>
<!-- END CODE -->
<p>If we assume that we could always pack items into a measured container with perfect ease, never wasting any space, then the only volume constraint will be that the total volume of the contents must not exceed the volume of the inside of the container. So we need to calculate the available volume.</p>
<!-- START CODE "c15479_317" -->
<a id="c15479_317"></a><blockquote class="code"><p class="quoted">
To decide what volume is the available volume of (receptacle - a measured container):
<br />&#160;&#160;&#160;&#160;let the remaining space be the interior volume of the receptacle;
<br />&#160;&#160;&#160;&#160;repeat with item running through things in the receptacle:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the remaining space by the exterior volume of the item;
<br />&#160;&#160;&#160;&#160;if the remaining space is less than 0 cu cm, decide on 0 cu cm;
<br />&#160;&#160;&#160;&#160;decide on the remaining space.
</p></blockquote>
<!-- END CODE -->
<p>If we only constrained volume, a 140 cm-long fishing rod could fit into a 12 cm by 12 cm compact disc box. So we also insist the basic shape must fit, in some orientation perpendicular to one of the sides (i.e.: we can turn the item over in any of its three sides, but not turn it diagonally or wedge it in at a tilt). This requires the longest side of the item to be less than the longest side of the receptacle, and the middle-length side, and also the shortest side. The number of these conditions to fail gives us a clue as to how we can best describe the reason why the shape won't squeeze in.</p>
<!-- START CODE "c15480_317" -->
<a id="c15480_317"></a><blockquote class="code"><p class="quoted">
Check inserting something (called the item) into a measured container (called the receptacle):
<br />&#160;&#160;&#160;&#160;if the exterior volume of the item is greater than the interior volume of the receptacle, say &quot;[The item] will never fit inside [the receptacle].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the exterior volume of the item is greater than the available volume of the receptacle, say &quot;[The item] will not fit into [the receptacle] with [the list of things in the receptacle].&quot; instead;
<br />&#160;&#160;&#160;&#160;imagine the interior of the receptacle as a cuboid;
<br />&#160;&#160;&#160;&#160;if the largest dimension of the item is greater than the largest dimension of the imaginary cuboid, say &quot;[The item] is too long to fit into [the receptacle].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the middling dimension of the item is greater than the middling dimension of the imaginary cuboid, say &quot;[The item] is too wide to fit into [the receptacle].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the shortest dimension of the item is greater than the shortest dimension of the imaginary cuboid, say &quot;[The item] is too bulky to fit into [the receptacle].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>And finally a situation to try out these rules.</p>
<!-- START CODE "c15481_317" -->
<a id="c15481_317"></a><blockquote class="code"><p class="quoted">
The Cubist Lab is a room. &quot;A laboratory which, as the art critic Louis Vauxcelles said about Braque's paintings in 1908, is full of little cubes: everyday objects rendered as if cuboidal.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15482_317" -->
<a id="c15482_317"></a><blockquote class="code"><p class="quoted">
The box is a measured container. The interior height is 10 cm. The interior depth is 5 cm. The interior width is 6 cm. The player carries the box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15483_317" -->
<a id="c15483_317"></a><blockquote class="code"><p class="quoted">
A pebble is a kind of thing. The height is usually 2 cm. The depth is usually 2 cm. The width is usually 2 cm. The player carries 25 pebbles.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15484_317" -->
<a id="c15484_317"></a><blockquote class="code"><p class="quoted">
A red rubber ball is carried by the player. The depth is 5 cm. The width is 5 cm. The height is 5 cm.
<br />An arrow is carried by the player. The height is 40 cm. The width is 1 cm. The depth is 1 cm.
<br />A crusty baguette is carried by the player. The height is 80 cm. The width is 4 cm. The depth is 5 cm.
<br />A child's book is carried by the player. The height is 1 cm. The width is 9 cm. The depth is 9 cm.
<br />A featureless white cube is carried by the player. The height is 6 cm. The width is 6 cm. The depth is 6 cm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15485_317" -->
<a id="c15485_317"></a><blockquote class="code"><p class="quoted">
Test me with &quot;put arrow in box / put book in box / put cube in box / put ball in box / put baguette in box / put pebbles in box&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Several warnings about this. First, the numbers can't go very high (if the Settings for the project set the story file format to the Z-machine): while the volume can in theory go to 32,767, in practice this equates to an object 32 cm on a side, which is not very large. One way to avoid this is to use the Glulx format, allowing for sizes in excess of 10 m on a side: or we could simply scale the dimensions to suit our purposes, using a decimeter (10 cm) as the basic unit of measurement, for instance.</p>
<p>Second, the system will require a height, width, and depth for every portable object in the game, which is a large commitment to data entry; it may become tiresome. So it is probably not worth bothering with this kind of simulation unless it is going to be genuinely significant.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "258: Dimensions" "e431" -->
<a id="e431"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e431" class="eglink"><b>258</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e431" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Dimensions</span></b></a><br />This example draws together the previous snippets into a working implementation of the weighbridge.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e431"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example431">
<p>The following is not a very sophisticated approach, because it does not allow for weight to accumulate: if we put a gold ingot into a paper bag, then put the bag on the balance platform, only the bag's weight will register. But it will do for a first try.</p>
<!-- START CODE "c15486_431" -->
<a id="c15486_431"></a><blockquote class="code"><p class="quoted">
&quot;Dimensions&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15487_431" -->
<a id="c15487_431"></a><blockquote class="code"><p class="quoted">
A length is a kind of value. 10m specifies a length. An area is a kind of value. 10 sq m specifies an area. A length times a length specifies an area.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15488_431" -->
<a id="c15488_431"></a><blockquote class="code"><p class="quoted">
A weight is a kind of value. 10kg specifies a weight. Everything has a weight.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15489_431" -->
<a id="c15489_431"></a><blockquote class="code"><p class="quoted">
The verb to weigh means the weight property. A thing usually weighs 1kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15490_431" -->
<a id="c15490_431"></a><blockquote class="code"><p class="quoted">
Definition: A thing is light if its weight is 3kg or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15491_431" -->
<a id="c15491_431"></a><blockquote class="code"><p class="quoted">
Definition: A thing is heavy if its weight is 10kg or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15492_431" -->
<a id="c15492_431"></a><blockquote class="code"><p class="quoted">
The Weighbridge is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15493_431" -->
<a id="c15493_431"></a><blockquote class="code"><p class="quoted">
A blackboard is in the Weighbridge. &quot;A blackboard propped against one wall reads: '122/10 is [122 divided by 10] remainder [remainder after dividing 122 by 10]; 122kg/10kg is [122kg divided by 10kg] remainder [remainder after dividing 122kg by 10kg]; 122kg/10 is [122kg divided by 10] remainder [remainder after dividing 122kg by 10].'&quot; The blackboard weighs 10kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15494_431" -->
<a id="c15494_431"></a><blockquote class="code"><p class="quoted">
A feather and a lead pig are in the Weighbridge. The lead pig weighs 45kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15495_431" -->
<a id="c15495_431"></a><blockquote class="code"><p class="quoted">
The balance platform is a supporter in the Weighbridge. &quot;The balance platform is 10m by 8m, giving it an area of [10m multiplied by 8m], currently weighing [the list of things on the platform]. The scale alongside reads: [total weight of things on the platform]. [if two things are on the platform]Average weight is: [the total weight of things on the platform divided by the number of things on the platform]. Heaviest item is [the heaviest thing on the platform], at [weight of the heaviest thing on the platform]. Lightest item is [the lightest thing on the platform], at [weight of the lightest thing on the platform].[otherwise]It seems to be able to weigh several things at once.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15496_431" -->
<a id="c15496_431"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get feather / put it on platform / look / get pig / put it on platform / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "270: The Speed of Thought" "e355" -->
<a id="e355"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e355" class="eglink"><b>270</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e355" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Speed of Thought</span></b></a><br />Describing scientifically-measured objects in units more familiar to the casual audience.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e355"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example355">
<p>Suppose that we have a number of objects in the game that are sized in some conventional unit (such as meters), but which we would like to describe in slightly less formal terms. To do this, we will start with measurements as defined in the built-in extension Metric Units, so we don't have to recreate all these.</p>
<p>We'll add our own set of &quot;conceptual units&quot; -- things we're familiar with in real life. As we'll see below, Inform will automatically choose a unit of the right order to express a given distance if we tell it to print a length &quot;in conceptual units&quot;.</p>
<p>Note: the following will compile only if you have settings set for Glulx. (To change this, go to the Settings panel and click on the Glulx option.) The Glulx virtual machine is capable of handling larger numbers than the Z-machine.</p>
<!-- START CODE "c15497_355" -->
<a id="c15497_355"></a><blockquote class="code"><p class="quoted">
&quot;The Speed of Thought&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15498_355" -->
<a id="c15498_355"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15499_355" -->
<a id="c15499_355"></a><blockquote class="code"><p class="quoted">
Include Metric Units by Graham Nelson.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15500_355" -->
<a id="c15500_355"></a><blockquote class="code"><p class="quoted">
1 quarter (in conceptual units, in quarters, singular) or 2 quarters (in conceptual units, in quarters, plural) specifies a length equivalent to 24mm.
<br />1 pencil (in conceptual units, in pencils, singular) or 2 pencils (in conceptual units, in pencils, plural) specifies a length equivalent to 18cm.
<br />1 bathtub (in conceptual units, in bathtubs, singular) or 2 bathtubs (in conceptual units, in bathtubs, plural) specifies a length equivalent to 152cm.
<br />1 Olympic swimming pool (in conceptual units, in Olympic swimming pools, singular) or 2 Olympic swimming pools (in conceptual units, in Olympic swimming pools, plural) specifies a length equivalent to 50 meters.
<br />1 Empire state building (in conceptual units, in Empire State buildings, singular) or 2 Empire State buildings (in conceptual units, in Empire State buildings, plural) specifies a length equivalent to 443m.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15501_355" -->
<a id="c15501_355"></a><blockquote class="code"><p class="quoted">
1 credit card (in conceptual units, in credit cards, singular) or 2 credit cards (in conceptual units, in credit cards, plural) specifies an area equivalent to 46 sq cm.
<br />1 letter sheet (in conceptual units, in letter sheets, singular) or 2 letter sheets (in conceptual units, in letter sheets, plural) specifies an area equivalent to 603 sq cm.
<br />1 queen-sized mattress (in conceptual units, in queen-sized mattresses, singular) or 2 queen-sized mattresses (in conceptual units, in queen-sized mattresses, plural) specifies an area equivalent to 3 square meters.
<br />1 football field (in conceptual units, in football fields, singular) or 2 football fields (in conceptual units, in football fields, plural) specifies an area equivalent to 5351 square meters.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15502_355" -->
<a id="c15502_355"></a><blockquote class="code"><p class="quoted">
Understand &quot;report [something]&quot; as reporting. Reporting is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15503_355" -->
<a id="c15503_355"></a><blockquote class="code"><p class="quoted">
Check reporting:
<br />&#160;&#160;&#160;&#160;if the noun is not a fact:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The public doesn't want to hear about [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15504_355" -->
<a id="c15504_355"></a><blockquote class="code"><p class="quoted">
Carry out reporting:
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15505_355" -->
<a id="c15505_355"></a><blockquote class="code"><p class="quoted">
Report reporting:
<br />&#160;&#160;&#160;&#160;if the extent of the noun is greater than 0mm and the surface of the noun is greater than 0 sq cm:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;contextualize &quot;'[The noun] has a length of [about] [extent of the noun in conceptual units] and an area of [about] [surface of the noun in conceptual units].'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the extent of the noun is greater than 0mm:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;contextualize &quot;'[The noun] has a length of [about] [extent of the noun in conceptual units].'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the surface of the noun is greater than 0 sq cm:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;contextualize &quot;'[The noun] has an area of [about] [surface of the noun in conceptual units].'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'[The noun] is... pretty hard to imagine,' you say weakly. That's not going to go over well.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15506_355" -->
<a id="c15506_355"></a><blockquote class="code"><p class="quoted">
To say about:
<br />&#160;&#160;&#160;&#160;say &quot;[one of]roughly[or]about[or]around[or]approximately[at random]&quot;;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15507_355" -->
<a id="c15507_355"></a><blockquote class="code"><p class="quoted">
To contextualize (chosen information - text):
<br />&#160;&#160;&#160;&#160;say &quot;[one of]You turn to the camera and speak:[or][or]Turning to another camera angle, you add:[or][stopping] &quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[chosen information] &quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[one of][line break][or]Right now the station will be cutting over to a visual of that.[or][line break][or]Pity the kids in audiovisual who have to scare that image together in a hurry.[or]You smile brightly.[stopping]&quot;;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15508_355" -->
<a id="c15508_355"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15509_355" -->
<a id="c15509_355"></a><blockquote class="code"><p class="quoted">
The Science Journalism Desk is a room. &quot;From here you, the Science Anchor, have the privilege of reporting the latest and most fascinating stories to an eager public.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15510_355" -->
<a id="c15510_355"></a><blockquote class="code"><p class="quoted">
After looking:
<br />&#160;&#160;&#160;&#160;try thinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15511_355" -->
<a id="c15511_355"></a><blockquote class="code"><p class="quoted">
Instead of thinking:
<br />&#160;&#160;&#160;&#160;say &quot;Currently you have to report on the International Space Station. Your story could include [the list of facts carried by the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15512_355" -->
<a id="c15512_355"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;It looks foolish to be fiddling with your possessions on camera.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15513_355" -->
<a id="c15513_355"></a><blockquote class="code"><p class="quoted">
Instead of dropping a fact:
<br />&#160;&#160;&#160;&#160;say &quot;You decide to omit [the noun] from your lineup.&quot;;
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15514_355" -->
<a id="c15514_355"></a><blockquote class="code"><p class="quoted">
A fact is a kind of thing. Every fact is carried by the player. A fact has a length called the extent. A fact has an area called the surface.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15515_355" -->
<a id="c15515_355"></a><blockquote class="code"><p class="quoted">
The experiment module is a fact. The extent is 1116cm.
<br />The logistics module is a fact. The extent is 421cm.
<br />The solar array is a fact. The surface is 375 sq m. The extent is 58m.
<br />An individual solar cell is a fact. The surface is 8 sq cm.
<br />The orbit height is a fact.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15516_355" -->
<a id="c15516_355"></a><blockquote class="code"><p class="quoted">
Report reporting the orbit height:
<br />&#160;&#160;&#160;&#160;contextualize &quot;'The station orbits at heights between [about] [278km in conceptual units] and [460km in conceptual units] above the earth.'&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15517_355" -->
<a id="c15517_355"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the player carries no facts:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;And that's all! The channel cuts to weather.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story saying &quot;Time for lunch&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15518_355" -->
<a id="c15518_355"></a><blockquote class="code"><p class="quoted">
Test me with &quot;report experiment module / report logistics / report height / report array / report solar cell&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "259: Lead Cuts Paper" "e365" -->
<a id="e365"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e365" class="eglink"><b>259</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e365" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lead Cuts Paper</span></b></a><br />To give every container a breaking strain, that is, a maximum weight of contents which it can bear - so that to put the lead pig into a paper bag invites disaster.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e365"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example365">
<p>The following shows the kind of &quot;realism&quot; rules which could be introduced using weights. Not entirely realistic: we do not bother to rupture containers out of the player's sight.</p>
<!-- START CODE "c15519_365" -->
<a id="c15519_365"></a><blockquote class="code"><p class="quoted">
&quot;Lead Cuts Paper&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15520_365" -->
<a id="c15520_365"></a><blockquote class="code"><p class="quoted">
A weight is a kind of value. 10kg specifies a weight. Everything has a weight. A thing usually has weight 1kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15521_365" -->
<a id="c15521_365"></a><blockquote class="code"><p class="quoted">
A container has a weight called breaking strain. The breaking strain of a container is usually 50kg. Definition: A container is bursting if the total weight of things in it is greater than its breaking strain.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15522_365" -->
<a id="c15522_365"></a><blockquote class="code"><p class="quoted">
A lead pig, a feather, a silver coin and a paper bag are in a room called the Metallurgy Workshop. The paper bag is a container with breaking strain 2kg.  The lead pig has weight 50kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15523_365" -->
<a id="c15523_365"></a><blockquote class="code"><p class="quoted">
Every turn when a container (called the sack) held by someone visible (called the chump) is bursting:
<br />&#160;&#160;&#160;&#160;say &quot;[The sack] splits and breaks under the weight! [if the player is the chump]You discard[otherwise][The chump] discards[end if] its ruined remains, looking miserably down at [the list of things in the sack] on the floor.&quot;;
<br />&#160;&#160;&#160;&#160;now all of the things in the sack are in the location;
<br />&#160;&#160;&#160;&#160;now the sack is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15524_365" -->
<a id="c15524_365"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get bag / get feather / put feather in bag / get pig / put pig in bag / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "228: Otranto" "e330" -->
<a id="e330"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e330" class="eglink"><b>228</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e330" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Otranto</span></b></a><br />A kind of rope which can be tied to objects and used to anchor the player or drag items from room to room.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e330"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example330">
<p>The range of things one might want to do with a rope in a work of interactive fiction is fairly overwhelming. One might, in theory, swing from ropes; use them to tie containers shut; cut them up into smaller ropes; tie them together into longer ropes; employ them as fuses; bind other characters with them, or the player character.</p>
<p>Our rope implementation is, by these lights, reasonably simple, but it does account for the possibility of tying and untying both ends; using ropes to descend into lower rooms; pulling objects tied to the far end of the rope; and dragging objects from place to place.</p>
<!-- START CODE "c15525_330" -->
<a id="c15525_330"></a><blockquote class="code"><p class="quoted">
&quot;Otranto&quot;
</p></blockquote>
<!-- END CODE -->
<p>We start by coming up with a rope.</p>
<!-- START CODE "c15526_330" -->
<a id="c15526_330"></a><blockquote class="code"><p class="quoted">
A rope is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15527_330" -->
<a id="c15527_330"></a><blockquote class="code"><p class="quoted">
Definition: a thing is nonrope if it is not a rope. [The perfect idiocy of this statement notwithstanding, having a shortcut will come in very handy later]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15528_330" -->
<a id="c15528_330"></a><blockquote class="code"><p class="quoted">
Attachment relates things to each other in groups. The verb to be stuck to means the attachment relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15529_330" -->
<a id="c15529_330"></a><blockquote class="code"><p class="quoted">
Definition: a thing is tied if the number of things stuck to it is greater than 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15530_330" -->
<a id="c15530_330"></a><blockquote class="code"><p class="quoted">
Definition: a thing is free if it is not tied.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15531_330" -->
<a id="c15531_330"></a><blockquote class="code"><p class="quoted">
Definition: a rope is free if the number of nonrope things stuck to it is less than 2.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15532_330" -->
<a id="c15532_330"></a><blockquote class="code"><p class="quoted">
Definition: a thing is hindering if it is stuck to the noun and it is not within the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15533_330" -->
<a id="c15533_330"></a><blockquote class="code"><p class="quoted">
A thing can be round or unevenly shaped. A thing is usually round.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15534_330" -->
<a id="c15534_330"></a><blockquote class="code"><p class="quoted">
Definition: something is anchored if it is fixed in place or it is scenery or it is part of an anchored thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15535_330" -->
<a id="c15535_330"></a><blockquote class="code"><p class="quoted">
Definition: something is draggable if it is not had by the player and it is not the player and it is not anchored.
</p></blockquote>
<!-- END CODE -->
<p>Now, we want a rope to be described in terms of the way it is tied, when it's described in a room description.</p>
<!-- START CODE "c15536_330" -->
<a id="c15536_330"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a rope (called the coil):
<br />&#160;&#160;&#160;&#160;if the coil is stuck to something which is in a room (called the next room) which is not the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to the next room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is up or the way is down:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The coil] runs [way] into [the next room].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The coil] snakes across the floor [way] towards [the next room].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is [a coil] here[if the coil is stuck to a visible nonrope thing], tied to [the list of nonrope visible things which are stuck to the coil][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15537_330" -->
<a id="c15537_330"></a><blockquote class="code"><p class="quoted">
To decide what room is the home of (item - a thing):
<br />&#160;&#160;&#160;&#160;if item is a door:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let front cut be the number of moves from the location to the front side of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let back cut be the number of moves from the location to the back side of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if front cut is -1, let front cut be 999;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if back cut is -1, let back cut be 999;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the location encloses the item, decide on the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if front cut is greater than back cut, decide on the back side of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decide on the front side of the item;
<br />&#160;&#160;&#160;&#160;decide on the location of the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15538_330" -->
<a id="c15538_330"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a nonrope thing (called the anchor) which is stuck to a rope (called the coil):
<br />&#160;&#160;&#160;&#160;if the coil is in an adjacent room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the next room be the home of the coil;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to the next room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is up or the way is down:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The coil] runs [way] from [the anchor] into [the next room].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From [the anchor] runs [a coil], heading off toward [the way].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the coil is stuck to something which is not visible,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The coil] is tied to [the anchor][if the coil is stuck to something in an adjacent room (called the next room)], and from there runs off towards [the next room][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We need a way to account for it when it's being carried, as well.</p>
<!-- START CODE "c15539_330" -->
<a id="c15539_330"></a><blockquote class="code"><p class="quoted">
After printing the name of a rope (called the tied object) while taking inventory:
<br />&#160;&#160;&#160;&#160;if something nonrope is stuck to the tied object:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; (attached to [the list of nonrope things which are stuck to the tied object])&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; (with both ends free)&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And, indeed, whenever the player examines a rope, we should see what's connected.</p>
<!-- START CODE "c15540_330" -->
<a id="c15540_330"></a><blockquote class="code"><p class="quoted">
Instead of examining a rope (called the cord) when something is stuck to the cord:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is tied to [the list of secondary things which are stuck to the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Similarly, any time the player looks at something tied to a rope.</p>
<!-- START CODE "c15541_330" -->
<a id="c15541_330"></a><blockquote class="code"><p class="quoted">
After examining the player when the player is stuck to something which is not the player:
<br />&#160;&#160;&#160;&#160;say &quot;You're currently lashed to [the list of secondary things stuck to the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15542_330" -->
<a id="c15542_330"></a><blockquote class="code"><p class="quoted">
After examining something which is stuck to something secondary:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is currently attached to [the list of secondary things stuck to the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We also need to make sure that the rope can be interacted with properly even when it's partly in the next room.</p>
<!-- START CODE "c15543_330" -->
<a id="c15543_330"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;if something stuck to a rope (called the coil) is in the location, place the coil in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15544_330" -->
<a id="c15544_330"></a><blockquote class="code"><p class="quoted">
A reaching inside rule:
<br />&#160;&#160;&#160;&#160;if the noun is a rope:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the anchor be a random visible thing stuck to the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the anchor is touchable, allow access.
</p></blockquote>
<!-- END CODE -->
<p>Now tying:</p>
<!-- START CODE "c15545_330" -->
<a id="c15545_330"></a><blockquote class="code"><p class="quoted">
Before tying something to a rope:
<br />&#160;&#160;&#160;&#160;if the noun is stuck to the second noun, say &quot;[The noun] and [the second noun] are already tied together.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not free, say &quot;[The second noun] has no ends free.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is round, say &quot;You can't realistically tie anything to [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15546_330" -->
<a id="c15546_330"></a><blockquote class="code"><p class="quoted">
Instead of tying a rope to something:
<br />&#160;&#160;&#160;&#160;try tying the second noun to the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15547_330" -->
<a id="c15547_330"></a><blockquote class="code"><p class="quoted">
Instead of tying something to a rope:
<br />&#160;&#160;&#160;&#160;now the noun is stuck to the second noun;
<br />&#160;&#160;&#160;&#160;say &quot;You loop [the second noun] around [the noun] and knot firmly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15548_330" -->
<a id="c15548_330"></a><blockquote class="code"><p class="quoted">
Instead of tying something to a nonrope tied thing:
<br />&#160;&#160;&#160;&#160;let the coil be a random rope stuck to the second noun;
<br />&#160;&#160;&#160;&#160;try tying the noun to the coil.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15549_330" -->
<a id="c15549_330"></a><blockquote class="code"><p class="quoted">
Instead of tying a nonrope tied thing to something:
<br />&#160;&#160;&#160;&#160;let the coil be a random rope stuck to the noun;
<br />&#160;&#160;&#160;&#160;try tying the second noun to the coil.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15550_330" -->
<a id="c15550_330"></a><blockquote class="code"><p class="quoted">
Instead of tying a free nonrope thing to a free nonrope thing:
<br />&#160;&#160;&#160;&#160;if the player carries a free rope (called the coil):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try tying the noun to the coil;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is stuck to the coil and the coil is free:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try tying the second noun to the coil;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You lack the requisite spare rope.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15551_330" -->
<a id="c15551_330"></a><blockquote class="code"><p class="quoted">
Understand &quot;untie [something] from [something]&quot; as untying it from. Understand &quot;untie [something]&quot; as untying  it from.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15552_330" -->
<a id="c15552_330"></a><blockquote class="code"><p class="quoted">
Rule for supplying a missing second noun while untying something from:
<br />&#160;&#160;&#160;&#160;if the number of secondary things stuck to the noun is 0, say &quot;[The noun] is already entirely free.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is a rope:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the number of touchable nonrope things which are stuck to the noun &gt; 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You'll have to say which thing you want to untie [the noun] from.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule fails;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the number of touchable nonrope things stuck to the noun is 0, say &quot;You can't reach [the random nonrope thing stuck to the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the tied object be a random touchable nonrope thing which is stuck to the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(from [the tied object])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the second noun is the tied object;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is stuck to a rope (called the tied object):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(from [the tied object])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the second noun is the tied object.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15553_330" -->
<a id="c15553_330"></a><blockquote class="code"><p class="quoted">
Untying it from is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15554_330" -->
<a id="c15554_330"></a><blockquote class="code"><p class="quoted">
Before untying a rope from something: try untying the second noun from the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15555_330" -->
<a id="c15555_330"></a><blockquote class="code"><p class="quoted">
Before untying something from a rope:
<br />&#160;&#160;&#160;&#160;if the second noun is not held:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first picking up [the second noun])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try taking the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15556_330" -->
<a id="c15556_330"></a><blockquote class="code"><p class="quoted">
Check untying it from:
<br />&#160;&#160;&#160;&#160;unless the noun is stuck to the second noun or the second noun is stuck to the noun,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] and [the second noun] are already not tied together.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15557_330" -->
<a id="c15557_330"></a><blockquote class="code"><p class="quoted">
Carry out untying it from:
<br />&#160;&#160;&#160;&#160;now the noun is not stuck to the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15558_330" -->
<a id="c15558_330"></a><blockquote class="code"><p class="quoted">
Report untying it from:
<br />&#160;&#160;&#160;&#160;say &quot;Untied.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Another part of the fun of a rope is that you can drag things from another room:</p>
<!-- START CODE "c15559_330" -->
<a id="c15559_330"></a><blockquote class="code"><p class="quoted">
After reading a command: now every thing is unmentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15560_330" -->
<a id="c15560_330"></a><blockquote class="code"><p class="quoted">
Before pulling something anchored: say &quot;[The noun] is firmly anchored.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15561_330" -->
<a id="c15561_330"></a><blockquote class="code"><p class="quoted">
Instead of pulling something tied:
<br />&#160;&#160;&#160;&#160;if the noun is unmentioned:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The impulse is transmitted to [the list of pullable things stuck to the noun].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through pullable things stuck to the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[item]: [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try pulling the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is a rope and the noun is not within the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the number of nonrope hindering things is 0, move the noun to the location;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15562_330" -->
<a id="c15562_330"></a><blockquote class="code"><p class="quoted">
Before pulling something which is not visible:
<br />&#160;&#160;&#160;&#160;if the noun is anchored:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] resists, for whatever reason.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let space be the holder of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let way be the best route from the space to the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is a direction:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] [if the way is up]rises[otherwise]slides[end if] into view.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] slides into view.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15563_330" -->
<a id="c15563_330"></a><blockquote class="code"><p class="quoted">
Definition: a thing is secondary if it is not the noun.  Definition: a thing is pullable if it is not the noun and it is not the player.
</p></blockquote>
<!-- END CODE -->
<p>A player who is tied to things should also have some restrictions on his ability to move.</p>
<!-- START CODE "c15564_330" -->
<a id="c15564_330"></a><blockquote class="code"><p class="quoted">
Before going a direction (called the way) when the player has something (called the link) which is stuck to something anchored (called the anchor):
<br />&#160;&#160;&#160;&#160;let the next room be the home of the anchor;
<br />&#160;&#160;&#160;&#160;if the next room is not a room, continue the action;
<br />&#160;&#160;&#160;&#160;if the next room is the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the link is stuck to at least two anchored things,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't go far while you're carrying [the link] tied to [the list of anchored things stuck to the link].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the safe way be the best route from the location to the next room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the safe way is the way:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player is not stuck to the anchor, say &quot;(coiling up your rope again as you go...)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the safe way is a direction,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;While you have [the link] you can't really head any direction but [best route from the location to the next room].&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;You're tied up here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15565_330" -->
<a id="c15565_330"></a><blockquote class="code"><p class="quoted">
Before going a direction (called the way) when the player is stuck to something anchored (called the anchor):
<br />&#160;&#160;&#160;&#160;let the next room be the home of the anchor;
<br />&#160;&#160;&#160;&#160;if the next room is not a room, continue the action;
<br />&#160;&#160;&#160;&#160;if the next room is the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player is stuck to at least two anchored things,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't go far while you're tied to [the list of anchored things stuck to the player].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the best route from the location to the next room is the way:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(coiling up your rope again as you go...)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Your attachments prevent you going any way but [best route from the location to the next room].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Sometimes, if the player is tied to a movable object, the moved object will move with him.</p>
<!-- START CODE "c15566_330" -->
<a id="c15566_330"></a><blockquote class="code"><p class="quoted">
After going somewhere when the player has something (called the link) which is stuck to something draggable:
<br />&#160;&#160;&#160;&#160;if the player is not stuck to the link:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You drag along behind you [the list of draggable things which are stuck to the link].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every draggable thing which is stuck to the link is in the location;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15567_330" -->
<a id="c15567_330"></a><blockquote class="code"><p class="quoted">
Report going somewhere when the player is stuck to something draggable:
<br />&#160;&#160;&#160;&#160;say &quot;You drag along behind you [the list of draggable things which are stuck to the player].&quot;;
<br />&#160;&#160;&#160;&#160;now every draggable thing which is stuck to the player is in the location.
</p></blockquote>
<!-- END CODE -->
<p>And now the actual game and puzzles.</p>
<!-- START CODE "c15568_330" -->
<a id="c15568_330"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15569_330" -->
<a id="c15569_330"></a><blockquote class="code"><p class="quoted">
The Fallow Field is a room. &quot;The very land is gloomy, the earth plowed into untended rows that yield no fruit, shadowed by the castle to the north. A chasm, no doubt the product of some upheaval of the earth, opens before your feet.&quot;. An oak stump is fixed in place in the Field. &quot;From an oak stump, a few hopeful shoots grow.&quot; A hempen rope is a rope in the field. It is stuck to the oak stump and the wooden chest. The stump is unevenly shaped.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15570_330" -->
<a id="c15570_330"></a><blockquote class="code"><p class="quoted">
The Chasm is below the Field. &quot;Your person is most uncomfortably pressed on every side by the closeness of the walls; to which you may add as a further inconvenience, that the irregularity of the floor making it difficult to walk upright.&quot; An iron key is in the Chasm. &quot;An iron key nestles in the cleft of earth, its age indicated by its implausibly great size.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15571_330" -->
<a id="c15571_330"></a><blockquote class="code"><p class="quoted">
The wooden chest is a unevenly shaped closed openable container in the Chasm. The description of the wooden chest is &quot;A handsome, solid case not long committed to its dank enclosure, or it would long since have rotted.&quot; Rule for printing the name of the wooden chest when the chest is not handled: say &quot;deadweight&quot;. Understand &quot;dead&quot; or &quot;weight&quot; or &quot;deadweight&quot; as the chest. Before pulling the wooden chest: now the chest is handled.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15572_330" -->
<a id="c15572_330"></a><blockquote class="code"><p class="quoted">
In the chest is a heavy dagger. The description of the dagger is &quot;Set with red jewels and of a wicked aspect.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15573_330" -->
<a id="c15573_330"></a><blockquote class="code"><p class="quoted">
Before going down from the Field when the player is not stuck to something anchored:
<br />&#160;&#160;&#160;&#160;say &quot;You don't quite dare simply leap into the darkness without some anchor.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15574_330" -->
<a id="c15574_330"></a><blockquote class="code"><p class="quoted">
Before going down from the Field:
<br />&#160;&#160;&#160;&#160;let anchor be a random anchored thing which is stuck to the player;
<br />&#160;&#160;&#160;&#160;say &quot;You lower yourself gingerly, hoping that [the anchor] holds your weight...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15575_330" -->
<a id="c15575_330"></a><blockquote class="code"><p class="quoted">
Before going up from the Chasm:
<br />&#160;&#160;&#160;&#160;if the player cannot touch a rope which is stuck to an anchored thing which is in the Field, say &quot;And how, precisely, do you mean to do that?&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15576_330" -->
<a id="c15576_330"></a><blockquote class="code"><p class="quoted">
The Castle Hall is north of the Field. &quot;All is desolate: the great hall has no roof, nor is there any glass in the windows. A staircase without banister ascends inside the wall to a musician's gallery without song.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15577_330" -->
<a id="c15577_330"></a><blockquote class="code"><p class="quoted">
The Musician's Gallery is above the Castle Hall. &quot;Of its former cheery aspect only this remains to the Gallery: that chevrons of red and yellow are painted on the wall. But as these are streaked with rain and grime, the banister pulled away, the roof open to the sky, and the corners made a nesting place for birds, the consolation thereby afforded is but slight.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15578_330" -->
<a id="c15578_330"></a><blockquote class="code"><p class="quoted">
The pointed door is north of the Musician's Gallery and south of the Sinister Attic. It is a closed locked openable door. &quot;A pointed door of particularly grim and uninviting aspect leads north.&quot; The pointed door is lockable and unevenly shaped. The description of the pointed door is &quot;A door coming to a gothic point and fitted with iron fittings of great strength. The handle looks particularly well-attached.&quot; The iron key unlocks the pointed door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15579_330" -->
<a id="c15579_330"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside the Musician's Gallery:
<br />&#160;&#160;&#160;&#160;allow access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15580_330" -->
<a id="c15580_330"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside the Sinister Attic:
<br />&#160;&#160;&#160;&#160;allow access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15581_330" -->
<a id="c15581_330"></a><blockquote class="code"><p class="quoted">
Instead of opening the pointed door for the first time:
<br />&#160;&#160;&#160;&#160;say &quot;When you rattle at the door, there arises from beyond a terrible shrill noise as though something beyond exults in its imminent release.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15582_330" -->
<a id="c15582_330"></a><blockquote class="code"><p class="quoted">
After opening the trapped pointed door when the player can see the pointed door:
<br />&#160;&#160;&#160;&#160;say &quot;Thousands of bats fly from the pointed door, attacking you!&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15583_330" -->
<a id="c15583_330"></a><blockquote class="code"><p class="quoted">
After opening the pointed door when the player cannot see the pointed door: now the pointed door is untrapped; continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15584_330" -->
<a id="c15584_330"></a><blockquote class="code"><p class="quoted">
The pointed door can be trapped or untrapped. The pointed door is trapped.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15585_330" -->
<a id="c15585_330"></a><blockquote class="code"><p class="quoted">
Before pulling the pointed door: try opening the pointed door instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15586_330" -->
<a id="c15586_330"></a><blockquote class="code"><p class="quoted">
The player is unevenly shaped.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15587_330" -->
<a id="c15587_330"></a><blockquote class="code"><p class="quoted">
After going to the sinister attic:
<br />&#160;&#160;&#160;&#160;say &quot;You have arrived at the goal of your quest!&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15588_330" -->
<a id="c15588_330"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x rope / pull rope / get chest / untie rope from chest / tie rope to me / down / get key / up / untie rope from stump / north / up / unlock pointed door with key / open it / tie rope to door / down / pull rope / up / north&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15589_330" -->
<a id="c15589_330"></a><blockquote class="code"><p class="quoted">
Test death with &quot;x rope / pull rope / get chest / untie rope from chest / tie rope to me / down / get key / up / untie rope from stump / north / up / unlock pointed door with key / open it / g&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "261: Snip" "e368" -->
<a id="e368"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e368" class="eglink"><b>261</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e368" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Snip</span></b></a><br />A string which can be cut into arbitrary lengths, and then tied back together.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e368"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example368">
<!-- START CODE "c15590_368" -->
<a id="c15590_368"></a><blockquote class="code"><p class="quoted">
&quot;Snip!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15591_368" -->
<a id="c15591_368"></a><blockquote class="code"><p class="quoted">
Length is a kind of value. 30 inch specifies a length. 20 in specifies a length. 50 inches specifies a length.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15592_368" -->
<a id="c15592_368"></a><blockquote class="code"><p class="quoted">
A string is a kind of thing. A string has a length. The length of a string is usually 36 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15593_368" -->
<a id="c15593_368"></a><blockquote class="code"><p class="quoted">
Before printing the name of a string, say &quot;[length] piece of &quot;. Rule for printing the plural name of a string: say &quot;[length] pieces of string&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15594_368" -->
<a id="c15594_368"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;cut&quot; as something new. Understand &quot;cut [length] from/off [something]&quot; as trimming it by (with nouns reversed). Understand &quot;cut [something] by [length]&quot; as trimming it by. Understand the command &quot;trim&quot; as &quot;cut&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15595_368" -->
<a id="c15595_368"></a><blockquote class="code"><p class="quoted">
Trimming it by is an action applying to one thing and one length.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15596_368" -->
<a id="c15596_368"></a><blockquote class="code"><p class="quoted">
Check trimming it by:
<br />&#160;&#160;&#160;&#160;if the length understood is 0 inches, say &quot;You're approaching Zeno's string at this point.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the length understood is greater than the length of the noun, say &quot;[The noun] is only [length of the noun] long to start with.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the length understood is the length of the noun, say &quot;[The noun] is already exactly [length of the noun] long.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15597_368" -->
<a id="c15597_368"></a><blockquote class="code"><p class="quoted">
Carry out trimming it by:
<br />&#160;&#160;&#160;&#160;now the length of the noun is the length of the noun minus the length understood;
<br />&#160;&#160;&#160;&#160;let the other half be a random string in the string repository;
<br />&#160;&#160;&#160;&#160;now the length of the other half is the length understood;
<br />&#160;&#160;&#160;&#160;move the other half to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15598_368" -->
<a id="c15598_368"></a><blockquote class="code"><p class="quoted">
Report trimming it by:
<br />&#160;&#160;&#160;&#160;reset string lengths; [we will define this in a moment; it helps guarantee that our descriptions of the strings are correct when we write the output list]
<br />&#160;&#160;&#160;&#160;say &quot;You now have [a list of strings carried by the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15599_368" -->
<a id="c15599_368"></a><blockquote class="code"><p class="quoted">
Understand &quot;cut [something] in half&quot; as halving. Halving is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15600_368" -->
<a id="c15600_368"></a><blockquote class="code"><p class="quoted">
Carry out halving:
<br />&#160;&#160;&#160;&#160;let half measure be the length of the noun divided by 2;
<br />&#160;&#160;&#160;&#160;now the length understood is half measure;
<br />&#160;&#160;&#160;&#160;try trimming the noun by half measure.
</p></blockquote>
<!-- END CODE -->
<p>This fudges slightly, since an odd-length string will be divided into uneven halves. Keeping track of fractional inches would complicate matters, though, so let's assume for now that this doesn't matter.</p>
<!-- START CODE "c15601_368" -->
<a id="c15601_368"></a><blockquote class="code"><p class="quoted">
The player carries a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15602_368" -->
<a id="c15602_368"></a><blockquote class="code"><p class="quoted">
The Scissors Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15603_368" -->
<a id="c15603_368"></a><blockquote class="code"><p class="quoted">
The string repository contains 35 strings.
</p></blockquote>
<!-- END CODE -->
<p>Since our initial string is 36 inches long and it is impossible for the player to divide it into pieces smaller than an inch each, we need a total of 36 items to represent all the string-bits: one that the player carries at the outset, and 35 others. We should bear in mind that it is usually a good idea to use the smallest number of spare objects we can get away with: writing a game that required 1000 strings in the string repository would place silly demands on the resources of the system, so it's best to avoid that sort of thing if possible.</p>
<p>Now with a bit of fiddling we can also teach Inform to recognize descriptors such as &quot;the shortest string&quot;:</p>
<!-- START CODE "c15604_368" -->
<a id="c15604_368"></a><blockquote class="code"><p class="quoted">
Ordinariness is a kind of value. The ordinarinesses are longest, medium, shortest. A string has an ordinariness. Understand the ordinariness property as referring to a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15605_368" -->
<a id="c15605_368"></a><blockquote class="code"><p class="quoted">
Definition: a string is small if its length is 2 in or less. Definition: a string is large if its length is 20 in or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15606_368" -->
<a id="c15606_368"></a><blockquote class="code"><p class="quoted">
Before reading a command:
<br />&#160;&#160;&#160;&#160;reset string lengths.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15607_368" -->
<a id="c15607_368"></a><blockquote class="code"><p class="quoted">
To reset string lengths:
<br />&#160;&#160;&#160;&#160;let upper measure be the length of the largest visible string;
<br />&#160;&#160;&#160;&#160;let lower measure be the length of the smallest visible string;
<br />&#160;&#160;&#160;&#160;repeat with item running through strings:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ordinariness of the item is medium;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the length of the item is the upper measure, now the item is longest;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the length of the item is the lower measure, now the item is shortest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15608_368" -->
<a id="c15608_368"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;shorter&quot;, replace the matched text with &quot;shortest&quot;;
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;longer&quot;, replace the matched text with &quot;longest&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15609_368" -->
<a id="c15609_368"></a><blockquote class="code"><p class="quoted">
Instead of tying a string to a string:
<br />&#160;&#160;&#160;&#160;move the second noun to the string repository;
<br />&#160;&#160;&#160;&#160;now the length of the noun is the length of the noun plus the length of the second noun;
<br />&#160;&#160;&#160;&#160;decrease the length of the noun by 1 inch;
<br />&#160;&#160;&#160;&#160;say &quot;You end up with [a noun], as some is taken up by the knot.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is still a little incomplete because we cannot refer to strings by their lengths, as in &quot;the 2 inch string&quot; and so on. To do this, we borrow a line from the chapter on Understanding:</p>
<!-- START CODE "c15610_368" -->
<a id="c15610_368"></a><blockquote class="code"><p class="quoted">
Understand the length property as referring to a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15611_368" -->
<a id="c15611_368"></a><blockquote class="code"><p class="quoted">
Test me with &quot;trim string by 4 in / cut longer string in half / cut longest string in half / cut shortest string in half / g / g / tie longest string to shortest string / tie longest string to medium string / i / x 16 inch string / drop 8 inch string / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "346: Rules of Attraction" "e235" -->
<a id="e235"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e235" class="eglink"><b>346</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e235" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Rules of Attraction</span></b></a><br />A magnet which picks up nearby metal objects, and describes itself appropriately in room descriptions and inventory listings, but otherwise goes by its ordinary name.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e235"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example235">
<p>Often we have some salient features of an object that we want to make sure the player notices whenever looking at the item in a room or in inventory. At other times, we may prefer to allow the name of the item to be printed bare. So for instance:</p>
<!-- START CODE "c15612_235" -->
<a id="c15612_235"></a><blockquote class="code"><p class="quoted">
&quot;Rules of Attraction&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15613_235" -->
<a id="c15613_235"></a><blockquote class="code"><p class="quoted">
A metal form is a kind of thing. A magnet is a kind of metal form.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15614_235" -->
<a id="c15614_235"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with item running through nonmagnetic metal forms which are not part of something:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if item is in a container which contains a magnet (called attractor):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item] sticks to [the attractor].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is part of the attractor.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15615_235" -->
<a id="c15615_235"></a><blockquote class="code"><p class="quoted">
The horseshoe magnet is a magnet carried by the player. The nail is a metal form carried by the player. The Barn is a room. In the Barn is a bucket. In the bucket is a metal form called the iron hook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15616_235" -->
<a id="c15616_235"></a><blockquote class="code"><p class="quoted">
Definition: a thing is nonmagnetic if it is not a magnet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15617_235" -->
<a id="c15617_235"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of a magnet (called attractor): if something is part of the attractor, say &quot; (stuck to which [is-are the list of things which are part of the attractor])&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15618_235" -->
<a id="c15618_235"></a><blockquote class="code"><p class="quoted">
After printing the name of a magnet (called attractor) while taking inventory:
<br />&#160;&#160;&#160;&#160;if something is part of the attractor, say &quot; (stuck to which [is-are the list of things which are part of the attractor])&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15619_235" -->
<a id="c15619_235"></a><blockquote class="code"><p class="quoted">
Before taking a touchable thing which is part of a magnet (called attractor):
<br />&#160;&#160;&#160;&#160;move the noun to the holder of the attractor.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15620_235" -->
<a id="c15620_235"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / put horseshoe in bucket / look / get horseshoe / i / drop horseshoe / i / look / get all / put all in bucket / i / x magnet / get nail / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "408: Electrified" "e116" -->
<a id="e116"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e116" class="eglink"><b>408</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e116" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Electrified</span></b></a><br />Adding a rule before the basic accessibility rule that will prevent the player from touching electrified objects under the wrong circumstances.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_19.html#e116"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example116">
<p>Suppose we want to prevent the player from touching anything electrified -- not just as a response to TOUCH OBJECT, but at any time when the action would require contact with the object in question.</p>
<!-- START CODE "c15621_116" -->
<a id="c15621_116"></a><blockquote class="code"><p class="quoted">
&quot;Electrified&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15622_116" -->
<a id="c15622_116"></a><blockquote class="code"><p class="quoted">
A thing can be safe or electrified. A thing is usually safe.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15623_116" -->
<a id="c15623_116"></a><blockquote class="code"><p class="quoted">
The Open Field is a room. &quot;At this end of the field is a wire fence separating farm country from the government testing grounds beyond.&quot; The wire fence is an electrified thing in Open Field. It is scenery. The description of the wire fence is &quot;Built into the fence is [a list of things which are part of the fence].&quot; The scary box is an electrified container. It is part of wire fence. In the scary box is an alluring prize.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15624_116" -->
<a id="c15624_116"></a><blockquote class="code"><p class="quoted">
The player carries a flashlight, a grappling hook, a very thick rubber glove, and a length of rope. The glove is wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15625_116" -->
<a id="c15625_116"></a><blockquote class="code"><p class="quoted">
This is the electrocution-wisdom rule:
<br />&#160;&#160;&#160;&#160;if the player wears the very thick rubber glove, make no decision;
<br />&#160;&#160;&#160;&#160;if the action requires a touchable noun and the noun is electrified, say &quot;You fear touching [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the action requires a touchable second noun and the second noun is electrified, say &quot;You fear touching [the second noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15626_116" -->
<a id="c15626_116"></a><blockquote class="code"><p class="quoted">
The electrocution-wisdom rule is listed before the basic accessibility rule in the action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15627_116" -->
<a id="c15627_116"></a><blockquote class="code"><p class="quoted">
Before touching the scary box:
<br />&#160;&#160;&#160;&#160;say &quot;You can't help noticing a bright red sticker on the surface of the box.&quot; [This rule will fire even if we are not wearing the glove, because Before rules occur before basic accessibility.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15628_116" -->
<a id="c15628_116"></a><blockquote class="code"><p class="quoted">
Instead of opening the scary box:
<br />&#160;&#160;&#160;&#160;say &quot;The scary box seems to be super-glued shut.&quot; [This one won't, because Instead rules occur after basic accessibility.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15629_116" -->
<a id="c15629_116"></a><blockquote class="code"><p class="quoted">
Test me with &quot;touch fence / touch box / open box / wear glove / open box&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "139: Witnessed 1" "e24" -->
<a id="e24"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e24" class="eglink"><b>139</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e24" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Witnessed 1</span></b></a><br />A kind of battery which can be put into different devices, and which will lose power after extended use.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_9.html#e24"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example24">
<p>The following example makes fairly ample use of material that we haven't seen yet, but gives some idea of the flexibility of every turn rules. Suppose we want to have a number of electrical devices, all of which may be powered by a set of batteries. The batteries will all need to be discharged as they are used (regardless of what device they happen to be controlling at the moment). So:</p>
<!-- START CODE "c15630_24" -->
<a id="c15630_24"></a><blockquote class="code"><p class="quoted">
&quot;Witnessed&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15631_24" -->
<a id="c15631_24"></a><blockquote class="code"><p class="quoted">
A battery is a kind of thing. A battery has a number called charge. The charge of a battery is usually 15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15632_24" -->
<a id="c15632_24"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with hollow running through battery compartments:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the hollow is part of a switched on device (called the machine):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a battery (called cell) is in the hollow:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement the charge of the cell;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the warning about failure activity with the machine;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the cell is discharged, carry out the putting out activity with the machine;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the putting out activity with the machine.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15633_24" -->
<a id="c15633_24"></a><blockquote class="code"><p class="quoted">
Warning about failure of something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15634_24" -->
<a id="c15634_24"></a><blockquote class="code"><p class="quoted">
Rule for warning about failure of a device (called the machine):
<br />&#160;&#160;&#160;&#160;if a random battery compartment which is part of the machine contains a battery (called the power source):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the charge of the power source is 2, say &quot;[The machine] is obviously going to go out quite soon.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15635_24" -->
<a id="c15635_24"></a><blockquote class="code"><p class="quoted">
Putting out something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15636_24" -->
<a id="c15636_24"></a><blockquote class="code"><p class="quoted">
Rule for putting out a device (called the machine):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The machine] loses power and switches off![line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try switching off the machine.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15637_24" -->
<a id="c15637_24"></a><blockquote class="code"><p class="quoted">
A battery compartment is a kind of container. A battery compartment is usually closed and openable. One battery compartment is part of every device. Instead of inserting something which is not a battery into a battery compartment, say &quot;Only batteries should go in a battery compartment.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And to get rid of annoying messages like &quot;Which would you like to close, the flashlight or the flashlight's battery compartment?&quot; when only the compartment is closable, we might add some understanding instructions:</p>
<!-- START CODE "c15638_24" -->
<a id="c15638_24"></a><blockquote class="code"><p class="quoted">
Understand &quot;turn on [device]&quot; as switching on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15639_24" -->
<a id="c15639_24"></a><blockquote class="code"><p class="quoted">
Understand &quot;turn off [device]&quot; as switching off.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15640_24" -->
<a id="c15640_24"></a><blockquote class="code"><p class="quoted">
Understand &quot;open [openable closed thing]&quot; as opening.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15641_24" -->
<a id="c15641_24"></a><blockquote class="code"><p class="quoted">
Understand &quot;close [openable open thing]&quot; as closing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15642_24" -->
<a id="c15642_24"></a><blockquote class="code"><p class="quoted">
Understand &quot;put [something] in [container]&quot; as inserting it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15643_24" -->
<a id="c15643_24"></a><blockquote class="code"><p class="quoted">
Instead of opening a device, try opening a random battery compartment which is part of the noun. Instead of closing a device, try closing a random battery compartment which is part of the noun. Instead of inserting a battery into a device, try inserting the noun into a random battery compartment which is part of the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15644_24" -->
<a id="c15644_24"></a><blockquote class="code"><p class="quoted">
Instead of switching on an empty device:
<br />&#160;&#160;&#160;&#160;say &quot;Nothing happens, perhaps because there isn't a charged battery in [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15645_24" -->
<a id="c15645_24"></a><blockquote class="code"><p class="quoted">
Instead of switching on a battery compartment which is part of a device (called the power user), try switching on the power user.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15646_24" -->
<a id="c15646_24"></a><blockquote class="code"><p class="quoted">
Definition: a device is empty:
<br />&#160;&#160;&#160;&#160;if a random battery compartment which is part of it contains a battery (called the power source):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the power source is discharged, yes;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15647_24" -->
<a id="c15647_24"></a><blockquote class="code"><p class="quoted">
Definition: a battery is discharged if its charge &lt; 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15648_24" -->
<a id="c15648_24"></a><blockquote class="code"><p class="quoted">
A light source is a kind of device. Carry out switching on a light source: now the noun is lit. Carry out switching off a light source: now the noun is unlit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15649_24" -->
<a id="c15649_24"></a><blockquote class="code"><p class="quoted">
The flashlight is a light source. A D battery is a battery carried by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15650_24" -->
<a id="c15650_24"></a><blockquote class="code"><p class="quoted">
The cassette recorder is a device. Every turn: if the cassette recorder is switched on, say &quot;The cassette recorder hisses faintly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15651_24" -->
<a id="c15651_24"></a><blockquote class="code"><p class="quoted">
Rule for warning about failure of the cassette recorder:
<br />&#160;&#160;&#160;&#160;if a random battery compartment which is part of the cassette recorder contains a battery (called the power source):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the charge of the power source is 2, say &quot;The hiss from [the cassette recorder] begins to warble ominously.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15652_24" -->
<a id="c15652_24"></a><blockquote class="code"><p class="quoted">
The player wears a backpack. The backpack is openable. In the backpack is the flashlight and the cassette recorder.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15653_24" -->
<a id="c15653_24"></a><blockquote class="code"><p class="quoted">
The description of the cassette recorder is &quot;Useful both for recording your notes and for capturing any odd ghostly sounds you may hear.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15654_24" -->
<a id="c15654_24"></a><blockquote class="code"><p class="quoted">
The description of the backpack is &quot;An old familiar pack, which you know so well that you can find all its pockets and take things in and out of it in pitch darkness. To avoid it showing up oddly in photographs, it is entirely black, with no shiny or metallic attachments.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15655_24" -->
<a id="c15655_24"></a><blockquote class="code"><p class="quoted">
The description of the flashlight is &quot;You bought a new one just for this occasion, because you were worried about bringing something too small or light. This is a heavy-duty flashlight with an adjustable-focus beam. The case is made of metal, rather than plastic, and there is a spare light-bulb inside as well. You've put a band of masking tape around the handle and written in your initials in red marker.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15656_24" -->
<a id="c15656_24"></a><blockquote class="code"><p class="quoted">
There is a piece of red cellophane attached to the business end of the flashlight to keep it from being overly bright.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15657_24" -->
<a id="c15657_24"></a><blockquote class="code"><p class="quoted">
The red cellophane is part of the flashlight.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15658_24" -->
<a id="c15658_24"></a><blockquote class="code"><p class="quoted">
Instead of doing something to the red cellophane: say &quot;You need the cellophane on the flashlight so that using it does not completely destroy your night vision.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15659_24" -->
<a id="c15659_24"></a><blockquote class="code"><p class="quoted">
Thirtieth Street Station is a room. &quot;A huge, high, rectangular room with coffered ceilings, which looks grand but mostly makes you feel lonely and small. There are long benches in rows down the middle of the room, and an information desk with the train times, and a series of ticket windows, none of which matters very much at the moment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15660_24" -->
<a id="c15660_24"></a><blockquote class="code"><p class="quoted">
The benches are an enterable supporter. They are scenery in the Station. The information desk is scenery in the Station. Some ticket windows are scenery in the Station. Instead of examining scenery in the Station: say &quot;You're fairly sure that whatever is going on here has nothing to do with [the noun].&quot; Understand &quot;window&quot; as ticket windows.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15661_24" -->
<a id="c15661_24"></a><blockquote class="code"><p class="quoted">
The mural is fixed in place in Thirtieth Street. &quot;At the north side of the station is a particularly pointless and empty annex to the main room. It is dominated by a huge relief of sorts, and this is what you remember.&quot; Understand &quot;metal&quot; or &quot;relief&quot; or &quot;huge&quot; as the mural. The description of the mural is &quot;It is both stylized and confusing, but you think it might be supposed to represent the various tasks and occupations of Philadelphia's population. The portions closer to the ground look as though they have recently been subjected to a light dusting of talcum powder. No unusual prints are evident.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15662_24" -->
<a id="c15662_24"></a><blockquote class="code"><p class="quoted">
The wind chimes are fixed in place in Thirtieth Street. &quot;Carefully attached to the wall with a piece of duct tape and a hook is a light-weight set of wind chimes. Someone else has been here before you, it seems.&quot; The description is &quot;Several of your friends use wind chimes as a sort of ghost alarm, since ghosts sometimes cause very localized movements of air when there is no natural breeze.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And this last bit, borrowed from the chapter on Understanding, adds some special instructions to help Inform decide when the player is likely to be referring to a compartment and when he's likely to be referring to the device itself.</p>
<!-- START CODE "c15663_24" -->
<a id="c15663_24"></a><blockquote class="code"><p class="quoted">
Does the player mean doing something other than searching to a battery compartment: it is unlikely. [We discourage Inform from choosing a compartment when the player uses just the name of a device or the word 'battery'.]
</p></blockquote>
<!-- END CODE -->
<p>We also need to deal with commands like PUT BATTERY IN FLASHLIGHT, where Inform might construe BATTERY as the D battery, the flashlight's battery compartment, or the cassette recorder's battery compartment -- and might also construe FLASHLIGHT as either the flashlight's battery compartment or the flashlight itself.</p>
<!-- START CODE "c15664_24" -->
<a id="c15664_24"></a><blockquote class="code"><p class="quoted">
Does the player mean inserting into a battery compartment:
<br />&#160;&#160;&#160;&#160;if the noun is nothing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;it is very likely;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make no decision.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15665_24" -->
<a id="c15665_24"></a><blockquote class="code"><p class="quoted">
Does the player mean inserting a battery compartment into: it is very unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15666_24" -->
<a id="c15666_24"></a><blockquote class="code"><p class="quoted">
Does the player mean inserting something into a device: it is unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15667_24" -->
<a id="c15667_24"></a><blockquote class="code"><p class="quoted">
Does the player mean searching a battery compartment: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15668_24" -->
<a id="c15668_24"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test first / test second&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15669_24" -->
<a id="c15669_24"></a><blockquote class="code"><p class="quoted">
Test first with &quot;i / open flashlight compartment / put battery in it / turn on flashlight / take d battery / open cassette compartment / turn on cassette / put battery in cassette compartment / turn on cassette / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15670_24" -->
<a id="c15670_24"></a><blockquote class="code"><p class="quoted">
Test second with &quot;get d battery / put d battery in flashlight compartment / turn on flashlight / z / z / z / z / z / z / turn off flashlight / z / z / turn on flashlight / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "118: Thirst 2" "e428" -->
<a id="e428"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e428" class="eglink"><b>118</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e428" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Thirst 2</span></b></a><br />A campfire added to the camp site, which can be lit using tinder.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e428"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example428">
<!-- START CODE "c15671_428" -->
<a id="c15671_428"></a><blockquote class="code"><p class="quoted">
&quot;Thirst&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15672_428" -->
<a id="c15672_428"></a><blockquote class="code"><p class="quoted">
The player carries a waterskin. The waterskin can be full, partly drained, or empty. The waterskin is full. Understand &quot;water&quot; as the waterskin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15673_428" -->
<a id="c15673_428"></a><blockquote class="code"><p class="quoted">
Instead of drinking the waterskin when the waterskin is empty:
<br />&#160;&#160;&#160;&#160;say &quot;There is no water left.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15674_428" -->
<a id="c15674_428"></a><blockquote class="code"><p class="quoted">
Instead of drinking the waterskin: if the waterskin is partly drained, now the waterskin is empty; if the waterskin is full, now the waterskin is partly drained; say &quot;You drink a long draught.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15675_428" -->
<a id="c15675_428"></a><blockquote class="code"><p class="quoted">
After printing the name of the waterskin: say &quot; ([waterskin condition])&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15676_428" -->
<a id="c15676_428"></a><blockquote class="code"><p class="quoted">
Campsite is a room. &quot;It is solid night now, and the stars have come out. Unfamiliar stars. On the other side of the valley -- a valley round-bottomed but shallow, like a soup bowl -- burn other campfires, most likely bandits. Their voices do not carry, but the smoke rises and obscures the starlight over that way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15677_428" -->
<a id="c15677_428"></a><blockquote class="code"><p class="quoted">
A sleepsack is an enterable container in the Campsite. &quot;Your sleepsack is laid out in a pocket of sandy soil and coarse grass.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15678_428" -->
<a id="c15678_428"></a><blockquote class="code"><p class="quoted">
The sandy soil, the stars, the distant campfires, and the coarse grass are scenery in the Campsite. Understand &quot;smoke&quot; as the campfires. Instead of listening in the presence of your campfire: say &quot;All you hear are the reassuring snaps and cracks of the sticks in your fire.&quot; Understand &quot;campfires&quot; or &quot;fires&quot; as the distant campfires.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15679_428" -->
<a id="c15679_428"></a><blockquote class="code"><p class="quoted">
Your campfire is scenery in the Campsite. Instead of pushing, pulling, turning, tasting, or touching your campfire, say &quot;You would burn yourself.&quot; Understand &quot;fire&quot; as your campfire. The description of your campfire is &quot;A reassuring protection against wild animals and cold.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15680_428" -->
<a id="c15680_428"></a><blockquote class="code"><p class="quoted">
The description of the stars is &quot;You invent constellations for them. The slingshot. The scroll. The heart (upside down).&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15681_428" -->
<a id="c15681_428"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere when the player is in Campsite:
<br />&#160;&#160;&#160;&#160;say &quot;Now is not the time for wandering, alone in the dark. Better to keep here[if your campfire is visible], by the fire[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15682_428" -->
<a id="c15682_428"></a><blockquote class="code"><p class="quoted">
Singing is an action applying to nothing. Understand &quot;sing&quot; as singing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15683_428" -->
<a id="c15683_428"></a><blockquote class="code"><p class="quoted">
Instead of singing:
<br />&#160;&#160;&#160;&#160;say &quot;You sing, deep and low, a song from home. It is a good night for singing and the song raises your spirits.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15684_428" -->
<a id="c15684_428"></a><blockquote class="code"><p class="quoted">
The player carries a tinderbox. The tinderbox contains a flint, a steel, some tinder, and a patch of carbonized cloth. The description of the flint is &quot;A flat grey stone with flaked edges.&quot; The description of the steel is &quot;Curved so that you can hold it over the knuckles of your right hand and strike it against the flint. There is a knack to it. Those without the knack end up with bloody knuckles and no fire.&quot; The steel is wearable. The description of the tinder is &quot;Dried grass and similar.&quot; The description of the cloth is &quot;The little, precious, spark-preserving scraps without which the fire would never begin.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15685_428" -->
<a id="c15685_428"></a><blockquote class="code"><p class="quoted">
Instead of attacking the flint when the steel is not worn by the player:
<br />&#160;&#160;&#160;&#160;say &quot;You must wear the steel over your knuckles, in order to hit the flint at the best angle.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15686_428" -->
<a id="c15686_428"></a><blockquote class="code"><p class="quoted">
Instead of attacking the flint when the steel is worn and the cloth is not in the location:
<br />&#160;&#160;&#160;&#160;say &quot;Though you strike the flint sharply with the steel and throw sparks, they have nothing to catch on, since the patch of cloth does not lie beneath.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15687_428" -->
<a id="c15687_428"></a><blockquote class="code"><p class="quoted">
Instead of attacking the flint when the steel is worn and the cloth is in the location and the cloth is not unlit:
<br />&#160;&#160;&#160;&#160;say &quot;The patch of cloth has already caught.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15688_428" -->
<a id="c15688_428"></a><blockquote class="code"><p class="quoted">
Instead of attacking the flint:
<br />&#160;&#160;&#160;&#160;now the cloth is glowing;
<br />&#160;&#160;&#160;&#160;say &quot;You strike the flint against the steel and throw sparks onto the patch of cloth; they make tiny circles of orange there, which will only prosper if blown into flame.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Realistically, we ought to attach a randomization to this so that each step of the fire-starting has a good chance of failure. But because our player may not be as patient as someone who actually needs a fire started, we allow him to succeed the first time in every case.</p>
<!-- START CODE "c15689_428" -->
<a id="c15689_428"></a><blockquote class="code"><p class="quoted">
Ignition is a kind of value. The ignitions are whole, fading, glowing, flaming. A thing has an ignition.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15690_428" -->
<a id="c15690_428"></a><blockquote class="code"><p class="quoted">
Blowing on is an action applying to one thing. Understand &quot;breathe on [something]&quot; or &quot;blow on [something]&quot; as blowing on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15691_428" -->
<a id="c15691_428"></a><blockquote class="code"><p class="quoted">
Instead of blowing on the whole cloth:
<br />&#160;&#160;&#160;&#160;say &quot;There is no point, since no sparks have caught there.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15692_428" -->
<a id="c15692_428"></a><blockquote class="code"><p class="quoted">
Instead of blowing on the fading cloth:
<br />&#160;&#160;&#160;&#160;now the cloth is flaming;
<br />&#160;&#160;&#160;&#160;say &quot;You blow on the faint sparks on the cloth and turn them into the beginnings of flame.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15693_428" -->
<a id="c15693_428"></a><blockquote class="code"><p class="quoted">
Instead of burning the whole tinder:
<br />&#160;&#160;&#160;&#160;if the cloth is not flaming:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The patch of cloth must catch flame before you can light anything with it.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the tinder is flaming;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the cloth is nowhere;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You light the tinder with the patch of cloth, and have the elements of a fire.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15694_428" -->
<a id="c15694_428"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;unless the cloth is flaming or the cloth is whole:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ignition of the cloth is the ignition before the ignition of the cloth;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Now the patch of cloth is [ignition of the cloth].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15695_428" -->
<a id="c15695_428"></a><blockquote class="code"><p class="quoted">
Some kindling is in the campsite.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15696_428" -->
<a id="c15696_428"></a><blockquote class="code"><p class="quoted">
Instead of burning the whole kindling:
<br />&#160;&#160;&#160;&#160;if the tinder is not flaming:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You need the tinder to be flaming, first.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the tinder is nowhere;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the kindling is nowhere;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the campfire to the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You succeed in lighting yourself a proper campfire.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the printed name of Campsite is &quot;By The Campfire&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15697_428" -->
<a id="c15697_428"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / drink water / i / drink water / i / wear steel / get flint / get cloth / drop cloth / get tinder / hit flint / blow on cloth / burn tinder / burn kindling / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "150: Bruneseau's Journey" "e61" -->
<a id="e61"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e61" class="eglink"><b>150</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e61" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bruneseau's Journey</span></b></a><br />A candle which reacts to lighting and blowing actions differently depending on whether it has already been lit once.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_9.html#e61"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example61">
<!-- START CODE "c15698_61" -->
<a id="c15698_61"></a><blockquote class="code"><p class="quoted">
&quot;Sire,&quot; said the Minister of the Interior to Napoleon, &quot;yesterday I saw the most intrepid man in your Empire.&quot; - &quot;What man is that?&quot; said the Emperor brusquely, &quot;and what has he done?&quot; - &quot;He wants to do something, Sire.&quot; - &quot;What is it?&quot; - &quot;To visit the sewers of Paris.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15699_61" -->
<a id="c15699_61"></a><blockquote class="code"><p class="quoted">
This man existed and his name was Bruneseau.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15700_61" -->
<a id="c15700_61"></a><blockquote class="code"><p class="quoted">
- Victor Hugo, Les Miserables
</p></blockquote>
<!-- END CODE -->
<p>Let's say that our intrepid explorer has a candle that can be lit and blown out again, and should accordingly appear unlit, burning, or partly burnt:</p>
<!-- START CODE "c15701_61" -->
<a id="c15701_61"></a><blockquote class="code"><p class="quoted">
&quot;Bruneseau's Journey&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15702_61" -->
<a id="c15702_61"></a><blockquote class="code"><p class="quoted">
The Sewer Beneath St Denis is a room. &quot;A narrow, stone-lined passageway, with only a little ledge to walk above the level of the refuse that flows down towards the Seine.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15703_61" -->
<a id="c15703_61"></a><blockquote class="code"><p class="quoted">
The candle is carried by the player. The description of the candle is &quot;A candle, [if the candle has been lit]partially burnt[otherwise]still in pristine condition with untouched wick[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15704_61" -->
<a id="c15704_61"></a><blockquote class="code"><p class="quoted">
Instead of examining the lit candle, say &quot;It burns with a pure heart.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15705_61" -->
<a id="c15705_61"></a><blockquote class="code"><p class="quoted">
The block burning rule is not listed in the check burning rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15706_61" -->
<a id="c15706_61"></a><blockquote class="code"><p class="quoted">
Instead of burning the lit candle:
<br />&#160;&#160;&#160;&#160;say &quot;The candle is already lit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15707_61" -->
<a id="c15707_61"></a><blockquote class="code"><p class="quoted">
Check burning:
<br />&#160;&#160;&#160;&#160;if the noun is not the candle, say &quot;[The noun] cannot profitably be set on fire.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15708_61" -->
<a id="c15708_61"></a><blockquote class="code"><p class="quoted">
Carry out burning the candle:
<br />&#160;&#160;&#160;&#160;now the candle is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15709_61" -->
<a id="c15709_61"></a><blockquote class="code"><p class="quoted">
Report burning:
<br />&#160;&#160;&#160;&#160;if the candle had been lit, say &quot;You relight the candle.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You light the candle for the first time.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15710_61" -->
<a id="c15710_61"></a><blockquote class="code"><p class="quoted">
Understand &quot;blow out [something]&quot; as blowing out. Understand &quot;blow [something] out&quot; as blowing out. Blowing out is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15711_61" -->
<a id="c15711_61"></a><blockquote class="code"><p class="quoted">
Carry out blowing out the candle:
<br />&#160;&#160;&#160;&#160;now the candle is unlit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15712_61" -->
<a id="c15712_61"></a><blockquote class="code"><p class="quoted">
Report blowing out:
<br />&#160;&#160;&#160;&#160;if the noun is the candle and the candle was lit, say &quot;You blow out [the noun].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You blow on [the noun], to little effect.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15713_61" -->
<a id="c15713_61"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x candle / light candle / x candle / blow out candle / x candle&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We must be careful: &quot;if the noun was lit&quot; would throw errors because past-tense rules can only be applied to specific items, not to variables that could be anything.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "418: The Cow Exonerated" "e95" -->
<a id="e95"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e95" class="eglink"><b>418</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e95" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Cow Exonerated</span></b></a><br />Creating a class of matches that burn for a time and then go out, with elegant reporting when several matches go out at once.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_20.html#e95"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example95">
<p>Here we create a class of matches that can be used to burn other objects. Our objectives are as follow:</p>
<p>Burned objects other than matches should be removed from play instantly (just as edible objects are instantly eaten). We could give everything its own burning duration, but that complicates matters and allows for fire to spread from one object to another; for an example of how to do that, see the example &quot;In Fire or in Flood&quot;.</p>
<p>Matches should be described to show whether they are burning or extinguished, and when the parser chooses one of several identical matches, it should make very clear which match it has selected.</p>
<p>The game must sensibly select and, if necessary, automatically light new matches to carry out a &gt;BURN THING command.</p>
<p>The matches must burn for a set number of turns before going out, never to be used again.</p>
<p>And finally, the part for which the text will be useful: when several matches go out in the same turn, we want the game to print</p>
<!-- START CODE "c15714_95" -->
<a id="c15714_95"></a><blockquote class="code"><p class="quoted">
Four matches go out.
</p></blockquote>
<!-- END CODE -->
<p>rather than</p>
<!-- START CODE "c15715_95" -->
<a id="c15715_95"></a><blockquote class="code"><p class="quoted">
A match goes out.
<br />A match goes out.
<br />A match goes out.
<br />A match goes out.
</p></blockquote>
<!-- END CODE -->
<p>This last function appears down in Section 3, if we wish to skip ahead and look at it.</p>
<!-- START CODE "c15716_95" -->
<a id="c15716_95"></a><blockquote class="code"><p class="quoted">
 &quot;The Cow Exonerated&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15717_95" -->
<a id="c15717_95"></a><blockquote class="code"><p class="quoted">
Section 1 - Simple Burning
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15718_95" -->
<a id="c15718_95"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;light&quot; and &quot;burn&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15719_95" -->
<a id="c15719_95"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [something] with [strikable-match]&quot; as burning it with. Understand &quot;burn [something] with [something preferably held]&quot; as burning it with. Burning it with is an action applying to one thing and one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15720_95" -->
<a id="c15720_95"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;light&quot; as &quot;burn&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15721_95" -->
<a id="c15721_95"></a><blockquote class="code"><p class="quoted">
A thing can be flammable or impervious. A thing is usually impervious.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15722_95" -->
<a id="c15722_95"></a><blockquote class="code"><p class="quoted">
Check burning something with something (this is the burn only with flaming matches rule):
<br />&#160;&#160;&#160;&#160;if the second noun is not a strikable-match, say &quot;You can only light things with matches.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not flaming, say &quot;[The second noun] needs to be burning first.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15723_95" -->
<a id="c15723_95"></a><blockquote class="code"><p class="quoted">
Check burning something with something (this is the burn only flammable things rule):
<br />&#160;&#160;&#160;&#160;if the noun is impervious, say &quot;[The noun] cannot be burned.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15724_95" -->
<a id="c15724_95"></a><blockquote class="code"><p class="quoted">
Check burning something with something (this is the burn only things not held rule):
<br />&#160;&#160;&#160;&#160;say &quot;[one of]It occurs to you to set down [the noun] before burning, just for safety's sake. [or]Again, you decide to put down [the noun] prior to burning. [or]You try setting down [the noun] as usual. [stopping][run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;silently try the player dropping the noun;
<br />&#160;&#160;&#160;&#160;if the player encloses the noun, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15725_95" -->
<a id="c15725_95"></a><blockquote class="code"><p class="quoted">
Carry out burning something with something (this is the simplistic burning rule):
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15726_95" -->
<a id="c15726_95"></a><blockquote class="code"><p class="quoted">
Report burning something with something:
<br />&#160;&#160;&#160;&#160;say &quot;You burn up [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15727_95" -->
<a id="c15727_95"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking the second noun while burning something with something which is not a strikable-match:
<br />&#160;&#160;&#160;&#160;say &quot;You can only light things with matches.&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15728_95" -->
<a id="c15728_95"></a><blockquote class="code"><p class="quoted">
Section 2 - Matches
</p></blockquote>
<!-- END CODE -->
<p>The word &quot;matches&quot; is used by Inform to compare snippets of text (see &quot;Reading a command&quot; in the Activities chapter). This can sometimes cause awkwardness if we also have a kind called &quot;match&quot;, so for the occasion we will give our matches a more specialized name, never visible to the player:</p>
<!-- START CODE "c15729_95" -->
<a id="c15729_95"></a><blockquote class="code"><p class="quoted">
A strikable-match is a kind of thing. The plural of strikable-match is s-matches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15730_95" -->
<a id="c15730_95"></a><blockquote class="code"><p class="quoted">
A strikable-match has a number called duration. The duration of a strikable-match is usually 3.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15731_95" -->
<a id="c15731_95"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a strikable-match: say &quot;match&quot;.
<br />Rule for printing the plural name of a strikable-match: say &quot;matches&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15732_95" -->
<a id="c15732_95"></a><blockquote class="code"><p class="quoted">
Understand &quot;match&quot; as a strikable-match. Understand &quot;matches&quot; as a strikable-match.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15733_95" -->
<a id="c15733_95"></a><blockquote class="code"><p class="quoted">
Flame-state is a kind of value. The flame-states are burnt, flaming, and new. Understand &quot;burning&quot; or &quot;lit&quot; as flaming. Understand &quot;unused&quot; as new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15734_95" -->
<a id="c15734_95"></a><blockquote class="code"><p class="quoted">
A strikable-match has a flame-state. A strikable-match is usually new. Understand the flame-state property as describing a strikable-match.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15735_95" -->
<a id="c15735_95"></a><blockquote class="code"><p class="quoted">
Before printing the name of a strikable-match while asking which do you mean:
<br />&#160;&#160;&#160;&#160;say &quot;[flame-state] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15736_95" -->
<a id="c15736_95"></a><blockquote class="code"><p class="quoted">
Before printing the name of a strikable-match while taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;[flame-state] &quot;.
<br />Before printing the plural name of a strikable-match while taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;[flame-state] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15737_95" -->
<a id="c15737_95"></a><blockquote class="code"><p class="quoted">
Before printing the name of a strikable-match while clarifying the parser's choice of something:
<br />&#160;&#160;&#160;&#160;if not taking inventory, say &quot;[flame-state] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15738_95" -->
<a id="c15738_95"></a><blockquote class="code"><p class="quoted">
After printing the name of a strikable-match (called special-target) while clarifying the parser's choice of something:
<br />&#160;&#160;&#160;&#160;if the player carries the special-target:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; you're carrying&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the special-target is in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; on the ground&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; [if the holder of the special-target is a container]in[otherwise]on[end if] [the holder of the special-target]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15739_95" -->
<a id="c15739_95"></a><blockquote class="code"><p class="quoted">
Understand &quot;strike [something]&quot; as attacking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15740_95" -->
<a id="c15740_95"></a><blockquote class="code"><p class="quoted">
Understand &quot;strike [strikable-match]&quot; as striking. Striking is an action applying to one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15741_95" -->
<a id="c15741_95"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [strikable-match]&quot; as striking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15742_95" -->
<a id="c15742_95"></a><blockquote class="code"><p class="quoted">
Does the player mean striking a new strikable-match:
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15743_95" -->
<a id="c15743_95"></a><blockquote class="code"><p class="quoted">
Does the player mean striking a burnt strikable-match:
<br />&#160;&#160;&#160;&#160;it is unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15744_95" -->
<a id="c15744_95"></a><blockquote class="code"><p class="quoted">
Check striking a strikable-match (this is the strike only new matches rule):
<br />&#160;&#160;&#160;&#160;if the noun is burnt, say &quot;[The noun] has already burnt down and cannot be relit.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is flaming, say &quot;[The noun] is already burning.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15745_95" -->
<a id="c15745_95"></a><blockquote class="code"><p class="quoted">
Carry out striking a strikable-match (this is the standard striking rule):
<br />&#160;&#160;&#160;&#160;now the noun is flaming;
<br />&#160;&#160;&#160;&#160;now the noun is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15746_95" -->
<a id="c15746_95"></a><blockquote class="code"><p class="quoted">
Report striking a strikable-match (this is the standard report striking rule):
<br />&#160;&#160;&#160;&#160;say &quot;You light [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15747_95" -->
<a id="c15747_95"></a><blockquote class="code"><p class="quoted">
Before burning something with a new strikable-match (this is the prior lighting rule):
<br />&#160;&#160;&#160;&#160;say &quot;(first [if the player does not carry the second noun]taking and [end if]lighting [the second noun])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;silently try striking the second noun;
<br />&#160;&#160;&#160;&#160;if the second noun is not flaming, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15748_95" -->
<a id="c15748_95"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking a strikable-match (called target) while striking:
<br />&#160;&#160;&#160;&#160;try silently taking the target.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15749_95" -->
<a id="c15749_95"></a><blockquote class="code"><p class="quoted">
Does the player mean burning something with a flaming strikable-match:
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15750_95" -->
<a id="c15750_95"></a><blockquote class="code"><p class="quoted">
Does the player mean burning something with a new strikable-match:
<br />&#160;&#160;&#160;&#160;it is likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15751_95" -->
<a id="c15751_95"></a><blockquote class="code"><p class="quoted">
Does the player mean burning something with a burnt strikable-match:
<br />&#160;&#160;&#160;&#160;it is unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15752_95" -->
<a id="c15752_95"></a><blockquote class="code"><p class="quoted">
Instead of burning a burnt strikable-match with something:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is completely consumed and cannot be relit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15753_95" -->
<a id="c15753_95"></a><blockquote class="code"><p class="quoted">
Section 3 - Putting the Matches Out
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15754_95" -->
<a id="c15754_95"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;let N be 0; [here we track how many matches are being put out during this turn, so that we don't have to mention each match individually if several go out during the same move]
<br />&#160;&#160;&#160;&#160;repeat with item running through flaming s-matches:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement the duration of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the duration of the item is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is burnt;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is unlit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is visible, increment N;
<br />&#160;&#160;&#160;&#160;if N is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[if the number of visible flaming s-matches is greater than 0]One of the matches [otherwise if the number of burnt visible s-matches is greater than 1]Your last burning match [otherwise]The match [end if]goes out.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if N is greater than 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let enumeration be &quot;[N in words]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is the number of visible s-matches:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is two, say &quot;Both&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;All [enumeration]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[enumeration in title case]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; matches go out[if a visible strikable-match is flaming], leaving [number of visible flaming s-matches in words] still lit[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15755_95" -->
<a id="c15755_95"></a><blockquote class="code"><p class="quoted">
Section 4 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15756_95" -->
<a id="c15756_95"></a><blockquote class="code"><p class="quoted">
Old Chicago is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15757_95" -->
<a id="c15757_95"></a><blockquote class="code"><p class="quoted">
The player carries a flammable thing called a log. Understand &quot;wooden&quot; and &quot;wood&quot; as the log.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15758_95" -->
<a id="c15758_95"></a><blockquote class="code"><p class="quoted">
The player carries two s-matches. The matchbox is an open openable container. It contains five s-matches. The player carries the matchbox.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15759_95" -->
<a id="c15759_95"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every strikable-match carried by the player is flaming;
<br />&#160;&#160;&#160;&#160;now every strikable-match carried by the player is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15760_95" -->
<a id="c15760_95"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / burn match / i / i / burn log with match / burn matchbox with match / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "401: In Fire or in Flood" "e47" -->
<a id="e47"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e47" class="eglink"><b>401</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e47" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">In Fire or in Flood</span></b></a><br />A BURN command; flammable objects which light other items in their vicinity and can burn for different periods of time; the possibility of having parts or contents of a flaming item which survive being burnt.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_19.html#e47"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example47">
<!-- START CODE "c15761_47" -->
<a id="c15761_47"></a><blockquote class="code"><p class="quoted">
&quot;In Fire or in Flood&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15762_47" -->
<a id="c15762_47"></a><blockquote class="code"><p class="quoted">
Part I - Rules for combustion
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15763_47" -->
<a id="c15763_47"></a><blockquote class="code"><p class="quoted">
Heat is a kind of value. The heats are whole, damp, and flaming. A thing has a heat. A thing is usually whole.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15764_47" -->
<a id="c15764_47"></a><blockquote class="code"><p class="quoted">
A thing has a number called endurance. The endurance of a thing is usually 5. A thing has a number called turns of burning. A thing can be flammable or flame-retardant.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15765_47" -->
<a id="c15765_47"></a><blockquote class="code"><p class="quoted">
Before printing the name of something flaming:
<br />&#160;&#160;&#160;&#160;say &quot;flaming &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15766_47" -->
<a id="c15766_47"></a><blockquote class="code"><p class="quoted">
Before burning something when the player is not carrying something flaming:
<br />&#160;&#160;&#160;&#160;if a flaming portable thing (called the lighter) is touchable:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(with [the lighter], which you first take)[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try taking the lighter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15767_47" -->
<a id="c15767_47"></a><blockquote class="code"><p class="quoted">
Instead of burning something when the player is not carrying something flaming:
<br />&#160;&#160;&#160;&#160;say &quot;You would first need a fire source.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15768_47" -->
<a id="c15768_47"></a><blockquote class="code"><p class="quoted">
Instead of burning something flame-retardant:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is not the sort of thing that catches fire.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15769_47" -->
<a id="c15769_47"></a><blockquote class="code"><p class="quoted">
Instead of burning something flammable when the player is carrying something flaming (called the flame source):
<br />&#160;&#160;&#160;&#160;say &quot;You light [the noun] with [the flame source].&quot;;
<br />&#160;&#160;&#160;&#160;now the heat of the noun is flaming.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15770_47" -->
<a id="c15770_47"></a><blockquote class="code"><p class="quoted">
Instead of burning something when the player is in the noun:
<br />&#160;&#160;&#160;&#160;say &quot;That seems dangerous given that you yourself are in [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15771_47" -->
<a id="c15771_47"></a><blockquote class="code"><p class="quoted">
Instead of burning something when the player is on the noun:
<br />&#160;&#160;&#160;&#160;say &quot;That seems dangerous given that you yourself are on [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15772_47" -->
<a id="c15772_47"></a><blockquote class="code"><p class="quoted">
Instead of examining something:
<br />&#160;&#160;&#160;&#160;say &quot;Hm, the [printed name] appears to be [heat].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15773_47" -->
<a id="c15773_47"></a><blockquote class="code"><p class="quoted">
Before taking a flaming thing:
<br />&#160;&#160;&#160;&#160;let turns remaining be the endurance of the noun minus the turns of burning of the noun;
<br />&#160;&#160;&#160;&#160;if turns remaining is less than two, say &quot;There's no portion of [the noun] sufficiently cool for you to pick up.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>But that's only a small part of the battle. The thing about fire is that it keeps on doing fiery things even when the player is otherwise occupied: destroying items that are on fire, and spreading to other things nearby. So we need a set of rules for the fire's behavior.</p>
<!-- START CODE "c15774_47" -->
<a id="c15774_47"></a><blockquote class="code"><p class="quoted">
Every turn when something is flaming:
<br />&#160;&#160;&#160;&#160;follow the fire rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15775_47" -->
<a id="c15775_47"></a><blockquote class="code"><p class="quoted">
The fire rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15776_47" -->
<a id="c15776_47"></a><blockquote class="code"><p class="quoted">
A fire rule (this is the can't hold flaming objects rule):
<br />&#160;&#160;&#160;&#160;repeat with item running through flaming things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is held by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let turns remaining be the endurance of the item minus the turns of burning of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if turns remaining is less than two:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item] becomes too hot to hold! &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try dropping the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is held by the player, say &quot;This is certainly painful.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15777_47" -->
<a id="c15777_47"></a><blockquote class="code"><p class="quoted">
A fire rule (this is the flames spread rule):
<br />&#160;&#160;&#160;&#160;repeat with item running through flaming things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the turns of burning of the item is one:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;spread the flames from the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15778_47" -->
<a id="c15778_47"></a><blockquote class="code"><p class="quoted">
A fire rule (this is the fire destroys things rule):
<br />&#160;&#160;&#160;&#160;now started printing is false;
<br />&#160;&#160;&#160;&#160;repeat with item running through flaming things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the turns of burning of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the turns of burning of the item is greater than the endurance of the item, destroy the item;
<br />&#160;&#160;&#160;&#160;if started printing is true, say &quot;[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;now started printing is false.
</p></blockquote>
<!-- END CODE -->
<p>Because we've labelled all the fire rules, we could swap their order, or turn some of them off, while allowing the others run as usual. For instance, if there were a pair of fireproof gloves in the game, we might want to turn off the &quot;can't hold flaming objects rule&quot; whenever the player is wearing them.</p>
<p>This sort of flexibility is especially useful in the context of extensions. Someone writing an extension about burning would have no way of anticipating the need for a Fireproof Gauntlet of Thog, but the author would nonetheless be able to implement one easily.</p>
<!-- START CODE "c15779_47" -->
<a id="c15779_47"></a><blockquote class="code"><p class="quoted">
Definition: a thing is vulnerable if it is flammable and it is whole.
</p></blockquote>
<!-- END CODE -->
<p>The contact between things is a critical factor when it comes to fire, so we might add a couple of conditional relations do determine what is touching what.</p>
<!-- START CODE "c15780_47" -->
<a id="c15780_47"></a><blockquote class="code"><p class="quoted">
Reliance relates a thing (called X) to a thing (called Y) when X is part of Y or X is in Y or X is on Y. The verb to be relying on means the reliance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15781_47" -->
<a id="c15781_47"></a><blockquote class="code"><p class="quoted">
Contact relates a thing (called X) to a thing (called Y) when X is relying on Y or Y is relying on X. The verb to be joined to means the contact relation.
</p></blockquote>
<!-- END CODE -->
<p>Having these at our disposal makes it much tidier to write what happens next:</p>
<!-- START CODE "c15782_47" -->
<a id="c15782_47"></a><blockquote class="code"><p class="quoted">
To spread the flames from (item - a thing):
<br />&#160;&#160;&#160;&#160;now started printing is false;
<br />&#160;&#160;&#160;&#160;if the item is joined to a flammable whole thing (called the sacrifice):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the sacrifice is visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now started printing is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Flames engulf [the list of flammable whole things which are joined to the item].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now all the flammable whole things joined to the item are flaming.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15783_47" -->
<a id="c15783_47"></a><blockquote class="code"><p class="quoted">
Started printing is a truth state that varies. Started printing is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15784_47" -->
<a id="c15784_47"></a><blockquote class="code"><p class="quoted">
To destroy (item - a thing):
<br />&#160;&#160;&#160;&#160;let home be the holder of the item;
<br />&#160;&#160;&#160;&#160;if the item is part of something (called the superstructure), let home be the holder of the superstructure;
<br />&#160;&#160;&#160;&#160;if the item is visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now started printing is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item] burns away[if something is relying on the item], leaving [a list of things which are relying on the item] behind[end if]. &quot;;
<br />&#160;&#160;&#160;&#160;if something is relying on the item,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now all the things which are relying on the item are in the home;
<br />&#160;&#160;&#160;&#160;now the item is nowhere;
<br />&#160;&#160;&#160;&#160;now the item is damp;
<br />&#160;&#160;&#160;&#160;now every flaming thing which is part of the item is damp.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15785_47" -->
<a id="c15785_47"></a><blockquote class="code"><p class="quoted">
To destroy (item - a door):
<br />&#160;&#160;&#160;&#160;let home be the holder of the item;
<br />&#160;&#160;&#160;&#160;if item is visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now started printing is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item] burns away[if something flame-retardant is part of the item], leaving [a list of flame-retardant parts of the item] behind[end if]. &quot;;
<br />&#160;&#160;&#160;&#160;if home is a room, now all of the flame-retardant parts of the item are in the home;
<br />&#160;&#160;&#160;&#160;now the item is damp;
<br />&#160;&#160;&#160;&#160;now the item is open;
<br />&#160;&#160;&#160;&#160;now the item is unopenable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15786_47" -->
<a id="c15786_47"></a><blockquote class="code"><p class="quoted">
Before printing the name of a damp door:
<br />&#160;&#160;&#160;&#160;say &quot;burnt-out frame of &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15787_47" -->
<a id="c15787_47"></a><blockquote class="code"><p class="quoted">
Instead of opening or closing a damp door:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] can no longer be opened or closed in any meaningful sense.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15788_47" -->
<a id="c15788_47"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than examining or dropping to a flaming thing when the turns of burning of the noun is greater than 1:
<br />&#160;&#160;&#160;&#160;say &quot;Fire has too thoroughly engulfed [the noun] for that to be a good idea.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15789_47" -->
<a id="c15789_47"></a><blockquote class="code"><p class="quoted">
Instead of taking something when the noun is in a flaming thing (called the receptacle):
<br />&#160;&#160;&#160;&#160;say &quot;You don't quite dare reach into [the receptacle].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15790_47" -->
<a id="c15790_47"></a><blockquote class="code"><p class="quoted">
Instead of touching something which is within a flaming thing (called the receptacle):
<br />&#160;&#160;&#160;&#160;say &quot;It seems a little risky since [the receptacle] is on fire.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15791_47" -->
<a id="c15791_47"></a><blockquote class="code"><p class="quoted">
Instead of turning something when the noun is contained in a flaming thing (called the receptacle):
<br />&#160;&#160;&#160;&#160;say &quot;It seems a little risky since [the receptacle] is on fire.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15792_47" -->
<a id="c15792_47"></a><blockquote class="code"><p class="quoted">
Instead of pushing or pulling something when the noun is inside a flaming thing (called the receptacle):
<br />&#160;&#160;&#160;&#160;say &quot;[The receptacle] deters you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15793_47" -->
<a id="c15793_47"></a><blockquote class="code"><p class="quoted">
Before burning something which is in a container when the holder of the noun contains the player:
<br />&#160;&#160;&#160;&#160;say &quot;This could make things toasty for you...&quot;
</p></blockquote>
<!-- END CODE -->
<p>And that completes the rules which cover burning: things can catch fire, fire will spread, and gradually consume the world in flames. All of that was general and could be used in any setting, but we now provide a small game to show it off.</p>
<!-- START CODE "c15794_47" -->
<a id="c15794_47"></a><blockquote class="code"><p class="quoted">
Part II - Escape from the Library of the Dead
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15795_47" -->
<a id="c15795_47"></a><blockquote class="code"><p class="quoted">
The Library of the Dead is a room. &quot;This room -- little, dank, stone -- is filling with some miasma you do not quite dare breathe. It is imperative that you get out.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15796_47" -->
<a id="c15796_47"></a><blockquote class="code"><p class="quoted">
The desk is a flammable supporter in the Library. A drawer is part of the desk. The drawer is a flammable closed container. It is openable, lockable, and locked. The desk is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15797_47" -->
<a id="c15797_47"></a><blockquote class="code"><p class="quoted">
A box is in the Library. A metal hinge is part of the box. The hinge is flame-retardant. The box is open, flammable, and openable. The shroud of Laertes is a flammable thing in the box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15798_47" -->
<a id="c15798_47"></a><blockquote class="code"><p class="quoted">
Instead of examining something when something is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;You note [the list of things which are part of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15799_47" -->
<a id="c15799_47"></a><blockquote class="code"><p class="quoted">
The world's last manuscript of the Psychagogoi by Aeschylus is on the desk. The manuscript is flammable. The manuscript has endurance 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15800_47" -->
<a id="c15800_47"></a><blockquote class="code"><p class="quoted">
The torch is a flammable flaming thing carried by the player. It has endurance 60. The asbestos sack is a flame-retardant player's holdall in the drawer.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15801_47" -->
<a id="c15801_47"></a><blockquote class="code"><p class="quoted">
The trapdoor is up of the Library and east of the Plaza. The trapdoor is a door. It is flammable, closed, lockable, and locked. &quot;A trapdoor in the ceiling is your only hope of escape[if flaming]. Fortunately, it is rapidly burning through[end if].&quot; The trapdoor has endurance 15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15802_47" -->
<a id="c15802_47"></a><blockquote class="code"><p class="quoted">
Instead of going through the closed trapdoor, say &quot;[The trapdoor] is closed.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We can then add a special fire rule to handle the trapdoor, which will be called as part of the same sequence. Again, this would be most important if the fire rules were part of a standard extension, and the trapdoor fire rule the author's own addition.</p>
<!-- START CODE "c15803_47" -->
<a id="c15803_47"></a><blockquote class="code"><p class="quoted">
A fire rule:
<br />&#160;&#160;&#160;&#160;if the trapdoor is flaming and a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the caught thing be a random flammable whole thing which can be touched by the trapdoor;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the caught thing is a thing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;A spark from [the trapdoor] catches [the caught thing]!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the caught thing is flaming.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15804_47" -->
<a id="c15804_47"></a><blockquote class="code"><p class="quoted">
Instead of going to the Plaza:
<br />&#160;&#160;&#160;&#160;say &quot;Out at last!&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15805_47" -->
<a id="c15805_47"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get manuscript / get shroud / light desk / look / g / open drawer / look / g / g / g / get sack / put shroud in sack / put manuscript in sack / close sack / light trapdoor / look / g / g / g / g / g / g / g / g / g / g / g / g / g / g / up&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "84: Grilling" "e179" -->
<a id="e179"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e179" class="eglink"><b>84</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e179" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Grilling</span></b></a><br />A grill, from which the player is not allowed to take anything lest he burn himself.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_7.html#e179"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example179">
<p>Descriptions of objects can be used in &quot;Instead&quot; rules: we can not only say &quot;Instead of taking the steak&quot;, but also &quot;Instead of taking something&quot; or &quot;Instead of taking something which is on the grill&quot;.</p>
<p>That last rule is useful if, for example, we want to prevent the player from interacting with anything on a specific supporter:</p>
<!-- START CODE "c15806_179" -->
<a id="c15806_179"></a><blockquote class="code"><p class="quoted">
&quot;Grilling&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15807_179" -->
<a id="c15807_179"></a><blockquote class="code"><p class="quoted">
The Patio is a room. The Patio contains a grill and an ice chest. The ice chest contains a cold beer. On the grill are a steak and a hot dog.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15808_179" -->
<a id="c15808_179"></a><blockquote class="code"><p class="quoted">
Mom is a woman in the Patio.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15809_179" -->
<a id="c15809_179"></a><blockquote class="code"><p class="quoted">
Instead of taking something which is on the grill:
<br />&#160;&#160;&#160;&#160;say &quot;'Hey, you'll burn yourself,' says Mom.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15810_179" -->
<a id="c15810_179"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get steak / get all from grill / get all&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We could just as easily adapt this rule to affect a container: &quot;Instead of taking something which is in the ice chest,&quot; for example.</p>
<p>Note also that in older versions of Inform, the pattern &quot;get all from...&quot; was treated differently from &quot;get steak&quot;, and had to be accounted for separately. This is no longer the case; this instead of taking... rule will handle all the phrasings which the player might use to try to acquire this object.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "182: Entropy" "e124" -->
<a id="e124"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e124" class="eglink"><b>182</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e124" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Entropy</span></b></a><br />All objects in the game have a heat, but if not kept insulated they will tend toward room temperature (and at a somewhat exaggerated rate).</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_11.html#e124"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example124">
<!-- START CODE "c15811_124" -->
<a id="c15811_124"></a><blockquote class="code"><p class="quoted">
&quot;Entropy&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15812_124" -->
<a id="c15812_124"></a><blockquote class="code"><p class="quoted">
Heat is a kind of value. The heats are frosty, cold, cool, room temperature, warm, hot, and scalding. Everything has a heat. The heat of a thing is usually room temperature.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15813_124" -->
<a id="c15813_124"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with item running through things which are not in an insulated container:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the heat of the item is greater than room temperature, now the heat of the item is the heat before the heat of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the heat of the item is less than room temperature, now the heat of the item is the heat after the heat of the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15814_124" -->
<a id="c15814_124"></a><blockquote class="code"><p class="quoted">
Definition: a container is insulated if it is closed and it is opaque.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15815_124" -->
<a id="c15815_124"></a><blockquote class="code"><p class="quoted">
The vacuum thermos is an opaque closed openable container carried by the player. In the vacuum thermos is a frosty thing called an ice cube.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15816_124" -->
<a id="c15816_124"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the heat of the ice cube is greater than cold:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the ice cube is visible, say &quot;The ice cube melts! 'HA ha,' says Maxwell, in a very unsporting, some might say demonic, way.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ice cube is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15817_124" -->
<a id="c15817_124"></a><blockquote class="code"><p class="quoted">
Before printing the name of something: say &quot;[heat] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15818_124" -->
<a id="c15818_124"></a><blockquote class="code"><p class="quoted">
Equilibrium is a room. &quot;A perfectly smooth chamber sealed from the outside world. You can't at this moment work out where the exit is, though possibly that is just because the lighting is so very very even and diffuse. And doesn't come from anywhere that you can see, either.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15819_124" -->
<a id="c15819_124"></a><blockquote class="code"><p class="quoted">
Maxwell is a man in Equilibrium.  &quot;Maxwell perches awkwardly on a stool across from you[if Maxwell has something], holding [a list of things carried by Maxwell][end if].&quot; He is carrying a box of Chinese food. The Chinese food is scalding. &quot;A discarded [item described] lies on the floor.&quot; The description of Maxwell is &quot;He has the faintly peevish look of one who has not been properly fed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15820_124" -->
<a id="c15820_124"></a><blockquote class="code"><p class="quoted">
Every turn when Maxwell has the food:
<br />&#160;&#160;&#160;&#160;if the heat of the Chinese food is greater than warm, say &quot;Maxwell takes a bite, and swears.&quot;;
<br />&#160;&#160;&#160;&#160;if the heat of the Chinese food is warm, say &quot;Maxwell eats as fast as he can, enjoying the food while it's at just the right temperature.&quot;;
<br />&#160;&#160;&#160;&#160;if the heat of the Chinese food is less than warm:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Maxwell sadly stabs at his leftovers with a chopstick, but does not try to eat any more.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the food to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15821_124" -->
<a id="c15821_124"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / open thermos / close thermos / open thermos&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "326: Masochism Deli" "e297" -->
<a id="e297"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e297" class="eglink"><b>326</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e297" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Masochism Deli</span></b></a><br />Multiple potatoes, with rules to make the player drop the hot potato first and pick it up last.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e297"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example297">
<p>Here the player has several potatoes; we would like to make him more likely to drop the hot one, and more likely to pick up the cold one, all else being equal. At the same time, we want to phrase our rules so that they don't make the player try to take something he's already holding, or drop something he isn't.</p>
<p>So:</p>
<!-- START CODE "c15822_297" -->
<a id="c15822_297"></a><blockquote class="code"><p class="quoted">
&quot;Masochism Deli&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15823_297" -->
<a id="c15823_297"></a><blockquote class="code"><p class="quoted">
The Masochism Deli is a room. &quot;Recent restructurings of corporate policy restrict the 'lunch hour' to exactly thirty-two minutes, which means that no one has time to go out. Instead, you and your coworkers eat here, in the company's very own themed lunch room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15824_297" -->
<a id="c15824_297"></a><blockquote class="code"><p class="quoted">
The plural of potato is potatoes. A potato is a kind of thing. A potato is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15825_297" -->
<a id="c15825_297"></a><blockquote class="code"><p class="quoted">
Temperature is a kind of value. The temperatures are hot and cold. A potato has a temperature. A potato is usually cold.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15826_297" -->
<a id="c15826_297"></a><blockquote class="code"><p class="quoted">
Understand the temperature property as describing a potato. Before printing the name of a potato (called subject): say &quot;[temperature of subject] &quot;. Before printing the plural name of a potato (called subject): say &quot;[temperature of subject] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15827_297" -->
<a id="c15827_297"></a><blockquote class="code"><p class="quoted">
Does the player mean dropping a hot potato which is carried by the player: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15828_297" -->
<a id="c15828_297"></a><blockquote class="code"><p class="quoted">
Does the player mean taking a cold potato which is not carried by the player: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15829_297" -->
<a id="c15829_297"></a><blockquote class="code"><p class="quoted">
The player carries three potatoes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15830_297" -->
<a id="c15830_297"></a><blockquote class="code"><p class="quoted">
After dropping a hot potato:
<br />&#160;&#160;&#160;&#160;say &quot;The guy from Cube B sneers at your lack of potato-holding stamina.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15831_297" -->
<a id="c15831_297"></a><blockquote class="code"><p class="quoted">
When play begins: now a random potato is hot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15832_297" -->
<a id="c15832_297"></a><blockquote class="code"><p class="quoted">
Test me with &quot;inventory / drop potato / g / g / get potato / g / i / get potato&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "331: Hot Glass Looks Like Cold Glass" "e105" -->
<a id="e105"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e105" class="eglink"><b>331</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e105" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hot Glass Looks Like Cold Glass</span></b></a><br />Responding to references to a property that the player isn't yet allowed to mention (or when not to use "understand as a mistake").</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e105"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example105">
<p>Suppose we have a situation where the player is allowed to talk about the heat of an object only if he's properly equipped to detect it.</p>
<!-- START CODE "c15833_105" -->
<a id="c15833_105"></a><blockquote class="code"><p class="quoted">
&quot;Hot Glass Looks Like Cold Glass&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15834_105" -->
<a id="c15834_105"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15835_105" -->
<a id="c15835_105"></a><blockquote class="code"><p class="quoted">
Heat is a kind of value. The heats are hot, warm, room temperature, and cold. A thing has a heat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15836_105" -->
<a id="c15836_105"></a><blockquote class="code"><p class="quoted">
Understand the heat property as referring to a thing when the player wears the infrared goggles.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15837_105" -->
<a id="c15837_105"></a><blockquote class="code"><p class="quoted">
The Test Kitchen is a room. &quot;Your own personal lab, ready for scrupulously scientific recipe research. You hope. The previous three runs of this did not go well.&quot; The pair of infrared goggles is carried by the player. The description is &quot;A pair of head-mounted IR goggles which look very foolish when worn.&quot; The goggles are wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15838_105" -->
<a id="c15838_105"></a><blockquote class="code"><p class="quoted">
A glass dish is a kind of container. A glass dish is transparent. Three room temperature glass dishes are on the counter. Two hot glass dishes are on the counter. Two cold glass dishes are on the counter. The counter is scenery in the Test Kitchen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15839_105" -->
<a id="c15839_105"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than examining to a hot glass dish:
<br />&#160;&#160;&#160;&#160;say &quot;Ow! Crikey! You swear, and Claudia makes a sympathetic hiss. 'You're going to have a mark from that for sure,' she comments.&quot;;
<br />&#160;&#160;&#160;&#160;decrease the score by 2.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15840_105" -->
<a id="c15840_105"></a><blockquote class="code"><p class="quoted">
Instead of doing something when a hot glass dish is the second noun:
<br />&#160;&#160;&#160;&#160;say &quot;You brush [the second noun], and wince, but manage to conceal that from Claudia.&quot;;
<br />&#160;&#160;&#160;&#160;decrement the score.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15841_105" -->
<a id="c15841_105"></a><blockquote class="code"><p class="quoted">
Before printing the name of a glass dish when the player wears the goggles: say &quot;[heat] &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15842_105" -->
<a id="c15842_105"></a><blockquote class="code"><p class="quoted">
Before printing the plural name of a glass dish when the player wears the goggles: say &quot;[heat] &quot;
</p></blockquote>
<!-- END CODE -->
<p>So far, so good. Now, what if the player tries to GET HOT DISH when the goggles are off? &quot;You can't see any such thing.&quot; doesn't seem like quite the right response: he can see such a thing. He just doesn't know which it is.</p>
<p>We could go on to write a mistake rule that would scold the player for trying &quot;get [heat] [text]&quot; when not wearing the goggles. The problem is that this would not cover any other phrasing of the command, nor would it account for all the many other things the player might try to do with an object specified by heat.</p>
<p>What we really want is to catch all instances of the player using the property name when not allowed to do so; and for this purpose we can borrow a trick from the chapter on Activities:</p>
<!-- START CODE "c15843_105" -->
<a id="c15843_105"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player wears the goggles, make no decision;
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;[heat]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Without the IR goggles on, you cannot tell hot things from cold at sight.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15844_105" -->
<a id="c15844_105"></a><blockquote class="code"><p class="quoted">
Claudia is a woman in the Test Kitchen. &quot;Your assistant Claudia stands by with [a list of things carried by Claudia].&quot; The description of Claudia is &quot;Infinitely patient and a very good stenographer. She is studiously avoiding giving you any sort of look that might be construed as mocking.&quot; Claudia carries a notepad, a brined chicken breast, a blowtorch, and a cup of heavy cream.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15845_105" -->
<a id="c15845_105"></a><blockquote class="code"><p class="quoted">
Instead of asking Claudia for something which is carried by Claudia:
<br />&#160;&#160;&#160;&#160;move the second noun to the player;
<br />&#160;&#160;&#160;&#160;say &quot;'Check, [second noun],' repeats Claudia, in the tone of one who has seen too many medical dramas. She does hand it over, though.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15846_105" -->
<a id="c15846_105"></a><blockquote class="code"><p class="quoted">
Instead of asking Claudia for something:
<br />&#160;&#160;&#160;&#160;say &quot;She clears her throat faintly and glances at [the second noun], as though to say that it's not hers to give.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15847_105" -->
<a id="c15847_105"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get all / drop all / look / wear goggles / look / ask claudia for cream / put cream in hot dish / put cream in cold dish / remove goggles / get hot dish&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "215: Magneto's Revenge" "e209" -->
<a id="e209"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e209" class="eglink"><b>215</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e209" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Magneto's Revenge</span></b></a><br />Kitty Pryde of the X-Men is able to reach through solid objects, so we might implement her with special powers that the player does not have...</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e209"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example209">
<!-- START CODE "c15848_209" -->
<a id="c15848_209"></a><blockquote class="code"><p class="quoted">
&quot;Magneto's Revenge&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15849_209" -->
<a id="c15849_209"></a><blockquote class="code"><p class="quoted">
The School for Gifted Youngsters is a room. Kitty Pryde is a woman in the School for Gifted Youngsters. &quot;Kitty Pryde waits for you to say why you summoned her out of class.&quot; The description is &quot;You see nothing special about Kitty Pryde. But that is only because she has learned to conceal her mutant powers: in fact she has the alternative name Shadowcat, and the ability to phase through solid objects.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15850_209" -->
<a id="c15850_209"></a><blockquote class="code"><p class="quoted">
The glass box is a container in the School for Gifted Youngsters. It is closed, openable, and transparent. In the box is a quantity of poisonous gas. In the box is a thing called the message from Magneto.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15851_209" -->
<a id="c15851_209"></a><blockquote class="code"><p class="quoted">
Instead of examining the message when the player is not carrying the message:
<br />&#160;&#160;&#160;&#160;say &quot;You'd need to be holding it before you could read it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15852_209" -->
<a id="c15852_209"></a><blockquote class="code"><p class="quoted">
Instead of opening the glass box: say &quot;You're deterred by the swirling bottle-green mist within.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15853_209" -->
<a id="c15853_209"></a><blockquote class="code"><p class="quoted">
Check someone taking the gas (this is the gaseous object rule): rule fails.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15854_209" -->
<a id="c15854_209"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by someone taking the gas: say &quot;The gas isn't something one can pick up in one's bare hands.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15855_209" -->
<a id="c15855_209"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the player can touch the gas:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The gas has reached your lungs!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15856_209" -->
<a id="c15856_209"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside something:
<br />&#160;&#160;&#160;&#160;if the person reaching is Kitty, allow access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15857_209" -->
<a id="c15857_209"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking someone to try doing something: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15858_209" -->
<a id="c15858_209"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get message / kitty, get message / open box / kitty, open box&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now the player can get Kitty to take the message without releasing the poisonous gas:</p>
<!-- START CODE "c15859_209" -->
<a id="c15859_209"></a><blockquote class="code"><p class="quoted">
Kitty Pride waits for you to tell her why you summoned her out of class.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15860_209" -->
<a id="c15860_209"></a><blockquote class="code"><p class="quoted">
You can also see a glass box (closed) (in which are some poisonous gas and a message from Magneto) here.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15861_209" -->
<a id="c15861_209"></a><blockquote class="code"><p class="quoted">
&gt;kitty, get message
<br />Kitty Pryde picks up a message from Magneto.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "225: Interrogation" "e200" -->
<a id="e200"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e200" class="eglink"><b>225</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e200" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Interrogation</span></b></a><br />A wand which, when waved, reveals the concealed items carried by people the player can see.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e200"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example200">
<!-- START CODE "c15862_200" -->
<a id="c15862_200"></a><blockquote class="code"><p class="quoted">
&quot;Interrogation&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15863_200" -->
<a id="c15863_200"></a><blockquote class="code"><p class="quoted">
The X-Ray Vision Wand is carried by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15864_200" -->
<a id="c15864_200"></a><blockquote class="code"><p class="quoted">
Instead of waving the X-Ray Vision Wand:
<br />&#160;&#160;&#160;&#160;say &quot;Disappointingly, nothing happens.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15865_200" -->
<a id="c15865_200"></a><blockquote class="code"><p class="quoted">
Instead of waving the X-Ray Vision Wand when the player can see someone who is concealing something:
<br />&#160;&#160;&#160;&#160;say &quot;The wand glows green. Immediately you see on the monitor [a list of things which are concealed by people who can be seen by the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15866_200" -->
<a id="c15866_200"></a><blockquote class="code"><p class="quoted">
After printing the name of a thing (called target) which is carried by someone while waving the wand:
<br />&#160;&#160;&#160;&#160;say &quot; (carried by [a random person who carries the target])&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15867_200" -->
<a id="c15867_200"></a><blockquote class="code"><p class="quoted">
The Interrogation Chamber is a room. &quot;Despite its gothic name, this room is a rather civilized place for your work, with large plate-glass windows and a fitted carpet.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15868_200" -->
<a id="c15868_200"></a><blockquote class="code"><p class="quoted">
A thing can be secret or obvious. A thing is usually obvious.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15869_200" -->
<a id="c15869_200"></a><blockquote class="code"><p class="quoted">
Brian is in the Interrogation Chamber.&quot;Brian lounges against the wall.&quot; Brian carries a quantity of plastic explosive. The explosive is secret.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15870_200" -->
<a id="c15870_200"></a><blockquote class="code"><p class="quoted">
Janine is in the Interrogation Chamber. &quot;Janine toys nervously with a laptop bag.&quot; Janine carries a chocolate biscuit, a laptop bag, and a microfilm. The microfilm is secret. The laptop bag is wearable. In the bag is a laptop computer.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15871_200" -->
<a id="c15871_200"></a><blockquote class="code"><p class="quoted">
Rule for deciding the concealed possessions of something: if the particular possession is secret, yes; otherwise no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15872_200" -->
<a id="c15872_200"></a><blockquote class="code"><p class="quoted">
Instead of examining someone: say &quot;[The noun] is openly carrying [a list of unconcealed things carried by the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15873_200" -->
<a id="c15873_200"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wave wand / examine janine / examine brian&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "227: Transmutations" "e390" -->
<a id="e390"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e390" class="eglink"><b>227</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e390" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Transmutations</span></b></a><br />A machine that turns objects into other, similar objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e390"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example390">
<p>Suppose we want to have a machine in our game that can transmute one item into another, similar object with different properties: a bag of jelly beans into a bag of jewels, for instance. Thus each item will be associated with some number of equivalents -- the other objects it can turn into. This is a handy use for group relations:</p>
<!-- START CODE "c15874_390" -->
<a id="c15874_390"></a><blockquote class="code"><p class="quoted">
&quot;Transmutations&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15875_390" -->
<a id="c15875_390"></a><blockquote class="code"><p class="quoted">
Workshop is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15876_390" -->
<a id="c15876_390"></a><blockquote class="code"><p class="quoted">
Transmutation relates things to each other in groups. The verb to become means the transmutation relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15877_390" -->
<a id="c15877_390"></a><blockquote class="code"><p class="quoted">
Definition: a thing is transmutable if it becomes more than one thing. [* It always becomes itself.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15878_390" -->
<a id="c15878_390"></a><blockquote class="code"><p class="quoted">
A thing can be valuable. Something valuable called a bag of jewels is carried by the player. It becomes the bag of gunpowder and the bag of jelly beans.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15879_390" -->
<a id="c15879_390"></a><blockquote class="code"><p class="quoted">
A thing can be dangerous. The bag of gunpowder is a dangerous thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15880_390" -->
<a id="c15880_390"></a><blockquote class="code"><p class="quoted">
The bag of jelly beans is an edible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15881_390" -->
<a id="c15881_390"></a><blockquote class="code"><p class="quoted">
The machine is fixed in place in the workshop.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15882_390" -->
<a id="c15882_390"></a><blockquote class="code"><p class="quoted">
The can't insert into what's not a container rule does nothing when inserting something into the machine.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15883_390" -->
<a id="c15883_390"></a><blockquote class="code"><p class="quoted">
Check inserting something which is not transmutable into the machine:
<br />&#160;&#160;&#160;&#160;instead say &quot;You can't transmute that.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15884_390" -->
<a id="c15884_390"></a><blockquote class="code"><p class="quoted">
To decide which thing is new form of (obj - edible thing): decide on a random valuable thing which becomes obj.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15885_390" -->
<a id="c15885_390"></a><blockquote class="code"><p class="quoted">
To decide which thing is new form of (obj - dangerous thing): decide on a random edible thing which becomes obj.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15886_390" -->
<a id="c15886_390"></a><blockquote class="code"><p class="quoted">
To decide which thing is new form of (obj - valuable thing): decide on a random dangerous thing which becomes obj.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15887_390" -->
<a id="c15887_390"></a><blockquote class="code"><p class="quoted">
Carry out inserting something into the machine:
<br />&#160;&#160;&#160;&#160;now the noun is nowhere;
<br />&#160;&#160;&#160;&#160;now the player carries the new form of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15888_390" -->
<a id="c15888_390"></a><blockquote class="code"><p class="quoted">
Report inserting something edible into the machine:
<br />&#160;&#160;&#160;&#160;say &quot;The machine clicks, whirrs, and spits out [a new form of the noun]. You're rich!&quot;;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15889_390" -->
<a id="c15889_390"></a><blockquote class="code"><p class="quoted">
Report inserting something dangerous into the machine:
<br />&#160;&#160;&#160;&#160;say &quot;The machine clicks, whirrs, and in a shower of flavor crystals, spits out [a new form of the noun].&quot;;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15890_390" -->
<a id="c15890_390"></a><blockquote class="code"><p class="quoted">
Report inserting something valuable into the machine:
<br />&#160;&#160;&#160;&#160;say &quot;The machine clicks, whirrs, and with a violent roar, spits out [a new form of the noun].&quot;;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15891_390" -->
<a id="c15891_390"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Test me with &quot;i / put jewels in machine / i / put gunpowder in machine / i / put beans in machine&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In this example we have only defined a single set of transmutable objects, but we could easily expand to include other groups.</p>
<p>(Thanks to Jesse McGrew for proposing this example.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "398: Access All Areas" "e227" -->
<a id="e227"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e227" class="eglink"><b>398</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e227" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Access All Areas</span></b></a><br />The Pointy Hat of Liminal Transgression allows its wearer to walk clean through closed doors.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_19.html#e227"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example227">
<p>If somebody tries to walk through a closed door, the &quot;can't go through closed doors rule&quot; usually stops them. This is a rule belonging to the &quot;check going&quot; rulebook. These names are fairly explanatory when written out, but hard to remember: fortunately we don't need to remember them, as the Index panel contains a full inventory of the check, carry out and report rules for every action, showing all of their names and the order in which they are checked. (We can also find out which rules are stopping an action by typing the testing command ACTIONS.)</p>
<p>Here we make the rule do nothing provided a condition holds:</p>
<!-- START CODE "c15892_227" -->
<a id="c15892_227"></a><blockquote class="code"><p class="quoted">
&quot;Access All Areas&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15893_227" -->
<a id="c15893_227"></a><blockquote class="code"><p class="quoted">
The extremely difficult door is north of the Standing Room and south of the Room of Walking Upside Down.  It is a locked door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15894_227" -->
<a id="c15894_227"></a><blockquote class="code"><p class="quoted">
The player is carrying the Pointy Hat of Liminal Transgression. The hat is wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15895_227" -->
<a id="c15895_227"></a><blockquote class="code"><p class="quoted">
The can't go through closed doors rule does nothing when the Hat is worn.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15896_227" -->
<a id="c15896_227"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / wear hat / n&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(The Pointy Hat may be useful in debugging a game, even if it never makes it into the final published work.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "240: Number Study" "e270" -->
<a id="e270"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e270" class="eglink"><b>240</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e270" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Number Study</span></b></a><br />The parity and joint magnitude relations explored.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e270"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example270">
<p>This is the same case given above, but expanded just slightly to demonstrate that the names of the relations can also be printed, if we like:</p>
<!-- START CODE "c15897_270" -->
<a id="c15897_270"></a><blockquote class="code"><p class="quoted">
&quot;Number Study&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15898_270" -->
<a id="c15898_270"></a><blockquote class="code"><p class="quoted">
Abstraction is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15899_270" -->
<a id="c15899_270"></a><blockquote class="code"><p class="quoted">
Parity relates a number (called N) to a number (called M) when N minus M is even.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15900_270" -->
<a id="c15900_270"></a><blockquote class="code"><p class="quoted">
Joint magnitude relates a number (called N) to a number (called M) when N plus M is greater than 7.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15901_270" -->
<a id="c15901_270"></a><blockquote class="code"><p class="quoted">
To chart (R - a relation of numbers):
<br />&#160;&#160;&#160;&#160;repeat with N running from 1 to 5:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with M running from 1 to 5:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if R relates N to M, say &quot;[N] &lt;=&gt; [M] by [R][line break]&quot;;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15902_270" -->
<a id="c15902_270"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let L be { parity relation, joint magnitude relation };
<br />&#160;&#160;&#160;&#160;repeat with R running through L:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;chart R.
</p></blockquote>
<!-- END CODE -->
<p>As this shows, we can even form lists of relations. The kind of L is &quot;list of relations of numbers&quot;.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "434: The Fibonacci Sequence" "e140" -->
<a id="e140"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e140" class="eglink"><b>434</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e140" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Fibonacci Sequence</span></b></a><br />The modest Leonardo Fibonacci of Pisa will be only too happy to construct his sequence on request, using an array.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_21.html#e140"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example140">
<p>Fibonacci (a posthumous nickname) spread Arabic mathematical learning across Europe in the 13th century, and it's curious that his name lives on only for a single sequence.</p>
<!-- START CODE "c15903_140" -->
<a id="c15903_140"></a><blockquote class="code"><p class="quoted">
&quot;The Fibonacci Sequence&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15904_140" -->
<a id="c15904_140"></a><blockquote class="code"><p class="quoted">
Pisa is a room. Leonardo Fibonacci is a man in Pisa. &quot;The modest Italian mathematician, Leonardo Fibonacci (1170-1250), beams at you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15905_140" -->
<a id="c15905_140"></a><blockquote class="code"><p class="quoted">
Sequencing is an action applying to one number. Understand &quot;sequence [number]&quot; as sequencing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15906_140" -->
<a id="c15906_140"></a><blockquote class="code"><p class="quoted">
Instead of sequencing, say &quot;You make a feeble attempt, sketching in the sand, but it goes nowhere. Leonardo is sympathetic. 'Often goes wrong for me, too, actually. I didn't even invent the thing - the ancient Indians knew about it first.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15907_140" -->
<a id="c15907_140"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Leonardo to try sequencing: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15908_140" -->
<a id="c15908_140"></a><blockquote class="code"><p class="quoted">
Report Leonardo sequencing:
<br />&#160;&#160;&#160;&#160;let N be the number understood;
<br />&#160;&#160;&#160;&#160;say &quot;Leonardo scratches his head and makes self-deprecating remarks, before coming up with [the first N terms of the Fibonacci sequence].&quot;
</p></blockquote>
<!-- END CODE -->
<p> An array need not be fixed in length, as the following example shows:</p>
<!-- START CODE "c15909_140" -->
<a id="c15909_140"></a><blockquote class="code"><p class="quoted">
To decide what list of numbers is the first (F - a number) terms of the Fibonacci sequence:
<br />&#160;&#160;&#160;&#160;let the Fibonacci sequence be {1, 1};
<br />&#160;&#160;&#160;&#160;let N be 3;
<br />&#160;&#160;&#160;&#160;while N &lt; F:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the last term be entry (N - 1) of the Fibonacci sequence;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the penultimate term be entry (N - 2) of the Fibonacci sequence;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the next term be the last term plus the penultimate term;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add the next term to the Fibonacci sequence;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment N;
<br />&#160;&#160;&#160;&#160;decide on the Fibonacci sequence.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15910_140" -->
<a id="c15910_140"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sequence 20 / leonardo, sequence 20&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The result of &quot;the first 20 terms of the Fibonacci sequence&quot; is &quot;1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584 and 4181&quot;. This is a sequence which has a knack of turning up in odd places - it was found in the 1970s to be related to the rings of florets in a sunflower, for instance - and here it is in a book about interactive fiction.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "437: Sieve of Eratosthenes" "e346" -->
<a id="e346"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_10.html#e346" class="eglink"><b>437</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10.html#e346" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Sieve of Eratosthenes</span></b></a><br />The haughty Eratosthenes of Cyrene will nevertheless consent to sieve prime numbers on request.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_21.html#e346"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example346">
<p>In the words of Wikipedia: &quot;Eratosthenes of Cyrene (Greek Eρατοσθένης; 276 BC-194 BC) was a Greek mathematician, poet, athlete, geographer and astronomer.&quot; In the words of Tom Lehrer: &quot;It's people like that who make you realise how little you've achieved in life.&quot;</p>
<p>A prime number is a number greater than 1 which is not a multiple of anything, so we can find the primes by starting with all the numbers and sieving out all the multiples of 2, then all the multiples of 3, and so on. Here we make our sieve of the unacceptable numbers (the &quot;composite&quot; or non-prime ones) first, then form a list of all the numbers, then sieve out the composites: what are left must be the primes.</p>
<!-- START CODE "c15911_346" -->
<a id="c15911_346"></a><blockquote class="code"><p class="quoted">
&quot;Sieve of Eratosthenes&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15912_346" -->
<a id="c15912_346"></a><blockquote class="code"><p class="quoted">
Alexandria is a room. Eratosthenes is a man in Alexandria. &quot;The haughty Greek mathematician, Eratosthenes, glowers at you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15913_346" -->
<a id="c15913_346"></a><blockquote class="code"><p class="quoted">
Sieving is an action applying to one number. Understand &quot;sieve [number]&quot; as sieving.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15914_346" -->
<a id="c15914_346"></a><blockquote class="code"><p class="quoted">
Instead of sieving, say &quot;You make a feeble attempt, sketching in the sand, but it goes nowhere. Eratosthenes smirks. 'I expect your friends call you gamma, then?'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15915_346" -->
<a id="c15915_346"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Eratosthenes to try sieving: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15916_346" -->
<a id="c15916_346"></a><blockquote class="code"><p class="quoted">
Report Eratosthenes sieving:
<br />&#160;&#160;&#160;&#160;let N be the number understood;
<br />&#160;&#160;&#160;&#160;let the composites be a list of numbers;
<br />&#160;&#160;&#160;&#160;let I be 2;
<br />&#160;&#160;&#160;&#160;while I times I is at most N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if I is not listed in the composites:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let J be I times 2;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while J is at most N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add J to the composites, if absent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase J by I;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment I;
<br />&#160;&#160;&#160;&#160;sort the composites;
<br />&#160;&#160;&#160;&#160;let the primes be a list of numbers;
<br />&#160;&#160;&#160;&#160;repeat with P running from 2 to N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add P to the primes;
<br />&#160;&#160;&#160;&#160;remove the composites from the primes;
<br />&#160;&#160;&#160;&#160;say &quot;Eratosthenes sketches lines in the sand with the air of much practice. 'The primes up to [N] are [the primes]. The composites are [the composites].'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15917_346" -->
<a id="c15917_346"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sieve 10 / eratosthenes, sieve 100&quot;.
</p></blockquote>
<!-- END CODE -->
<p>While this could all be done more efficiently with an array, that's only because what we are sieving are numbers: sieving is a technique which can be used for non-numerical decisions, too.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
