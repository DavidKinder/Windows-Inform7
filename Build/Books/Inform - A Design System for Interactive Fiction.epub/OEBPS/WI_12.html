<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>Chapter 12: Advanced Actions</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 12: Advanced Actions</p>
<p class="chaptercontents"><a href="WI_12.html#s1" class="standardlink"><span class="chaptercontentsitem">§12.1. A recap of actions</span></a>; <a href="WI_12.html#s2" class="standardlink"><span class="chaptercontentsitem">§12.2. How actions are processed</span></a>; <a href="WI_12.html#s3" class="standardlink"><span class="chaptercontentsitem">§12.3. Giving instructions to other people</span></a>; <a href="WI_12.html#s4" class="standardlink"><span class="chaptercontentsitem">§12.4. Persuasion</span></a>; <a href="WI_12.html#s5" class="standardlink"><span class="chaptercontentsitem">§12.5. Unsuccessful attempts</span></a>; <a href="WI_12.html#s6" class="standardlink"><span class="chaptercontentsitem">§12.6. Spontaneous actions by other people</span></a>; <a href="WI_12.html#s7" class="standardlink"><span class="chaptercontentsitem">§12.7. New actions</span></a>; <a href="WI_12.html#s8" class="standardlink"><span class="chaptercontentsitem">§12.8. Irregular English verbs</span></a>; <a href="WI_12.html#s9" class="standardlink"><span class="chaptercontentsitem">§12.9. Check, carry out, report</span></a>; <a href="WI_12.html#s10" class="standardlink"><span class="chaptercontentsitem">§12.10. Action variables</span></a>; <a href="WI_12.html#s11" class="standardlink"><span class="chaptercontentsitem">§12.11. Making actions work for other people</span></a>; <a href="WI_12.html#s12" class="standardlink"><span class="chaptercontentsitem">§12.12. Check rules for actions by other people</span></a>; <a href="WI_12.html#s13" class="standardlink"><span class="chaptercontentsitem">§12.13. Report rules for actions by other people</span></a>; <a href="WI_12.html#s14" class="standardlink"><span class="chaptercontentsitem">§12.14. Actions for any actor</span></a>; <a href="WI_12.html#s15" class="standardlink"><span class="chaptercontentsitem">§12.15. Out of world actions</span></a>; <a href="WI_12.html#s16" class="standardlink"><span class="chaptercontentsitem">§12.16. Reaching inside and reaching outside rules</span></a>; <a href="WI_12.html#s17" class="standardlink"><span class="chaptercontentsitem">§12.17. Visible vs touchable vs carried</span></a>; <a href="WI_12.html#s18" class="standardlink"><span class="chaptercontentsitem">§12.18. Changing reachability</span></a>; <a href="WI_12.html#s19" class="standardlink"><span class="chaptercontentsitem">§12.19. Changing visibility</span></a>; <a href="WI_12.html#s20" class="standardlink"><span class="chaptercontentsitem">§12.20. Stored actions</span></a>; <a href="WI_12.html#s21" class="standardlink"><span class="chaptercontentsitem">§12.21. Guidelines on how to write rules about actions</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="WI_1.html" class="standardlink">Contents of <i>Writing with Inform</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html" class="standardlink">Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_13.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_13.html" class="standardlink">Chapter 13: Relations</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§12.1. A recap of actions</p>
<p>Actions are impulses to do something, which arise sometimes through typed commands:</p>
<!-- START CODE "c3100" -->
<a id="c3100"></a><blockquote class="code"><p class="quoted">
&gt;examine tapestry
</p></blockquote>
<!-- END CODE -->
<p>and sometimes through &quot;try&quot; phrases occurring in other rules:</p>
<!-- START CODE "c3101" -->
<a id="c3101"></a><blockquote class="code"><p class="quoted">
Before examining the tapestry, try switching the ultraviolet light on.
</p></blockquote>
<!-- END CODE -->
<p>Every action either succeeds or fails, though failure may not be a bad thing (something better may have happened). Besides any rules applied in the source text, actions are subject to basic realism rules. A general rule ensures that actions are rejected if the actor would need to touch something which is out of reach, or see something which is invisible; and a couple of hundred other built-in rules police individual actions. For instance, if the ACTIONS testing command has been used to switch monitoring on, then:</p>
<!-- START CODE "c3102" -->
<a id="c3102"></a><blockquote class="code"><p class="quoted">
&gt;unlock cage with watermelon
<br />[unlocking cage with watermelon]
<br />That doesn't seem to fit the lock.
<br />[unlocking cage with watermelon - failed the can't unlock without the correct key rule]
</p></blockquote>
<!-- END CODE -->
<p>Actions generated by &quot;try&quot; phrases are allowed to run &quot;silently&quot;, which means that if nothing out of the way happens and they succeed, then nothing is printed. For instance:</p>
<!-- START CODE "c3103" -->
<a id="c3103"></a><blockquote class="code"><p class="quoted">
Before examining the tapestry: say &quot;(Switching on the lamp first.)&quot;; silently try switching the ultraviolet light on.
</p></blockquote>
<!-- END CODE -->
<p>There are many ways to impose extra rules on actions, and we have seen three main kinds: Before rules, intended so that preliminary activities like the one above can happen before the action is tried; Instead rules, which block or divert the intention, or may cause something spectacularly different to happen; and After rules, which allow for unexpected consequences after the action has taken place.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s18" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s18" class="standardlink">Back to Chapter 11: Phrases: §11.18. The value after and the value before</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s2" class="standardlink">Onward to §12.2. How actions are processed</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§12.2. How actions are processed</p>
<p>The following flow chart shows the natural course of events when Inform deals with a new action - a &quot;taking&quot; action in the case drawn. For quite a long time, the action may still fail, and it may be that nothing actually happens: but eventually a deciding line is crossed, and once that happens the action will certainly succeed.</p>
<p><img alt="achart.png" src="images/achart.png" /></p>
<p>The coloured boxes on this chart represent &quot;rulebooks&quot;, that is, collections of rules with a common purpose. The orange boxes for Before, Instead and After were covered in the Basic Actions chapter, but the blue boxes are new. The orange boxes are where we put rules to handle unusual situations, or unexpected events: special rules to cover the opening of a container which happens to be booby-trapped, or walking through a doorway into a room where a surprise party is about to be sprung.</p>
<p>Blue boxes hold the mundane, everyday rules - the generic ways that particular actions behave. Every action provides these: &quot;Check&quot; rules, to see if it makes sense - for instance, to see that the player is not trying to take his or her own body, or a whole room, or something he or she already has; then &quot;Carry out&quot; rules, to actually do what the action is supposed to do - in the case of taking, to move an object into the player's possession; and finally &quot;Report&quot; rules, which tell the player what has happened - perhaps printing up &quot;Taken.&quot;</p>
<p>When we create a new action, we add a new column to the blue rows in this diagram. As we shall see, we can also put new rules into the existing blue boxes: for instance, if we wanted to increase physical realism by forbidding the player to carry more than a certain weight, we would want to add a new &quot;check taking&quot; rule, and this is entirely legal.</p>
<p>In subsequent chapters, we will see ways to intervene at almost every point in the above diagram - from how &quot;Can we see or touch things?&quot; is reckoned, to each and every individual rule in all of these books. Action-processing may be the single most important thing Inform does, so the system is designed to be immensely flexible. On the other hand, that does make it a lot to take in at one look. Newcomers should probably concentrate on &quot;Instead&quot; and &quot;After&quot; as the basic tools for designing the situations turning up routinely in interactive fiction. There are guidelines at the end of this chapter offering advice on which tricks to use when it comes to more complicated needs.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s1" class="standardlink">Back to §12.1. A recap of actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s3" class="standardlink">Onward to §12.3. Giving instructions to other people</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§12.3. Giving instructions to other people</p>
<p>So far, all actions have been carried out by the player: which is fine for exploring the passive world of an empty warehouse, but less good for a drama in which other characters have to be contended with. In fact, an action can be carried out by anybody - by any instance of the &quot;person&quot; kind, that is, which includes all the men, women and animals in the story, and not only the player.</p>
<p>In interactive fiction, players conventionally ask other characters to do something with commands like so:</p>
<!-- START CODE "c3104" -->
<a id="c3104"></a><blockquote class="code"><p class="quoted">
&gt; will, go west
</p></blockquote>
<!-- END CODE -->
<p>Clearly &quot;will, go west&quot; should not produce the same action as &quot;go west&quot;, because a different person will be trying it: this person is called the &quot;actor&quot;, and while the actor is ordinarily the player, here it is the character called Will. Inform distinguishes these two actions like so:</p>
<!-- START CODE "c3105" -->
<a id="c3105"></a><blockquote class="code"><p class="quoted">
going west
<br />asking Will to try going west
</p></blockquote>
<!-- END CODE -->
<p>As a result, we can write rules like so:</p>
<!-- START CODE "c3106" -->
<a id="c3106"></a><blockquote class="code"><p class="quoted">
Instead of asking Will to try going west, say &quot;Will scratches his head, baffled by this talk of westward. Is not the ocean without bound?&quot;
</p></blockquote>
<!-- END CODE -->
<p>To write rules like this, we sometimes want to generalise about who is supposed to do the deed. To do this we can refer to &quot;person asked&quot;, just as the &quot;noun&quot; stands for whatever noun was typed:</p>
<!-- START CODE "c3107" -->
<a id="c3107"></a><blockquote class="code"><p class="quoted">
Instead of asking somebody to try taking something, say &quot;I don't think we ought to tempt [the person asked] into theft, surely?&quot;
</p></blockquote>
<!-- END CODE -->
<p>So if the player types &quot;Algy, take sandwich&quot;, the &quot;person asked&quot; would be Algy; the &quot;noun&quot; would be the sandwich; and there would be no &quot;second noun&quot;.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s2" class="standardlink">Back to §12.2. How actions are processed</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s4" class="standardlink">Onward to §12.4. Persuasion</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e416" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e416" class="standardlink">Example 184: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Virtue</b>&#160;&#160;&#160; Defining certain kinds of behavior as inappropriate, so that other characters will refuse indignantly to do any such thing.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e187" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e187" class="standardlink">Example 185: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Latris Theon</b>&#160;&#160;&#160; A person who can accept instructions to go to new destinations and move towards them according to the most reasonable path.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§12.4. Persuasion</p>
<p>&quot;Asking ... to try ...&quot; actions run through their Before and Instead rules like any other actions, but then (if no rule has intervened) something different happens: Inform has to decide whether the person asked consents to try the action or not. By default, the answer is always no, and text like the following will be printed:</p>
<!-- START CODE "c3108" -->
<a id="c3108"></a><blockquote class="code"><p class="quoted">
&gt; will, go west
<br />Will has better things to do.
</p></blockquote>
<!-- END CODE -->
<p>However, we can intervene to make the answer &quot;yes&quot;, using a special kind of rule which produces a yes/no answer. The following examples show how we can give broad or narrow permission, as we choose:</p>
<!-- START CODE "c3109" -->
<a id="c3109"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking people to try going: persuasion succeeds.
<br />Persuasion rule for asking Will to try going west: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<p>Such a rule can either declare that &quot;persuasion succeeds&quot;, or that &quot;persuasion fails&quot;, or make no decision and leave it to another rule to say. If it decides that persuasion fails, it is also allowed to say something, describing why: in that event, the standard message (&quot;Will has better things to do.&quot;) is suppressed. For example,</p>
<!-- START CODE "c3110" -->
<a id="c3110"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Will to try going:
<br />&#160;&#160;&#160;&#160;say &quot;Will looks put out, and mutters under his breath.&quot;;
<br />&#160;&#160;&#160;&#160;persuasion fails.
</p></blockquote>
<!-- END CODE -->
<p>The following rule, which is really only suitable for testing, makes everybody infinitely obliging:</p>
<!-- START CODE "c3111" -->
<a id="c3111"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking people to try doing something: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<p>Supposing that Will does decide to cooperate, a new action is generated:</p>
<!-- START CODE "c3112" -->
<a id="c3112"></a><blockquote class="code"><p class="quoted">
Will going west
</p></blockquote>
<!-- END CODE -->
<p>and this is then subject to all of the usual action machinery. For instance, we could write a rule such as:</p>
<!-- START CODE "c3113" -->
<a id="c3113"></a><blockquote class="code"><p class="quoted">
Instead of Will going west, say &quot;He runs out into the waves, but soon returns, rueful.&quot;
</p></blockquote>
<!-- END CODE -->
<p>So in this case the new action (&quot;Will going west&quot;) failed: but the original action, &quot;asking Will to try going west&quot;, is still deemed to have succeeded - after all, Will <span class="italic">did</span> try. To put it more formally, &quot;asking X to try A&quot; succeeds if the persuasion rules succeed, and otherwise fails.</p>
<p>Note also that &quot;Instead of...&quot; rules written for other people will be treated by Inform as failures, even if we write something like</p>
<!-- START CODE "c3114" -->
<a id="c3114"></a><blockquote class="code"><p class="quoted">
Instead of Will pulling the cord:
<br />&#160;&#160;&#160;&#160;say &quot;The bell rings.&quot;
</p></blockquote>
<!-- END CODE -->
<p>and thus may produce unsatisfactory results such as</p>
<!-- START CODE "c3115" -->
<a id="c3115"></a><blockquote class="code"><p class="quoted">
&gt;WILL, PULL CORD
<br />The bell rings.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3116" -->
<a id="c3116"></a><blockquote class="code"><p class="quoted">
Will is unable to do that.
</p></blockquote>
<!-- END CODE -->
<p>If we wish to write new successful actions for another character, we will need to create appropriate carry out and report rules for them: these will be explained in the sections to follow.</p>
<p>(Finally, note that the mechanism Inform uses to see if we have printed a refusal message of our own, in the event of persuasion rules failing, can be fooled if we write a persuasion rule explicitly ending with a &quot;[paragraph break]&quot; text substitution.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s3" class="standardlink">Back to §12.3. Giving instructions to other people</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s5" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s5" class="standardlink">Onward to §12.5. Unsuccessful attempts</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e196" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e196" class="standardlink">Example 186: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Hypnotist of Blois</b>&#160;&#160;&#160; A hypnotist who can make people obedient and then set them free again.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e296" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e296" class="standardlink">Example 187: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Police State</b>&#160;&#160;&#160; Several friends who obey you; a policeman who doesn't (but who takes a dim view of certain kinds of antics).</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§12.5. Unsuccessful attempts</p>
<p>Suppose, finally, that Will not only consents to try the action, but it also survives its passage through Before and Instead rules. What happens then? In principle, what happens to Will is exactly what would have happened to the player in his place. For instance:</p>
<!-- START CODE "c3117" -->
<a id="c3117"></a><blockquote class="code"><p class="quoted">
&gt; will, go east
<br />Will leaves to the east.
</p></blockquote>
<!-- END CODE -->
<p>If on the other hand Will's attempt is frustrated because one of the checking rules stops him, then Will's action fails. For instance, if Will tries going northeast but there is no room to northeast, one of the rules checking the &quot;going&quot; action will stop him. We will then see this:</p>
<!-- START CODE "c3118" -->
<a id="c3118"></a><blockquote class="code"><p class="quoted">
&gt; will, go northeast
<br />Will is unable to do that.
</p></blockquote>
<!-- END CODE -->
<p>This is rather a generic message, and we may want something more interesting. We can provide that using yet another special kind of rule:</p>
<!-- START CODE "c3119" -->
<a id="c3119"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by Will going: say &quot;Will blunders around going nowhere, as usual.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Even that is still a little generic, though, because it treats all of the various ways that &quot;going&quot; can fail as the same. If we have ACTIONS switched on, we can see what goes on behind the scenes when we ask Will to walk into a door:</p>
<!-- START CODE "c3120" -->
<a id="c3120"></a><blockquote class="code"><p class="quoted">
&gt;will, go west
<br />[asking Will to try going west]
<br />[(1) Will going west]
<br />[(1) Will going west - failed the can't go through closed doors rule]
<br />Will blunders around going nowhere, as usual.
<br />[asking Will to try going west - succeeded]
</p></blockquote>
<!-- END CODE -->
<p>(The &quot;(1)&quot; lets us know that a new action is starting during the old one, and before the old one finishes: sometimes we go up to three or four deep, though seldom more in practical cases.) We can now rewrite the &quot;unsuccessful attempt&quot; rule like so:</p>
<!-- START CODE "c3121" -->
<a id="c3121"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by Will going:
<br />&#160;&#160;&#160;&#160;if the reason the action failed is the can't go through closed doors rule, say &quot;Will looks doubtful and mumbles about doors.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Will blunders around going nowhere, as usual.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The value &quot;reason the action failed&quot; is set to whichever checking rule threw out the action which Will tried. The names of these rules try to be self-explanatory - at any rate, those with gnomic names are not useful for this sort of thing, and can be ignored - and can be found out either using ACTIONS or by consulting the Actions index.</p>
<p>Finally, note that &quot;unsuccessful attempt&quot; rules apply only when the person in question is being asked to perform the action by somebody else - as in the examples above.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s4" class="standardlink">Back to §12.4. Persuasion</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s6" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s6" class="standardlink">Onward to §12.6. Spontaneous actions by other people</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e204" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e204" class="standardlink">Example 188: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Generation X</b>&#160;&#160;&#160; A person who goes along with the player's instructions, but reluctantly, and will get annoyed after too many repetitions of the same kind of unsuccessful command.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s6"></a>§12.6. Spontaneous actions by other people</p>
<p>The player's actions happen not only when he types a command, but can also happen spontaneously as a result of a &quot;try&quot; phrase.</p>
<!-- START CODE "c3122" -->
<a id="c3122"></a><blockquote class="code"><p class="quoted">
try going west
<br />try asking Will to try going west
</p></blockquote>
<!-- END CODE -->
<p>The latter might, of course, result in Will trying going west: or it might not - that depends on the persuasion rules. But as the author, we have the ultimate powers of persuasion, and can make Will act in any way we like, without asking:</p>
<!-- START CODE "c3123" -->
<a id="c3123"></a><blockquote class="code"><p class="quoted">
try Will going west
</p></blockquote>
<!-- END CODE -->
<p>Nobody in the simulated world requested this: it is an impulse felt by Will alone, so that - from the player's point of view - Will is acting spontaneously. The player need not be anywhere nearby, and may never know what happened. Recall that when actions work their way down through the flow-chart, they are stopped before reaching the &quot;report&quot; stage - when the player is told about them - if they are running &quot;silently&quot;. This is also where Inform stops an action which is not witnessed by the player.</p>
<p>To repeat a point in the previous section: &quot;unsuccessful attempt&quot; rules do not apply to actions which the author has caused to happen, using &quot;try&quot;. When such actions fail, they invoke no special set of rules. Indeed, when &quot;try&quot; causes somebody other than the player to try an action, nothing will be printed to report back on success or failure. If Will can't go west, that's his problem.</p>
<p>Note that the text &quot;try Will going west&quot; involves the actor's name immediately placed next to the action he is to try, which in a very few cases might cause ambiguities. If the actor's name contains a participle like &quot;going&quot; - say, if Will's full name turned out to be Mr Will Going - then we would have to write out the action name in full, using &quot;trying&quot; to clarify matters:</p>
<!-- START CODE "c3124" -->
<a id="c3124"></a><blockquote class="code"><p class="quoted">
try Will Going trying going west
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s5" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s5" class="standardlink">Back to §12.5. Unsuccessful attempts</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s7" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s7" class="standardlink">Onward to §12.7. New actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e273" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e273" class="standardlink">Example 189: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>IQ Test</b>&#160;&#160;&#160; Introducing Ogg, a person who will unlock and open a container when the player tells him to get something inside.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e106" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e106" class="standardlink">Example 190: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Boston Cream</b>&#160;&#160;&#160; A fuller implementation of Ogg, giving him a motivation of his own and allowing him to react to the situation created by the player.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s7"></a>§12.7. New actions</p>
<p>It is not often that we need to create new actions, but a large work of interactive fiction with no novelty actions is a flavourless dish. Here we shall create an action for photographing things.</p>
<!-- START CODE "c3125" -->
<a id="c3125"></a><blockquote class="code"><p class="quoted">
The Ruins is a room. &quot;You find this clearing in the rainforest oddly familiar.&quot; The camera is in the Ruins. &quot;Your elephantine camera hangs from a convenient branch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3126" -->
<a id="c3126"></a><blockquote class="code"><p class="quoted">
Photographing is an action applying to one visible thing and requiring light.
</p></blockquote>
<!-- END CODE -->
<p>In theory that text is already sufficient to make the new action, but what we have so far is rudimentary to say the least. The two qualifications give Inform the useful information that we cannot photograph in the dark, and that we need to be photographing something - not, as in the case of waiting or taking inventory, acting without reference to any particular thing external to ourselves.</p>
<p>The word &quot;visible&quot; here tells Inform that we do not need to be able to touch the thing in question: a line of sight is good enough. These two stipulations were necessary because the default arrangement is that any object must be in touching range, and that most actions can be performed in darkness. (Also, note that if you invent an action which needs to apply to directions like &quot;north&quot; or &quot;south&quot;, you need to make this apply to visible things, because the object used inside Inform to represent the idea of &quot;north&quot; can be seen but not touched. So for understanding purposes, &quot;visible thing&quot; is understood as meaning any visible thing or direction: it's more general than &quot;thing&quot;, not more specific.)</p>
<p>Occasionally, when writing general rules about actions, it can be useful to find out what the current action's requirements are: the following conditions do what they suggest.</p>
<!-- START PHRASE "defn144" -->
<div class="definition"><a id="defn144"></a><p class="defnprototype"><b>if action requires a touchable noun:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_requirestouch -->

<p>This condition is true if the action being processed is one whose (first) noun is an object which needs to be touchable by the actor. For example, it's true for &quot;taking&quot;, but false for &quot;examining&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn145" -->
<div class="definition"><a id="defn145"></a><p class="defnprototype"><b>if action requires a touchable second noun:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_requirestouch2 -->

<p>This condition is true if the action being processed is one whose second noun is an object which needs to be touchable by the actor. For example, it's true for &quot;putting the brick in the sack&quot;, but false for &quot;throwing the brick at the window&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn146" -->
<div class="definition"><a id="defn146"></a><p class="defnprototype"><b>if action requires a carried noun:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_requirescarried -->

<p>This condition is true if the action being processed is one whose (first) noun is an object which needs to be carried by the actor. For example, it's true for &quot;dropping&quot;, but false for &quot;taking&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn147" -->
<div class="definition"><a id="defn147"></a><p class="defnprototype"><b>if action requires a carried second noun:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_requirescarried2 -->

<p>This condition is true if the action being processed is one whose second noun is an object which needs to be carried by the actor.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn148" -->
<div class="definition"><a id="defn148"></a><p class="defnprototype"><b>if action requires light:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_requireslight -->

<p>This condition is true if the action being processed is one which can only be performed if the actor has light to see by. For example, it's true for &quot;examining&quot;, but false for &quot;dropping&quot;.</p>

<!-- end definition -->
</div>

<p>As further examples, here we create &quot;blinking&quot; and &quot;scraping X with Y&quot;. Note the use of &quot;it&quot; to indicate that the name of an object should go here.</p>
<!-- START CODE "c3127" -->
<a id="c3127"></a><blockquote class="code"><p class="quoted">
Blinking is an action applying to nothing. Scraping it with is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<p>The photographing action now exists, but with two provisos: (a) it never happens, because Inform does not know what commands by the player should cause it, and (b) even if it were to happen, nothing would follow, because Inform does not know what to do. (There are no check, carry out or report rules yet.)</p>
<p>The first problem is easily overcome:</p>
<!-- START CODE "c3128" -->
<a id="c3128"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [something]&quot; as photographing.
</p></blockquote>
<!-- END CODE -->
<p>We will return to the whole subject of parsing, as this process of understanding the player's commands is called, later. But this gives the gist of it.</p>
<p class="crossreference"><a href="WI_17.html#s1" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Understand</b></a><i> for the full story</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s6" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s6" class="standardlink">Back to §12.6. Spontaneous actions by other people</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s8" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s8" class="standardlink">Onward to §12.8. Irregular English verbs</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e104" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e104" class="standardlink">Example 191: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Red Cross</b>&#160;&#160;&#160; A DIAGNOSE command which allows the player to check on the health of someone.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e173" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e173" class="standardlink">Example 192: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Frizz</b>&#160;&#160;&#160; Liquid flows within containers and soaks objects that are not waterproof; any contact with a wet object can dampen our gloves.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e429" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e429" class="standardlink">Example 193: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>3 AM</b>&#160;&#160;&#160; A shake command which agitates soda and makes items thump around in boxes.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s8"></a>§12.8. Irregular English verbs</p>
<p>Our three example actions can be recognised in play using the following:</p>
<!-- START CODE "c3129" -->
<a id="c3129"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [something]&quot; as photographing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3130" -->
<a id="c3130"></a><blockquote class="code"><p class="quoted">
Understand &quot;blink&quot; as blinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3131" -->
<a id="c3131"></a><blockquote class="code"><p class="quoted">
Understand &quot;scrape [something] with [something]&quot; as scraping it with.
</p></blockquote>
<!-- END CODE -->
<p>The last of these examples shows why Inform does not risk generating this automatically: English is so full of irregular verbs. Inform could have guessed &quot;blink&quot; and &quot;photograph&quot;, but might then have opted for &quot;scrap&quot; instead of &quot;scrape&quot;.</p>
<p>Inform does risk automatically generating the past participle of an action. (Many past participles are never needed, so the stakes are lower if Inform gets this wrong.) What usually happens is that the &quot;-ing&quot; is replaced with &quot;-ed&quot;, thus photographed, blinked, scraped - but Inform has a dictionary of some 460 irregular exceptions, such as caught, fled, crossbred, taken, woven. So with luck Inform will guess correctly. If not, we can get around this like so:</p>
<!-- START CODE "c3132" -->
<a id="c3132"></a><blockquote class="code"><p class="quoted">
Squicking is an action with past participle squacked, applying to one thing.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s7" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s7" class="standardlink">Back to §12.7. New actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s9" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s9" class="standardlink">Onward to §12.9. Check, carry out, report</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s9"></a>§12.9. Check, carry out, report</p>
<p>The normal behaviour of an action is specified by its three associated rulebooks - check, carry out and report. In the case of our &quot;photographing&quot; example, these rulebooks will be:</p>
<!-- START CODE "c3133" -->
<a id="c3133"></a><blockquote class="code"><p class="quoted">
<span class="boldface">Check photographing</span>. Here, for instance, we need to verify that the player has the camera. If any of our checks fail, we should say why and stop the action. If they succeed, we say nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3134" -->
<a id="c3134"></a><blockquote class="code"><p class="quoted">
<span class="boldface">Carry out photographing</span>. At this stage no further checking is needed (or allowed): the action now definitively takes place. At this point we might, for instance, deduct one from the number of exposures left on the film in the camera, or award the player points for capturing something interesting for posterity. But we should say nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3135" -->
<a id="c3135"></a><blockquote class="code"><p class="quoted">
<span class="boldface">Report photographing</span>. At this stage no further activity is needed (or allowed): whatever effect the action had, it has happened and is now over. All we can do is to say what has taken place.
</p></blockquote>
<!-- END CODE -->
<p>So far we have not really gone into the business of what rulebooks are, and we don't do so here either - suffice to say that we can now create whatever rules we need:</p>
<!-- START CODE "c3136" -->
<a id="c3136"></a><blockquote class="code"><p class="quoted">
A check photographing rule:
<br />&#160;&#160;&#160;&#160;if the camera is not carried:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can hardly photograph without a camera, now can you?&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>In fact, writing &quot;a check photographing rule&quot; is over-formal. We can more simply label our rules like so:</p>
<!-- START CODE "c3137" -->
<a id="c3137"></a><blockquote class="code"><p class="quoted">
Check photographing:
<br />&#160;&#160;&#160;&#160;if we have photographed the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You've already snapped [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3138" -->
<a id="c3138"></a><blockquote class="code"><p class="quoted">
Report photographing: say &quot;Click!&quot;
</p></blockquote>
<!-- END CODE -->
<p>For the sake of brevity, photography has no interesting consequence (no points to be won, no film to use up), so there are no carry out rules here. Note the way we used the word &quot;instead&quot; once again to stop actions in their tracks.</p>
<p>We can continue to add rules at any point, and a classic thing that happens when testing a new work is that the designer realises there is a case which has not been thought of:</p>
<!-- START CODE "c3139" -->
<a id="c3139"></a><blockquote class="code"><p class="quoted">
Check photographing:
<br />&#160;&#160;&#160;&#160;if the noun is the camera:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;That would require some sort of contraption with mirrors.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s8" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s8" class="standardlink">Back to §12.8. Irregular English verbs</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s10" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s10" class="standardlink">Onward to §12.10. Action variables</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e115" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e115" class="standardlink">Example 194: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Dark Ages Revisited</b>&#160;&#160;&#160; An electric light kind of device which becomes lit when switched on and dark when switched off.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e281" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e281" class="standardlink">Example 195: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Paddington</b>&#160;&#160;&#160; A CUT [something] WITH [something] command which acts differently on different types of objects.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e103" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e103" class="standardlink">Example 196: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Delicious, Delicious Rocks</b>&#160;&#160;&#160; Adding a "sanity-check" stage to decide whether an action makes any sense, which occurs before any before rules, implicit taking, or check rules.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e265" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e265" class="standardlink">Example 197: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Noisemaking</b>&#160;&#160;&#160; Creating a stage after the report stage of an action, during which other characters may observe and react.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s10"></a>§12.10. Action variables</p>
<p>For some complex situations, it can be useful to keep track of a few values throughout the processing of the action. This is not an everyday occurrence: in the Standard Rules, for instance, only two or three out of 90 actions need to do this. But suppose we want to write a more deluxe version of our &quot;photographing&quot; action. This time, rather than having a single thing called the &quot;camera&quot;, we will provide a whole range of possible cameras, varying in quality:</p>
<!-- START CODE "c3140" -->
<a id="c3140"></a><blockquote class="code"><p class="quoted">
Photographing is an action applying to one visible thing and requiring light. Understand &quot;photograph [something]&quot; as photographing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3141" -->
<a id="c3141"></a><blockquote class="code"><p class="quoted">
The Studio is a room. Sally is a woman in the Studio. A foam-lined tote bag is in the Studio.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3142" -->
<a id="c3142"></a><blockquote class="code"><p class="quoted">
A camera is a kind of thing. A camera has a number called picture quality. The digital SLR camera is a camera in the tote bag. The player carries a camera called the instant one-shot camera. The picture quality of the SLR camera is 10. The picture quality of the one-shot is 2. Definition: a camera is sharp if its picture quality is 5 or more.
</p></blockquote>
<!-- END CODE -->
<p>And we will want the photographing action to have the player use the best-quality camera which comes to hand. We will give the action a variable called the 'camera photographed with', thus:</p>
<!-- START CODE "c3143" -->
<a id="c3143"></a><blockquote class="code"><p class="quoted">
The photographing action has an object called the camera photographed with.
</p></blockquote>
<!-- END CODE -->
<p>Every action's variables must be named differently from those of all other actions, because there are some &quot;before&quot; rules (for instance) which take effect for many different actions, and which might need access to any of their variables. So action variables should be named in a way marking out to which action they belong. The best way to do this is to include the past participle of the action name - just as &quot;camera photographed with&quot; contains the past participle &quot;photographed&quot; of the action &quot;photographing&quot;.</p>
<p>This value is created when the action begins, and disappears when the action ends. (If the action should happen a second time before the first time was completed, a second copy of the value is created, leaving the original undisturbed.) When the action begins, the value starts out as something neutral - so if it is a number, it starts out as 0, if a text, it starts out as the blank text &quot;&quot;, and so on. Here it is an object, so it starts out as nothing - the value meaning no object at all. But of course we want to give it a value ourselves. We can do that using the &quot;setting action variables&quot; rulebook. For instance:</p>
<!-- START CODE "c3144" -->
<a id="c3144"></a><blockquote class="code"><p class="quoted">
Setting action variables for photographing:
<br />&#160;&#160;&#160;&#160;now the camera photographed with is the sharpest camera which is carried by the actor.
</p></blockquote>
<!-- END CODE -->
<p>The &quot;setting action variables&quot; rulebook is run through before even the before rules, and it has no power to stop or change the action. Its rules should say nothing and do nothing other than to set rulebook variables like this one. Note that it is intended to work for any actor, not only the player: so rather than referring to the player as the performer of the action, we need to write &quot;the actor&quot;, as in the example above. (See subsequent sections for more on actors.)</p>
<p>We can now write rules such as:</p>
<!-- START CODE "c3145" -->
<a id="c3145"></a><blockquote class="code"><p class="quoted">
A check photographing rule:
<br />&#160;&#160;&#160;&#160;if the camera photographed with is nothing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can hardly photograph without a camera, now can you?&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Only rules to do with the photographing action - before, instead, after, check, carry out, or report rules, and so on - are allowed to see the 'camera photographed with' value: it's the private property of the action.</p>
<p>A further elaboration allows us to make rules about photographing neater to write. If we create our variable like so:</p>
<!-- START CODE "c3146" -->
<a id="c3146"></a><blockquote class="code"><p class="quoted">
The photographing action has an object called the camera photographed with (matched as &quot;using&quot;).
</p></blockquote>
<!-- END CODE -->
<p>...then we are now allowed to add an optional 'using ...' clause onto a description of the action. The clause has to be introduced with a single word: here, it's 'using'. For instance, we could write rules such as</p>
<!-- START CODE "c3147" -->
<a id="c3147"></a><blockquote class="code"><p class="quoted">
Instead of photographing something using the one-shot camera:
<br />&#160;&#160;&#160;&#160;say &quot;But you promised to give this to Sally's nephew.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3148" -->
<a id="c3148"></a><blockquote class="code"><p class="quoted">
Check photographing something using the noun:
<br />&#160;&#160;&#160;&#160;say &quot;That would require some sort of contraption with mirrors.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3149" -->
<a id="c3149"></a><blockquote class="code"><p class="quoted">
Report photographing something using a sharp camera:
<br />&#160;&#160;&#160;&#160;say &quot;You feel cool and important as the shutter clicks.&quot;
</p></blockquote>
<!-- END CODE -->
<p>(This is the method used by the Standard Rules to attach optional clauses such as 'to', 'with' and 'through' to the going action.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s9" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s9" class="standardlink">Back to §12.9. Check, carry out, report</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s11" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s11" class="standardlink">Onward to §12.11. Making actions work for other people</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e137" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e137" class="standardlink">Example 198: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Removal</b>&#160;&#160;&#160; TAKE expanded to give responses such as "You take the book from the shelf." or "You pick up the toy from the ground."</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e160" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e160" class="standardlink">Example 199: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Further Reasons Why All Poets Are Liars</b>&#160;&#160;&#160; The young William Wordsworth, pushing a box about in his room, must struggle to achieve a Romantic point of view.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e342" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e342" class="standardlink">Example 200: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Second Oldest Problem</b>&#160;&#160;&#160; Adapting the going action so that something special can happen when going from a dark room to another dark room.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e305" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e305" class="standardlink">Example 201: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Puff of Orange Smoke</b>&#160;&#160;&#160; A system in which every character has a body, which is left behind when the person dies; attempts to do something to the body are redirected to the person while the person is alive.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e98" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e98" class="standardlink">Example 202: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Croft</b>&#160;&#160;&#160; Adding special reporting and handling for objects dropped when the player is on a supporter, and special entering rules for moving from one supporter to another.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s11"></a>§12.11. Making actions work for other people</p>
<p>The &quot;photographing&quot; action now works very nicely when the player does it. But not when others try. Suppose that neither the player, nor Clark Gable, is holding the camera:</p>
<!-- START CODE "c3150" -->
<a id="c3150"></a><blockquote class="code"><p class="quoted">
&gt;photograph clark
<br />You can hardly photograph without a camera, now can you?
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3151" -->
<a id="c3151"></a><blockquote class="code"><p class="quoted">
&gt;clark, photograph me
<br />&gt;
</p></blockquote>
<!-- END CODE -->
<p>An uncanny silence. What has happened is that the rules written so far are all implicitly restricted to the player only. This is because when we write -</p>
<!-- START CODE "c3152" -->
<a id="c3152"></a><blockquote class="code"><p class="quoted">
Check photographing:
<br />&#160;&#160;&#160;&#160;if the camera is not carried:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can hardly photograph without a camera, now can you?&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>the action is &quot;photographing&quot;, not &quot;Clark photographing&quot;. In the next few sections we shall see how to make the rules work nicely for everybody. This is a little bit harder, so it should be noted right away that in many projects there is no need. In a story which has no other characters who succumb to persuasion, for instance, only the player will ever try the action.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s10" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s10" class="standardlink">Back to §12.10. Action variables</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s12" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s12" class="standardlink">Onward to §12.12. Check rules for actions by other people</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e84" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e84" class="standardlink">Example 203: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Man of Steel</b>&#160;&#160;&#160; An escaping action which means "go to any room you can reach from here", and is only useful to non-player characters.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e257" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e257" class="standardlink">Example 204: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Trying Taking Manhattan</b>&#160;&#160;&#160; Replacing the inventory reporting rule with another which does something slightly different.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e399" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e399" class="standardlink">Example 205: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Under Contract</b>&#160;&#160;&#160; Creating a person who accepts most instructions and reacts correctly when a request leads implicitly to inappropriate behavior.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s12"></a>§12.12. Check rules for actions by other people</p>
<p>If we want to impose the restriction about carrying the camera on other people, we need a rule like the following:</p>
<!-- START CODE "c3153" -->
<a id="c3153"></a><blockquote class="code"><p class="quoted">
Check someone photographing: if the person asked does not carry the camera, stop the action.
</p></blockquote>
<!-- END CODE -->
<p>Implicitly, that &quot;someone&quot; excludes the player. Note that we say nothing in this rule, stopping the action without a word: after all, Clark might well be out of sight when trying this. If he is within sight, then we read:</p>
<!-- START CODE "c3154" -->
<a id="c3154"></a><blockquote class="code"><p class="quoted">
&gt;clark, photograph me
<br />Clark Gable is unable to do that.
</p></blockquote>
<!-- END CODE -->
<p>We saw before that Inform's built-in rules all have handy names (the &quot;can't drop what's already dropped rule&quot;, and such), and that these are useful when writing better &quot;unable to...&quot; messages. So for a deluxe version, we end up with:</p>
<!-- START CODE "c3155" -->
<a id="c3155"></a><blockquote class="code"><p class="quoted">
Check someone trying photographing (this is the other people can't photograph without the camera rule): if the person asked does not carry the camera, stop the action.
</p></blockquote>
<!-- END CODE -->
<p>And now, with ACTIONS on, we find that:</p>
<!-- START CODE "c3156" -->
<a id="c3156"></a><blockquote class="code"><p class="quoted">
&gt;clark, photograph me
<br />[asking Clark Gable to try photographing yourself]
<br />[(1) Clark Gable photographing yourself]
<br />[(1) Clark Gable photographing yourself - failed the other people can't photograph without the camera rule]
<br />Clark Gable is unable to do that.
<br />[asking Clark Gable to try photographing yourself - succeeded]
</p></blockquote>
<!-- END CODE -->
<p>which means that we could have, say,</p>
<!-- START CODE "c3157" -->
<a id="c3157"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by Clark photographing:
<br />&#160;&#160;&#160;&#160;if the reason the action failed is the other people can't photograph without the camera rule, say &quot;Clark is too suave to be embarrassed. 'Frankly, my dear, I don't have a camera.'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Clark tries, and fails, to take a photograph.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s11" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s11" class="standardlink">Back to §12.11. Making actions work for other people</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s13" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s13" class="standardlink">Onward to §12.13. Report rules for actions by other people</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e373" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e373" class="standardlink">Example 206: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Get Axe</b>&#160;&#160;&#160; Changing the check rules to try automatically leaving a container before attempting to take it. (And arranging things so that other people will do likewise.)</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e22" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e22" class="standardlink">Example 207: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Barter Barter</b>&#160;&#160;&#160; Allowing characters other than the player to give objects to one another, accounting for the possibility that some items may not be desired by the intended recipients.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s13"></a>§12.13. Report rules for actions by other people</p>
<p>Report rules for the player's actions are easy to write, and for many actions, they are not much harder for other people either:</p>
<!-- START CODE "c3158" -->
<a id="c3158"></a><blockquote class="code"><p class="quoted">
Report photographing: say &quot;Click!&quot;
<br />Report someone photographing: say &quot;Click! [The person asked] takes a snapshot of [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>But once other people are involved, we have to go to some trouble to get all of the possibilities right. Here is a case which did not immediately occur to the author of the &quot;going&quot; action, for instance:</p>
<!-- START CODE "c3159" -->
<a id="c3159"></a><blockquote class="code"><p class="quoted">
&gt;get in cage
<br />You get into the cage.
<br />&gt;clark, get in automobile
<br />Clark Gable gets into the automobile.
<br />&gt;clark, push cage west
<br />Clark Gable goes west in the automobile, pushing the cage in front, and you along too.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3160" -->
<a id="c3160"></a><blockquote class="code"><p class="quoted">
<span class="boldface">The Lot</span> (in the cage)
<br />In the Lot you can see an automobile (in which is Clark Gable).
</p></blockquote>
<!-- END CODE -->
<p>We said before that report rules are skipped if the action is running &quot;silently&quot;, or if the action is one that the player does not witness. But that is also a tricky concept. Inform's doctrine is that you witness an action if you can see any of the actor, the noun or the second noun at either the beginning or the end of the action; except that being able to see a backdrop does not count. Thus if Clark Gable, in Beverly Hills, photographs the Hollywood sign then we do not witness this from Sunset Boulevard merely because we, too, can see the Hollywood sign.</p>
<p>While the report rules for actions by the player must actually report something, report rules for other people's actions are under no such obligation. For instance, if Clark unlocks a door from the other side to the player, then this counts as an action that the player witnesses - and after all, it could be argued that the player should hear the key turning in the lock - but in fact the standard rules for reporting locking choose to say nothing.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s12" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s12" class="standardlink">Back to §12.12. Check rules for actions by other people</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s14" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s14" class="standardlink">Onward to §12.14. Actions for any actor</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e83" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e83" class="standardlink">Example 208: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Man of Steel Excuses Himself</b>&#160;&#160;&#160; Elaborating the report rules to be more interesting than "Clark goes west."</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e244" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e244" class="standardlink">Example 209: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Fate Steps In</b>&#160;&#160;&#160; Fate entity which attempts to make things happen, by hook or by crook, including taking preliminary actions to set the player up a bit.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s14"></a>§12.14. Actions for any actor</p>
<p>In the previous sections, we created a new action by providing one set of rules for the player and another for anybody else who might try to perform it. These rules began with action descriptions in one of the following forms:</p>
<!-- START CODE "c3161" -->
<a id="c3161"></a><blockquote class="code"><p class="quoted">
Instead of taking a container, ...
<br />Instead of P taking a container, ...
</p></blockquote>
<!-- END CODE -->
<p>The first form implies that the player must be performing the action: the second allows for any person matching P to be the action, except that this person must not be the player. That means that all rules seen so far either affect only the player, or only other people.</p>
<p>This is often convenient, but sometimes we need to set up a complicated action which really does work in the same way for every actor - for instance, the built-in Inform actions provided by the Standard Rules aim to do this. We can write such rules thus:</p>
<!-- START CODE "c3162" -->
<a id="c3162"></a><blockquote class="code"><p class="quoted">
Instead of an actor taking a container, ...
</p></blockquote>
<!-- END CODE -->
<p>Here the rule applies to anyone who tries taking a container, player or not. Inside such a rule, the special value 'the actor' is the person performing the action. For instance, the Standard Rules include this one:</p>
<!-- START CODE "c3163" -->
<a id="c3163"></a><blockquote class="code"><p class="quoted">
Carry out an actor wearing (this is the standard wearing rule):
<br />&#160;&#160;&#160;&#160;now the actor wears the noun.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s13" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s13" class="standardlink">Back to §12.13. Report rules for actions by other people</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s15" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s15" class="standardlink">Onward to §12.15. Out of world actions</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s15"></a>§12.15. Out of world actions</p>
<p>The actions seen so far are all impulses causing the protagonist inside the fictional world to do something, or at least try to. But when the player types &quot;quit&quot; or &quot;save&quot;, that is not a request for anything to happen in the fictional world: it is an instruction to the program simulating that world. In fact, just the same, such requests are treated as actions, but of a special category called &quot;out of world&quot; actions. They do not cause time to pass by, so the turn counter does not advance, nor does this command cycle count as a turn at all; and they are altogether exempt from &quot;Before&quot;, &quot;Instead&quot; and &quot;After&quot; rules. Only the player is allowed to try them.</p>
<p>We can also create new out-of-world actions. Suppose we want a dialogue like so:</p>
<!-- START CODE "c3164" -->
<a id="c3164"></a><blockquote class="code"><p class="quoted">
&gt;ROOMS
<br />You have been to 1 out of 8 rooms.
</p></blockquote>
<!-- END CODE -->
<p>Here is a complete implementation:</p>
<!-- START CODE "c3165" -->
<a id="c3165"></a><blockquote class="code"><p class="quoted">
Requesting the room tally is an action out of world.
<br />Report requesting the room tally: say &quot;You have been to [number of visited rooms] out of [number of rooms] room[s].&quot;
<br />Understand &quot;rooms&quot; as requesting the room tally.
</p></blockquote>
<!-- END CODE -->
<p>It is important not to use &quot;out of world&quot; actions for anything affecting what goes on in the fictional world, or realism will collapse, and action-processing may also fail to work in the usual way. &quot;Out of world&quot; actions should be reserved for providing commands like ROOMS, which monitor events rather than participate in them.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s14" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s14" class="standardlink">Back to §12.14. Actions for any actor</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s16" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s16" class="standardlink">Onward to §12.16. Reaching inside and reaching outside rules</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e404" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e404" class="standardlink">Example 210: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Spellbreaker</b>&#160;&#160;&#160; P. David Lebling's classic "Spellbreaker" (1986) includes a room where the game cannot be saved: here is an Inform implementation.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e217" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e217" class="standardlink">Example 211: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>A point for never saving the game</b>&#160;&#160;&#160; In some of the late 1970s "cave crawl" adventure games, an elaborate scoring system might still leave the player perplexed as to why an apparently perfect play-through resulted in a score which was still one point short of the supposed maximum. Why only 349 out of 350? The answer varied, but sometimes the last point was earned by never saving the game - in other words by playing it right through with nothing to guard against mistakes (except perhaps UNDO for the last command), and in one long session.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s16"></a>§12.16. Reaching inside and reaching outside rules</p>
<p>The flow chart back at the start of this chapter shows that, early on in processing an action (between Before and Instead), Inform asks the question &quot;Can we see or touch things?&quot; This is where it enforces the requirements in the action's definition:</p>
<!-- START CODE "c3166" -->
<a id="c3166"></a><blockquote class="code"><p class="quoted">
Photographing is an action applying to one visible thing and requiring light.
<br />Scraping it with is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<p>Seeing and touching are two different questions, which Inform answers in different ways. We shall see ways to modify or entirely alter what can be seen using the &quot;deciding the scope of something&quot; activity when we get to the Understanding and Activities chapters, and later in this chapter we will change the definition of touchability. What both have in common is that they are complicated questions, affected by the circumstances. We cannot simply declare that the player can touch a given lever, or can see in a given room: we must arrange for there to be no barriers between the player and the lever, or for there to be a light source in the room.</p>
<p>An example of rules applying to given objects is provided by the way that Inform decides whether the player can reach something or not. For instance, suppose the following:</p>
<!-- START CODE "c3167" -->
<a id="c3167"></a><blockquote class="code"><p class="quoted">
The Laboratory is a room. In the Laboratory is a conical flask. The flask is closed and transparent. In the flask is an antibumping granule.
</p></blockquote>
<!-- END CODE -->
<p>The player will be able to examine the granule but not to take it, as that would require reaching through glass. Suppose the player does type TAKE GRANULE: then Inform looks for potential barriers between the player and the granule, and of course finds the conical flask. If, as in this case, the thing to be touched is on the inside, then Inform asks the &quot;reaching inside&quot; rules for permission. There are two reaching inside rules built in to Inform:</p>
<!-- START CODE "c3168" -->
<a id="c3168"></a><blockquote class="code"><p class="quoted">
can't reach inside rooms rule
<br />can't reach inside closed containers rule
</p></blockquote>
<!-- END CODE -->
<p>and in fact the second of these rules will cause the taking action to fail, because the conical flask is a closed container. (The other rule has to do with a player in one room able to see another room through, say, a telescope - merely having a line of sight doesn't give the ability to reach into the frame.)</p>
<p>Symmetrically, Inform also has &quot;reaching outside&quot; rules, used if the player is inside something and wants to reach an object in the wider room. (From a bed, probably yes; from a cage, probably no.) This ordinarily contains just one rule:</p>
<!-- START CODE "c3169" -->
<a id="c3169"></a><blockquote class="code"><p class="quoted">
can't reach outside closed containers rule
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s15" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s15" class="standardlink">Back to §12.15. Out of world actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s17" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s17" class="standardlink">Onward to §12.17. Visible vs touchable vs carried</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e65" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e65" class="standardlink">Example 212: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Carnivale</b>&#160;&#160;&#160; An alternative to backdrops when we want something to be visible from a distance but only touchable from one room.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s17"></a>§12.17. Visible vs touchable vs carried</p>
<p>To recap, actions are created like so:</p>
<!-- START CODE "c3170" -->
<a id="c3170"></a><blockquote class="code"><p class="quoted">
Photographing is an action applying to one visible thing and requiring light.
<br />Depositing it in is an action applying to two things.
<br />Taking inventory is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<p>Actions can involve up to two different things. We can place additional requirements on any of these things by describing them as a &quot;visible thing&quot;, &quot;touchable thing&quot; or &quot;carried thing&quot;. (If we simply say &quot;thing&quot; or &quot;things&quot;, as in the second example, Inform assumes the requirement to be &quot;touchable&quot;.) These three conditions are increasingly strong:</p>
<p>- To be &quot;visible&quot;, something needs only to be possible to refer to by the player, which in practice means that it must be visible to the player-character. The noun or second noun produced by any action resulting from a command at the keyboard will always satisfy this minimal condition.</p>
<p>- To be &quot;touchable&quot;, the player-character must be able to physically touch the thing in question: this normally means that it must be in the same room, and there must be no physical barriers in between.</p>
<p>- To be &quot;carried&quot;, the player-character must (directly) carry the thing in question. (But if the player types a command using an action requiring something &quot;carried&quot;, like WEAR HAT, the thing in question - the hat - will sometimes be picked up automatically. This is called &quot;implicit taking&quot;, and results in text like &quot;(first taking the top hat)&quot; being printed.)</p>
<p>If an action involves two things, they need not have the same requirement as each other:</p>
<!-- START CODE "c3171" -->
<a id="c3171"></a><blockquote class="code"><p class="quoted">
Waving it at is an action applying to one carried thing and one visible thing.
</p></blockquote>
<!-- END CODE -->
<p>Thus to &quot;wave magic wand at banyan tree&quot;, the player must be holding the wand, but need only be able to see the tree.</p>
<p>Note one special case. Requirements on touchability are waived in the case of &quot;try&quot; actions applied to people other than the player where the things they would need to touch are doors or backdrops. (This is a compromise to avoid difficulties arising from the ambiguous locations of such items.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s16" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s16" class="standardlink">Back to §12.16. Reaching inside and reaching outside rules</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s18" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s18" class="standardlink">Onward to §12.18. Changing reachability</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e226" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e226" class="standardlink">Example 213: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Eddystone</b>&#160;&#160;&#160; Creating new commands involving the standard compass directions.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e349" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e349" class="standardlink">Example 214: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Slogar's Revenge</b>&#160;&#160;&#160; Creating an amulet of tumblers that can be used to lock and unlock things even when it is worn, overriding the usual requirement that keys be carried.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s18"></a>§12.18. Changing reachability</p>
<p>The question of what the player can, and cannot, reach to touch is important in interactive fiction. It contains some of the subtlest ideas in the model world, though they often go unnoticed. For instance, if a key is on a shelf which is part of a closed box, can we reach for the key? This comes down to whether the shelf, described only as &quot;part of&quot; the box, is on the inside or the outside: and in fact, because it cannot know which is the case, Inform allows either. So in general it is best to regard &quot;parts&quot; as being exterior parts, but to avoid having parts on containers that might in the course of play be closed up with the player inside.</p>
<p>We can, if we wish, change the principles of what can be touched by writing new reaching inside or reaching outside rules. Returning to the example of the conical flask:</p>
<!-- START CODE "c3172" -->
<a id="c3172"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside the flask: say &quot;Your hand passes through the glass as if it were not there, chilling you to the bone.&quot;; allow access.
</p></blockquote>
<!-- END CODE -->
<p>(Or this could equally be called &quot;a reaching inside rule for the flask&quot;.) More generally, we could give the usual flexible description of what the rule applies to:</p>
<!-- START CODE "c3173" -->
<a id="c3173"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside open containers: say &quot;Your hands seem enigmatically too large for [the container in question].&quot;; deny access.
</p></blockquote>
<!-- END CODE -->
<p>The &quot;container in question&quot; is the one to which the rule is being applied. Note that a reaching inside rule can &quot;deny access&quot; (stopping with failure), or &quot;allow access&quot; (stopping with success), or neither, in which case the decision is left up to any subsequent rules in the rulebook to make. If none of them decide, access is allowed.</p>
<p>If it seems possible that these rules will be employed by people other than the player, then we need to write them a little more carefully, and in particular we need to ensure that they print nothing for other people. In the first case below, anybody can reach through the glass; in the second case, only the player cannot reach into open containers.</p>
<!-- START CODE "c3174" -->
<a id="c3174"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside the flask:
<br />&#160;&#160;&#160;&#160;if the person reaching is the player, say &quot;Your hand passes through the glass as if it were not there, chilling you to the bone.&quot;;
<br />&#160;&#160;&#160;&#160;allow access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3175" -->
<a id="c3175"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside open containers:
<br />&#160;&#160;&#160;&#160;if the person reaching is the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Your hands seem enigmatically too large for [the container in question].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access.
</p></blockquote>
<!-- END CODE -->
<p>The &quot;person reaching&quot; is, as its name suggests, the person trying to reach through the barrier in question.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s17" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s17" class="standardlink">Back to §12.17. Visible vs touchable vs carried</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s19" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s19" class="standardlink">Onward to §12.19. Changing visibility</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e209" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e209" class="standardlink">Example 215: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Magneto's Revenge</b>&#160;&#160;&#160; Kitty Pryde of the X-Men is able to reach through solid objects, so we might implement her with special powers that the player does not have...</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e414" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e414" class="standardlink">Example 216: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Waterworld</b>&#160;&#160;&#160; A backdrop which the player can examine, but cannot interact with in any other way.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e439" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e439" class="standardlink">Example 217: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Dinner is Served</b>&#160;&#160;&#160; A window between two locations. When the window is open, the player can reach through into the other location; when it isn't, access is barred.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s19"></a>§12.19. Changing visibility</p>
<p>Ordinarily, Inform has a simple model for visibility: it is either fully light or it is fully dark, and certain actions are impossible in the dark, such as examining something.</p>
<p>We first need to remember that darkness affects what actions are even tried, as far as the player's typed commands go. If the player is in a dark room, and there is a screwdriver on the floor, the command EXAMINE SCREWDRIVER will not try any action: the screwdriver is not &quot;in scope&quot;, which means that the parser thinks the player does not have any means of knowing it exists. (The rules for scope can be modified - see the chapter on Activities.) But let's suppose that the player types EXAMINE BOOK, and is holding the book in question. The book is now &quot;in scope&quot;, so the action &quot;examining the book&quot; is tried.</p>
<p>Some actions require light to be present, and &quot;examining&quot; is one of those. So Inform consults the visibility rules to see if it can go ahead. By default, there is only one visibility rule, which says &quot;yes&quot; in the light and &quot;no&quot; in darkness. Here, though, we create another one:</p>
<!-- START CODE "c3176" -->
<a id="c3176"></a><blockquote class="code"><p class="quoted">
Visibility rule when in darkness:
<br />&#160;&#160;&#160;&#160;if examining the book:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You have to squint. Still...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;there is sufficient light;
<br />&#160;&#160;&#160;&#160;there is insufficient light.
</p></blockquote>
<!-- END CODE -->
<p>A visibility rule must always conclude &quot;there is sufficient light&quot;, or &quot;there is insufficient light&quot;, or else do nothing and leave it to other rules to decide.</p>
<p>It is a possibly unexpected fact that &quot;looking&quot; does not require light, but instead behaves differently in darkness - it prints a pseudo-room-description such as</p>
<!-- START CODE "c3177" -->
<a id="c3177"></a><blockquote class="code"><p class="quoted">
<span class="boldface">Darkness</span>
<br />It is pitch dark, and you can't see a thing.
</p></blockquote>
<!-- END CODE -->
<p>instead of printing the description of the player's current room. This means that the &quot;looking&quot; action is unaffected by visibility rules. All the same, what &quot;looking&quot; does in the dark can be changed by using the two activities &quot;printing the name of a dark room&quot; and &quot;printing the description of a dark room&quot; (see the Activities chapter for details).</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s18" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s18" class="standardlink">Back to §12.18. Changing reachability</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s20" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s20" class="standardlink">Onward to §12.20. Stored actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e238" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e238" class="standardlink">Example 218: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Flashlight</b>&#160;&#160;&#160; Visibility set so that looking under objects produces no result unless the player has a light source to shine there (regardless of the light level of the room).</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s20"></a>§12.20. Stored actions</p>
<p>As we have seen, to describe an action fully takes a complicated little bundle of information - we need to know what is to be done, who will do it, and what it will be done to. There are times when we would like to remember an action and look back on it later (perhaps many turns later, after many other actions have taken effect) - but this is not easy to do with only the techniques we have seen so far. There are quite a few cases to get right, and it would be easy to not store quite enough of the details.</p>
<p>Fortunately, Inform provides a kind of value called &quot;action&quot; which can do all of this automatically. (In older versions of Inform this was called &quot;stored action&quot;, but the word &quot;stored&quot; is now unnecessary, and makes no difference.) As with most other kinds of value, actions can be held in variables, &quot;let&quot; values, properties or table columns. For example:</p>
<!-- START CODE "c3178" -->
<a id="c3178"></a><blockquote class="code"><p class="quoted">
The best idea yet is an action that varies.
</p></blockquote>
<!-- END CODE -->
<p>creates a variable called &quot;the best idea yet&quot; which holds an action.</p>
<p>This will normally be created holding the default value - the player waiting. We really only have two ways to make more interesting actions. One is by typing them out explicitly, like so:</p>
<!-- START CODE "c3179" -->
<a id="c3179"></a><blockquote class="code"><p class="quoted">
now the best idea yet is pushing the button;
</p></blockquote>
<!-- END CODE -->
<p>Here &quot;pushing the button&quot; is a constant of the kind &quot;action&quot;, so it goes into happily into &quot;best idea yet&quot; in the same way that a number like 3 could go into a number that varies. The action must be specific in every respect, so &quot;taking something&quot; or &quot;doing something&quot; will not work - &quot;taking something&quot; is really a general description of many possible actions, not an action in its own right.</p>
<p>The other way to produce a useful action is:</p>
<!-- START PHRASE "defn149" -->
<div class="definition"><a id="defn149"></a><p class="defnprototype"><b>current action ... action</b></p>
<!-- END PHRASE -->
<!-- definition of ph_currentaction -->

<p>This phrase produces the action currently being processed as a value - it literally stores the action, and remembers, if necessary, the exact wording of the player's command at the time it was stored - so that even actions arising from commands like LOOK UP X100 IN THE CODE BOOK can be stored faithfully. Examples:</p>
<!-- START CODE "c3180" -->
<a id="c3180"></a><blockquote class="code"><p class="quoted">
let the present whim be the current action;
<br />say &quot;How you would like to be [current action].&quot;;
</p></blockquote>
<!-- END CODE -->
<p>This only makes sense if an action is currently going on, so it shouldn't be used in &quot;every turn&quot; rules, for instance.</p>

<!-- end definition -->
</div>

<p>So much for making actions: now for making use of them. The first obvious idea is to store up an action for several turns and then have it take effect later. That's easily done: just as we can &quot;try&quot; any action written out explicitly, so we can also try a stored one. The phrase to do this has exactly the same wording either way, since it does the same thing either way.</p>
<p>But actions can still be useful even if we never intend to try them. For one thing, we can say them, and this produces a fairly natural description of what the action is:</p>
<!-- START CODE "c3181" -->
<a id="c3181"></a><blockquote class="code"><p class="quoted">
Before doing something in the presence of the bearded psychiatrist: say &quot;'Zo, the subject vishes to engage in [the current action]. Zis is very interesting.'&quot;
</p></blockquote>
<!-- END CODE -->
<p>will produce text such as:</p>
<!-- START CODE "c3182" -->
<a id="c3182"></a><blockquote class="code"><p class="quoted">
&quot;So, the subject vishes to engage in rubbing the fireman's pole. Zis is very interesting.&quot;
</p></blockquote>
<!-- END CODE -->
<p>One of Inform's most convenient features is its ability to test if the action being processed matches vague or complicated descriptions of whole classes of actions. For example,</p>
<!-- START CODE "c3183" -->
<a id="c3183"></a><blockquote class="code"><p class="quoted">
if the best idea yet is taking something, ...
</p></blockquote>
<!-- END CODE -->
<p>works even though &quot;taking something&quot; is not a single action; it's a description which could apply to many different actions (taking a box, taking a ball, and so on). What Inform tests is whether the &quot;best idea yet&quot; value, a single action, fits this description or not. We can be even vaguer:</p>
<!-- START CODE "c3184" -->
<a id="c3184"></a><blockquote class="code"><p class="quoted">
if the best idea yet is doing something to the lever, ...
</p></blockquote>
<!-- END CODE -->
<p>Just occasionally, this can lead to ambiguities. For instance,</p>
<!-- START CODE "c3185" -->
<a id="c3185"></a><blockquote class="code"><p class="quoted">
if the current action is wearing something, ...
</p></blockquote>
<!-- END CODE -->
<p>fails because Inform thinks &quot;wearing&quot; is meant in the sense of the current action having clothes on, so it produces a problem message. To avoid this, simply write:</p>
<!-- START CODE "c3186" -->
<a id="c3186"></a><blockquote class="code"><p class="quoted">
if the current action is trying wearing something, ...
</p></blockquote>
<!-- END CODE -->
<p>which can't be misunderstood. Something else to be aware of is that the terms &quot;actor&quot;, &quot;noun&quot; and so on will refer to that action: for instance, in</p>
<!-- START CODE "c3187" -->
<a id="c3187"></a><blockquote class="code"><p class="quoted">
if the best idea yet is taking the noun, ...
</p></blockquote>
<!-- END CODE -->
<p>&quot;noun&quot; here refers to the noun in &quot;best idea yet&quot;, not to its meaning outside of this phrase (if indeed it has such a meaning).</p>
<p>When dealing with actions, we sometimes want to know what they are dealing with. We can extract this information using the following phrases:</p>
<!-- START PHRASE "defn150" -->
<div class="definition"><a id="defn150"></a><p class="defnprototype"><b>action name part of </b>(action)<b> ... action name</b></p>
<!-- END PHRASE -->
<!-- definition of ph_actionpart -->

<p>This phrase produces the action name part of an action. Example: suppose the current actor is Algy, who is throwing the brick at Biggles. Then</p>
<!-- START CODE "c3188" -->
<a id="c3188"></a><blockquote class="code"><p class="quoted">
action name part of the current action = throwing it at action
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn151" -->
<div class="definition"><a id="defn151"></a><p class="defnprototype"><b>noun part of </b>(action)<b> ... object</b></p>
<!-- END PHRASE -->
<!-- definition of ph_nounpart -->

<p>This phrase produces the (first) noun of an action. Example: suppose the current actor is Algy, who is throwing the brick at Biggles. Then</p>
<!-- START CODE "c3189" -->
<a id="c3189"></a><blockquote class="code"><p class="quoted">
noun part of the current action = the brick
</p></blockquote>
<!-- END CODE -->
<p>If the noun is something other than an object, this produces just &quot;nothing&quot;, the non-object.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn152" -->
<div class="definition"><a id="defn152"></a><p class="defnprototype"><b>second noun part of </b>(action)<b> ... object</b></p>
<!-- END PHRASE -->
<!-- definition of ph_secondpart -->

<p>This phrase produces the second noun of an action. Example: suppose the current actor is Algy, who is throwing the brick at Biggles. Then</p>
<!-- START CODE "c3190" -->
<a id="c3190"></a><blockquote class="code"><p class="quoted">
second noun part of the current action = Biggles
</p></blockquote>
<!-- END CODE -->
<p>If the second noun is something other than an object (for instance for the command SET DIAL TO 3417 it would be the number 3417), this produces just &quot;nothing&quot;, the non-object.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn153" -->
<div class="definition"><a id="defn153"></a><p class="defnprototype"><b>actor part of </b>(action)<b> ... object</b></p>
<!-- END PHRASE -->
<!-- definition of ph_actorpart -->

<p>This phrase produces the person who would be carrying out the action if it were being tried. Example: suppose the current actor is Algy, who is throwing the brick at Biggles. Then</p>
<!-- START CODE "c3191" -->
<a id="c3191"></a><blockquote class="code"><p class="quoted">
actor part of the current action = Algy
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>The following phrase is a convenient shorthand form:</p>
<!-- START PHRASE "defn154" -->
<div class="definition"><a id="defn154"></a><p class="defnprototype"><b>if </b>(action)<b> involves </b>(object)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_involves -->

<p>This condition is true if the object appears as any of the actor, the noun or the second noun in the action. Example:</p>
<!-- START CODE "c3192" -->
<a id="c3192"></a><blockquote class="code"><p class="quoted">
if the current action involves Algy
</p></blockquote>
<!-- END CODE -->
<p>would be true for &quot;give revolver to Algy&quot;, &quot;Algy trying flying the Sopwith Camel&quot;, &quot;examine Algy&quot; and so on, but false for &quot;ask Raymond about secret airfield&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn155" -->
<div class="definition"><a id="defn155"></a><p class="defnprototype"><b>action of </b>(an action)<b> ... action</b></p>
<!-- END PHRASE -->
<!-- definition of ph_actionof -->

<p>This phrase is now seldom needed. It produces a literally typed action as a value. Example:</p>
<!-- START CODE "c3193" -->
<a id="c3193"></a><blockquote class="code"><p class="quoted">
now the best idea yet is the action of pushing the button;
</p></blockquote>
<!-- END CODE -->
<p>Nowadays in most contexts we can just type &quot;pushing the button&quot; as a value, and that will work fine, so this phrase is retained only to keep old code working.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s19" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s19" class="standardlink">Back to §12.19. Changing visibility</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s21" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s21" class="standardlink">Onward to §12.21. Guidelines on how to write rules about actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e43" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e43" class="standardlink">Example 219: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Bosch</b>&#160;&#160;&#160; Creating a list of actions that will earn the player points, and using this both to change the score and to give FULL SCORE reports.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e59" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e59" class="standardlink">Example 220: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Cactus Will Outlive Us All</b>&#160;&#160;&#160; For every character besides the player, there is an action that will cause that character to wither right up and die.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e1" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e1" class="standardlink">Example 221: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Actor's Studio</b>&#160;&#160;&#160; A video camera that records actions performed in its presence, and plays them back with time-stamps.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#e11" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_12.html#e11" class="standardlink">Example 222: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Anteaters</b>&#160;&#160;&#160; The player carries a gizmo that is able to record actions performed by the player, then force him to repeat them when the gizmo is dropped. This includes storing actions that apply to topics, as in "look up anteater colonies in the guide".</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s21"></a>§12.21. Guidelines on how to write rules about actions</p>
<p>Looking at the action-processing diagram, there seem to be a bewildering number of ways to intervene. For instance, suppose it must be fatal to pick up a land mine. All six of the following rules would do the business:</p>
<!-- START CODE "c3194" -->
<a id="c3194"></a><blockquote class="code"><p class="quoted">
Before taking the land mine: end the story saying &quot;Bang!&quot;
<br />Instead of taking the land mine: end the story saying &quot;Bang!&quot;
<br />Check taking the land mine: end the story saying &quot;Bang!&quot;
<br />Carry out taking the land mine: end the story saying &quot;Bang!&quot;
<br />After taking the land mine: end the story saying &quot;Bang!&quot;
<br />Report taking the land mine: end the story saying &quot;Bang!&quot;
</p></blockquote>
<!-- END CODE -->
<p>So which should we use? Of course, we could decide that it really doesn't matter: what works, works. But it is a good idea to play along with the conventions used by Inform, if only because that will make our rules interact better with each other and with rules by other people which we may someday want to borrow. So this chapter ends by offering a few guidelines. Let us suppose that we have some effect which we want to achieve.</p>
<p><span class="boldface">1. Are we just trying to correct the player's typing?</span></p>
<p>For instance, responding to the command &quot;STEAL GOLDEN EAGLE&quot; with a reply like &quot;To steal something, just try to TAKE it.&quot; It is bad style to make a special action for this, which does nothing except to print up this text: better is to use the &quot;Understand ... as a mistake&quot; technique, which will come up in the chapter on Understanding.</p>
<p><span class="boldface">2. Does the effect apply only to a particular situation, or is it a general phenomenon?</span></p>
<p>In other words, does the effect apply only to particular people, things or places, or is it a generic rule of play? In the case of the land mine, this is an easy question to answer: it is a unique situation. On the other hand, stopping the player from carrying unduly heavy weights would be a generic rule of play.</p>
<p>Rules like the one saying that photography is only possible if one holds the camera are, by convention, also counted as generic rules of play: they are not really special rules about the camera, but apply to all possible acts of photography anywhere, so are actually generic.</p>
<p>Sometimes we can choose our own answer to this question, and go either way. Suppose we want a certain place to be muddy-floored, affecting things that happen there. One way would be to write exceptional rules applying to that one room. But we could alternatively create a general concept of muddiness (&quot;A room can be clean or muddy. A room is usually clean.&quot;) and then regard the new behaviour as being a set of generic rules applying in muddy rooms. We could then, of course, create a second muddy room with much greater ease, or transplant these rules to other works and have muddy rooms in those too.</p>
<p><span class="boldface">3. Particular situations: use Instead or After (or sometimes Before).</span></p>
<p>The next question is: does the effect kick in after the hoped-for action has taken place, or not? In the case of the land mine, to answer that means deciding whether we think the detonator is sensitive to the slightest touch - in which case the explosion would happen at the first touch, and should be in an &quot;Instead&quot; rule - or whether one must actually pick up and disturb the mine - in which case an &quot;After&quot; should be used.</p>
<p>That leaves us a choice of two rulebooks if the effect takes place when the merest impulse towards the action is felt: &quot;Before&quot; and &quot;Instead&quot;. Which to use? In cases of doubt, choose &quot;Instead&quot;. But if the effect is intended to absolutely suppress all such impulses - for instance, in a silent examination room there must be no talking - then &quot;Before&quot; might be more appropriate. We could imagine that someone about to say something first has a mental impulse to speak, then opens his mouth so that it becomes visible to others that some talking is about to go on, and finally utters words. Here are three possible responses:</p>
<!-- START CODE "c3195" -->
<a id="c3195"></a><blockquote class="code"><p class="quoted">
&quot;You cannot contemplate breaking this smothering silence.&quot; (<span class="italic">Before</span>)
<br />&quot;The invigilator stares you down through her horn-rimmed glasses.&quot; (<span class="italic">Instead</span>)
<br />&quot;Everyone turns, appalled, as the silence is broken like the surface of a swimming pool by a falling elephant.&quot; (<span class="italic">After</span>)
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">4. Generic situations: work with action rules (or sometimes Before).</span></p>
<p>(a) If the effect takes place only when an action is definitely being tried, then we should use one of the action's three rulebooks: check, carry out or report. Check rules should do nothing, and should say nothing either unless they block the action (in which case, they should say why).</p>
<p>Carry out rules must not block the action - it is too late for that - and should not say anything - that hasn't happened yet. (There are a few exceptions: if the action is to look at something, then carrying it out is in a sense the same thing as reporting it. But in all cases of doubt, a carry out rule should say nothing.) Adding a carry out rule to an existing action can make it do something extra.</p>
<p>Report rules must neither block the action nor do anything. Working with new report rules is a way to make more natural-seeming, or more informative, messages appear. For instance, an effect where we want to be able to see through a door when it is first opened (&quot;You open the panelled door, through which is the Board Room.&quot;) would be a case for a report rule.</p>
<p>In all cases, it is good style to write check, carry out or report rules in such a way that they could be used in other works too, or in situations that could conceivably have happened in this one (even if in fact it never does). We may one day want to put our new rules into an extension to be used by other people or in other projects, after all.</p>
<p>In this chapter, we have only seen the addition of new rules. We could add a new &quot;check taking&quot; rule, for instance, with the techniques seen so far. But what if the effect we want is not a matter of adding a rule but taking away, or restricting the applicability, of an existing one? In that case, we will need to say that the rule &quot;does nothing&quot; under certain circumstances (see the Rulebooks chapter). The check, carry out and report rules for all of the built-in actions are named, and they appear in the Actions index.</p>
<p>(b) If the effect takes place to divert or supplement an action, before that action actually takes place, then this should be done with a &quot;Before&quot; rule. This is the biggest practical use of &quot;Before&quot; rules: to try other actions, either instead or as well as the one just getting under way.</p>
<p>For example, if we want an automatic mechanism to try opening a container before taking something inside it, that would be a classic case for &quot;Before&quot;. Indeed, that is the only way it could work - &quot;Before&quot; rules have a chance to get in before the touchability conditions are tested.</p>
<p>If we wanted a special &quot;stealing&quot; action for the act of taking another person's possessions, we might want to divert any taking action for such items into our new &quot;stealing&quot; action - that too would be a &quot;Before&quot;. This would ensure that any &quot;Instead&quot; rules to do with taking do not apply.</p>
<p><span class="boldface">5. Changing the behaviour of out-of-world actions.</span></p>
<p>Remember that &quot;Instead&quot;, &quot;Before&quot; and &quot;After&quot; do not apply: so use &quot;check&quot; rules to forbid certain out-of-world activities, or specify that their rules do nothing (see the Rulebooks chapter).</p>
<p><span class="boldface">Finally...</span></p>
<p>These are only guidelines. The system is designed to be flexible in order to give the author the widest possible range of options, and nobody should feel ashamed of making use of them.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s20" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_12.html#s20" class="standardlink">Back to §12.20. Stored actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_13.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_13.html#s1" class="standardlink">Onward to Chapter 13: Relations: §13.1. Sentence verbs</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 12: Advanced Actions</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_12.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_13.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_13.html" class="standardlink">Chapter 13: Relations</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "184: Virtue" "e416" -->
<a id="e416"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e416" class="eglink"><b>184</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e416" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Virtue</span></b></a><br />Defining certain kinds of behavior as inappropriate, so that other characters will refuse indignantly to do any such thing.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e416"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example416">
<!-- START CODE "c3196_416" -->
<a id="c3196_416"></a><blockquote class="code"><p class="quoted">
&quot;Virtue&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3197_416" -->
<a id="c3197_416"></a><blockquote class="code"><p class="quoted">
The Cloister is a room. Lady Teresa is a woman in the Cloister. Mother Margaret is a woman in the Cloister.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3198_416" -->
<a id="c3198_416"></a><blockquote class="code"><p class="quoted">
Attacking someone is misbehavior. Kissing someone is misbehavior.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3199_416" -->
<a id="c3199_416"></a><blockquote class="code"><p class="quoted">
Instead of asking someone to try misbehavior: say &quot;[The person asked] stiffens, offended by your suggestion.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3200_416" -->
<a id="c3200_416"></a><blockquote class="code"><p class="quoted">
Test me with &quot;kiss margaret / margaret, kiss me&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "185: Latris Theon" "e187" -->
<a id="e187"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e187" class="eglink"><b>185</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e187" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Latris Theon</span></b></a><br />A person who can accept instructions to go to new destinations and move towards them according to the most reasonable path.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e187"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example187">
<p>To begin with, we create an action for going to a named place. All that this action will do is to change that person's hoped-for destination: the actual moving around comes later.</p>
<!-- START CODE "c3201_187" -->
<a id="c3201_187"></a><blockquote class="code"><p class="quoted">
&quot;Latris Theon&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3202_187" -->
<a id="c3202_187"></a><blockquote class="code"><p class="quoted">
A person has a room called destination.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3203_187" -->
<a id="c3203_187"></a><blockquote class="code"><p class="quoted">
Understand &quot;go to [any room]&quot; as going vaguely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3204_187" -->
<a id="c3204_187"></a><blockquote class="code"><p class="quoted">
Going vaguely is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3205_187" -->
<a id="c3205_187"></a><blockquote class="code"><p class="quoted">
Carry out someone going vaguely:
<br />&#160;&#160;&#160;&#160;now the destination of the person asked is the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3206_187" -->
<a id="c3206_187"></a><blockquote class="code"><p class="quoted">
Report someone going vaguely:
<br />&#160;&#160;&#160;&#160;say &quot;[The person asked] looks amused, but accepts the commission to go to [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>It stands to reason the player plays Zeus or at the very least Apollo, but let's not let this go to the player's head. Note that the following rule applies to the player, but not to anyone else, so HERMES, GO TO ATHENS will work but GO TO ATHENS will not.</p>
<!-- START CODE "c3207_187" -->
<a id="c3207_187"></a><blockquote class="code"><p class="quoted">
Carry out going vaguely:
<br />&#160;&#160;&#160;&#160;say &quot;You're too thoroughly lost.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And finally we recreate Greece and one of its heroes.</p>
<!-- START CODE "c3208_187" -->
<a id="c3208_187"></a><blockquote class="code"><p class="quoted">
Corinth is a room. Athens is east of Corinth. Epidaurus is southeast of Corinth and east of Mycenae. Mycenae is south of Corinth. Olympia is west of Mycenae. Argos is south of Mycenae. Thebes is northwest of Athens. Pylos is south of Olympia. Sparta is east of Pylos and south of Argos. Delphi is northwest of Thebes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3209_187" -->
<a id="c3209_187"></a><blockquote class="code"><p class="quoted">
Hermes is a man in Corinth. The destination of Hermes is Corinth. [So he is initially happy where he is.] Persuasion rule for asking Hermes to try going vaguely: persuasion succeeds. [But he is open to suggestions.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3210_187" -->
<a id="c3210_187"></a><blockquote class="code"><p class="quoted">
Every turn when the destination of Hermes is not the location of Hermes:
<br />&#160;&#160;&#160;&#160;let the right direction be the best route from the location of Hermes to the destination of Hermes;
<br />&#160;&#160;&#160;&#160;try Hermes going the right direction.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3211_187" -->
<a id="c3211_187"></a><blockquote class="code"><p class="quoted">
Test me with &quot;hermes, go to athens / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>It simplifies matters that our map of Greece makes it possible to reach any location from any other location, by some sequence of movements: if there were an isolated location -- say, Crete -- with no map connection to the mainland, then we would have to worry about the &quot;right direction&quot; not being a direction at all. The following version of Hermes' trekking rule is protected against the possibility:</p>
<!-- START CODE "c3212_187" -->
<a id="c3212_187"></a><blockquote class="code"><p class="quoted">
Every turn when the destination of Hermes is not the location of Hermes:
<br />&#160;&#160;&#160;&#160;let the right direction be the best route from the location of Hermes to the destination of Hermes;
<br />&#160;&#160;&#160;&#160;if the right direction is a direction, try Hermes going the right direction.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "186: The Hypnotist of Blois" "e196" -->
<a id="e196"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e196" class="eglink"><b>186</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e196" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Hypnotist of Blois</span></b></a><br />A hypnotist who can make people obedient and then set them free again.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e196"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example196">
<!-- START CODE "c3213_196" -->
<a id="c3213_196"></a><blockquote class="code"><p class="quoted">
&quot;The Hypnotist of Blois&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3214_196" -->
<a id="c3214_196"></a><blockquote class="code"><p class="quoted">
A person is either hypnotized or alert. A person is usually alert.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3215_196" -->
<a id="c3215_196"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking a hypnotized person to try doing something:
<br />&#160;&#160;&#160;&#160;persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3216_196" -->
<a id="c3216_196"></a><blockquote class="code"><p class="quoted">
Understand &quot;hypnotize [someone]&quot; as hypnotizing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3217_196" -->
<a id="c3217_196"></a><blockquote class="code"><p class="quoted">
Hypnotizing is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3218_196" -->
<a id="c3218_196"></a><blockquote class="code"><p class="quoted">
Check hypnotizing:
<br />&#160;&#160;&#160;&#160;if the noun is hypnotized, say &quot;Already done.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3219_196" -->
<a id="c3219_196"></a><blockquote class="code"><p class="quoted">
Carry out hypnotizing:
<br />&#160;&#160;&#160;&#160;now the noun is hypnotized.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3220_196" -->
<a id="c3220_196"></a><blockquote class="code"><p class="quoted">
Report hypnotizing:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] slips under your control.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3221_196" -->
<a id="c3221_196"></a><blockquote class="code"><p class="quoted">
Instead of waking someone hypnotized:
<br />&#160;&#160;&#160;&#160;now the noun is alert;
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] returns abruptly to consciousness.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We will learn more about check rules for other characters shortly, but the following prevents the hypnosis patient from trying to hypnotize us in turn:</p>
<!-- START CODE "c3222_196" -->
<a id="c3222_196"></a><blockquote class="code"><p class="quoted">
Check someone hypnotizing someone:
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3223_196" -->
<a id="c3223_196"></a><blockquote class="code"><p class="quoted">
Maison de la Magie is a room. &quot;In a darkened room, a few hundreds of paces from the chateau of Blois, you give to tourists three shows a day: displaying to them power they do not comprehend and spectacles they do not deserve.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3224_196" -->
<a id="c3224_196"></a><blockquote class="code"><p class="quoted">
A volunteer is a woman in the Maison. &quot;A volunteer from the audience stands facing you, [if alert]skeptically awaiting hypnosis[otherwise]her face worshipful and obedient[end if].&quot; The printed name of the volunteer is &quot;volunteer from the audience&quot;. The description is &quot;A distracted, susceptible woman.&quot; The volunteer wears a t-shirt and a baseball hat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3225_196" -->
<a id="c3225_196"></a><blockquote class="code"><p class="quoted">
The player wears a top hat and a cape.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3226_196" -->
<a id="c3226_196"></a><blockquote class="code"><p class="quoted">
Test me with &quot;volunteer, remove hat / hypnotize volunteer / look / volunteer, remove hat / wake volunteer / volunteer, wear hat&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "187: Police State" "e296" -->
<a id="e296"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e296" class="eglink"><b>187</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e296" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Police State</span></b></a><br />Several friends who obey you; a policeman who doesn't (but who takes a dim view of certain kinds of antics).</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e296"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example296">
<!-- START CODE "c3227_296" -->
<a id="c3227_296"></a><blockquote class="code"><p class="quoted">
&quot;Police State&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3228_296" -->
<a id="c3228_296"></a><blockquote class="code"><p class="quoted">
Seventh Avenue is a room. &quot;The bars are all closed now, and there aren't any good clubs to go to, so you're on your own for open-air entertainment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3229_296" -->
<a id="c3229_296"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking the policeman to try doing something: persuasion fails.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3230_296" -->
<a id="c3230_296"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking someone to try doing something: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<p>Note that the policeman will never get to the second persuasion rule, so he will always refuse to do the player's nefarious bidding.</p>
<!-- START CODE "c3231_296" -->
<a id="c3231_296"></a><blockquote class="code"><p class="quoted">
Charles, Thomas, and Larry are men in Seventh Avenue. Patricia is a woman in Seventh Avenue.
</p></blockquote>
<!-- END CODE -->
<p>And here's an unnecessary aesthetic touch from a later chapter, which will round up the descriptions of your friends into a single paragraph:</p>
<!-- START CODE "c3232_296" -->
<a id="c3232_296"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about someone who is not the policeman:
<br />&#160;&#160;&#160;&#160;let X be the number of visible people who are not the policeman;
<br />&#160;&#160;&#160;&#160;say &quot;It's just [X in words] of you now: [a list of visible people who are not the policeman]. But it sure has been a rip-roaring evening.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3233_296" -->
<a id="c3233_296"></a><blockquote class="code"><p class="quoted">
The policeman is a man in Seventh Avenue. &quot;A policeman with a very guarded expression is watching you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3234_296" -->
<a id="c3234_296"></a><blockquote class="code"><p class="quoted">
Singing is an action applying to nothing. Understand &quot;sing&quot; as singing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3235_296" -->
<a id="c3235_296"></a><blockquote class="code"><p class="quoted">
Report singing:
<br />&#160;&#160;&#160;&#160;say &quot;A little the worse for wear, you sing.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3236_296" -->
<a id="c3236_296"></a><blockquote class="code"><p class="quoted">
Smelling a person is disorderly conduct. Tasting a person is disorderly conduct. Jumping is disorderly conduct. Singing is disorderly conduct.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3237_296" -->
<a id="c3237_296"></a><blockquote class="code"><p class="quoted">
Instead of someone trying disorderly conduct in the presence of the policeman:
<br />&#160;&#160;&#160;&#160;say &quot;The policeman arrests [the person asked]!&quot;;
<br />&#160;&#160;&#160;&#160;now the person asked is nowhere;
<br />&#160;&#160;&#160;&#160;the rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3238_296" -->
<a id="c3238_296"></a><blockquote class="code"><p class="quoted">
Instead of disorderly conduct in the presence of the policeman:
<br />&#160;&#160;&#160;&#160;end the story saying &quot;The policeman arrests you!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3239_296" -->
<a id="c3239_296"></a><blockquote class="code"><p class="quoted">
Test me with &quot;charles, look / charles, jump / look / policeman, sing / thomas, taste policeman / patricia, sing / look / jump&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice the difference between the two rules about disorderly conduct: the one for other people says 'the rule succeeds' to make sure that the action is counted as a success and not (as normally happens with instead rules) a failure. Most of the time we don't care whether actions are judged successes or failures, but it matters here, because if we type CHARLES, JUMP and the result fails, then text such as 'Charles is unable to.' will be printed - which would get in the way. So we declare the action a success.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "188: Generation X" "e204" -->
<a id="e204"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e204" class="eglink"><b>188</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e204" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Generation X</span></b></a><br />A person who goes along with the player's instructions, but reluctantly, and will get annoyed after too many repetitions of the same kind of unsuccessful command.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e204"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example204">
<!-- START CODE "c3240_204" -->
<a id="c3240_204"></a><blockquote class="code"><p class="quoted">
&quot;Generation X&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3241_204" -->
<a id="c3241_204"></a><blockquote class="code"><p class="quoted">
The Volunteer Center is a room. &quot;A fairly spartan office, though there are a few attractive posters from advertising campaigns of the past, and an ominous map charting the deforestation of Brazil.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3242_204" -->
<a id="c3242_204"></a><blockquote class="code"><p class="quoted">
The desk is scenery in the Volunteer Center. &quot;Your standard metal desk, with a drawer for postal supplies and the like.&quot; On the desk is a pile of leaflets and a pile of business cards. The power stapler is a device on the desk. A drawer is part of the desk. It is openable and closed. In the drawer are a sponge and a roll of bulk-mail stamps.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3243_204" -->
<a id="c3243_204"></a><blockquote class="code"><p class="quoted">
Instead of doing something:
<br />&#160;&#160;&#160;&#160;if examining, continue the action;
<br />&#160;&#160;&#160;&#160;if searching, continue the action;
<br />&#160;&#160;&#160;&#160;if looking, continue the action;
<br />&#160;&#160;&#160;&#160;if asking Jenna to try doing something, continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;The whole point of this exercise is to train Jenna. Once you have her on the envelope-stuffing, you can go make some calls.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3244_204" -->
<a id="c3244_204"></a><blockquote class="code"><p class="quoted">
Instead of answering Jenna that something:
<br />&#160;&#160;&#160;&#160;say &quot;You're going to have to break the instructions down to the simplest ones possible, given that she's in the mood to misunderstand on purpose.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3245_204" -->
<a id="c3245_204"></a><blockquote class="code"><p class="quoted">
A cardboard box is in the Center. In the cardboard box is a pile of empty envelopes. The box is openable and closed. The description is &quot;A recycling symbol is prominent on the side, which makes you feel a little bit better about using a mailing campaign for this cause.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3246_204" -->
<a id="c3246_204"></a><blockquote class="code"><p class="quoted">
Jenna is a woman in the Volunteer Center. &quot;Your daughter Jenna is here, barely visible through the cloud of resentment.&quot; The description is &quot;Jenna [if jenna carries something]has [the list of things carried by Jenna][otherwise]returns your stare, with added hostility[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3247_204" -->
<a id="c3247_204"></a><blockquote class="code"><p class="quoted">
A persuasion rule for asking Jenna to try doing something: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3248_204" -->
<a id="c3248_204"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by Jenna doing something:
<br />&#160;&#160;&#160;&#160;repeat through Table of Retorts:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the reason the action failed is the cause entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[response entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;'I don't see how I'm supposed to do that, Mom,' Jenna says.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3249_204" -->
<a id="c3249_204"></a><blockquote class="code"><p class="quoted">
Table of Retorts
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">cause</p></td><td class="quotedtablecell"><p class="quoted">response</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take yourself rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Is that like 'get a grip on yourself' or something?' Jenna asks, momentarily diverted.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take what's fixed in place rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[physical impossibility]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take scenery rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[physical impossibility]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take what's already taken rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't drop what's already dropped rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't wear what's already worn rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take off what's not worn rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't close what's already closed rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't open what's already open rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't switch off what's already off rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't switch on what's already on rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't unlock what's already unlocked rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't lock what's already locked rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3250_204" -->
<a id="c3250_204"></a><blockquote class="code"><p class="quoted">
To say physical impossibility:
<br />&#160;&#160;&#160;&#160;say &quot;'Maybe you should've brought someone a little stronger,' Jenna says. 'Like the Incredible Hulk.' &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3251_204" -->
<a id="c3251_204"></a><blockquote class="code"><p class="quoted">
To say already done:
<br />&#160;&#160;&#160;&#160;repeat through Table of Bored Remarks:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[response entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;'Okay, I'm going to be, like, in the car,' says Jenna. 'Outside.' &quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;Jenna has gotten fed up&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3252_204" -->
<a id="c3252_204"></a><blockquote class="code"><p class="quoted">
Table of Bored Remarks
<br />response
<br />&quot;'Did that,' says Jenna.&quot;
<br />&quot;'Check,' says Jenna.&quot;
<br />&quot;'Yeah, Mom, I already did that, okay?'&quot;
<br />&quot;'Look, if I have to be here doing dumb stuff, could you at least tell me to do stuff that isn't already done?' Jenna asks wearily.&quot;
<br />&quot;Jenna gives a great upward sigh, riffling her bangs. 'Once again... there is totally no point.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3253_204" -->
<a id="c3253_204"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / x jenna / jenna, get stapler / jenna, get stapler / x jenna / jenna, drop stapler / jenna, drop stapler / jenna, open box / jenna, open box / jenna, switch stapler on / jenna, switch stapler on / jenna, take desk / jenna, open box / jenna, open box&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "189: IQ Test" "e273" -->
<a id="e273"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e273" class="eglink"><b>189</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e273" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">IQ Test</span></b></a><br />Introducing Ogg, a person who will unlock and open a container when the player tells him to get something inside.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e273"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example273">
<p>We have already seen how Before... rules can generate implicit actions for the player, so that the player will, for instance, open doors before trying to walk through them. The same can be done for characters other than the player; so for instance:</p>
<!-- START CODE "c3254_273" -->
<a id="c3254_273"></a><blockquote class="code"><p class="quoted">
 &quot;IQ Test&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3255_273" -->
<a id="c3255_273"></a><blockquote class="code"><p class="quoted">
The Donut Shop is a room. &quot;Vibrantly decorated in donut colors: pink, brown, and cream.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3256_273" -->
<a id="c3256_273"></a><blockquote class="code"><p class="quoted">
Ogg is a man in the Donut Shop. &quot;Ogg is slumped in the corner[if Ogg carries something] with [a list of things carried by Ogg][end if]. He wears a nametag which says 'HELLO MY NAME IS OG.'&quot; Understand &quot;og&quot; as Ogg. Ogg wears a nametag. The description of the nametag is &quot;Sadly misspelled.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3257_273" -->
<a id="c3257_273"></a><blockquote class="code"><p class="quoted">
The Donut Shop contains a transparent closed openable locked lockable container called a case. The case contains some cake donuts. The donuts are edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3258_273" -->
<a id="c3258_273"></a><blockquote class="code"><p class="quoted">
The matching key of the case is a silver key. The silver key is carried by Ogg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3259_273" -->
<a id="c3259_273"></a><blockquote class="code"><p class="quoted">
A persuasion rule for asking someone to try doing something:
<br />&#160;&#160;&#160;&#160;persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3260_273" -->
<a id="c3260_273"></a><blockquote class="code"><p class="quoted">
Before someone opening a locked thing (called the sealed chest):
<br />&#160;&#160;&#160;&#160;if the person asked is carrying the matching key of the sealed chest, try the person asked unlocking the sealed chest with the matching key of the sealed chest;
<br />&#160;&#160;&#160;&#160;if the sealed chest is locked, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3261_273" -->
<a id="c3261_273"></a><blockquote class="code"><p class="quoted">
Before someone taking something which is in a closed container (called the shut chest):
<br />&#160;&#160;&#160;&#160;try the person asked opening the shut chest;
<br />&#160;&#160;&#160;&#160;if the shut chest is closed, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3262_273" -->
<a id="c3262_273"></a><blockquote class="code"><p class="quoted">
The block giving rule is not listed in the check giving it to rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3263_273" -->
<a id="c3263_273"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open case / get donuts / og, get donuts / og, give me the donuts / eat donuts&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(A more detailed set of before rules for people using doors and locks is provided in Emily Short's Locksmith extension.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "190: Boston Cream" "e106" -->
<a id="e106"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e106" class="eglink"><b>190</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e106" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Boston Cream</span></b></a><br />A fuller implementation of Ogg, giving him a motivation of his own and allowing him to react to the situation created by the player.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e106"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example106">
<!-- START CODE "c3264_106" -->
<a id="c3264_106"></a><blockquote class="code"><p class="quoted">
&quot;Boston Cream&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3265_106" -->
<a id="c3265_106"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3266_106" -->
<a id="c3266_106"></a><blockquote class="code"><p class="quoted">
The Donut Shop is a room. &quot;Vibrantly decorated in donut colors: pink, brown, and cream.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3267_106" -->
<a id="c3267_106"></a><blockquote class="code"><p class="quoted">
Ogg is a man in the Donut Shop. &quot;Ogg is slumped in the corner[if Ogg carries something] with [a list of things carried by Ogg][end if]. He wears a nametag which says 'HELLO MY NAME IS OG.'&quot; Understand &quot;og&quot; as Ogg. Ogg wears a nametag. The description of the nametag is &quot;Very neatly written.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3268_106" -->
<a id="c3268_106"></a><blockquote class="code"><p class="quoted">
The Donut Shop contains a transparent closed openable locked lockable enterable container called a case. The case is fixed in place. The case contains some cake donuts, some jelly donuts, and some apple fritters. &quot;The [if unopenable]damaged[otherwise]gleaming[end if] donut case [if something is in the case]contains [a list of things in the case][otherwise]has been stripped of its contents[end if].&quot; The cake donuts, the jelly donuts, and the apple fritters are edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3269_106" -->
<a id="c3269_106"></a><blockquote class="code"><p class="quoted">
The matching key of the case is a silver key. The silver key is in a mesh basket. The mesh basket is closed, transparent, and openable. It is in the Donut Shop.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3270_106" -->
<a id="c3270_106"></a><blockquote class="code"><p class="quoted">
Before someone taking something which is carried by the player:
<br />&#160;&#160;&#160;&#160;if the person asked cannot touch the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Ogg looks with a fixed frown at [the noun].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;[The person asked] comes up and shakes your arm until you drop [the noun].&quot;;
<br />&#160;&#160;&#160;&#160;say line break;
<br />&#160;&#160;&#160;&#160;silently try dropping the noun;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3271_106" -->
<a id="c3271_106"></a><blockquote class="code"><p class="quoted">
Before someone unlocking a locked thing with something which is not carried by the person asked:
<br />&#160;&#160;&#160;&#160;try the person asked taking the second noun;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3272_106" -->
<a id="c3272_106"></a><blockquote class="code"><p class="quoted">
Before someone opening a locked thing (called the sealed chest):
<br />&#160;&#160;&#160;&#160;if the person asked can see the matching key of the sealed chest:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the matching key of the sealed chest is enclosed by the sealed chest:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Seeing the paradoxical location of [the matching key of the sealed chest], [the person asked] gives a howl of rage.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story finally saying &quot;You have thwarted Ogg&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try the person asked unlocking the sealed chest with the matching key of the sealed chest;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3273_106" -->
<a id="c3273_106"></a><blockquote class="code"><p class="quoted">
Before someone taking something which is in a closed container (called the shut chest):
<br />&#160;&#160;&#160;&#160;try the person asked opening the shut chest;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3274_106" -->
<a id="c3274_106"></a><blockquote class="code"><p class="quoted">
Ogg has a number called hunger. The hunger of Ogg is 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3275_106" -->
<a id="c3275_106"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;increment the hunger of Ogg;
<br />&#160;&#160;&#160;&#160;if the hunger of Ogg is 2 and Ogg is visible, say &quot;Ogg's stomach growls.&quot;;
<br />&#160;&#160;&#160;&#160;if the hunger of Ogg is 3 and Ogg is visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if Ogg can see an edible thing (called the target):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Ogg eyes [the target] with obvious intent.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Ogg glances at you in a disturbingly shifty way.&quot;;
<br />&#160;&#160;&#160;&#160;if the hunger of Ogg is greater than 3:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if Ogg carries an edible thing (called the target):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try Ogg eating the target;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let new target be a random edible thing which can be seen by Ogg;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the new target is a thing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try Ogg taking the new target;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if Ogg can touch the player, end the story saying &quot;Ogg is gnawing your ankle&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise try Ogg taking the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3276_106" -->
<a id="c3276_106"></a><blockquote class="code"><p class="quoted">
The crumbs are a thing. &quot;Crumbs of [the list of edible things which cannot be seen by the player] lie scattered over the whole floor.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3277_106" -->
<a id="c3277_106"></a><blockquote class="code"><p class="quoted">
Instead of asking Ogg to try doing something when Ogg cannot touch the player:
<br />&#160;&#160;&#160;&#160;say &quot;Ogg tilts his head and shrugs, unable to hear your instruction clearly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3278_106" -->
<a id="c3278_106"></a><blockquote class="code"><p class="quoted">
Instead of asking Ogg to try eating something:
<br />&#160;&#160;&#160;&#160;say &quot;It's not as though Ogg really needs any encouragement in that department, is it?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3279_106" -->
<a id="c3279_106"></a><blockquote class="code"><p class="quoted">
Definition: Ogg is hungry if the hunger of Ogg is greater than 2.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3280_106" -->
<a id="c3280_106"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Ogg to try doing something: if Ogg is hungry, persuasion fails; persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3281_106" -->
<a id="c3281_106"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Ogg to try giving something edible to the player:
<br />&#160;&#160;&#160;&#160;persuasion fails.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3282_106" -->
<a id="c3282_106"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by Ogg doing something:
<br />&#160;&#160;&#160;&#160;if the reason the action failed is a failing listed in the Table of Ogg Retorts:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[reply entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Ogg looks adorably confused.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3283_106" -->
<a id="c3283_106"></a><blockquote class="code"><p class="quoted">
Table of Ogg Retorts
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">failing</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take people's possessions rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Ogg too polite.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take other people rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Ogg not that greedy.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take scenery rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'[The noun] very very heavy.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take what's fixed in place rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'[The noun] very heavy.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't drop what's not held rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Hunh?'&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3284_106" -->
<a id="c3284_106"></a><blockquote class="code"><p class="quoted">
Carry out Ogg eating an edible thing:
<br />&#160;&#160;&#160;&#160;move the crumbs to the holder of Ogg;
<br />&#160;&#160;&#160;&#160;now the hunger of Ogg is 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3285_106" -->
<a id="c3285_106"></a><blockquote class="code"><p class="quoted">
Report Ogg unlocking something with something:
<br />&#160;&#160;&#160;&#160;say &quot;Ogg struggles a bit with [the second noun] in the lock of [the noun], but does eventually succeed. 'Hunh!' says Ogg.&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3286_106" -->
<a id="c3286_106"></a><blockquote class="code"><p class="quoted">
Carry out Ogg opening the case when the case has been open:
<br />&#160;&#160;&#160;&#160;now the case is unopenable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3287_106" -->
<a id="c3287_106"></a><blockquote class="code"><p class="quoted">
Instead of closing the unopenable case:
<br />&#160;&#160;&#160;&#160;say &quot;The glass panels are no longer properly seated in their tracks, and the case cannot be closed ever again.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3288_106" -->
<a id="c3288_106"></a><blockquote class="code"><p class="quoted">
Report Ogg opening the unopenable case:
<br />&#160;&#160;&#160;&#160;say &quot;Ogg forces [the case] so hard that it does break.&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3289_106" -->
<a id="c3289_106"></a><blockquote class="code"><p class="quoted">
Report Ogg opening the case:
<br />&#160;&#160;&#160;&#160;say &quot;Ogg yanks [the noun] open with such force that you fear for its structural integrity.&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3290_106" -->
<a id="c3290_106"></a><blockquote class="code"><p class="quoted">
Report Ogg taking something edible:
<br />&#160;&#160;&#160;&#160;say &quot;Ogg acquires [the noun] with a look of tender affection.&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3291_106" -->
<a id="c3291_106"></a><blockquote class="code"><p class="quoted">
Report Ogg eating something:
<br />&#160;&#160;&#160;&#160;say &quot;Ogg chows down on [the noun], scattering crumbs in all directions.&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3292_106" -->
<a id="c3292_106"></a><blockquote class="code"><p class="quoted">
Report Ogg eating something when the number of visible edible things is 1:
<br />&#160;&#160;&#160;&#160;say &quot;Ogg eats [the noun] in his trademark style. You can no longer bear to watch.&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3293_106" -->
<a id="c3293_106"></a><blockquote class="code"><p class="quoted">
After entering the case:
<br />&#160;&#160;&#160;&#160;say &quot;You climb inside the case, folding yourself up uncomfortably.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3294_106" -->
<a id="c3294_106"></a><blockquote class="code"><p class="quoted">
After locking the case with something when the player is in the case:
<br />&#160;&#160;&#160;&#160;say &quot;You turn the key firmly in the lock -- amazing it locks from within, but it does -- and settle yourself for a long wait, hoping this thing is not air-tight.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3295_106" -->
<a id="c3295_106"></a><blockquote class="code"><p class="quoted">
The maximum score is 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3296_106" -->
<a id="c3296_106"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open mesh / get key / unlock case / open case / enter case / close case / lock case / wait / wait&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "191: Red Cross" "e104" -->
<a id="e104"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e104" class="eglink"><b>191</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e104" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Red Cross</span></b></a><br />A DIAGNOSE command which allows the player to check on the health of someone.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e104"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example104">
<!-- START CODE "c3297_104" -->
<a id="c3297_104"></a><blockquote class="code"><p class="quoted">
&quot;Red Cross&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3298_104" -->
<a id="c3298_104"></a><blockquote class="code"><p class="quoted">
Diagnosing is an action applying to one visible thing. Understand &quot;diagnose [something]&quot; as diagnosing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3299_104" -->
<a id="c3299_104"></a><blockquote class="code"><p class="quoted">
Check diagnosing:
<br />&#160;&#160;&#160;&#160;if the noun is not a person, say &quot;Only people can have diagnoses.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3300_104" -->
<a id="c3300_104"></a><blockquote class="code"><p class="quoted">
Carry out diagnosing:
<br />&#160;&#160;&#160;&#160;say &quot;You're not a medical expert.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3301_104" -->
<a id="c3301_104"></a><blockquote class="code"><p class="quoted">
Instead of diagnosing the player:
<br />&#160;&#160;&#160;&#160;say &quot;You feel fine!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3302_104" -->
<a id="c3302_104"></a><blockquote class="code"><p class="quoted">
The Clinic is a room. Fred is a man in the Clinic. The player carries a tongue-depressor.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3303_104" -->
<a id="c3303_104"></a><blockquote class="code"><p class="quoted">
Test me with &quot;diagnose me / diagnose fred / diagnose tongue-depressor&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "192: Frizz" "e173" -->
<a id="e173"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e173" class="eglink"><b>192</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e173" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Frizz</span></b></a><br />Liquid flows within containers and soaks objects that are not waterproof; any contact with a wet object can dampen our gloves.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e173"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example173">
<p>Suppose we have some items that get wet in contact with other damp things; in particular, if we touch anything wet while wearing a pair of gloves, the gloves too get damp. This requires that we be systematic about detecting all cases where contact occurs. So:</p>
<!-- START CODE "c3304_173" -->
<a id="c3304_173"></a><blockquote class="code"><p class="quoted">
&quot;Frizz&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3305_173" -->
<a id="c3305_173"></a><blockquote class="code"><p class="quoted">
A thing can be waterproof or porous. A container is usually waterproof. An animal is usually waterproof.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3306_173" -->
<a id="c3306_173"></a><blockquote class="code"><p class="quoted">
A thing can be sodden or dry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3307_173" -->
<a id="c3307_173"></a><blockquote class="code"><p class="quoted">
A container can be waterfilled or empty.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3308_173" -->
<a id="c3308_173"></a><blockquote class="code"><p class="quoted">
Before printing the name of a sodden thing: say &quot;sodden &quot;. Understand the sodden property as describing a thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3309_173" -->
<a id="c3309_173"></a><blockquote class="code"><p class="quoted">
The player wears a pair of woolly gloves. Instead of wearing a sodden thing: say &quot;You dubiously contemplate [the noun], and decide it's best to wear dry clothing.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3310_173" -->
<a id="c3310_173"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;follow the liquid distribution rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3311_173" -->
<a id="c3311_173"></a><blockquote class="code"><p class="quoted">
The liquid distribution rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3312_173" -->
<a id="c3312_173"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through containers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is open and the item is empty and the item is in a waterfilled container:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is waterfilled;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the item, say &quot;[The item] fills up with water, of course.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3313_173" -->
<a id="c3313_173"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through things in a waterfilled container:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is porous and the item is dry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the item, say &quot;[The item] soaks through.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is sodden.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3314_173" -->
<a id="c3314_173"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through sodden things in the airing cupboard:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is not The Last Man, now the item is dry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3315_173" -->
<a id="c3315_173"></a><blockquote class="code"><p class="quoted">
The last liquid distribution rule:
<br />&#160;&#160;&#160;&#160;if the player carries a dry copy of The Last Man, end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3316_173" -->
<a id="c3316_173"></a><blockquote class="code"><p class="quoted">
Instead of examining a waterfilled container:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is full of water[if the noun contains something visible]; it also contains [the list of things in the noun][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3317_173" -->
<a id="c3317_173"></a><blockquote class="code"><p class="quoted">
Instead of examining a container:
<br />&#160;&#160;&#160;&#160;say &quot;Dry inside[if the noun contains something visible], and containing [a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3318_173" -->
<a id="c3318_173"></a><blockquote class="code"><p class="quoted">
A book is a kind of thing. Instead of examining a sodden book, say &quot;[The noun] is too soaked to read, thanks to someone's carelessness.&quot; Understand &quot;book&quot; as a book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3319_173" -->
<a id="c3319_173"></a><blockquote class="code"><p class="quoted">
The copy of The Last Man is a book. The description of The Last Man is &quot;Mary Shelley's very own original copy, loaned to you under the strictest of agreements[if the pond encloses the copy]. How it came to be in its present position is a long story, and not important at the moment: the critical thing is not to blame oneself - who could have anticipated the cricket bat, anyway? - but to fix it immediately, before anything worse occurs[end if].&quot; The The Last Man is in the ziploc bag. The ziploc bag is waterproof and empty. It is openable, transparent, and closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3320_173" -->
<a id="c3320_173"></a><blockquote class="code"><p class="quoted">
The Back Garden is a room. The Back Garden contains a pond. The pond is a waterfilled container. In the pond is the ziploc bag. A carp is in the pond. The carp is an animal. Instead of taking the carp, say &quot;You're not fast enough.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3321_173" -->
<a id="c3321_173"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the pond:
<br />&#160;&#160;&#160;&#160;if the pond encloses the Last Man:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It is a beautiful day just at the end of spring and beginning of summer. The sun shines, the trees blossom, the world conspires in Edenic cheerfulness. You can take in none of it. Your eye is on [the Last Man].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The pond[if something is in the pond] (containing [the list of things in the pond])[end if] remains a figure of menace in an otherwise lushly verdant landscape.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3322_173" -->
<a id="c3322_173"></a><blockquote class="code"><p class="quoted">
Before printing the name of the Last Man when the Last Man is enclosed by the Pond: if the Last Man is dry, say &quot;delicate, valuable &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3323_173" -->
<a id="c3323_173"></a><blockquote class="code"><p class="quoted">
After printing the name of something (called the target) while writing a paragraph about something:
<br />&#160;&#160;&#160;&#160;if the Last Man is enclosed by the Pond:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the target is in something (called the parent), say &quot; - which is in [the parent]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3324_173" -->
<a id="c3324_173"></a><blockquote class="code"><p class="quoted">
The Kitchen is west of the Back Garden. &quot;Not in any sense your province: Mrs Peaswell gets agitated if anyone besides herself so much as boils a kettle. In general it is best to sneak through, disturbing as little as possible and preserving the cosy domestic fiction that academics cannot cook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3325_173" -->
<a id="c3325_173"></a><blockquote class="code"><p class="quoted">
The nearby stairwell leads up to the second floor.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3326_173" -->
<a id="c3326_173"></a><blockquote class="code"><p class="quoted">
The Stairwell is above the Kitchen. &quot;Halfway up and halfway down.&quot; The airing cupboard is a container in the Stairwell. &quot;An airing cupboard here contains the heating system, and is the ideal place for restoring wet items to a dry state.&quot; The airing cupboard is fixed in place.
</p></blockquote>
<!-- END CODE -->
<p>Now: whenever the player definitely touches something, we want to follow certain rules about the transfer of liquid. These rules need to come after an action's check rules (to make sure the action really occurs) and before the carry out rules (so that nothing has moved or changed yet). So we'll borrow from the chapter on rulebooks to create a whole new stage to the action, occurring between the check and the carry out phases:</p>
<!-- START CODE "c3327_173" -->
<a id="c3327_173"></a><blockquote class="code"><p class="quoted">
The post-check rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3328_173" -->
<a id="c3328_173"></a><blockquote class="code"><p class="quoted">
This is the post-check stage rule:
<br />&#160;&#160;&#160;&#160;abide by the post-check rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3329_173" -->
<a id="c3329_173"></a><blockquote class="code"><p class="quoted">
The post-check stage rule is listed before the carry out stage rule in the specific action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3330_173" -->
<a id="c3330_173"></a><blockquote class="code"><p class="quoted">
A post-check rule (this is the dry glove rule):
<br />&#160;&#160;&#160;&#160;if we get wet:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player wears the gloves and the gloves are dry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the gloves are sodden;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(soaking your gloves in the process)&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3331_173" -->
<a id="c3331_173"></a><blockquote class="code"><p class="quoted">
A post-check rule (this is the wet glove rule):
<br />&#160;&#160;&#160;&#160;if the player wears the sodden gloves:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the The Last Man must be touched and the Last Man is not sodden:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(soaking the parched pages of The Last Man with the rude touch of your sodden gloves)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the The Last Man is sodden;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3332_173" -->
<a id="c3332_173"></a><blockquote class="code"><p class="quoted">
Before doing something when the player does not wear the gloves:
<br />&#160;&#160;&#160;&#160;if The Last Man must be touched:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if The Last Man is dry, say &quot;[The The Last Man] is too precious to endanger when you are not wearing gloves.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;You hesitate instinctively, then recollect that you can hardly harm [The The Last Man] any more than it has already been harmed...&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3333_173" -->
<a id="c3333_173"></a><blockquote class="code"><p class="quoted">
To decide whether we get wet:
<br />&#160;&#160;&#160;&#160;if the noun is not a thing, no;
<br />&#160;&#160;&#160;&#160;if the noun dampens us, yes;
<br />&#160;&#160;&#160;&#160;if the second noun is not a thing, no;
<br />&#160;&#160;&#160;&#160;if the second noun dampens us, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3334_173" -->
<a id="c3334_173"></a><blockquote class="code"><p class="quoted">
To decide whether (item - a thing) dampens us:
<br />&#160;&#160;&#160;&#160;if the item is not liquiferous, no;
<br />&#160;&#160;&#160;&#160;if item must be touched, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3335_173" -->
<a id="c3335_173"></a><blockquote class="code"><p class="quoted">
To decide whether (item - a thing) must be touched:
<br />&#160;&#160;&#160;&#160;if the item is the noun and the action requires a touchable noun, yes;
<br />&#160;&#160;&#160;&#160;if the item is the second noun and the action requires a touchable second noun, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3336_173" -->
<a id="c3336_173"></a><blockquote class="code"><p class="quoted">
Definition: a thing is liquiferous:
<br />&#160;&#160;&#160;&#160;if it is sodden, yes;
<br />&#160;&#160;&#160;&#160;if it is in a waterfilled container, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3337_173" -->
<a id="c3337_173"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x book / x bag / get bag / take off gloves / w / u / put gloves in cupboard / z / open bag / touch book / push book / turn book / get gloves / wear gloves / get book&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3338_173" -->
<a id="c3338_173"></a><blockquote class="code"><p class="quoted">
Test disaster with &quot;open bag&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3339_173" -->
<a id="c3339_173"></a><blockquote class="code"><p class="quoted">
Test mishandling with &quot;get bag / open bag / get book&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "193: 3 AM" "e429" -->
<a id="e429"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e429" class="eglink"><b>193</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e429" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">3 AM</span></b></a><br />A shake command which agitates soda and makes items thump around in boxes.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e429"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example429">
<!-- START CODE "c3340_429" -->
<a id="c3340_429"></a><blockquote class="code"><p class="quoted">
&quot;3 AM&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3341_429" -->
<a id="c3341_429"></a><blockquote class="code"><p class="quoted">
Understand &quot;shake [something preferably held]&quot; as shaking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3342_429" -->
<a id="c3342_429"></a><blockquote class="code"><p class="quoted">
Shaking is an action applying to one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3343_429" -->
<a id="c3343_429"></a><blockquote class="code"><p class="quoted">
Carry out shaking:
<br />&#160;&#160;&#160;&#160;say &quot;Nothing results of your shaking [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3344_429" -->
<a id="c3344_429"></a><blockquote class="code"><p class="quoted">
Instead of shaking a closed container when something is in the noun:
<br />&#160;&#160;&#160;&#160;say &quot;Something rattles inside [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3345_429" -->
<a id="c3345_429"></a><blockquote class="code"><p class="quoted">
Instead of shaking a closed transparent container when something is in the noun:
<br />&#160;&#160;&#160;&#160;say &quot;Inside [the noun] there are banging noises produced by [the list of things contained by the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3346_429" -->
<a id="c3346_429"></a><blockquote class="code"><p class="quoted">
Instead of shaking an open container which contains something:
<br />&#160;&#160;&#160;&#160;say &quot;[The list of things contained by the noun] might fly out.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3347_429" -->
<a id="c3347_429"></a><blockquote class="code"><p class="quoted">
The Wawa is a room. &quot;A convenience store, if you like to call it that, vending the usual assortment of chips, donuts, soda, and beer. There is something of a line at the sandwich counter.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3348_429" -->
<a id="c3348_429"></a><blockquote class="code"><p class="quoted">
The box of enrobed cakes is in the Wawa. &quot;A box of Tastykake Enrobed Cakes has fallen off its shelf.&quot; The description is &quot;'Enrobed Cakes' is a fancy term for 'strange sponge-like baked good, covered in a thin shell of waxy chocolate'. They are addictive, but not in a way that lets you respect yourself in the morning.&quot; The box is a closed openable container. In the box is a cake.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3349_429" -->
<a id="c3349_429"></a><blockquote class="code"><p class="quoted">
Instead of opening the box, say &quot;The Wawa clerks frown on the consumption of unpurchased foodstuffs.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3350_429" -->
<a id="c3350_429"></a><blockquote class="code"><p class="quoted">
The can of root beer is a closed openable container carried by the player. The can of root beer is either agitated or calm.
</p></blockquote>
<!-- END CODE -->
<p>Because the can of root beer should have some reactions to having been shaken later in the game, we need to borrow a few ideas from the chapter on Time:</p>
<!-- START CODE "c3351_429" -->
<a id="c3351_429"></a><blockquote class="code"><p class="quoted">
Instead of shaking the can of root beer:
<br />&#160;&#160;&#160;&#160;the can calms down in five turns from now;
<br />&#160;&#160;&#160;&#160;say &quot;You give the can a good hard shake.&quot;;
<br />&#160;&#160;&#160;&#160;now the can is agitated.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3352_429" -->
<a id="c3352_429"></a><blockquote class="code"><p class="quoted">
Instead of listening to the can: say &quot;It sounds [if agitated]fizzy[otherwise]calm[end if]!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3353_429" -->
<a id="c3353_429"></a><blockquote class="code"><p class="quoted">
At the time when the can calms down:
<br />&#160;&#160;&#160;&#160;now the can is calm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3354_429" -->
<a id="c3354_429"></a><blockquote class="code"><p class="quoted">
The sticky mess is fixed in place. &quot;There is a sticky mess on the ground.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3355_429" -->
<a id="c3355_429"></a><blockquote class="code"><p class="quoted">
Instead of opening the agitated can of root beer:
<br />&#160;&#160;&#160;&#160;now the can of root beer is nowhere;
<br />&#160;&#160;&#160;&#160;now the sticky mess is in the location;
<br />&#160;&#160;&#160;&#160;say &quot;You open the can and fizzing sweet soda goes absolutely everywhere.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3356_429" -->
<a id="c3356_429"></a><blockquote class="code"><p class="quoted">
Instead of opening the calm can of root beer when the can has been agitated:
<br />&#160;&#160;&#160;&#160;now the can of root beer is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;The root beer is disappointingly flat. That's what you get for shaking it up!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3357_429" -->
<a id="c3357_429"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get box / shake box / open box / shake box / listen to can / shake can / listen to can / wait / wait / wait / wait / wait / listen to can / open can&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "194: The Dark Ages Revisited" "e115" -->
<a id="e115"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e115" class="eglink"><b>194</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e115" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Dark Ages Revisited</span></b></a><br />An electric light kind of device which becomes lit when switched on and dark when switched off.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e115"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example115">
<p>This will be explored more in subsequent examples, but one of the things we can do with carry out rules is extend the function of existing commands so that they do more, or have special effects in specific situations. For instance, suppose we want to have a class of electric light:</p>
<!-- START CODE "c3358_115" -->
<a id="c3358_115"></a><blockquote class="code"><p class="quoted">
&quot;The Dark Ages Revisited&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3359_115" -->
<a id="c3359_115"></a><blockquote class="code"><p class="quoted">
An electric light is a kind of device. Carry out switching on an electric light: now the noun is lit. Carry out switching off an electric light: now the noun is unlit.
</p></blockquote>
<!-- END CODE -->
<p>This will not affect the behavior of any other devices when switched; it will also not change the way in which switching lights on and off is reported. The player will still see &quot;You switch the sodium lamp on.&quot; or the like. In this case that is probably what we want. If we wanted a special way of describing turning on electric lights as opposed to all other devices, we could also add an after rule for the electric light class. Adding this rule to the carry out train does guarantee, though, that in no case will we manage to make the lamp lit without actually making it switched on (or vice versa).</p>
<!-- START CODE "c3360_115" -->
<a id="c3360_115"></a><blockquote class="code"><p class="quoted">
The Stooped Corridor is a room. &quot;A low, square-cut corridor, running north to south, stooping you over.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3361_115" -->
<a id="c3361_115"></a><blockquote class="code"><p class="quoted">
The sodium lamp is an electric light in the Stooped Corridor. &quot;[if switched on]The sodium lamp squats on the ground, burning away.[otherwise]The sodium lamp squats heavily on the ground.[end if]&quot;. The description is &quot;It is a heavy-duty archaeologist's lamp, [if switched off]currently off.[otherwise]blazing with brilliant yellow light.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3362_115" -->
<a id="c3362_115"></a><blockquote class="code"><p class="quoted">
Instead of burning the sodium lamp, try switching on the lamp.
</p></blockquote>
<!-- END CODE -->
<p>So far so easy. Since we've built the description of its light or darkness into the lamp's description, though, we may want to get rid of the &quot;...is switched on&quot; line that automatically follows when we look at something. For this we do need to borrow from a later chapter:</p>
<!-- START CODE "c3363_115" -->
<a id="c3363_115"></a><blockquote class="code"><p class="quoted">
The examine devices rule is not listed in the carry out examining rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3364_115" -->
<a id="c3364_115"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x lamp / switch lamp on / look / x lamp&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "195: Paddington" "e281" -->
<a id="e281"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e281" class="eglink"><b>195</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e281" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Paddington</span></b></a><br />A CUT [something] WITH [something] command which acts differently on different types of objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e281"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example281">
<p>Suppose we intend a game in which the player needs to cut things open on a regular basis. We'll want to check whether he has the proper tools handy, and deal graciously with commands such as CUT [something] when no tool is specified. So:</p>
<!-- START CODE "c3365_281" -->
<a id="c3365_281"></a><blockquote class="code"><p class="quoted">
&quot;Paddington&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3366_281" -->
<a id="c3366_281"></a><blockquote class="code"><p class="quoted">
A blade is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3367_281" -->
<a id="c3367_281"></a><blockquote class="code"><p class="quoted">
Understand &quot;cut [something] with [something]&quot; as cutting it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3368_281" -->
<a id="c3368_281"></a><blockquote class="code"><p class="quoted">
Instead of cutting something:
<br />&#160;&#160;&#160;&#160;if a blade (called the edge) is held by the player,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try cutting the noun with the edge;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Your fingernails are not sharp enough.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3369_281" -->
<a id="c3369_281"></a><blockquote class="code"><p class="quoted">
Cutting it with is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3370_281" -->
<a id="c3370_281"></a><blockquote class="code"><p class="quoted">
Check cutting it with:
<br />&#160;&#160;&#160;&#160;if the noun is a person, say &quot;That would hurt.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a blade, say &quot;[The second noun] has not got enough of a blade.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3371_281" -->
<a id="c3371_281"></a><blockquote class="code"><p class="quoted">
Carry out cutting it with:
<br />&#160;&#160;&#160;&#160;increment the count of rips of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3372_281" -->
<a id="c3372_281"></a><blockquote class="code"><p class="quoted">
Report cutting it with:
<br />&#160;&#160;&#160;&#160;say &quot;You slash [the noun] with [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We'll need a way to account for all these cuts and rips.</p>
<!-- START CODE "c3373_281" -->
<a id="c3373_281"></a><blockquote class="code"><p class="quoted">
Definition: a thing is ripped if the count of rips of it &gt; 0.  A thing has a number called the count of rips. After examining something ripped, say &quot;You see [the count of rips of the noun in words] rip[s] in [the noun][if something is in the noun], revealing [a list of things in the noun][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Moreover, because open containers normally list their contents when examined but we'd prefer Paddington's to be mentioned in the ripping paragraph:</p>
<!-- START CODE "c3374_281" -->
<a id="c3374_281"></a><blockquote class="code"><p class="quoted">
The examine containers rule does nothing when examining the teddy bear.
</p></blockquote>
<!-- END CODE -->
<p>So far, so good. But suppose that we'd like cutting also to make containers be permanently open and impossible to close again. We could write an &quot;instead&quot; rule, but that would mean that only our instead instructions would take effect, overriding the normal cutting it with rules entirely. Better would be to add a second carry out rule:</p>
<!-- START CODE "c3375_281" -->
<a id="c3375_281"></a><blockquote class="code"><p class="quoted">
Carry out cutting a container with something:
<br />&#160;&#160;&#160;&#160;now the noun is open;
<br />&#160;&#160;&#160;&#160;now the noun is unopenable.
</p></blockquote>
<!-- END CODE -->
<p>Now our rule will occur whenever a container is cut, but play will still go on to the reporting stage. And indeed we can add more of these, of varying degrees of specificity:</p>
<!-- START CODE "c3376_281" -->
<a id="c3376_281"></a><blockquote class="code"><p class="quoted">
Carry out cutting something which is part of something with something:
<br />&#160;&#160;&#160;&#160;move the noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3377_281" -->
<a id="c3377_281"></a><blockquote class="code"><p class="quoted">
Carry out cutting the quilt with something:
<br />&#160;&#160;&#160;&#160;now the description of the quilt is &quot;Horribly tattered.&quot;
</p></blockquote>
<!-- END CODE -->
<p>For that matter, we might want to add a report rule as well, to occur after the &quot;You slash...&quot; rule, so that every time the player cuts something open which has contents, the contents will be listed.</p>
<!-- START CODE "c3378_281" -->
<a id="c3378_281"></a><blockquote class="code"><p class="quoted">
Report cutting it with:
<br />&#160;&#160;&#160;&#160;if the noun is open and the noun contains something,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Visible within [is-are a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This time we do not add the condition to the rule (i.e., Report cutting an open noun...) If we did, this report rule would be more specific than the general report rule, and would occur first.</p>
<!-- START CODE "c3379_281" -->
<a id="c3379_281"></a><blockquote class="code"><p class="quoted">
The Safehouse is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3380_281" -->
<a id="c3380_281"></a><blockquote class="code"><p class="quoted">
The teddy bear is a closed thing in the Safehouse. The description is &quot;Fluffy[if the head is part of the bear], with an outsized head[otherwise], but headless[end if].&quot; The head is a closed part of the teddy bear. In the bear is a large wad of stuffing. In the head are a small wad of stuffing and a packet of smuggled diamonds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3381_281" -->
<a id="c3381_281"></a><blockquote class="code"><p class="quoted">
The quilt is in the Safehouse. The description is &quot;An old but comforting quilt.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3382_281" -->
<a id="c3382_281"></a><blockquote class="code"><p class="quoted">
The player carries a blade called a switchblade.
</p></blockquote>
<!-- END CODE -->
<p>Here is a final nicety to get rid of the &quot;which is closed&quot; statement on our closed unopenable teddy bear, using an &quot;activity&quot; rule:</p>
<!-- START CODE "c3383_281" -->
<a id="c3383_281"></a><blockquote class="code"><p class="quoted">
After printing the name of a closed unopenable container:
<br />&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3384_281" -->
<a id="c3384_281"></a><blockquote class="code"><p class="quoted">
Test me with &quot;cut quilt with bear / cut quilt with switchblade / examine quilt / cut bear with switchblade / again / examine bear / cut head with switchblade / get diamonds / mourn loss of innocence&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "196: Delicious, Delicious Rocks" "e103" -->
<a id="e103"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e103" class="eglink"><b>196</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e103" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Delicious, Delicious Rocks</span></b></a><br />Adding a "sanity-check" stage to decide whether an action makes any sense, which occurs before any before rules, implicit taking, or check rules.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e103"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example103">
<p>In some cases, we may want to add new stages to action processing. One possibility is a stage where we check the sanity of what the player is trying to do before executing any of the other commands; so that we avoid, for instance</p>
<!-- START CODE "c3385_103" -->
<a id="c3385_103"></a><blockquote class="code"><p class="quoted">
&gt;EAT ROCK
<br />(first taking the rock)
<br />That's plainly inedible.
</p></blockquote>
<!-- END CODE -->
<p>Here is how we might insert such a stage in our action processing, using rulebook manipulation.</p>
<!-- START CODE "c3386_103" -->
<a id="c3386_103"></a><blockquote class="code"><p class="quoted">
 &quot;Delicious, Delicious Rocks&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3387_103" -->
<a id="c3387_103"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3388_103" -->
<a id="c3388_103"></a><blockquote class="code"><p class="quoted">
The sanity-check rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3389_103" -->
<a id="c3389_103"></a><blockquote class="code"><p class="quoted">
This is the sanity-check stage rule:
<br />&#160;&#160;&#160;&#160;abide by the sanity-check rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3390_103" -->
<a id="c3390_103"></a><blockquote class="code"><p class="quoted">
The sanity-check stage rule is listed after the before stage rule  in the action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3391_103" -->
<a id="c3391_103"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3392_103" -->
<a id="c3392_103"></a><blockquote class="code"><p class="quoted">
Candyland is a room. The lollipop tree is an edible thing in Candyland. The genuine rock is a thing in Candyland.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3393_103" -->
<a id="c3393_103"></a><blockquote class="code"><p class="quoted">
Sanity-check eating an inedible thing:
<br />&#160;&#160;&#160;&#160;say &quot;Your digestion is so delicate -- you're sure [the noun] wouldn't agree with you.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3394_103" -->
<a id="c3394_103"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat lollipop / eat rock&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that now Inform does not try taking the rock before rejecting the player's attempt to eat it.</p>
<p>It is of course possible to get the same effect with</p>
<!-- START CODE "c3395_103" -->
<a id="c3395_103"></a><blockquote class="code"><p class="quoted">
Before eating an inedible thing:
<br />&#160;&#160;&#160;&#160;say &quot;Your digestion is so delicate -- you're sure [the noun] wouldn't agree with you.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>...and in a small game with few rules, there's not much reason to add an extra stage. The ability to modify the stages of action processing becomes useful when we have a fairly large game with sophisticated modeling and want to be sure that some kinds of message (such as the sanity-check) are always handled before other things that we might be doing at the before stage (such as generating implicit actions like opening doors before going through them).</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "197: Noisemaking" "e265" -->
<a id="e265"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e265" class="eglink"><b>197</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e265" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Noisemaking</span></b></a><br />Creating a stage after the report stage of an action, during which other characters may observe and react.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e265"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example265">
<p>Suppose the current sequence of action handling is not quite enough for us: we'd also like to have a stage after reporting, where other characters can react to the player character's behavior after it has already happened and been reported on screen. Having such a stage is unlike using &quot;after&quot;, because after occurs before reports and prevents them from being printed. So, for instance, we could allow the player to do any of a range of different actions that make loud noises, and have a nervous bird that reacts to all of them by flying away afterward.</p>
<p>To do this, we can add a new rule into the specific action-processing rules. (For a list of these, see the Rules index.) Moving rules around and adding new ones requires syntax that we will learn in the chapter on Rulebooks, but the present example is fairly straightforward:</p>
<!-- START CODE "c3396_265" -->
<a id="c3396_265"></a><blockquote class="code"><p class="quoted">
&quot;Noisemaking&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3397_265" -->
<a id="c3397_265"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3398_265" -->
<a id="c3398_265"></a><blockquote class="code"><p class="quoted">
The other-player response rule is listed after the report stage rule in the specific action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3399_265" -->
<a id="c3399_265"></a><blockquote class="code"><p class="quoted">
This is the other-player response rule:
<br />&#160;&#160;&#160;&#160;follow the observation rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3400_265" -->
<a id="c3400_265"></a><blockquote class="code"><p class="quoted">
The observation rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3401_265" -->
<a id="c3401_265"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3402_265" -->
<a id="c3402_265"></a><blockquote class="code"><p class="quoted">
Country Lane is a room. West of Country Lane is Outside the Farmhouse. East of Country Lane is Village Center. North of Country Lane is Open Field.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3403_265" -->
<a id="c3403_265"></a><blockquote class="code"><p class="quoted">
The player carries a drum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3404_265" -->
<a id="c3404_265"></a><blockquote class="code"><p class="quoted">
The black crow is an animal in Country Lane.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3405_265" -->
<a id="c3405_265"></a><blockquote class="code"><p class="quoted">
Singing is an action applying to nothing. Understand &quot;sing&quot; as singing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3406_265" -->
<a id="c3406_265"></a><blockquote class="code"><p class="quoted">
Report singing:
<br />&#160;&#160;&#160;&#160;say &quot;You hum a little ditty.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3407_265" -->
<a id="c3407_265"></a><blockquote class="code"><p class="quoted">
Singing is a loud action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3408_265" -->
<a id="c3408_265"></a><blockquote class="code"><p class="quoted">
Attacking the drum is a loud action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3409_265" -->
<a id="c3409_265"></a><blockquote class="code"><p class="quoted">
The block attacking rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3410_265" -->
<a id="c3410_265"></a><blockquote class="code"><p class="quoted">
Report attacking something:
<br />&#160;&#160;&#160;&#160;say &quot;THWACK!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3411_265" -->
<a id="c3411_265"></a><blockquote class="code"><p class="quoted">
An observation rule for loud action in the presence of the black crow:
<br />&#160;&#160;&#160;&#160;let N be a random adjacent room;
<br />&#160;&#160;&#160;&#160;if N is a room, move the black crow to N;
<br />&#160;&#160;&#160;&#160;say &quot;The crow, startled, flies off to [N].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3412_265" -->
<a id="c3412_265"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sing / g / n / hit drum&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "198: Removal" "e137" -->
<a id="e137"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e137" class="eglink"><b>198</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e137" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Removal</span></b></a><br />TAKE expanded to give responses such as "You take the book from the shelf." or "You pick up the toy from the ground."</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e137"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example137">
<p>Suppose that we want to change the reporting of &quot;take&quot; so that the player is always told something like &quot;You take the book from the shelf.&quot; or &quot;You pick up the toy from the ground.&quot; In order to generate these reports, we will need to know where the object started, even though by the time we are printing the output, the object will have moved.</p>
<!-- START CODE "c3413_137" -->
<a id="c3413_137"></a><blockquote class="code"><p class="quoted">
&quot;Removal&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3414_137" -->
<a id="c3414_137"></a><blockquote class="code"><p class="quoted">
The Pharmacy is a room. A desk and a trash can are in the Pharmacy. The pill-counter, a prescription, and a computer are on the desk. The computer is fixed in place. The pill-counter contains some Vicodin. The trash can contains an empty box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3415_137" -->
<a id="c3415_137"></a><blockquote class="code"><p class="quoted">
The taking action has an object called previous locale (matched as &quot;from&quot;).
</p></blockquote>
<!-- END CODE -->
<p>The previous locale could in theory be either a thing or a room, so we make it &quot;an object&quot; -- that is, the most generic possible kind, to which both things and rooms belong. Now we record what the previous locale is at the beginning of each taking action:</p>
<!-- START CODE "c3416_137" -->
<a id="c3416_137"></a><blockquote class="code"><p class="quoted">
Setting action variables for taking:
<br />&#160;&#160;&#160;&#160;now previous locale is the holder of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3417_137" -->
<a id="c3417_137"></a><blockquote class="code"><p class="quoted">
Report taking something from the location:
<br />&#160;&#160;&#160;&#160;say &quot;You pick up [the noun] from the ground.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3418_137" -->
<a id="c3418_137"></a><blockquote class="code"><p class="quoted">
Report taking something:
<br />&#160;&#160;&#160;&#160;say &quot;You take [the noun] from [the previous locale].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3419_137" -->
<a id="c3419_137"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get all&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "199: Further Reasons Why All Poets Are Liars" "e160" -->
<a id="e160"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e160" class="eglink"><b>199</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e160" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Further Reasons Why All Poets Are Liars</span></b></a><br />The young William Wordsworth, pushing a box about in his room, must struggle to achieve a Romantic point of view.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e160"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example160">
<p>We begin with the location and its fittings, and we create a kind of value which names the different internal positions we will allow.</p>
<!-- START CODE "c3420_160" -->
<a id="c3420_160"></a><blockquote class="code"><p class="quoted">
&quot;Further Reasons Why All Poets Are Liars&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3421_160" -->
<a id="c3421_160"></a><blockquote class="code"><p class="quoted">
Nook Obscure is a room. &quot;Above the College kitchens, which make a humming sound, less tuneable than bees, but hardly less industrious, with shrill notes of sharp command and scolding intermixed: and below Trinity's loquacious clock, who never lets the quarters, night or day, slip by him unproclaimed, and tells the hours twice over with a male and female voice. In short, the kind of rubbish room they give to a northern villager. But you get a bed and a high shelf all of your own. And you long to find some Romantic way to look out of the window.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3422_160" -->
<a id="c3422_160"></a><blockquote class="code"><p class="quoted">
The window, the shelf and the bed are scenery in the Nook Obscure. The shelf and the bed are supporters. The bed is enterable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3423_160" -->
<a id="c3423_160"></a><blockquote class="code"><p class="quoted">
Internal position is a kind of value. The internal positions are nowhere at all, over by the window, under the shelf and near the bed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3424_160" -->
<a id="c3424_160"></a><blockquote class="code"><p class="quoted">
The box is an enterable supporter in Nook Obscure. The current box position is an internal position that varies. The current box position is near the bed. &quot;Your packing case, stamped W. WORDSWORTH (KENDAL), is [current box position].&quot; Instead of taking the box, say &quot;It is filled with your peerless rock collection and too heavy to lift, but could be pushed.&quot; Instead of opening the box, say &quot;It is securely nailed shut.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We create an action, &quot;pushing it over to&quot;, for pushing a box around on the floor of a single location. (Calling this &quot;pushing it over to&quot; prevents clashes with the existing &quot;pushing it to&quot; action, which is for pushing things from one room to another.) Almost half of the text which defines the action is concerned with the two action variables, but they make the implementation of everything else so much easier that we end up writing less than if we hadn't used them.</p>
<!-- START CODE "c3425_160" -->
<a id="c3425_160"></a><blockquote class="code"><p class="quoted">
Understand &quot;push [box]&quot; as a mistake (&quot;You can push the box to the window, the bed or the shelf.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3426_160" -->
<a id="c3426_160"></a><blockquote class="code"><p class="quoted">
Understand &quot;push [something] to [something]&quot; as pushing it over to. Pushing it over to is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3427_160" -->
<a id="c3427_160"></a><blockquote class="code"><p class="quoted">
The pushing it over to action has an internal position called the old position.
<br />The pushing it over to action has an internal position called the new position.
<br />Setting action variables for pushing something over to something:
<br />&#160;&#160;&#160;&#160;now the old position is the current box position;
<br />&#160;&#160;&#160;&#160;now the new position is nowhere at all;
<br />&#160;&#160;&#160;&#160;if the second noun is the window, now the new position is over by the window;
<br />&#160;&#160;&#160;&#160;if the second noun is the bed, now the new position is near the bed;
<br />&#160;&#160;&#160;&#160;if the second noun is the shelf, now the new position is under the shelf.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3428_160" -->
<a id="c3428_160"></a><blockquote class="code"><p class="quoted">
Check pushing it over to:
<br />&#160;&#160;&#160;&#160;if the noun is not the box, say &quot;That's not something you can push.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player is on the bed, say &quot;You can't reach from here.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player is on the noun, say &quot;Not while you are standing on [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the new position is nowhere at all, say &quot;You can only push [the noun] to the window, the bed or the shelf.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the new position is the old position, say &quot;The [noun] is already [new position].&quot; instead.
<br />Carry out pushing it over to:
<br />&#160;&#160;&#160;&#160;now the current box position is the new position.
<br />Report pushing it over to:
<br />&#160;&#160;&#160;&#160;say &quot;With some effort, you shove [the noun] from [old position] to [new position].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Everything which remains simply provides a couple of puzzles to test this arrangement.</p>
<!-- START CODE "c3429_160" -->
<a id="c3429_160"></a><blockquote class="code"><p class="quoted">
Euclid's Elements is on the shelf. Understand &quot;euclid&quot; or &quot;book&quot; as the Elements.
<br />Instead of taking something (called the item) which is on the shelf:
<br />&#160;&#160;&#160;&#160;if the player is on the box and the current box position is under the shelf, continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;You cannot reach [the item], which is up on the shelf.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3430_160" -->
<a id="c3430_160"></a><blockquote class="code"><p class="quoted">
Instead of examining the window:
<br />&#160;&#160;&#160;&#160;say &quot;This window opens rather unpromisingly onto the chapel wall opposite, so even granted the moonlight it is dark in here. Still, surely there's a poem here somewhere?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3431_160" -->
<a id="c3431_160"></a><blockquote class="code"><p class="quoted">
Instead of examining the window when the player is on the bed:
<br />&#160;&#160;&#160;&#160;say &quot;Just a blank patch of chapel wall.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3432_160" -->
<a id="c3432_160"></a><blockquote class="code"><p class="quoted">
Instead of examining the window when the player is on the box:
<br />&#160;&#160;&#160;&#160;if the current box position is near the bed:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Tantalisingly, you are not quite able to spy the statue.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the current box position is under the shelf:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;All you can see is the antechapel wall, and the dull silver gleam of the pealing organ.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;At last! You can just, standing on tiptoes on the box right up at the window, make out the top of the statue! Of such epiphanies are Poesy born. Let's see now... oh yes...[paragraph break]And from my pillow, looking forth by light[line break]Of moon or favouring stars, I could behold[line break]The antechapel where the statue stood[line break]Of Newton with his prism and silent face,[line break]The marble index of a mind for ever[line break]Voyaging through strange seas of Thought, alone.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3433_160" -->
<a id="c3433_160"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get on bed / x window / get off / x window /get elements / get on box / x window / get elements / push box to shelf / get off / push box to shelf / get on box / get elements / x window / get off / push box to window / get on box / x window&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "200: The Second Oldest Problem" "e342" -->
<a id="e342"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e342" class="eglink"><b>200</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e342" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Second Oldest Problem</span></b></a><br />Adapting the going action so that something special can happen when going from a dark room to another dark room.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e342"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example342">
<p>Text in this example is drawn from Will Crowther's original 1976 FORTRAN implementation of ADVENTURE, the founding work of the genre, whose source code was rediscovered by Dennis G. Jerz in 2007. Note the capitals: the program ran on an early computer without lower case lettering. They look a little mimsy now, but picture them glowing green on an old-style cathode ray tube monitor in a darkened room late at night.</p>
<p>The problem alluded to is that the player is forbidden to walk between two dark rooms, so that he must always have light to see by from at least one end of any movement. Writing source text to achieve this is tricky to get right in every case, because the determination of light is hard to do. Here we interleave the necessary rules into the existing &quot;going&quot; action, using a new action variable to record the number of ends which are dark as experienced by the player, which might be 0, 1 or 2:</p>
<!-- START CODE "c3434_342" -->
<a id="c3434_342"></a><blockquote class="code"><p class="quoted">
&quot;THE SECOND OLDEST PROBLEM&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3435_342" -->
<a id="c3435_342"></a><blockquote class="code"><p class="quoted">
The going action has a number called the dark terminus count.
<br />Setting action variables for going:
<br />&#160;&#160;&#160;&#160;now the dark terminus count is 0;
<br />&#160;&#160;&#160;&#160;if in darkness, increment the dark terminus count.
<br />The last carry out going rule:
<br />&#160;&#160;&#160;&#160;if in darkness, increment the dark terminus count;
<br />&#160;&#160;&#160;&#160;if the dark terminus count is 2, end the story saying &quot;YOU FELL INTO A PIT AND BROKE EVERY BONE IN YOUR BODY!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>And now three early rooms to try this out.</p>
<!-- START CODE "c3436_342" -->
<a id="c3436_342"></a><blockquote class="code"><p class="quoted">
COBBLE CRAWL is a room. &quot;YOU ARE CRAWLING OVER COBBLES IN A LOW PASSAGE. THERE IS A DIM LIGHT AT THE EAST END OF THE PASSAGE.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3437_342" -->
<a id="c3437_342"></a><blockquote class="code"><p class="quoted">
DEBRIS ROOM is west of COBBLE CRAWL. &quot;YOU ARE IN A DEBRIS ROOM, FILLED WITH STUFF WASHED IN FROM THE SURFACE. A LOW WIDE PASSAGE WITH COBBLES BECOMES PLUGGED WITH MUD AND DEBRIS HERE,BUT AN AWKWARD CANYON LEADS UPWARD AND WEST.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3438_342" -->
<a id="c3438_342"></a><blockquote class="code"><p class="quoted">
AWKWARD CANYON is west of DEBRIS ROOM. &quot;YOU ARE IN AN AWKWARD SLOPING EAST/WEST CANYON.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3439_342" -->
<a id="c3439_342"></a><blockquote class="code"><p class="quoted">
DEBRIS ROOM and AWKWARD CANYON are dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3440_342" -->
<a id="c3440_342"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a dark room: say &quot;DARKNESS&quot; instead.
<br />Rule for printing the description of a dark room: say &quot;IT IS NOW PITCH BLACK. IF YOU PROCEED YOU WILL LIKELY FALL INTO A PIT.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3441_342" -->
<a id="c3441_342"></a><blockquote class="code"><p class="quoted">
Test me with &quot;w / e / w / w&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This is only the second oldest problem in the IF literature: the earliest puzzle is unlocking the steel grate which bars entrance to the cave.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "201: Puff of Orange Smoke" "e305" -->
<a id="e305"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e305" class="eglink"><b>201</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e305" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Puff of Orange Smoke</span></b></a><br />A system in which every character has a body, which is left behind when the person dies; attempts to do something to the body are redirected to the person while the person is alive.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e305"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example305">
<p>Suppose we want to let the player kill characters, leaving behind corpses.</p>
<!-- START CODE "c3442_305" -->
<a id="c3442_305"></a><blockquote class="code"><p class="quoted">
&quot;Puff of Orange Smoke&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3443_305" -->
<a id="c3443_305"></a><blockquote class="code"><p class="quoted">
Paraguay is a room. Bolivia is north of Paraguay. Lydia is a woman in Paraguay. &quot;Lydia is, as usual, here.&quot; The description of Lydia is &quot;Long, long legs and a sarcastic attitude.&quot; Instead of touching Lydia: say &quot;'Watch it, sailor,' she snaps.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3444_305" -->
<a id="c3444_305"></a><blockquote class="code"><p class="quoted">
A body is a kind of thing. A body is a part of every person. Instead of touching a body: say &quot;[The noun] is grotesquely inert.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3445_305" -->
<a id="c3445_305"></a><blockquote class="code"><p class="quoted">
The description of Lydia's body is &quot;Long, long legs and no attitude at all.&quot; The initial appearance of Lydia's body is &quot;Lydia's corpse is sprawled at your feet.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Using our &quot;part of every person...&quot; line, we've conveniently assigned one body per person. Since we're going to separate people from their bodies when the bodies die, though, we also want a more permanent relation that will help us keep track of which bodies used to belong to which people:</p>
<!-- START CODE "c3446_305" -->
<a id="c3446_305"></a><blockquote class="code"><p class="quoted">
Spirit-possession relates one person to one body. The verb to be owner of means the spirit-possession relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3447_305" -->
<a id="c3447_305"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat with victim running through people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the corpse be a random body which is part of the victim;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the victim is owner of the corpse.
</p></blockquote>
<!-- END CODE -->
<p>When Lydia is alive, we want &gt;TOUCH LYDIA'S BODY to mean the same thing as &gt;TOUCH LYDIA, so we use the setting action variables rules as a convenient point at which to reassign the action:</p>
<!-- START CODE "c3448_305" -->
<a id="c3448_305"></a><blockquote class="code"><p class="quoted">
Setting action variables when the noun is a body which is part of a person (called owner):
<br />&#160;&#160;&#160;&#160;now the noun is the owner.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3449_305" -->
<a id="c3449_305"></a><blockquote class="code"><p class="quoted">
Setting action variables when the second noun is a body which is part of a person (called owner):
<br />&#160;&#160;&#160;&#160;now the second noun is the owner.
</p></blockquote>
<!-- END CODE -->
<p>This doesn't change Inform's idea about what action is being performed; just about the object it's being performed on. The rest of the action will now proceed as if the player had typed &gt;TOUCH LYDIA.</p>
<p>Along similar lines, once Lydia is dead, we want &gt;MOVE LYDIA to mean &gt;MOVE LYDIA'S BODY if the body is in view:</p>
<!-- START CODE "c3450_305" -->
<a id="c3450_305"></a><blockquote class="code"><p class="quoted">
Setting action variables when the noun is a dead person and the noun is owner of a visible body (called the mortal remains):
<br />&#160;&#160;&#160;&#160;now the noun is the mortal remains.
</p></blockquote>
<!-- END CODE -->
<p>The trick is, though, that &gt;MOVE LYDIA will only be understood if there is something called Lydia that the player can see and refer to, even after she's dead. There are various ways to do this, but the least painful here will be to make the deceased Lydia permanently visible, by putting her in an always-accessible backdrop. The backdrop itself will never be mentioned in the game, and we should make its name something that the player is unlikely to type casually; we don't want the player to interact with it directly. So:</p>
<!-- START CODE "c3451_305" -->
<a id="c3451_305"></a><blockquote class="code"><p class="quoted">
The worldview is a privately-named backdrop. It is everywhere. The spirit-world is a privately-named transparent closed unopenable container. It is part of the worldview.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3452_305" -->
<a id="c3452_305"></a><blockquote class="code"><p class="quoted">
Definition: a person is dead if he is in the spirit-world.
</p></blockquote>
<!-- END CODE -->
<p>It's also possible that the player will type something like &gt;X LYDIA when Lydia's corpse is not in view, so we should have an appropriate answer to that as well:</p>
<!-- START CODE "c3453_305" -->
<a id="c3453_305"></a><blockquote class="code"><p class="quoted">
Before doing something to a dead person:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is dead; or had you blocked that out?&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Because the before rules happen after the setting action variables rules, this will only ever happen if the corpse is not visible.</p>
<p>Now we define the attack itself, which should discard the body, move the spirit to its eternal resting place, and describe the event to the player:</p>
<!-- START CODE "c3454_305" -->
<a id="c3454_305"></a><blockquote class="code"><p class="quoted">
Instead of attacking someone:
<br />&#160;&#160;&#160;&#160;let the corpse be a random body which is part of the noun;
<br />&#160;&#160;&#160;&#160;move the corpse to the location;
<br />&#160;&#160;&#160;&#160;move the noun to the spirit-world;
<br />&#160;&#160;&#160;&#160;say &quot;With a single blow, you rid the world of [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And finally a trick borrowed from the chapter on understanding, so that we can refer to &quot;Lydia's body&quot; while Lydia is alive, but &quot;Lydia's corpse&quot; only after Lydia has died:</p>
<!-- START CODE "c3455_305" -->
<a id="c3455_305"></a><blockquote class="code"><p class="quoted">
Understand &quot;corpse&quot; as a body when the item described is not part of a person.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3456_305" -->
<a id="c3456_305"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x body / x lydia's body / touch lydia's body / x corpse / kill lydia / look / x lydia's body / x lydia's corpse / x corpse / x lydia / touch lydia / lydia, hello / n / x lydia / touch lydia / lydia, hello&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "202: Croft" "e98" -->
<a id="e98"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e98" class="eglink"><b>202</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e98" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Croft</span></b></a><br />Adding special reporting and handling for objects dropped when the player is on a supporter, and special entering rules for moving from one supporter to another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e98"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example98">
<p>Suppose that we have a design in which the player spends lots of time on enterable supporters, and in which we want to report certain actions -- dropping things onto those supporters, or leaping from one to another -- in a new way. We might begin by adding some action variables to help us keep track of the situation:</p>
<!-- START CODE "c3457_98" -->
<a id="c3457_98"></a><blockquote class="code"><p class="quoted">
 &quot;Croft&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3458_98" -->
<a id="c3458_98"></a><blockquote class="code"><p class="quoted">
The dropping action has an object called the container dropped into (matched as &quot;into&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3459_98" -->
<a id="c3459_98"></a><blockquote class="code"><p class="quoted">
The dropping action has an object called the supporter dropped onto (matched as &quot;onto&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3460_98" -->
<a id="c3460_98"></a><blockquote class="code"><p class="quoted">
Rule for setting action variables for dropping:
<br />&#160;&#160;&#160;&#160;if the actor is in a container (called C), now the container dropped into is C;
<br />&#160;&#160;&#160;&#160;if the actor is on a supporter (called C), now the supporter dropped onto is C.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3461_98" -->
<a id="c3461_98"></a><blockquote class="code"><p class="quoted">
Report dropping a heavy thing onto a metallic thing:
<br />&#160;&#160;&#160;&#160;say &quot;You drop [the noun], and [the supporter dropped onto] clangs protestingly.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3462_98" -->
<a id="c3462_98"></a><blockquote class="code"><p class="quoted">
Report someone dropping a heavy thing onto a metallic thing:
<br />&#160;&#160;&#160;&#160;say &quot;[The actor] drops [the noun] onto [the supporter dropped onto], which clangs protestingly.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3463_98" -->
<a id="c3463_98"></a><blockquote class="code"><p class="quoted">
A thing can be heavy or light. A thing can be metallic or ordinary. A thing is usually ordinary. A thing is usually light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3464_98" -->
<a id="c3464_98"></a><blockquote class="code"><p class="quoted">
The Ancient Cambodian Temple is a room. &quot;A vast space built for ancient and forgotten rituals. The stone floor crawls with vermin. Well above the floor, and separated by some feet, are twin platforms built into the wall: the one carved of jointed wood, the other of sheets of graven bronze.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3465_98" -->
<a id="c3465_98"></a><blockquote class="code"><p class="quoted">
A platform is a kind of supporter. A platform is always enterable. A platform is usually scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3466_98" -->
<a id="c3466_98"></a><blockquote class="code"><p class="quoted">
The bronze platform is a metallic platform in the Temple. Lara is a woman. She is on the bronze platform. She wears safari pants and a tank top. She carries a gun and a map. The gun is heavy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3467_98" -->
<a id="c3467_98"></a><blockquote class="code"><p class="quoted">
The wood platform is an ordinary platform in the Temple. The player is on the wood platform. The player carries a rope, an Ancient Cambodian/English Phrasebook, a pickaxe, and a precious idol. The idol and the pickaxe are heavy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3468_98" -->
<a id="c3468_98"></a><blockquote class="code"><p class="quoted">
Persuasion rule: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3469_98" -->
<a id="c3469_98"></a><blockquote class="code"><p class="quoted">
The entering action has an object called the place left (matched as &quot;from&quot;).
<br />&#160;&#160;&#160;&#160;Check entering a platform from a platform:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if actor is the player, say &quot;You leap into midair to cross the distance...&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The actor] leaps gracefully across the distance...&quot;;
<br />&#160;&#160;&#160;&#160;move the actor to the holder of the noun, without printing a room description.
</p></blockquote>
<!-- END CODE -->
<p>Because this rule occurs before the &quot;implicitly pass through other barriers rule&quot;, that rule will not occur when we move from platform to platform; we'll use our own custom rule instead.</p>
<!-- START CODE "c3470_98" -->
<a id="c3470_98"></a><blockquote class="code"><p class="quoted">
Rule for setting action variables for entering:
<br />&#160;&#160;&#160;&#160;now the place left is the holder of the actor.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3471_98" -->
<a id="c3471_98"></a><blockquote class="code"><p class="quoted">
Report entering a platform from a platform:
<br />&#160;&#160;&#160;&#160;say &quot;You land in a cat-like crouch on [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3472_98" -->
<a id="c3472_98"></a><blockquote class="code"><p class="quoted">
Report Lara entering a platform from a platform:
<br />&#160;&#160;&#160;&#160;say &quot;Lara lands soundlessly on [the noun][if the noun supports the player] beside you[end if].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3473_98" -->
<a id="c3473_98"></a><blockquote class="code"><p class="quoted">
Report entering a platform from the location:
<br />&#160;&#160;&#160;&#160;say &quot;You jump, catch the edge of [the noun] in your hands, and -- exerting considerable upper-body strength -- pull yourself up onto it.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3474_98" -->
<a id="c3474_98"></a><blockquote class="code"><p class="quoted">
Report Lara entering a platform from a location:
<br />&#160;&#160;&#160;&#160;say &quot;Lara jumps, catches the edge of [the noun], and is standing upright on it, all in less time than it takes to tell.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3475_98" -->
<a id="c3475_98"></a><blockquote class="code"><p class="quoted">
Instead of examining a person who is not the player:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] carries [list of things carried by the noun] and wears [list of things worn by the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3476_98" -->
<a id="c3476_98"></a><blockquote class="code"><p class="quoted">
Instead of climbing a platform, try entering the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3477_98" -->
<a id="c3477_98"></a><blockquote class="code"><p class="quoted">
Test me with &quot;Lara, drop map / lara, drop gun / drop idol / enter bronze platform / drop pickaxe / get off / climb wood&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "203: The Man of Steel" "e84" -->
<a id="e84"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e84" class="eglink"><b>203</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e84" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Man of Steel</span></b></a><br />An escaping action which means "go to any room you can reach from here", and is only useful to non-player characters.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e84"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example84">
<p>It will sometimes be handy to write actions that are only available to the non-player characters and not to the player. To do this, we just define an action which has no &quot;understand&quot;: the player will never be able to specify this command himself, but other characters can try it.</p>
<p>This is particularly useful for creating abstract or general actions for when we want a character to eat something, wear something, or go somewhere, but aren't too particular as to what the object is; as here, where we just want Clark to move away from the kryptonite, regardless of direction:</p>
<!-- START CODE "c3478_84" -->
<a id="c3478_84"></a><blockquote class="code"><p class="quoted">
&quot;The Man of Steel&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3479_84" -->
<a id="c3479_84"></a><blockquote class="code"><p class="quoted">
Escaping is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3480_84" -->
<a id="c3480_84"></a><blockquote class="code"><p class="quoted">
Carry out someone escaping:
<br />&#160;&#160;&#160;&#160;let space be the holder of the person asked;
<br />&#160;&#160;&#160;&#160;let place be a random room which is adjacent to the space;
<br />&#160;&#160;&#160;&#160;let way be the best route from the space to the place;
<br />&#160;&#160;&#160;&#160;try the person asked going way.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3481_84" -->
<a id="c3481_84"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if Clark Kent can see kryptonite, try Clark Kent escaping.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3482_84" -->
<a id="c3482_84"></a><blockquote class="code"><p class="quoted">
The Daily Planet Newsroom is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3483_84" -->
<a id="c3483_84"></a><blockquote class="code"><p class="quoted">
Perry White's Office is west of the Newsroom. In Perry White's Office are a desk and a poster of Elvis. On the desk is a lead-lined box. The box is openable. In the box is the green kryptonite crystal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3484_84" -->
<a id="c3484_84"></a><blockquote class="code"><p class="quoted">
The Supply Closet is east of the Newsroom. The Elevator Bank is north of the Newsroom.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3485_84" -->
<a id="c3485_84"></a><blockquote class="code"><p class="quoted">
Clark Kent is a man in the Newsroom. &quot;Clark [if Clark can see the kryptonite]looks a bit ill[otherwise]is here, frowning as he revises his latest article[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3486_84" -->
<a id="c3486_84"></a><blockquote class="code"><p class="quoted">
Test me with &quot;west / get box / east / close box / east / west / north / south / west&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "204: Trying Taking Manhattan" "e257" -->
<a id="e257"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e257" class="eglink"><b>204</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e257" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Trying Taking Manhattan</span></b></a><br />Replacing the inventory reporting rule with another which does something slightly different.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e257"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example257">
<p>Inform has built-in commands for other people, and sometimes we may want to adjust the way these work without completely disabling and replacing the command. Suppose, for instance, that instead of</p>
<!-- START CODE "c3487_257" -->
<a id="c3487_257"></a><blockquote class="code"><p class="quoted">
Kermit the Frog looks through his possessions.
</p></blockquote>
<!-- END CODE -->
<p>we'd like someone taking inventory to report what he's got, thus:</p>
<!-- START CODE "c3488_257" -->
<a id="c3488_257"></a><blockquote class="code"><p class="quoted">
Kermit the Frog says, &quot;I seem to be carrying a microphone and wearing a hat and a trenchcoat.&quot;
</p></blockquote>
<!-- END CODE -->
<p>To do this, we could replace the built-in report rule with a different one.</p>
<!-- START CODE "c3489_257" -->
<a id="c3489_257"></a><blockquote class="code"><p class="quoted">
&quot;Trying Taking Manhattan&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3490_257" -->
<a id="c3490_257"></a><blockquote class="code"><p class="quoted">
The loud inventory rule is listed instead of the report other people taking inventory rule in the report taking inventory rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3491_257" -->
<a id="c3491_257"></a><blockquote class="code"><p class="quoted">
This is the loud inventory rule:
<br />&#160;&#160;&#160;&#160;unless the player is the person asked:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The person asked] says, 'I seem to be carrying [a list of things carried by the person asked][if the person asked is wearing something] and wearing [a list of things worn by the person asked][end if].'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3492_257" -->
<a id="c3492_257"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking someone to try doing something: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3493_257" -->
<a id="c3493_257"></a><blockquote class="code"><p class="quoted">
Grand Central Station is a room. &quot;Here you are in New York, New York. Any minute now someone is going to burst into song.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3494_257" -->
<a id="c3494_257"></a><blockquote class="code"><p class="quoted">
Kermit the Frog is a man in Grand Central Station. &quot;Kermit the Frog stands nearby, enjoying being green.&quot; Kermit is wearing a hat and a trenchcoat. He is carrying a microphone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3495_257" -->
<a id="c3495_257"></a><blockquote class="code"><p class="quoted">
Test me with &quot;inventory / kermit, inventory&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "205: Under Contract" "e399" -->
<a id="e399"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e399" class="eglink"><b>205</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e399" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Under Contract</span></b></a><br />Creating a person who accepts most instructions and reacts correctly when a request leads implicitly to inappropriate behavior.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e399"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example399">
<!-- START CODE "c3496_399" -->
<a id="c3496_399"></a><blockquote class="code"><p class="quoted">
&quot;Under Contract&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3497_399" -->
<a id="c3497_399"></a><blockquote class="code"><p class="quoted">
The Sound Stage is a room. The description is &quot;A somewhat creaky and unconvincing reproduction of the docks of San Francisco.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3498_399" -->
<a id="c3498_399"></a><blockquote class="code"><p class="quoted">
Clark Gable is a man in the Sound Stage. &quot;Clark is here, carrying [the list of things carried by Clark][if Clark wears anything] and wearing [the list of things worn by Clark][end if].&quot; Clark carries a swagger stick. Clark carries an open openable player's holdall called a briefcase. The briefcase contains a signed contract. Clark wears a fedora and a pair of pants. A handle is part of the briefcase.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3499_399" -->
<a id="c3499_399"></a><blockquote class="code"><p class="quoted">
The player carries an open openable player's holdall called a frilly bag. The carrying capacity of the player is 2. The player wears a sparkly scarf and a slinky dress. A strap is part of the bag. The tent is a portable enterable container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3500_399" -->
<a id="c3500_399"></a><blockquote class="code"><p class="quoted">
Instead of taking off the slinky dress: say &quot;Rowr! Not that kind of movie, babe.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3501_399" -->
<a id="c3501_399"></a><blockquote class="code"><p class="quoted">
Instead of taking off the pants: say &quot;That's not your job, whatever the society pages might suggest.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3502_399" -->
<a id="c3502_399"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by Clark doing something:
<br />&#160;&#160;&#160;&#160;repeat through table of Clark Retorts:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the reason the action failed is the cause entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[response entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;'I don't think that's in the script,' says Clark dubiously.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3503_399" -->
<a id="c3503_399"></a><blockquote class="code"><p class="quoted">
Table of Clark Retorts
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">cause</p></td><td class="quotedtablecell"><p class="quoted">response</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take yourself rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I'm always self-possessed,' Clark remarks. You've heard that line before, but it sounds so much more convincing from him.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take other people rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I don't think it would be appreciated if I tried to do that to [the noun],' he rumbles.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take component parts rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I don't want to rip [the noun] out,' Clark remarks.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take people's possessions rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I don't cotton to acting like a thief,' Clark replies. 'It ain't proper.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take what you're inside rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Do you see where I am, babe?' Clark demands.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take what's already taken rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take scenery rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I'm not the stunt man, darling,' he says with a wry twinkle.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take what's fixed in place rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I'm not the stunt man, darling,' he says with a wry twinkle.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't exceed carrying capacity rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;Clark grins. 'I've only got so many hands, darling,' he says.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't insert into closed containers rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[physical impossibility]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't go that way rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[physical impossibility]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't go through closed doors rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[physical impossibility]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't enter closed containers rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[physical impossibility]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't exit closed containers rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[physical impossibility]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't drop yourself rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'We're inseparable, me and me,' Clark replies, with a smile.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't drop what's already dropped rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't drop what's not held rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Not under my control, [the noun],' replies Clark.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't drop clothes being worn rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[salacious retort]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't put something on itself rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I lack the dexterity,' says Clark. Oh, he's so modest.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't put onto what's not a supporter rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'[The second noun] won't support a thing,' says Clark reprovingly.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't put clothes being worn rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[salacious retort]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't insert clothes being worn rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[salacious retort]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't give worn items rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[salacious retort]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't wear what's not clothing rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Costuming just gets stranger every year,' says Clark. 'In short: no.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't wear what's already worn rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't eat unless edible rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;'What're you trying to do, poison me?'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't eat clothing without removing it first rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[salacious retort]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't take off what's not worn rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't close what's already closed rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't open what's already open rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't switch off what's already off rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't switch on what's already on rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't unlock what's already unlocked rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">can't lock what's already locked rule</p></td><td class="quotedtablecell"><p class="quoted">&quot;[already done]&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3504_399" -->
<a id="c3504_399"></a><blockquote class="code"><p class="quoted">
To say already done:
<br />&#160;&#160;&#160;&#160;repeat through Table of Clark's Bored Remarks:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[response entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;'Already done.' &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3505_399" -->
<a id="c3505_399"></a><blockquote class="code"><p class="quoted">
Table of Clark's Bored Remarks
<br />response
<br />&quot;'I have anticipated your every demand.'&quot;
<br />&quot;'We've been through this part of the script already,' Clark remarks, with just a hint of creeping tedium.&quot;
<br />&quot;'Right right, already taken care of...'&quot;
<br />&quot;'I'm a believer in rehearsal,' Clark says, sounding more bored than ever, 'but we really have got all this done already.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3506_399" -->
<a id="c3506_399"></a><blockquote class="code"><p class="quoted">
To say salacious retort:
<br />&#160;&#160;&#160;&#160;repeat through Table of Clark's Flirtatious Remarks:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[response entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;Clark, driven past the point of endurance, seizes you in his arms and kisses you.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3507_399" -->
<a id="c3507_399"></a><blockquote class="code"><p class="quoted">
Table of Clark's Flirtatious Remarks
<br />response
<br />&quot;Clark allows his mustache to quirk at the suggestion.&quot;
<br />&quot;Clark wiggles his eyebrows at you.&quot;
<br />&quot;'That kind of thing isn't in my contract, sweetie,' says Clark. 'If you're interested you'll have to ask off-camera.'&quot;
<br />&quot;'I'd feel so... bare,' Clark says, with a sidelong look at you.&quot;
<br />&quot;'You first,' says Clark.&quot;
<br />&quot;Clark's stare is intense. You may be on the verge of breaking him.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3508_399" -->
<a id="c3508_399"></a><blockquote class="code"><p class="quoted">
To say physical impossibility:
<br />&#160;&#160;&#160;&#160;repeat through Table of Clark's Frustrated Denials:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[response entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;Clark makes a helpless gesture about his ability to move himself, or parts of himself, through solid objects. &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3509_399" -->
<a id="c3509_399"></a><blockquote class="code"><p class="quoted">
Table of Clark's Frustrated Denials
<br />response
<br />&quot;Clark frowns. 'I can't reach through things -- unless you were planning a special effect?'&quot;
<br /> &quot;'Look,' says Clark. 'If you want a stage magician, hire one.'&quot;
<br />&quot;Clark just groans.&quot;
<br />&quot;Clark says drily, 'Is this in the script, or are we doing improvisation now?'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3510_399" -->
<a id="c3510_399"></a><blockquote class="code"><p class="quoted">
The block giving rule is not listed in the check giving it to rules. The block showing rule is not listed in the check showing it to rules. The report smelling rule is not listed in the report smelling rules. The report listening rule is not listed in the report listening to rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3511_399" -->
<a id="c3511_399"></a><blockquote class="code"><p class="quoted">
Carry out listening to something:
<br />&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3512_399" -->
<a id="c3512_399"></a><blockquote class="code"><p class="quoted">
Report listening to something: say &quot;Your attention bears no interesting result.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3513_399" -->
<a id="c3513_399"></a><blockquote class="code"><p class="quoted">
Carry out smelling something:
<br />&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3514_399" -->
<a id="c3514_399"></a><blockquote class="code"><p class="quoted">
Report smelling something:  say &quot;Your attention bears no interesting result.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3515_399" -->
<a id="c3515_399"></a><blockquote class="code"><p class="quoted">
Report someone listening to something: say &quot;[The person asked] concentrates, listening.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3516_399" -->
<a id="c3516_399"></a><blockquote class="code"><p class="quoted">
Report someone smelling something: say &quot;[The person asked] sniffs at [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3517_399" -->
<a id="c3517_399"></a><blockquote class="code"><p class="quoted">
Instead of asking someone for something: try asking the noun to try giving the second noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3518_399" -->
<a id="c3518_399"></a><blockquote class="code"><p class="quoted">
Carry out showing something to someone: say &quot;You reveal [the noun] to [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3519_399" -->
<a id="c3519_399"></a><blockquote class="code"><p class="quoted">
Carry out Clark showing something to someone:
<br />&#160;&#160;&#160;&#160;if the second noun is the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Clark shows you [the noun]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try examining the noun;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Clark reveals [the noun] to [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3520_399" -->
<a id="c3520_399"></a><blockquote class="code"><p class="quoted">
Instead of asking someone to try saying yes: try saying yes. Instead of asking someone to try saying no: try saying no. Instead of asking someone to try saying sorry, try saying sorry.
</p></blockquote>
<!-- END CODE -->
<p>And now we make Clark a very amenable type:</p>
<!-- START CODE "c3521_399" -->
<a id="c3521_399"></a><blockquote class="code"><p class="quoted">
A persuasion rule for asking people to try doing something: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<p>There are quite a few actions for which no automatic other-character behavior is provided at all, because they always end in failure when the player tries them. Currently the response is not very interesting. Let's spice it up a bit:</p>
<!-- START CODE "c3522_399" -->
<a id="c3522_399"></a><blockquote class="code"><p class="quoted">
Burning something is useless action. Waking up is useless action. Thinking is useless action. Cutting is useless action. Jumping is useless action. Tying something to something is useless action. Drinking something is useless action. Swinging is useless action.  Rubbing is useless action. Setting something to something is useless action. Waving hands is useless action. Buying is useless action. Climbing is useless action. Sleeping is useless action. Kissing is useless action. Throwing something at something is useless action. Attacking is useless action. Asking something about something is useless action. Telling something about something is useless action. Answering something that something is useless action. Waking something is useless action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3523_399" -->
<a id="c3523_399"></a><blockquote class="code"><p class="quoted">
A persuasion rule for asking people to try useless action:
<br />&#160;&#160;&#160;&#160;say &quot;Clark Gable frowns. 'I don't mean to be difficult, but I can't see any point in that.'&quot;;
<br />&#160;&#160;&#160;&#160;persuasion fails.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3524_399" -->
<a id="c3524_399"></a><blockquote class="code"><p class="quoted">
A persuasion rule for asking Clark to try taking off the pants:
<br />&#160;&#160;&#160;&#160;say &quot;He gives you a look of mocking exasperation. Apparently you'll have to take a (slightly) more subtle approach.&quot;;
<br />&#160;&#160;&#160;&#160;persuasion fails.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3525_399" -->
<a id="c3525_399"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Check someone giving something to someone (this is the can't give worn items rule):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the person asked wears the noun, stop the action.
</p></blockquote>
<!-- END CODE -->
<p>And because we do not want Clark automatically taking off the pants as the result of a drop action:</p>
<!-- START CODE "c3526_399" -->
<a id="c3526_399"></a><blockquote class="code"><p class="quoted">
Instead of Clark taking off the pants: do nothing.
</p></blockquote>
<!-- END CODE -->
<p>We know that this can only come about as a default action, because we have arranged matters so that he cannot be persuaded directly.</p>
<!-- START CODE "c3527_399" -->
<a id="c3527_399"></a><blockquote class="code"><p class="quoted">
Test me with &quot;give dress to clark / clark, take off pants / clark, eat pants / clark, give me the pants / clark, drop pants / clark, put the pants in the briefcase / again / g / g / g&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "206: Get Axe" "e373" -->
<a id="e373"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e373" class="eglink"><b>206</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e373" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Get Axe</span></b></a><br />Changing the check rules to try automatically leaving a container before attempting to take it. (And arranging things so that other people will do likewise.)</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e373"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example373">
<p>We could now re-write the check rules so that any time someone (the player or someone else) tries to pick up a container which he is in, he will first get out:</p>
<!-- START CODE "c3528_373" -->
<a id="c3528_373"></a><blockquote class="code"><p class="quoted">
&quot;GET AXE&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3529_373" -->
<a id="c3529_373"></a><blockquote class="code"><p class="quoted">
This is the clever can't take what you're inside rule:
<br />&#160;&#160;&#160;&#160;if the person asked is in the noun, try the person asked exiting;
<br />&#160;&#160;&#160;&#160;if the person asked is in the noun, rule fails.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3530_373" -->
<a id="c3530_373"></a><blockquote class="code"><p class="quoted">
The clever can't take what you're inside rule is listed instead of the can't take what you're inside rule in the check taking rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3531_373" -->
<a id="c3531_373"></a><blockquote class="code"><p class="quoted">
Attic is a room. The unused coffin is in the Attic. The coffin is enterable and openable and open. Raskolnikov is a man in the coffin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3532_373" -->
<a id="c3532_373"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Raskolnikov to try doing something:
<br />&#160;&#160;&#160;&#160;persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3533_373" -->
<a id="c3533_373"></a><blockquote class="code"><p class="quoted">
Test me with &quot;raskolnikov, get coffin&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "207: Barter Barter" "e22" -->
<a id="e22"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e22" class="eglink"><b>207</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e22" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Barter Barter</span></b></a><br />Allowing characters other than the player to give objects to one another, accounting for the possibility that some items may not be desired by the intended recipients.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e22"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example22">
<p>By default, if we make no modifications, telling one player to give something to another will fail, even if persuasion succeeds. This is because the default behavior of the GIVE command is interrupted by the &quot;block giving rule&quot; -- since in many cases we do not want people to exchange objects freely.</p>
<p>However, suppose that we do want characters to be able to exchange articles freely: we allow persuasion to succeed and turn off the &quot;block giving rule&quot;.</p>
<!-- START CODE "c3534_22" -->
<a id="c3534_22"></a><blockquote class="code"><p class="quoted">
&quot;Barter Barter&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3535_22" -->
<a id="c3535_22"></a><blockquote class="code"><p class="quoted">
The block giving rule is not listed in the check giving it to rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3536_22" -->
<a id="c3536_22"></a><blockquote class="code"><p class="quoted">
A persuasion rule for asking people to try giving: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3537_22" -->
<a id="c3537_22"></a><blockquote class="code"><p class="quoted">
The Trading Post is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3538_22" -->
<a id="c3538_22"></a><blockquote class="code"><p class="quoted">
Meriwether Lewis is a man in the Trading Post. He carries a fluffy handmade quilt and a bag of beans. The beans are edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3539_22" -->
<a id="c3539_22"></a><blockquote class="code"><p class="quoted">
William Clark is a man in the Trading Post. He carries leather slippers, a journal, and a loaf of bread. The bread is edible. The slippers are wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3540_22" -->
<a id="c3540_22"></a><blockquote class="code"><p class="quoted">
Instead of examining someone:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is carrying [the list of things carried by the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now we might want to implement a way to keep track of whether the recipient character wants what's being offered:</p>
<!-- START CODE "c3541_22" -->
<a id="c3541_22"></a><blockquote class="code"><p class="quoted">
Check someone trying giving something to someone (this is the sneering refusal rule):
<br />&#160;&#160;&#160;&#160;if the second noun dislikes the noun, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3542_22" -->
<a id="c3542_22"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by someone trying doing something:
<br />&#160;&#160;&#160;&#160;if the reason the action failed is the sneering refusal rule, say &quot;'Would you care for [the noun]?' [the person asked] asks solicitously of [the second noun].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3543_22" -->
<a id="c3543_22"></a><blockquote class="code"><p class="quoted">
But [the second noun] refuses [the noun] disdainfully.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The person asked] just appears bewildered by this improbable instruction.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3544_22" -->
<a id="c3544_22"></a><blockquote class="code"><p class="quoted">
Distaste relates one person to various things. The verb to dislike means the distaste relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3545_22" -->
<a id="c3545_22"></a><blockquote class="code"><p class="quoted">
Clark dislikes the beans. Lewis dislikes the bread.
</p></blockquote>
<!-- END CODE -->
<p>Since we've defined this as a relation, we could change what the characters like and dislike during the course of the game, freely; for instance, characters might grow hungry and suddenly like all the edible articles.</p>
<!-- START CODE "c3546_22" -->
<a id="c3546_22"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x lewis / x clark / clark, give the slippers to lewis / clark, give the bread to lewis&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "208: The Man of Steel Excuses Himself" "e83" -->
<a id="e83"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e83" class="eglink"><b>208</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e83" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Man of Steel Excuses Himself</span></b></a><br />Elaborating the report rules to be more interesting than "Clark goes west."</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e83"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example83">
<p>Report rules can be a good point at which to add local color: while Inform provides default descriptions of character behavior, these are rather generic and can stand to be customized.</p>
<p>For instance, if we wanted to liven up our previous Clark Kent example:</p>
<!-- START CODE "c3547_83" -->
<a id="c3547_83"></a><blockquote class="code"><p class="quoted">
Report Clark Kent going a direction (called the way):
<br />&#160;&#160;&#160;&#160;say &quot;[one of]With a particularly weak excuse[or]Muttering[at random] about [random excuse subject], Clark heads [way].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3548_83" -->
<a id="c3548_83"></a><blockquote class="code"><p class="quoted">
To say random excuse subject:
<br />&#160;&#160;&#160;&#160;choose a random row in the Table of Lame Excuses; say &quot;[reply entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3549_83" -->
<a id="c3549_83"></a><blockquote class="code"><p class="quoted">
Table of Lame Excuses
<br />reply
<br />&quot;needing a paper-clip&quot;
<br />&quot;wanting an English-Tuvalu dictionary&quot;
<br />&quot;walking a neighbor's dog&quot;
<br />&quot;hearing air-raid sirens&quot;
<br />&quot;having drunk too much coffee&quot;
<br />&quot;thinking he smells smoke&quot;
<br />&quot;wondering where Lois got to&quot;
<br />&quot;needing to speak to Jimmy&quot;
<br />&quot;noticing the Good Year blimp&quot;
</p></blockquote>
<!-- END CODE -->
<p>It's good to be careful, as the library report rules have been designed and tested to describe every contingency (going through doors, going in vehicles, etc.): so when replacing a report rule, we should try to consider all the possible variations of the action that we might want to describe.</p>
<p>However, in this case, our scenario is so simple that there are no doors, vehicles, or pushable objects, so we're safe in giving Clark a very simple reporting scheme.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "209: Fate Steps In" "e244" -->
<a id="e244"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e244" class="eglink"><b>209</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e244" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fate Steps In</span></b></a><br />Fate entity which attempts to make things happen, by hook or by crook, including taking preliminary actions to set the player up a bit.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_4.html#e244"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example244">
<p>One of the nice things about before rules for actions is that they allow us to express some planning for characters other than the player: we've already seen how this works, a bit. But we could also use before rules to write plans for an abstract story-driving entity, rather than for other individual characters. This story-driver could be in charge of all the non-player characters, as well as spontaneous or natural changes in the environment, shaping the narrative around the player's behavior.</p>
<p>The following example is a very simple one, but the same concept could be worked out in a great deal more complexity, with all sorts of alternative procedures available to our story-manager:</p>
<!-- START CODE "c3550_244" -->
<a id="c3550_244"></a><blockquote class="code"><p class="quoted">
&quot;Fate Steps In&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3551_244" -->
<a id="c3551_244"></a><blockquote class="code"><p class="quoted">
Fate is a woman. After deciding the scope of the player: place Fate in scope. The description of Fate is &quot;Not smiling.&quot; Instead of doing something other than examining to fate: say &quot;As if.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3552_244" -->
<a id="c3552_244"></a><blockquote class="code"><p class="quoted">
Every turn: try fate tripping.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3553_244" -->
<a id="c3553_244"></a><blockquote class="code"><p class="quoted">
Tripping is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3554_244" -->
<a id="c3554_244"></a><blockquote class="code"><p class="quoted">
Carry out someone tripping:
<br />&#160;&#160;&#160;&#160;if something dangerous (called the trap) is in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Lise chooses this moment to lick her fingers -- it's not gross, it's natural, you decide -- stand up, and head for the door. Unfortunately, her path crosses directly over [the trap]. There is a vaudevillesque moment where you try to warn or catch her; the next moment she's on the floor, looking shocked and also in quite a lot of pain. 'I'm not sure,' she says to you steadily but with unfocused gaze, 'but I think I might have broken my tailbone.'&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story saying &quot;Well, she's paying attention to you now&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3555_244" -->
<a id="c3555_244"></a><blockquote class="code"><p class="quoted">
Before someone tripping when the location does not contain a dangerous thing: try the person asked making a mess instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3556_244" -->
<a id="c3556_244"></a><blockquote class="code"><p class="quoted">
Making a mess is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3557_244" -->
<a id="c3557_244"></a><blockquote class="code"><p class="quoted">
Carry out someone making a mess:
<br />&#160;&#160;&#160;&#160;let calamitous object be a random visible supporter which supports at least three things;
<br />&#160;&#160;&#160;&#160;if calamitous object is a supporter:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The calamitous object] tips over, spilling [the list of things on calamitous object] all over the place.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the calamitous object to the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every thing on the calamitous object is in the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3558_244" -->
<a id="c3558_244"></a><blockquote class="code"><p class="quoted">
Definition: a thing is dangerous if it is not the carton and it is not the table and it is not a person.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3559_244" -->
<a id="c3559_244"></a><blockquote class="code"><p class="quoted">
Before someone making a mess when a safe supporter (called target) is visible:
<br />&#160;&#160;&#160;&#160;if Lise carries something, try Lise putting a random thing carried by Lise on the target instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3560_244" -->
<a id="c3560_244"></a><blockquote class="code"><p class="quoted">
Instead of someone making a mess when the tray is on the table:
<br />&#160;&#160;&#160;&#160;say &quot;Just at that moment, a large blond man-thing in a red jacket walks more or less through you, and you come into violent contact with the table, knocking [the list of the things on the table] onto the floor.&quot;;
<br />&#160;&#160;&#160;&#160;now every thing on the table is in the location;
<br />&#160;&#160;&#160;&#160;now every thing on the tray is in the location instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3561_244" -->
<a id="c3561_244"></a><blockquote class="code"><p class="quoted">
Definition: a supporter is safe if the number of things on it is less than two.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3562_244" -->
<a id="c3562_244"></a><blockquote class="code"><p class="quoted">
McQuerry Dining Hall is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3563_244" -->
<a id="c3563_244"></a><blockquote class="code"><p class="quoted">
The table is scenery in the dining hall. The table is a supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3564_244" -->
<a id="c3564_244"></a><blockquote class="code"><p class="quoted">
Lise Fitzwallace is a woman in the Dining Hall. &quot;Lise is at the nearest table, not apparently paying any attention to you.&quot; The description of Lise is &quot;A capella singer, women's rugby champion, general object of attention from all genders. Unlikely to notice you unless fate smiles broadly.&quot; Lise carries a fork, a napkin, an empty glass, and a plate of half-eaten eggplant parmesan.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3565_244" -->
<a id="c3565_244"></a><blockquote class="code"><p class="quoted">
Report Lise putting something on something:
<br />&#160;&#160;&#160;&#160;say &quot;Lise, still deep in thought, absently puts [the noun] on [the second noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3566_244" -->
<a id="c3566_244"></a><blockquote class="code"><p class="quoted">
The carrying capacity of the player is 2. The carton of chocolate milk is in the Hall. &quot;There's a carton of milk beside you, which you set down for a moment -- but you do want it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3567_244" -->
<a id="c3567_244"></a><blockquote class="code"><p class="quoted">
Instead of taking something when the player carries the tray:
<br />&#160;&#160;&#160;&#160;say &quot;You've got both hands full with this tray.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3568_244" -->
<a id="c3568_244"></a><blockquote class="code"><p class="quoted">
The player carries the tray. On the tray is some macaroni and some overdone chicken. The macaroni and the chicken are edible. The tray is portable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3569_244" -->
<a id="c3569_244"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get milk / put tray on table / get milk&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3570_244" -->
<a id="c3570_244"></a><blockquote class="code"><p class="quoted">
Test again with &quot;drop tray&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "210: Spellbreaker" "e404" -->
<a id="e404"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e404" class="eglink"><b>210</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e404" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Spellbreaker</span></b></a><br />P. David Lebling's classic "Spellbreaker" (1986) includes a room where the game cannot be saved: here is an Inform implementation.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e404"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example404">
<p>The answer is easy, but there is a trap:</p>
<!-- START CODE "c3571_404" -->
<a id="c3571_404"></a><blockquote class="code"><p class="quoted">
Check saving the game when the location is the Vault: say &quot;That spell does not work here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>The trap is that &quot;Before saving the game...&quot;, which might have been our first guess, does not work: because out of world actions are exempt from Before, Instead and After rules.</p>
<p>&quot;Spellbreaker&quot; pulls this unpleasant, but in context witty, stunt as part of a situation which is engineered to force the player to reason through a weighing-objects puzzle using the perfect strategy rather than by guesswork. The illusion that the situation is fair - not rigged against the player, that is - would collapse if the player could save the game and keep retrying possibilities in the light of knowledge gained from earlier attempts. The moral of this story is that any attempt to use in-world situations to influence out-of-world commands should be <span class="italic">extremely uncommon</span>.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "211: A point for never saving the game" "e217" -->
<a id="e217"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e217" class="eglink"><b>211</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e217" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">A point for never saving the game</span></b></a><br />In some of the late 1970s "cave crawl" adventure games, an elaborate scoring system might still leave the player perplexed as to why an apparently perfect play-through resulted in a score which was still one point short of the supposed maximum. Why only 349 out of 350? The answer varied, but sometimes the last point was earned by never saving the game - in other words by playing it right through with nothing to guard against mistakes (except perhaps UNDO for the last command), and in one long session.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e217"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example217">
<p>Here is one way to score this point with Inform:</p>
<!-- START CODE "c3572_217" -->
<a id="c3572_217"></a><blockquote class="code"><p class="quoted">
Check saving the game for the first time: decrement the score.
</p></blockquote>
<!-- END CODE -->
<p>That has the right effect, but it just isn't sneaky enough. Instead let us quietly keep track of how many times the player saves:</p>
<!-- START CODE "c3573_217" -->
<a id="c3573_217"></a><blockquote class="code"><p class="quoted">
Check saving the game: increment the number of saves.
<br />When play ends: if the number of saves is 0, increment the score.
</p></blockquote>
<!-- END CODE -->
<p>Sneakier, certainly, but now we could get the bonus even if the game ends earlier on, so finally:</p>
<!-- START CODE "c3574_217" -->
<a id="c3574_217"></a><blockquote class="code"><p class="quoted">
When play ends: if the number of saves is 0 and the score is 349, increment the score.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "212: Carnivale" "e65" -->
<a id="e65"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e65" class="eglink"><b>212</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e65" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Carnivale</span></b></a><br />An alternative to backdrops when we want something to be visible from a distance but only touchable from one room.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e65"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example65">
<p>Suppose we want to make an object that (unlike a backdrop) is definitely located in one room, but can be seen from far off. We want to allow the player to interact with it from a distance, but only using those actions that require visibility. Other actions should be denied:</p>
<!-- START CODE "c3575_65" -->
<a id="c3575_65"></a><blockquote class="code"><p class="quoted">
&quot;Carnivale&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3576_65" -->
<a id="c3576_65"></a><blockquote class="code"><p class="quoted">
The Fairground is a region. Park Entrance, By the Wheel, and Candy Stand are in Fairground. Candy Stand is north of By the Wheel. Park Entrance is west of Candy Stand and northwest of By the Wheel.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3577_65" -->
<a id="c3577_65"></a><blockquote class="code"><p class="quoted">
The ferris wheel is scenery in By the Wheel. &quot;It is extravagantly tall and carries several dozen glass gondolas for riders.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3578_65" -->
<a id="c3578_65"></a><blockquote class="code"><p class="quoted">
The description of By the Wheel is &quot;You stand at the foot of an enormous ferris wheel, which turns far too quickly and never seems to stop for new riders.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3579_65" -->
<a id="c3579_65"></a><blockquote class="code"><p class="quoted">
The description of Park Entrance is &quot;You are now just inside the gates. Behind you snakes a triple line of fairgoers all the way down the length of the valley to the railway station. Roughly southeast of here is the ferris wheel, towering over the other attractions.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3580_65" -->
<a id="c3580_65"></a><blockquote class="code"><p class="quoted">
The description of Candy Stand is &quot;A hut in pale pink and baby blue dispenses marshmallow death's-heads, sugar-beetles, and other such treats. The giant ferris wheel is just off to the south from here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>As the descriptions make clear, the ferris wheel should be visible from everywhere in the fair, so we'll borrow a line from the Activities chapter to make that happen:</p>
<!-- START CODE "c3581_65" -->
<a id="c3581_65"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;if the location is in Fairground, place the ferris wheel in scope.
</p></blockquote>
<!-- END CODE -->
<p>&quot;Scope&quot; determines what the player can interact with; by writing this rule, we make Inform understand all commands that refer to the ferris wheel when the player is anywhere in the fairground, instead of responding with</p>
<!-- START CODE "c3582_65" -->
<a id="c3582_65"></a><blockquote class="code"><p class="quoted">
You can't see any such thing.
</p></blockquote>
<!-- END CODE -->
<p>as it normally would.</p>
<p>Now, by default, if the player were to type TOUCH FERRIS WHEEL while in another room, he would get the response</p>
<!-- START CODE "c3583_65" -->
<a id="c3583_65"></a><blockquote class="code"><p class="quoted">
You can't reach into By the Wheel.
</p></blockquote>
<!-- END CODE -->
<p>This may not be quite what we want, but we can replace this text with our own reaching inside rule:</p>
<!-- START CODE "c3584_65" -->
<a id="c3584_65"></a><blockquote class="code"><p class="quoted">
Rule for reaching inside a room:
<br />&#160;&#160;&#160;&#160;say &quot;You can only look from this distance.&quot;;
<br />&#160;&#160;&#160;&#160;deny access.
</p></blockquote>
<!-- END CODE -->
<p>And because our accessibility rules are considered before the &quot;Instead&quot; phase, we can write the following rule confident that it will apply only when the player is in fact in range to touch the ferris wheel:</p>
<!-- START CODE "c3585_65" -->
<a id="c3585_65"></a><blockquote class="code"><p class="quoted">
Instead of touching the ferris wheel:
<br />&#160;&#160;&#160;&#160;say &quot;You don't dare: it's spinning too fast.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3586_65" -->
<a id="c3586_65"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x ferris wheel / touch ferris wheel / se / x ferris wheel / touch ferris wheel&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "213: Eddystone" "e226" -->
<a id="e226"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e226" class="eglink"><b>213</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e226" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Eddystone</span></b></a><br />Creating new commands involving the standard compass directions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e226"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example226">
<p>Using the compass directions in commands is a little bit finicky because directions are forbidden to figure in any interactions involving touch. (Really, directions are more a concept than an object; this is a compromise situation.) In any case, if we want to write a new command involving these, we need to be sure to specify that the direction is a visible thing. For instance:</p>
<!-- START CODE "c3587_226" -->
<a id="c3587_226"></a><blockquote class="code"><p class="quoted">
&quot;Eddystone&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3588_226" -->
<a id="c3588_226"></a><blockquote class="code"><p class="quoted">
The Lighthouse is a room. &quot;A lonely place, but in these tense times, no one but the lighthouse keeper and a few trusted agents are allowed on the grounds at all, for fear of sabotage.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3589_226" -->
<a id="c3589_226"></a><blockquote class="code"><p class="quoted">
The light is a fixed in place thing in the Lighthouse.  &quot;At the center of the room is the light itself, a 1000-Watt tungsten halogen light powered by diesel generator, and having a visible range of twenty-six nautical miles.&quot; Understand &quot;lamp&quot; as the light. It is lit. The light has a a direction called heading. The heading of the light is north.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3590_226" -->
<a id="c3590_226"></a><blockquote class="code"><p class="quoted">
A room is usually dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3591_226" -->
<a id="c3591_226"></a><blockquote class="code"><p class="quoted">
Understand &quot;turn [something] [a direction]&quot; as reorienting it to. Reorienting it to is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<p>will give us</p>
<!-- START CODE "c3592_226" -->
<a id="c3592_226"></a><blockquote class="code"><p class="quoted">
&gt;turn light northeast
<br />You must name something more substantial.
</p></blockquote>
<!-- END CODE -->
<p>To avoid this mystifying result:</p>
<!-- START CODE "c3593_226" -->
<a id="c3593_226"></a><blockquote class="code"><p class="quoted">
&quot;Eddystone&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3594_226" -->
<a id="c3594_226"></a><blockquote class="code"><p class="quoted">
The Lighthouse is a room. &quot;A lonely place, but in these tense times, no one but the lighthouse keeper and a few trusted agents are allowed on the grounds at all, for fear of sabotage.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3595_226" -->
<a id="c3595_226"></a><blockquote class="code"><p class="quoted">
The light is a fixed in place thing in the Lighthouse.  &quot;At the center of the room is the light itself, a 1000-Watt tungsten halogen light powered by diesel generator, and having a visible range of twenty-six nautical miles.&quot; Understand &quot;lamp&quot; as the light. It is lit. The light has a direction called heading. The heading of the light is north.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3596_226" -->
<a id="c3596_226"></a><blockquote class="code"><p class="quoted">
A room is usually dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3597_226" -->
<a id="c3597_226"></a><blockquote class="code"><p class="quoted">
Understand &quot;turn [something] [a direction]&quot; as reorienting it to. Reorienting it to is an action applying to one thing and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3598_226" -->
<a id="c3598_226"></a><blockquote class="code"><p class="quoted">
Instead of turning the light, say &quot;Try turning the light to the direction of your choice.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3599_226" -->
<a id="c3599_226"></a><blockquote class="code"><p class="quoted">
Check reorienting it to: if the noun is not the light, say &quot;You couldn't do so meaningfully.&quot; instead; if the second noun is up or the second noun is down, say &quot;The light only points in compass directions.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>And now that's done, we have a little fun calculating where the beam hits:</p>
<!-- START CODE "c3600_226" -->
<a id="c3600_226"></a><blockquote class="code"><p class="quoted">
Carry out reorienting it to:
<br />&#160;&#160;&#160;&#160;now the heading of the light is the second noun;
<br />&#160;&#160;&#160;&#160;let way be the heading of the light;
<br />&#160;&#160;&#160;&#160;let place be the room way from the Lighthouse;
<br />&#160;&#160;&#160;&#160;while place is a room and place is lower than Lighthouse:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let place be the room way from the place;
<br />&#160;&#160;&#160;&#160;if place is not a room, now the beam is nowhere;
<br />&#160;&#160;&#160;&#160;otherwise move beam to the place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3601_226" -->
<a id="c3601_226"></a><blockquote class="code"><p class="quoted">
Report reorienting it to: say &quot;The light now points [heading of the light][if the beam is in a room], spotlighting [the holder of the beam][otherwise], into empty space[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3602_226" -->
<a id="c3602_226"></a><blockquote class="code"><p class="quoted">
The beam is a lit thing. Understand &quot;light&quot; or &quot;brilliant&quot; as the beam. &quot;Brilliant light from the lighthouse floods the whole area.&quot; It is fixed in place. Instead of doing something other than examining to the beam: say &quot;The light is, of course, intangible.&quot; The description is &quot;The light is coming from the lighthouse, since the lamp is apparently pointed this way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3603_226" -->
<a id="c3603_226"></a><blockquote class="code"><p class="quoted">
Altitude is a kind of value. 200 ft specifies an altitude. A room has an altitude. The altitude of a room is usually 50 ft. The altitude of the Lighthouse is 100 ft.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3604_226" -->
<a id="c3604_226"></a><blockquote class="code"><p class="quoted">
Definition: a room is low if its altitude is 20 ft or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3605_226" -->
<a id="c3605_226"></a><blockquote class="code"><p class="quoted">
The Jetty is south of the Lighthouse. &quot;During daylight hours, a fine place to catch almost unlimited supplies of crayfish. Less entertaining by night.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3606_226" -->
<a id="c3606_226"></a><blockquote class="code"><p class="quoted">
North of the Lighthouse is the Uphill Road. The altitude of Uphill Road is 75 ft. North of Uphill Road is Hilltop. The altitude of Hilltop is 110 ft. The description of Hilltop is &quot;The highest natural point around for miles; sometimes you will sit up here and watch for the lighthouse supply ship, the Lady Loch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3607_226" -->
<a id="c3607_226"></a><blockquote class="code"><p class="quoted">
Northeast of the Lighthouse is Open Field. East of the Lighthouse is Stanley Creek Valley. The description of Stanley Creek is &quot;This place used to have some other name meaning Ghost Valley in the aboriginal language, but it was piously renamed by missionaries.&quot; Train Trestle is east of the Stanley Creek Valley. &quot;The now-abandoned track of the Bush Pacific Railway runs here, above Stanley Creek.&quot; The altitude of Train Trestle is 100 ft.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3608_226" -->
<a id="c3608_226"></a><blockquote class="code"><p class="quoted">
Before going from a room (called source) to a room (called destination):
<br />&#160;&#160;&#160;&#160;if source is lower than destination:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It's an uphill climb...&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if destination is lower than source, say &quot;You're heading downhill now...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;It's a straight shot.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3609_226" -->
<a id="c3609_226"></a><blockquote class="code"><p class="quoted">
Test me with &quot;turn lamp / turn lamp down / turn lamp east / e / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>All very loosely based on the Eddystone Point lighthouse of Tasmania, built in 1889, and forbiddingly remote even today. George Isaacs, a child growing up in the lighthouse, remembers the plentiful crayfish.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "214: Slogar's Revenge" "e349" -->
<a id="e349"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e349" class="eglink"><b>214</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e349" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Slogar's Revenge</span></b></a><br />Creating an amulet of tumblers that can be used to lock and unlock things even when it is worn, overriding the usual requirement that keys be carried.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e349"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example349">
<p>Under most circumstances, locking and unlocking require the player to be carrying the key he uses to unlock something. This makes sense -- unless the key is on a keychain, or on a chain around his neck, for instance. So here we explore one way to circumstantially override the carrying requirements, while still making sure that the player cannot unlock the door if the unlocking tool is nowhere in sight.</p>
<p>In essence, we are rewriting the carrying requirements rule with a different one of our own devising, and swapping it in only at those moments when it is correct to do so.</p>
<!-- START CODE "c3610_349" -->
<a id="c3610_349"></a><blockquote class="code"><p class="quoted">
&quot;Slogar's Revenge&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3611_349" -->
<a id="c3611_349"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3612_349" -->
<a id="c3612_349"></a><blockquote class="code"><p class="quoted">
The amulet carrying rule substitutes for the carrying requirements rule when locking something with the Amulet of Tumblers.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3613_349" -->
<a id="c3613_349"></a><blockquote class="code"><p class="quoted">
The amulet carrying rule substitutes for the carrying requirements rule when unlocking something with the Amulet of Tumblers.
</p></blockquote>
<!-- END CODE -->
<p>We can now replace the usual behavior of the carrying requirements rule (to check whether the player is carrying something and, if not, to generate an implicit take) with a similar rule of our own; note that &quot;if the player has the second noun&quot; is a more compact way to write &quot;if the player carries the second noun or the player wears the second noun&quot;:</p>
<!-- START CODE "c3614_349" -->
<a id="c3614_349"></a><blockquote class="code"><p class="quoted">
This is the amulet carrying rule:
<br />&#160;&#160;&#160;&#160;if the player has the second noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;(first picking up the amulet)[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;try silently taking the second noun;
<br />&#160;&#160;&#160;&#160;if the player is not carrying the second noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stop the action;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3615_349" -->
<a id="c3615_349"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3616_349" -->
<a id="c3616_349"></a><blockquote class="code"><p class="quoted">
The Daunting Dungeon is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3617_349" -->
<a id="c3617_349"></a><blockquote class="code"><p class="quoted">
West of the Daunting Dungeon is the Disturbing Door. The Disturbing Door is a door. West of the Disturbing Door is the Fallow Field.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3618_349" -->
<a id="c3618_349"></a><blockquote class="code"><p class="quoted">
The Disturbing Door is closed and locked.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3619_349" -->
<a id="c3619_349"></a><blockquote class="code"><p class="quoted">
The player wears the Amulet of Tumblers. The Amulet of Tumblers unlocks the Disturbing Door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3620_349" -->
<a id="c3620_349"></a><blockquote class="code"><p class="quoted">
Test me with &quot;unlock disturbing door with amulet / open door / west / remove amulet / close door / lock disturbing door with amulet / drop amulet / unlock disturbing door with amulet&quot;.
</p></blockquote>
<!-- END CODE -->
<p>For a more systematic handling of the keychain problem (and a number of other refinements to the behavior of doors), see the Locksmith extension included with Inform.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "215: Magneto's Revenge" "e209" -->
<a id="e209"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e209" class="eglink"><b>215</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e209" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Magneto's Revenge</span></b></a><br />Kitty Pryde of the X-Men is able to reach through solid objects, so we might implement her with special powers that the player does not have...</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e209"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example209">
<!-- START CODE "c3621_209" -->
<a id="c3621_209"></a><blockquote class="code"><p class="quoted">
&quot;Magneto's Revenge&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3622_209" -->
<a id="c3622_209"></a><blockquote class="code"><p class="quoted">
The School for Gifted Youngsters is a room. Kitty Pryde is a woman in the School for Gifted Youngsters. &quot;Kitty Pryde waits for you to say why you summoned her out of class.&quot; The description is &quot;You see nothing special about Kitty Pryde. But that is only because she has learned to conceal her mutant powers: in fact she has the alternative name Shadowcat, and the ability to phase through solid objects.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3623_209" -->
<a id="c3623_209"></a><blockquote class="code"><p class="quoted">
The glass box is a container in the School for Gifted Youngsters. It is closed, openable, and transparent. In the box is a quantity of poisonous gas. In the box is a thing called the message from Magneto.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3624_209" -->
<a id="c3624_209"></a><blockquote class="code"><p class="quoted">
Instead of examining the message when the player is not carrying the message:
<br />&#160;&#160;&#160;&#160;say &quot;You'd need to be holding it before you could read it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3625_209" -->
<a id="c3625_209"></a><blockquote class="code"><p class="quoted">
Instead of opening the glass box: say &quot;You're deterred by the swirling bottle-green mist within.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3626_209" -->
<a id="c3626_209"></a><blockquote class="code"><p class="quoted">
Check someone taking the gas (this is the gaseous object rule): rule fails.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3627_209" -->
<a id="c3627_209"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by someone taking the gas: say &quot;The gas isn't something one can pick up in one's bare hands.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3628_209" -->
<a id="c3628_209"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the player can touch the gas:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The gas has reached your lungs!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3629_209" -->
<a id="c3629_209"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside something:
<br />&#160;&#160;&#160;&#160;if the person reaching is Kitty, allow access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3630_209" -->
<a id="c3630_209"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking someone to try doing something: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3631_209" -->
<a id="c3631_209"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get message / kitty, get message / open box / kitty, open box&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now the player can get Kitty to take the message without releasing the poisonous gas:</p>
<!-- START CODE "c3632_209" -->
<a id="c3632_209"></a><blockquote class="code"><p class="quoted">
Kitty Pride waits for you to tell her why you summoned her out of class.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3633_209" -->
<a id="c3633_209"></a><blockquote class="code"><p class="quoted">
You can also see a glass box (closed) (in which are some poisonous gas and a message from Magneto) here.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3634_209" -->
<a id="c3634_209"></a><blockquote class="code"><p class="quoted">
&gt;kitty, get message
<br />Kitty Pryde picks up a message from Magneto.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "216: Waterworld" "e414" -->
<a id="e414"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e414" class="eglink"><b>216</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e414" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Waterworld</span></b></a><br />A backdrop which the player can examine, but cannot interact with in any other way.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e414"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example414">
<p>It's tempting to handle the player's inability to interact with something with a simple instead rule:</p>
<!-- START CODE "c3635_414" -->
<a id="c3635_414"></a><blockquote class="code"><p class="quoted">
&quot;Waterworld 1&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3636_414" -->
<a id="c3636_414"></a><blockquote class="code"><p class="quoted">
A view is a kind of backdrop. Instead of doing something other than examining to a view, say &quot;You are too far from [the noun] to do anything but look.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3637_414" -->
<a id="c3637_414"></a><blockquote class="code"><p class="quoted">
The sun is a view. It is everywhere. The description is &quot;A blazing sun makes you wish you had never been born.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3638_414" -->
<a id="c3638_414"></a><blockquote class="code"><p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3639_414" -->
<a id="c3639_414"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x sun / get sun / n / x sun / n / x sun&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Unfortunately, the rule does not address the case where the object in question is the second noun; so for instance the following example reveals the difficulty:</p>
<!-- START CODE "c3640_414" -->
<a id="c3640_414"></a><blockquote class="code"><p class="quoted">
&quot;Waterworld 2&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3641_414" -->
<a id="c3641_414"></a><blockquote class="code"><p class="quoted">
A view is a kind of backdrop. Instead of doing something other than examining to a view, say &quot;You are too far from [the noun] to do anything but look.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3642_414" -->
<a id="c3642_414"></a><blockquote class="code"><p class="quoted">
The player carries a rope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3643_414" -->
<a id="c3643_414"></a><blockquote class="code"><p class="quoted">
The sun is a view. It is everywhere. The description is &quot;A blazing sun makes you wish you had never been born.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3644_414" -->
<a id="c3644_414"></a><blockquote class="code"><p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3645_414" -->
<a id="c3645_414"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x sun / get sun / n / x sun / n / x sun / tie rope to the sun&quot;.
</p></blockquote>
<!-- END CODE -->
<p>...where the response here behaves as though the sun is in reach. If we had a fully implemented tying action, the player would (even more disastrously) be allowed to lasso celestial objects.</p>
<p>We could add a second instead rule as well:</p>
<!-- START CODE "c3646_414" -->
<a id="c3646_414"></a><blockquote class="code"><p class="quoted">
&quot;Waterworld 3&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3647_414" -->
<a id="c3647_414"></a><blockquote class="code"><p class="quoted">
A view is a kind of backdrop.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3648_414" -->
<a id="c3648_414"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than examining when the noun is a view:
<br />&#160;&#160;&#160;&#160;say &quot;You are too far from [the noun] to do anything but look.&quot;
<br />Instead of doing something other than examining when the second noun is a view:
<br />&#160;&#160;&#160;&#160;say &quot;You are too far from [the second noun] to do anything but look.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3649_414" -->
<a id="c3649_414"></a><blockquote class="code"><p class="quoted">
The player carries a rope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3650_414" -->
<a id="c3650_414"></a><blockquote class="code"><p class="quoted">
The sun is a view. It is everywhere. The description is &quot;A blazing sun makes you wish you had never been born.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3651_414" -->
<a id="c3651_414"></a><blockquote class="code"><p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3652_414" -->
<a id="c3652_414"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x sun / get sun / n / x sun / n / x sun / tie rope to sun&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This produces acceptable output again, but there is a more elegant way, one that works better with Inform's existing world model. Currently the default model assumes that accessibility -- whether the player can reach something or not -- is checked between the Before... rules and the Instead... rules. We can add our own accessibility rules, including this one to govern whether views are accessible. So for instance:</p>
<!-- START CODE "c3653_414" -->
<a id="c3653_414"></a><blockquote class="code"><p class="quoted">
&quot;Waterworld 4&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3654_414" -->
<a id="c3654_414"></a><blockquote class="code"><p class="quoted">
A view is a kind of backdrop.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3655_414" -->
<a id="c3655_414"></a><blockquote class="code"><p class="quoted">
The can't touch views rule is listed before the access through barriers rule in the accessibility rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3656_414" -->
<a id="c3656_414"></a><blockquote class="code"><p class="quoted">
Accessibility rule (this is the can't touch views rule):
<br />&#160;&#160;&#160;&#160;if the action requires a touchable noun and the noun is a view:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are too far from [the noun] to do anything but look.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the action requires a touchable second noun and the second noun is a view:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are too far from [the second noun] to do anything but look.&quot; instead;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3657_414" -->
<a id="c3657_414"></a><blockquote class="code"><p class="quoted">
The player carries a rope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3658_414" -->
<a id="c3658_414"></a><blockquote class="code"><p class="quoted">
The sun is a view. It is everywhere. The description is &quot;A blazing sun makes you wish you had never been born.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3659_414" -->
<a id="c3659_414"></a><blockquote class="code"><p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3660_414" -->
<a id="c3660_414"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x sun / get sun / n / x sun / n / x sun / tie rope to sun&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now our new accessibility rule fits into its proper stage.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "217: Dinner is Served" "e439" -->
<a id="e439"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e439" class="eglink"><b>217</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e439" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Dinner is Served</span></b></a><br />A window between two locations. When the window is open, the player can reach through into the other location; when it isn't, access is barred.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e439"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example439">
<!-- START CODE "c3661_439" -->
<a id="c3661_439"></a><blockquote class="code"><p class="quoted">
&quot;Dinner is Served&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3662_439" -->
<a id="c3662_439"></a><blockquote class="code"><p class="quoted">
Street in Kolonaki is a room. &quot;There is a single round table out on the street here, and a window more or less at knee level looks down into the Olive Tree Gyro Shop, which is partly basement.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3663_439" -->
<a id="c3663_439"></a><blockquote class="code"><p class="quoted">
The Street contains a round table. The table is scenery. On the round table is a plate. On the plate are a gyro and a mound of fresh potates. The plate is portable. The potates and the gyro are edible. The description of potates is &quot;They'd be called french fries, at home, but these are steak-cut and fried in olive oil.&quot; The description of the gyro is &quot;Dripping garlic-yogurt sauce.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3664_439" -->
<a id="c3664_439"></a><blockquote class="code"><p class="quoted">
Olive Tree Gyro Shop is inside from Street in Kolonaki. Kostis is a man in the Gyro Shop. In the Shop is a stand. On the stand is a rotating column of cooking lamb flesh. In the shop is a closed, openable container called a drinks refrigerator. The refrigerator contains a can of Mythos beer and a can of Coke Light.
</p></blockquote>
<!-- END CODE -->
<p>Here's the part that allows reaching through the window.</p>
<p>We replace the usual rule that says the player can never reach into a room with one that more specifically checks whether we are trying to reach through the window. If we aren't, we return the usual refusal. If we are, we return a custom refusal if the window is closed (&quot;You can't reach through the closed window&quot;), but allow access if the window is open.</p>
<!-- START CODE "c3665_439" -->
<a id="c3665_439"></a><blockquote class="code"><p class="quoted">
The can't reach through closed window rule is listed instead of the can't reach inside rooms rule in the reaching inside rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3666_439" -->
<a id="c3666_439"></a><blockquote class="code"><p class="quoted">
This is the can't reach through closed window rule:
<br />&#160;&#160;&#160;&#160;let reaching through the window be false;
<br />&#160;&#160;&#160;&#160;if the container in question is a room and the container in question is not the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the container in question is the Street and the location is the Olive Tree Gyro Shop:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now reaching through the window is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the container in question is the Gyro Shop and the location is the Street:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now reaching through the window is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if reaching through the window is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the window is closed:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach through the closed window.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;allow access;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach into [the container in question] from here.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access.
</p></blockquote>
<!-- END CODE -->
<p>And the rest is window-dressing.</p>
<!-- START CODE "c3667_439" -->
<a id="c3667_439"></a><blockquote class="code"><p class="quoted">
After looking when a room (called the next room) is adjacent:
<br />&#160;&#160;&#160;&#160;try examining the next room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3668_439" -->
<a id="c3668_439"></a><blockquote class="code"><p class="quoted">
Instead of examining a supporter, say &quot;On [the noun] [is-are a list of things on the noun].&quot; Instead of examining an open container, say &quot;In [the noun] [is-are a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3669_439" -->
<a id="c3669_439"></a><blockquote class="code"><p class="quoted">
The window is a backdrop. It is in the Street and the Shop. The window can be openable. The window can be open. The window is openable and closed. Instead of searching the window in the Street: try examining the shop. Instead of searching the window in the Shop: try examining the street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3670_439" -->
<a id="c3670_439"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [any adjacent room]&quot; as examining.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3671_439" -->
<a id="c3671_439"></a><blockquote class="code"><p class="quoted">
Instead of examining a room:
<br />&#160;&#160;&#160;&#160;say &quot;Over in [the noun], you can see [a list of visible things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3672_439" -->
<a id="c3672_439"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;if the player is in the Street, place the Shop in scope;
<br />&#160;&#160;&#160;&#160;if the player is in the Shop, place the Street in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3673_439" -->
<a id="c3673_439"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine shop / open refrigerator / open window / examine shop / open refrigerator / get beer / in / examine street / out / get gyro / close window / put gyro in refrigerator / open window / put gyro in refrigerator&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "218: Flashlight" "e238" -->
<a id="e238"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e238" class="eglink"><b>218</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e238" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Flashlight</span></b></a><br />Visibility set so that looking under objects produces no result unless the player has a light source to shine there (regardless of the light level of the room).</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e238"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example238">
<!-- START CODE "c3674_238" -->
<a id="c3674_238"></a><blockquote class="code"><p class="quoted">
&quot;Flashlight&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3675_238" -->
<a id="c3675_238"></a><blockquote class="code"><p class="quoted">
The Schoolhouse is a room. &quot;Though normally comfortable, the room is dark and menacing during the storm; rain sheets on the windows, and you can barely see the flash of the lighthouse only a few miles away.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3676_238" -->
<a id="c3676_238"></a><blockquote class="code"><p class="quoted">
The cabinet is a fixed in place openable container in the Schoolhouse. The hurricane lantern is a thing in the Schoolhouse. &quot;A hurricane lantern hangs from a peg.&quot; The lantern is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3677_238" -->
<a id="c3677_238"></a><blockquote class="code"><p class="quoted">
Visibility rule when looking under something:
<br />&#160;&#160;&#160;&#160;if the player is carrying a lit thing (called lamp):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You shine [the lamp] under [the noun]...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;there is sufficient light;
<br />&#160;&#160;&#160;&#160;there is insufficient light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3678_238" -->
<a id="c3678_238"></a><blockquote class="code"><p class="quoted">
There is a marble. The marble can be found or lost. The marble is lost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3679_238" -->
<a id="c3679_238"></a><blockquote class="code"><p class="quoted">
Instead of looking under the cabinet when the marble is lost:
<br />&#160;&#160;&#160;&#160;move the marble to the player;
<br />&#160;&#160;&#160;&#160;now the marble is found;
<br />&#160;&#160;&#160;&#160;say &quot;Billy's lost marble! So that's where it got to!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3680_238" -->
<a id="c3680_238"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look under cabinet / get lantern / look under cabinet&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Because visibility is checked before instead rules, this discovery will (correctly) occur only when the player does have enough light.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "219: Bosch" "e43" -->
<a id="e43"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e43" class="eglink"><b>219</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e43" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bosch</span></b></a><br />Creating a list of actions that will earn the player points, and using this both to change the score and to give FULL SCORE reports.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e43"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example43">
<p>We could, if we wanted, make a table of stored actions all of which represent things that will earn points for the player. For instance:</p>
<!-- START CODE "c3681_43" -->
<a id="c3681_43"></a><blockquote class="code"><p class="quoted">
&quot;Bosch&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3682_43" -->
<a id="c3682_43"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3683_43" -->
<a id="c3683_43"></a><blockquote class="code"><p class="quoted">
The Garden of Excess is a room. The gilded lily is an edible thing in the Garden of Excess.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3684_43" -->
<a id="c3684_43"></a><blockquote class="code"><p class="quoted">
The Pathway to Desire is west of the Garden of Excess. The emerald leaf is in the Pathway.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3685_43" -->
<a id="c3685_43"></a><blockquote class="code"><p class="quoted">
Table of Valuable Actions
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">relevant action</p></td><td class="quotedtablecell"><p class="quoted">point value</p></td><td class="quotedtablecell"><p class="quoted">turn stamp</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">taking the emerald leaf</p></td><td class="quotedtablecell"><p class="quoted">15</p></td><td class="quotedtablecell"><p class="quoted">-1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">eating the gilded lily</p></td><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">-1</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>(And our list would presumably continue from there, in the full game.)</p>
<!-- START CODE "c3686_43" -->
<a id="c3686_43"></a><blockquote class="code"><p class="quoted">
The maximum score is 25.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3687_43" -->
<a id="c3687_43"></a><blockquote class="code"><p class="quoted">
After doing something:
<br />&#160;&#160;&#160;&#160;repeat through Table of Valuable Actions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current action is the relevant action entry and turn stamp entry is less than 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the turn stamp entry is the turn count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the score by the point value entry;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3688_43" -->
<a id="c3688_43"></a><blockquote class="code"><p class="quoted">
Understand &quot;full score&quot; or &quot;full&quot; as requesting the complete score. Requesting the complete score is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3689_43" -->
<a id="c3689_43"></a><blockquote class="code"><p class="quoted">
Check requesting the complete score:
<br />&#160;&#160;&#160;&#160;if the score is 0, say &quot;You have not yet achieved anything of note.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3690_43" -->
<a id="c3690_43"></a><blockquote class="code"><p class="quoted">
Carry out requesting the complete score:
<br />&#160;&#160;&#160;&#160;say &quot;So far you have received points for the following: [line break]&quot;;
<br />&#160;&#160;&#160;&#160;sort the Table of Valuable Actions in turn stamp order;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Valuable Actions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the turn stamp entry is greater than 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[line break]  [relevant action entry]: [point value entry] points&quot;;
<br />&#160;&#160;&#160;&#160;say line break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3691_43" -->
<a id="c3691_43"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat lily / w / full score / get leaf / full&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This system is tidy, but limited: we cannot give actions interesting names in the score list, like &quot;seducing the pirate's daughter&quot; or &quot;collecting a valuable artifact&quot;. So it will not be ideal in all situations, but it has the virtue of being easy to extend, and of listing all of the player's successes in the order in which they occurred in his play-through.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "220: Cactus Will Outlive Us All" "e59" -->
<a id="e59"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e59" class="eglink"><b>220</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e59" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Cactus Will Outlive Us All</span></b></a><br />For every character besides the player, there is an action that will cause that character to wither right up and die.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e59"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example59">
<!-- START CODE "c3692_59" -->
<a id="c3692_59"></a><blockquote class="code"><p class="quoted">
 &quot;Cactus Will Outlive Us All&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3693_59" -->
<a id="c3693_59"></a><blockquote class="code"><p class="quoted">
Death Valley is a room. Luckless Luke and Dead-Eye Pete are men in the Valley. A cactus is in the Valley. Persuasion rule: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3694_59" -->
<a id="c3694_59"></a><blockquote class="code"><p class="quoted">
A person has an action called death knell. The death knell of Luckless Luke is pulling the cactus. The death knell of Dead-Eye Pete is Luke trying dropping the cactus.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3695_59" -->
<a id="c3695_59"></a><blockquote class="code"><p class="quoted">
Before an actor doing something:
<br />&#160;&#160;&#160;&#160;repeat with the victim running through people in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the DK be the death knell of the victim;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the DK is not waiting and the current action is the DK:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It looks as if [the DK] was the death knell for [the victim], who looks startled, then nonexistent.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the victim is nowhere.
</p></blockquote>
<!-- END CODE -->
<p>If we leave it at that, then pulling the cactus will kill Luckless Luke but then say &quot;Nothing obvious happens.&quot;, which seems like a bit of an anti-climax. So we add a special case response for that one:</p>
<!-- START CODE "c3696_59" -->
<a id="c3696_59"></a><blockquote class="code"><p class="quoted">
After pulling the cactus when Luckless Luke was in the location:
<br />&#160;&#160;&#160;&#160;say &quot;That's a real shame.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3697_59" -->
<a id="c3697_59"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get cactus / drop cactus / luke, get cactus / luke, drop cactus / pull cactus / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "221: Actor's Studio" "e1" -->
<a id="e1"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e1" class="eglink"><b>221</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e1" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Actor's Studio</span></b></a><br />A video camera that records actions performed in its presence, and plays them back with time-stamps.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e1"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example1">
<p>Here we construct a video camera to track and play back actions:</p>
<!-- START CODE "c3698_1" -->
<a id="c3698_1"></a><blockquote class="code"><p class="quoted">
&quot;The Actor's Studio&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3699_1" -->
<a id="c3699_1"></a><blockquote class="code"><p class="quoted">
Section 1 - The Video Camera
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3700_1" -->
<a id="c3700_1"></a><blockquote class="code"><p class="quoted">
The video camera is a thing carried by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3701_1" -->
<a id="c3701_1"></a><blockquote class="code"><p class="quoted">
Table of Videotape
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">recorded action</p></td><td class="quotedtablecell"><p class="quoted">time stamp</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">waiting</p></td><td class="quotedtablecell"><p class="quoted">9:00 AM</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">with 25 blank rows.</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3702_1" -->
<a id="c3702_1"></a><blockquote class="code"><p class="quoted">
Mode is a kind of value. The modes are idle, recording, and playing back. The video camera has a mode. The video camera is idle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3703_1" -->
<a id="c3703_1"></a><blockquote class="code"><p class="quoted">
Understand &quot;play back&quot; as playing back. Instead of switching on the camera, try tuning the camera to recording. Instead of switching off the camera, try tuning the camera to idle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3704_1" -->
<a id="c3704_1"></a><blockquote class="code"><p class="quoted">
The description of the video camera is &quot;It is currently [mode]; its available settings are idle, recording, and playing back.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3705_1" -->
<a id="c3705_1"></a><blockquote class="code"><p class="quoted">
Understand &quot;set [camera] to [a mode]&quot; as tuning it to. Tuning it to is an action applying to one thing and one mode.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3706_1" -->
<a id="c3706_1"></a><blockquote class="code"><p class="quoted">
Instead of setting the camera to something:
<br />&#160;&#160;&#160;&#160;say &quot;The available settings are idle, recording, and playing back.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3707_1" -->
<a id="c3707_1"></a><blockquote class="code"><p class="quoted">
Check tuning it to:
<br />&#160;&#160;&#160;&#160;if the noun is not the camera, say &quot;Only the video camera can be set to [the mode understood].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3708_1" -->
<a id="c3708_1"></a><blockquote class="code"><p class="quoted">
Carry out tuning it to:
<br />&#160;&#160;&#160;&#160;now the mode of the noun is the mode understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3709_1" -->
<a id="c3709_1"></a><blockquote class="code"><p class="quoted">
Report tuning it to:
<br />&#160;&#160;&#160;&#160;say &quot;You set [the noun] to [mode understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3710_1" -->
<a id="c3710_1"></a><blockquote class="code"><p class="quoted">
After an actor doing something when the video camera is recording:
<br />&#160;&#160;&#160;&#160;if the current action is tuning the video camera to recording, make no decision;
<br />&#160;&#160;&#160;&#160;if the number of blank rows in the Table of Videotape is greater than zero:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose a blank row in the Table of Videotape;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the recorded action entry is the current action;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the time stamp entry is the time of day;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the video camera is idle;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The video camera runs out of recording memory and switches off.&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3711_1" -->
<a id="c3711_1"></a><blockquote class="code"><p class="quoted">
Every turn when the video camera is playing back:
<br />&#160;&#160;&#160;&#160;say &quot;On the camera screen, you see [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;let starting playback be false;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Videotape:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the recorded action entry is not waiting:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now starting playback is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[line break] -- [if the actor part of the recorded action entry is the player]you [end if][the recorded action entry], time stamped at [time stamp entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row;
<br />&#160;&#160;&#160;&#160;if starting playback is false, say &quot;only static.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3712_1" -->
<a id="c3712_1"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3713_1" -->
<a id="c3713_1"></a><blockquote class="code"><p class="quoted">
The Actor's Studio is a room. Lucas is a man in the Actor's Studio. Persuasion rule: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3714_1" -->
<a id="c3714_1"></a><blockquote class="code"><p class="quoted">
The Studio contains an edible thing called a croissant.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3715_1" -->
<a id="c3715_1"></a><blockquote class="code"><p class="quoted">
Test me with &quot;set camera to recording / x lucas / lucas, take inventory / lucas, eat croissant / set camera to playing back / z&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that both Lucas' implied taking action (picking up the croissant) and his eating action are recorded on the same move.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "222: Anteaters" "e11" -->
<a id="e11"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_12.html#e11" class="eglink"><b>222</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12.html#e11" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Anteaters</span></b></a><br />The player carries a gizmo that is able to record actions performed by the player, then force him to repeat them when the gizmo is dropped. This includes storing actions that apply to topics, as in "look up anteater colonies in the guide".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e11"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example11">
<!-- START CODE "c3716_11" -->
<a id="c3716_11"></a><blockquote class="code"><p class="quoted">
 &quot;Anteaters&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3717_11" -->
<a id="c3717_11"></a><blockquote class="code"><p class="quoted">
A book is a kind of thing. Understand &quot;book&quot; as a book. A book has a table name called the contents.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3718_11" -->
<a id="c3718_11"></a><blockquote class="code"><p class="quoted">
Report consulting a book about:
<br />&#160;&#160;&#160;&#160;say &quot;You flip through [the noun], but find no reference to [the topic understood].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3719_11" -->
<a id="c3719_11"></a><blockquote class="code"><p class="quoted">
Instead of consulting a book about a topic listed in the contents of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;[reply entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3720_11" -->
<a id="c3720_11"></a><blockquote class="code"><p class="quoted">
The Guide to Desert Fauna is a book. The contents of the Guide is the Table of Critters.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3721_11" -->
<a id="c3721_11"></a><blockquote class="code"><p class="quoted">
Table of Critters
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;spines&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;You flip through the Guide for a while and eventually realise that spines are flora, not fauna.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;anteater colonies&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;The giant anteater, which grows to six feet in size and can kill a jaguar, is a solitary animal, found in many habitats, including grasslands, deciduous forests and rainforests. It does not form colonies. That's ants. They're actually quite easy to tell apart.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3722_11" -->
<a id="c3722_11"></a><blockquote class="code"><p class="quoted">
Death Valley is a room. The Guide is in the Valley.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3723_11" -->
<a id="c3723_11"></a><blockquote class="code"><p class="quoted">
The gizmo is in Death Valley. The gizmo has an action called idea. The description of the gizmo is &quot;The gizmo is hard to describe, but it projects an idea of [idea].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3724_11" -->
<a id="c3724_11"></a><blockquote class="code"><p class="quoted">
Before when the player carries the gizmo and the idea of the gizmo is waiting:
<br />&#160;&#160;&#160;&#160;say &quot;[The gizmo] eagerly soaks up the whole idea of [the current action].&quot;;
<br />&#160;&#160;&#160;&#160;now the idea of the gizmo is the current action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3725_11" -->
<a id="c3725_11"></a><blockquote class="code"><p class="quoted">
After dropping the gizmo:
<br />&#160;&#160;&#160;&#160;say &quot;The percussion of the fall seems to have shaken the gizmo's idea loose! There's nothing for it now but [idea of the gizmo].&quot;;
<br />&#160;&#160;&#160;&#160;try the idea of the gizmo;
<br />&#160;&#160;&#160;&#160;now the idea of the gizmo is waiting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3726_11" -->
<a id="c3726_11"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get guide / look up spines in guide / x gizmo / get gizmo / i / x gizmo / drop gizmo / get gizmo / look up anteater colonies in guide / x gizmo / drop gizmo&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
