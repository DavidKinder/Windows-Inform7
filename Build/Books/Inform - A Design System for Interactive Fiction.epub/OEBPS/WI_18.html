<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>Chapter 18: Activities</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 18: Activities</p>
<p class="chaptercontents"><a href="WI_18.html#s1" class="standardlink"><span class="chaptercontentsitem">§18.1. What are activities?</span></a>; <a href="WI_18.html#s2" class="standardlink"><span class="chaptercontentsitem">§18.2. How activities work</span></a>; <a href="WI_18.html#s3" class="standardlink"><span class="chaptercontentsitem">§18.3. Rules applied to activities</span></a>; <a href="WI_18.html#s4" class="standardlink"><span class="chaptercontentsitem">§18.4. While clauses</span></a>; <a href="WI_18.html#s5" class="standardlink"><span class="chaptercontentsitem">§18.5. New activities</span></a>; <a href="WI_18.html#s6" class="standardlink"><span class="chaptercontentsitem">§18.6. Activity variables</span></a>; <a href="WI_18.html#s7" class="standardlink"><span class="chaptercontentsitem">§18.7. Beginning and ending activities manually</span></a>; <a href="WI_18.html#s8" class="standardlink"><span class="chaptercontentsitem">§18.8. Introduction to the list of built-in activities</span></a>; <a href="WI_18.html#s9" class="standardlink"><span class="chaptercontentsitem">§18.9. Deciding the concealed possessions of something</span></a>; <a href="WI_18.html#s10" class="standardlink"><span class="chaptercontentsitem">§18.10. Printing the name of something</span></a>; <a href="WI_18.html#s11" class="standardlink"><span class="chaptercontentsitem">§18.11. Printing the plural name of something</span></a>; <a href="WI_18.html#s12" class="standardlink"><span class="chaptercontentsitem">§18.12. Printing a number of something</span></a>; <a href="WI_18.html#s13" class="standardlink"><span class="chaptercontentsitem">§18.13. Listing contents of something</span></a>; <a href="WI_18.html#s14" class="standardlink"><span class="chaptercontentsitem">§18.14. Grouping together something</span></a>; <a href="WI_18.html#s15" class="standardlink"><span class="chaptercontentsitem">§18.15. Issuing the response text of something</span></a>; <a href="WI_18.html#s16" class="standardlink"><span class="chaptercontentsitem">§18.16. Printing room description details of something</span></a>; <a href="WI_18.html#s17" class="standardlink"><span class="chaptercontentsitem">§18.17. Printing inventory details of something</span></a>; <a href="WI_18.html#s18" class="standardlink"><span class="chaptercontentsitem">§18.18. Printing a refusal to act in the dark</span></a>; <a href="WI_18.html#s19" class="standardlink"><span class="chaptercontentsitem">§18.19. Printing the announcement of darkness</span></a>; <a href="WI_18.html#s20" class="standardlink"><span class="chaptercontentsitem">§18.20. Printing the announcement of light</span></a>; <a href="WI_18.html#s21" class="standardlink"><span class="chaptercontentsitem">§18.21. Printing the name of a dark room</span></a>; <a href="WI_18.html#s22" class="standardlink"><span class="chaptercontentsitem">§18.22. Printing the description of a dark room</span></a>; <a href="WI_18.html#s23" class="standardlink"><span class="chaptercontentsitem">§18.23. Constructing the status line</span></a>; <a href="WI_18.html#s24" class="standardlink"><span class="chaptercontentsitem">§18.24. Writing a paragraph about</span></a>; <a href="WI_18.html#s25" class="standardlink"><span class="chaptercontentsitem">§18.25. Listing nondescript items of something</span></a>; <a href="WI_18.html#s26" class="standardlink"><span class="chaptercontentsitem">§18.26. Printing the locale description of something</span></a>; <a href="WI_18.html#s27" class="standardlink"><span class="chaptercontentsitem">§18.27. Choosing notable locale objects for something</span></a>; <a href="WI_18.html#s28" class="standardlink"><span class="chaptercontentsitem">§18.28. Printing a locale paragraph about</span></a>; <a href="WI_18.html#s29" class="standardlink"><span class="chaptercontentsitem">§18.29. Deciding the scope of something</span></a>; <a href="WI_18.html#s30" class="standardlink"><span class="chaptercontentsitem">§18.30. Clarifying the parser's choice of something</span></a>; <a href="WI_18.html#s31" class="standardlink"><span class="chaptercontentsitem">§18.31. Asking which do you mean</span></a>; <a href="WI_18.html#s32" class="standardlink"><span class="chaptercontentsitem">§18.32. Supplying a missing noun/second noun</span></a>; <a href="WI_18.html#s33" class="standardlink"><span class="chaptercontentsitem">§18.33. Reading a command</span></a>; <a href="WI_18.html#s34" class="standardlink"><span class="chaptercontentsitem">§18.34. Implicitly taking something</span></a>; <a href="WI_18.html#s35" class="standardlink"><span class="chaptercontentsitem">§18.35. Printing a parser error</span></a>; <a href="WI_18.html#s36" class="standardlink"><span class="chaptercontentsitem">§18.36. Deciding whether all includes</span></a>; <a href="WI_18.html#s37" class="standardlink"><span class="chaptercontentsitem">§18.37. Printing the banner text</span></a>; <a href="WI_18.html#s38" class="standardlink"><span class="chaptercontentsitem">§18.38. Printing the player's obituary</span></a>; <a href="WI_18.html#s39" class="standardlink"><span class="chaptercontentsitem">§18.39. Amusing a victorious player</span></a>; <a href="WI_18.html#s40" class="standardlink"><span class="chaptercontentsitem">§18.40. Starting the virtual machine</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="WI_1.html" class="standardlink">Contents of <i>Writing with Inform</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html" class="standardlink">Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_19.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_19.html" class="standardlink">Chapter 19: Rulebooks</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§18.1. What are activities?</p>
<p>It is poor form to define with negatives, but the first thing to say about activities is that they are <span class="italic">not</span> actions. This needs saying because Inform often seems to treat them as if they are, by allowing us to write rules like so:</p>
<!-- START CODE "c6267" -->
<a id="c6267"></a><blockquote class="code"><p class="quoted">
Before printing the name of a woman, say &quot;Ms &quot;.
</p></blockquote>
<!-- END CODE -->
<p>With this rule in place, someone called &quot;Daphne&quot; will always be described as &quot;Ms Daphne&quot;, and so on. The language looks as if we were imposing a rule on an action called &quot;printing the name of&quot;, but there is no such action: instead, it is an &quot;activity&quot;. To spell out the difference:</p>
<!-- START CODE "c6268" -->
<a id="c6268"></a><blockquote class="code"><p class="quoted">
An action is a simulated task for the fictional protagonist.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6269" -->
<a id="c6269"></a><blockquote class="code"><p class="quoted">
An activity is a real task for the computer program doing the simulation.
</p></blockquote>
<!-- END CODE -->
<p>Activities allow us to influence or change some of the standard habits of Inform, using rules as flexible and powerful as those applicable to actions, though activities are in several ways simpler and easier.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s22" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s22" class="standardlink">Back to Chapter 17: Understanding: §17.22. Precedence</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s2" class="standardlink">Onward to §18.2. How activities work</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e12" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e12" class="standardlink">Example 334: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ant-Sensitive Sunglasses</b>&#160;&#160;&#160; What are activities good for? Controlling output when we want the same action to be able to produce very flexible text depending on the state of the world -- in this case, making highly variable room description and object description text.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§18.2. How activities work</p>
<p>All activities start, continue for a while and then finish: however, no activity ever runs on for more than a single turn. Several activities can be going on at the same time. For instance, suppose the following is printed as part of the description of a grocery:</p>
<!-- START CODE "c6270" -->
<a id="c6270"></a><blockquote class="code"><p class="quoted">
You can see a banana, an apple and a star-fruit here.
</p></blockquote>
<!-- END CODE -->
<p>At the moment when Inform prints &quot;apple&quot;, two activities are under way: &quot;listing contents of the Grocery&quot;, and &quot;printing the name of the apple&quot;. The sequence of events was in fact:</p>
<!-- START CODE "c6271" -->
<a id="c6271"></a><blockquote class="code"><p class="quoted">
say &quot;You can see &quot;
<br /><span class="italic">start listing contents of the Grocery</span>
<br />&#160;&#160;&#160;&#160;say &quot;a &quot;
<br />&#160;&#160;&#160;&#160;<span class="italic">start printing the name of the banana</span>
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;banana&quot;
<br />&#160;&#160;&#160;&#160;<span class="italic">finish printing the name of the banana</span>
<br />&#160;&#160;&#160;&#160;say &quot;, an &quot;
<br />&#160;&#160;&#160;&#160;<span class="italic">start printing the name of the apple</span>
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;apple&quot;
<br />&#160;&#160;&#160;&#160;<span class="italic">finish printing the name of the apple</span>
<br />&#160;&#160;&#160;&#160;say &quot; and a &quot;
<br />&#160;&#160;&#160;&#160;<span class="italic">start printing the name of the star-fruit</span>
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;star-fruit&quot;
<br />&#160;&#160;&#160;&#160;<span class="italic">finish printing the name of the star-fruit</span>
<br /><span class="italic">finish listing contents of the Grocery</span>
<br />say &quot; here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The golden rule is: if activity B starts during activity A, it must also finish during activity A.</p>
<p>If we ever need to find out, we can always test:</p>
<!-- START CODE "c6272" -->
<a id="c6272"></a><blockquote class="code"><p class="quoted">
if the printing the name activity is going on, ...
<br />if the printing the name activity is not going on, ...
</p></blockquote>
<!-- END CODE -->
<p>but as we shall see, it's usually simpler to attach &quot;while printing the name&quot; provisos to rules.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s1" class="standardlink">Back to §18.1. What are activities?</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s3" class="standardlink">Onward to §18.3. Rules applied to activities</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§18.3. Rules applied to activities</p>
<p>The activity &quot;printing the name of something&quot; is the process of printing up the name of something on screen: ordinarily, this means saying the text in its &quot;printed name&quot; property.</p>
<p>As with actions, rules can be attached to activities which change or augment what would normally happen. In fact the situation is simpler, because (unlike an action) an activity almost always finishes, so we almost always do reach its &quot;after&quot; stage. There are also only three rulebooks attached to an activity, as compared with the six affecting an action.</p>
<p>The three rulebooks for printing the name are called &quot;before printing the name&quot;, &quot;for printing the name&quot; and &quot;after printing the name&quot;, and this is the general pattern. What happens is:</p>
<!-- START CODE "c6273" -->
<a id="c6273"></a><blockquote class="code"><p class="quoted">
1. All &quot;before printing the name of&quot; rules are considered;
<br />2. The most specific, applicable &quot;rule for printing the name of&quot; is considered;
<br />3. All &quot;after printing the name of&quot; rules are considered.
</p></blockquote>
<!-- END CODE -->
<p>Whereas an action's later stages never take place if an early stage ends unexpectedly, an activity always goes through all three of its stages. Invoking the word &quot;instead&quot; in a before rule for an action will terminate not only the before rules but the whole action: the same thing for an activity will only terminate the before rules, and the for and after rules will take place as usual.</p>
<p>The actual task is usually carried out by one single rule tucked into the back of the &quot;for...&quot; rulebook: it is the rule for printing the name of whatever is concerned, hence the name. Inform's standard activities are all of this pattern: they start out with no &quot;before&quot; or &quot;after&quot; rules, and just one &quot;for&quot; rule.</p>
<p>Why the part about an activity only &quot;almost always&quot; finishing? One reason is that the story might end during it; but another is that it's possible, though uncommon, to abandon an activity partway. Very few of the activities supplied with Inform ever do this, and those that do are noted in the sections which follow.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s2" class="standardlink">Back to §18.2. How activities work</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s4" class="standardlink">Onward to §18.4. While clauses</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§18.4. While clauses</p>
<p>Rules applied to actions can become baroque (&quot;after going through a door in the presence of an animal when -&quot; and so on and so forth), but activities are again simpler: they only have one possible clause attached, which is called &quot;while&quot;. For instance, the following would provide a fairly sledgehammer hint that the sack should not lightly be thrown away:</p>
<!-- START CODE "c6274" -->
<a id="c6274"></a><blockquote class="code"><p class="quoted">
The sack is a player's holdall. The sack is carried. Rule for printing the name of the sack while the sack is not carried: say &quot;your abandoned sack&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Any condition can be given after the &quot;while&quot;, and we can also specify that another activity has to be going on. Thus:</p>
<!-- START CODE "c6275" -->
<a id="c6275"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the lemon sherbet while listing contents: say &quot;curious sort of lemon sherbet sweet&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This nicely distinguishes between contexts where it's appropriate to be more verbose, and where it isn't. Thus:</p>
<!-- START CODE "c6276" -->
<a id="c6276"></a><blockquote class="code"><p class="quoted">
You can see a teaspoon and a curious sort of lemon sherbet sweet here.
<br />&gt; TAKE ALL
<br />teaspoon: Taken.
<br />lemon sherbet: Taken.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s3" class="standardlink">Back to §18.3. Rules applied to activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s5" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s5" class="standardlink">Onward to §18.5. New activities</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§18.5. New activities</p>
<p>Activities are all about influencing the standard mechanisms which Inform uses, so it might at first seem that there is no need to create new activities: but on further reflection, quite a lot of the writing of interactive fiction involves creating new and systematic ways to do things, and as soon as we have a general rule, we will want to have exceptions. Inform therefore allows us to create our own activities, giving us ways to influence the operation of our own mechanisms.</p>
<p>There are two kinds of activity: those which relate to a specific value (usually an object but not necessarily), and those which do not. Here are some examples of activities being created:</p>
<!-- START CODE "c6277" -->
<a id="c6277"></a><blockquote class="code"><p class="quoted">
Assaying is an activity.
<br />Analysing something is an activity.
<br />Announcing something is an activity on numbers.
</p></blockquote>
<!-- END CODE -->
<p>Inform looks for the clue &quot;something&quot; (or &quot;of something&quot;) after the activity's name to see if it will work on a value: so analysing and announcing will do, but assaying won't. If we don't specify a kind, Inform assumes the value will be an object, as if we had written:</p>
<!-- START CODE "c6278" -->
<a id="c6278"></a><blockquote class="code"><p class="quoted">
Analysing something is an activity on objects.
</p></blockquote>
<!-- END CODE -->
<p>As always in Inform, the names of activities are themselves values.</p>
<!-- START CODE "c6279" -->
<a id="c6279"></a><blockquote class="code"><p class="quoted">
&quot;assaying activity&quot; has kind activity on nothing
<br />&quot;analysing activity&quot; has kind activity on objects
<br />&quot;announcing activity&quot; has kind activity on numbers
</p></blockquote>
<!-- END CODE -->
<p>Creating an activity is like creating an action: it automatically makes new rulebooks - &quot;before analysing&quot;, &quot;for analysing&quot; and &quot;after analysing&quot; - but they start out empty, so the activity does nothing yet. Just as it does for rulebooks, Inform defines the adjectives &quot;empty&quot; and &quot;non-empty&quot; for activities to test this state:</p>
<!-- START CODE "c6280" -->
<a id="c6280"></a><blockquote class="code"><p class="quoted">
if the analysing activity is empty, ...
</p></blockquote>
<!-- END CODE -->
<p>will be true only when all three of its rulebooks are empty.</p>
<p>A newly created activity never happens unless we take steps to make it do so. We can make an activity happen at any time by writing phrases like so:</p>
<!-- START PHRASE "defn247" -->
<div class="definition"><a id="defn247"></a><p class="defnprototype"><b>carry out the </b>(activity)<b> activity</b></p>
<!-- END PHRASE -->
<!-- definition of ph_carryout -->

<p>This phrase carries out the given activity, which must be one not applying to any value. Example:</p>
<!-- START CODE "c6281" -->
<a id="c6281"></a><blockquote class="code"><p class="quoted">
carry out the assaying activity;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn248" -->
<div class="definition"><a id="defn248"></a><p class="defnprototype"><b>carry out the </b>(activity on values)<b> activity with </b>(value)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_carryoutwith -->

<p>This phrase carries out the given activity, which must apply to a kind of value matching the one supplied. Example:</p>
<!-- START CODE "c6282" -->
<a id="c6282"></a><blockquote class="code"><p class="quoted">
carry out the analysing activity with the pitchblende;
<br />carry out the announcing activity with the score;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>To make the activity do something useful, we need to put a rule into its &quot;for&quot; rulebook:</p>
<!-- START CODE "c6283" -->
<a id="c6283"></a><blockquote class="code"><p class="quoted">
Rule for announcing a number (called N): say &quot;Ladies and gentlemen, [N].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6284" -->
<a id="c6284"></a><blockquote class="code"><p class="quoted">
The last for assaying rule:
<br />&#160;&#160;&#160;&#160;say &quot;Professionally, you cast an eye around mineral deposits nearby, noticing [list of rocks in the location].&quot;
</p></blockquote>
<!-- END CODE -->
<p>&quot;The last&quot; is a technicality about rulebooks (see the next chapter) which, put briefly, guarantees that this rule comes last among all possible &quot;for assaying&quot; rules. This is good form because the whole point of an activity is to make it easy for further rules to interfere - so we deliberately hang back to last place, giving precedence to anybody else who wants it.</p>
<p>The &quot;for&quot; rulebook is one where rules stop the activity, by default, when they take effect - in the same way that the &quot;instead&quot; rules stop actions by default. If this causes problems, we can use:</p>
<!-- START PHRASE "defn249" -->
<div class="definition"><a id="defn249"></a><p class="defnprototype"><b>continue the activity</b></p>
<!-- END PHRASE -->
<!-- definition of ph_continueactivity -->

<p>This phrase should be used only in rules in activity rulebooks. It causes the current rule to end, but without result, so that the activity continues rather than stopping as a result of the rule. This is useful for rulebooks (like the &quot;for&quot; rulebook of an activity) where the default is that a rule does stop the activity.</p>

<!-- end definition -->
</div>

<p>Activities are more useful than they first appear. Every new one provides a context which other activities can observe. We could, for instance, define</p>
<!-- START CODE "c6285" -->
<a id="c6285"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a rock while assaying: ...
</p></blockquote>
<!-- END CODE -->
<p>so that during assays more technical names are used.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s4" class="standardlink">Back to §18.4. While clauses</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s6" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s6" class="standardlink">Onward to §18.6. Activity variables</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e121" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e121" class="standardlink">Example 335: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>AARP-Gnosis</b>&#160;&#160;&#160; An Encyclopedia set which treats volumes in the same place as a single object, but can also be split up.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e2" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e2" class="standardlink">Example 336: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Aftershock</b>&#160;&#160;&#160; Modifying the rules for examining a device so that all devices have some specific behavior when switched on, which is described at various times.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e99" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e99" class="standardlink">Example 337: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Crusoe</b>&#160;&#160;&#160; Adding a "printing the description of something" activity.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s6"></a>§18.6. Activity variables</p>
<p>Just as actions can have variables, which are created when the action starts and disappear when it finishes, so activities can also have variables. They are visible to the rules for that activity, and nowhere else. (If the activity should happen a second time within its first run, that second occurrence gets its own copy of the variable, leaving the original untouched.)</p>
<p>Typically it will be useful to set a variable to some default value at the &quot;before&quot; stage, calculate some interesting value for it in the &quot;for&quot; stage, and make use of the outcome during the &quot;after&quot; stage. For instance:</p>
<!-- START CODE "c6286" -->
<a id="c6286"></a><blockquote class="code"><p class="quoted">
Analysing something is an activity. The analysing activity has a text called first impression. Instead of examining something (called the sample), carry out the analysing activity with the sample.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6287" -->
<a id="c6287"></a><blockquote class="code"><p class="quoted">
Before analysing: now the first impression is &quot;unremarkable&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6288" -->
<a id="c6288"></a><blockquote class="code"><p class="quoted">
Rule for analysing someone: now the first impression is &quot;living tissue&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6289" -->
<a id="c6289"></a><blockquote class="code"><p class="quoted">
After analysing something (called the sample):
<br />&#160;&#160;&#160;&#160;say &quot;Your professional opinion of [the sample] is that it is
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[first impression].&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s5" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s5" class="standardlink">Back to §18.5. New activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s7" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s7" class="standardlink">Onward to §18.7. Beginning and ending activities manually</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s7"></a>§18.7. Beginning and ending activities manually</p>
<p>If we have declared a new activity, like &quot;analysing&quot;, the normal way to make it happen would be to write</p>
<!-- START CODE "c6290" -->
<a id="c6290"></a><blockquote class="code"><p class="quoted">
carry out the analysing activity with the pitchblende;
</p></blockquote>
<!-- END CODE -->
<p>which goes through the whole machinery of rules - before, for, after - and then resumes, the activity having started, taken place and come to an end.</p>
<p>But there are times when it is not convenient to write a suitable &quot;for ...&quot; rule, or where we need more control, and do not wish to hand the whole business over to a single phrase. For such times we are allowed to write:</p>
<!-- START PHRASE "defn250" -->
<div class="definition"><a id="defn250"></a><p class="defnprototype"><b>begin the </b>(activity)<b> activity</b></p>
<!-- END PHRASE -->
<!-- definition of ph_beginactivity -->

<p>This phrase causes the named activity to become active, and runs its &quot;before&quot; rulebook. The activity must be one which applies to nothing. Example:</p>
<!-- START CODE "c6291" -->
<a id="c6291"></a><blockquote class="code"><p class="quoted">
begin the assaying activity;
</p></blockquote>
<!-- END CODE -->
<p>In all cases a matching &quot;end the ... activity&quot; or else &quot;abandon the ... activity&quot; phrase must be reached.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn251" -->
<div class="definition"><a id="defn251"></a><p class="defnprototype"><b>begin the </b>(activity on values)<b> activity with </b>(value)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_beginactivitywith -->

<p>This phrase causes the named activity to become active, and runs its &quot;before&quot; rulebook. The activity must be one which applies to a value of a matching kind. Example:</p>
<!-- START CODE "c6292" -->
<a id="c6292"></a><blockquote class="code"><p class="quoted">
begin the analysing activity with the pitchblende;
</p></blockquote>
<!-- END CODE -->
<p>In all cases a matching &quot;end the ... activity with ...&quot; or else &quot;abandon the ... activity with...&quot; phrase must be reached.</p>

<!-- end definition -->
</div>

<p>And when we are done:</p>
<!-- START PHRASE "defn252" -->
<div class="definition"><a id="defn252"></a><p class="defnprototype"><b>end the </b>(activity)<b> activity</b></p>
<!-- END PHRASE -->
<!-- definition of ph_endactivity -->

<p>This phrase runs the &quot;after&quot; rulebook of the activity and then causes it to become inactive. The activity must be one which applies to nothing. Example:</p>
<!-- START CODE "c6293" -->
<a id="c6293"></a><blockquote class="code"><p class="quoted">
end the assaying activity;
</p></blockquote>
<!-- END CODE -->
<p>This must only happen to match an earlier &quot;begin the ... activity&quot; phrase.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn253" -->
<div class="definition"><a id="defn253"></a><p class="defnprototype"><b>end the </b>(activity on values)<b> activity with </b>(value)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_endactivitywith -->

<p>This phrase runs the &quot;after&quot; rulebook of the activity and then causes it to become inactive. The activity must be one which applies to a value of a matching kind. Example:</p>
<!-- START CODE "c6294" -->
<a id="c6294"></a><blockquote class="code"><p class="quoted">
end the analysing activity with the pitchblende;
</p></blockquote>
<!-- END CODE -->
<p>This must only happen to match an earlier &quot;begin the ... activity with...&quot; phrase.</p>

<!-- end definition -->
</div>

<p>So the usual structure is like so:</p>
<!-- START CODE "c6295" -->
<a id="c6295"></a><blockquote class="code"><p class="quoted">
begin the analysing activity with the pitchblende;
<br />...
<br />end the analysing activity with the pitchblende;
</p></blockquote>
<!-- END CODE -->
<p>This time the activity is ongoing throughout as many phrases as we care to write between the &quot;begin&quot; and &quot;end&quot;. The before rules are considered at the time of the &quot;begin ...&quot; phrase; the after rules at the &quot;end ...&quot;.</p>
<p>What, then, of the &quot;for&quot; rules? In the above setup, they would simply be ignored. But we can make them effectual thus</p>
<!-- START CODE "c6296" -->
<a id="c6296"></a><blockquote class="code"><p class="quoted">
begin the analysing activity with the pitchblende;
<br />...
<br />if handling the analysing activity with the pitchblende:
<br />&#160;&#160;&#160;&#160;...
<br />...
<br />end the analysing activity with the pitchblende;
</p></blockquote>
<!-- END CODE -->
<p>We place the activity's normal behaviour inside the &quot;if&quot;; the condition, &quot;if handling...&quot;, is true only if no rule has intervened. This means that we (or other authors using our activity) can create their own for rules to substitute here. If we elsewhere write</p>
<!-- START CODE "c6297" -->
<a id="c6297"></a><blockquote class="code"><p class="quoted">
Rule for handling the analysing activity with the pitchblende when the player is not sober:
<br />&#160;&#160;&#160;&#160;say &quot;You can't seem to focus.&quot;
</p></blockquote>
<!-- END CODE -->
<p>that rule will intervene and take the place of whatever we have placed inside the condition.</p>
<!-- START PHRASE "defn254" -->
<div class="definition"><a id="defn254"></a><p class="defnprototype"><b>if handling </b>(activity)<b> activity:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_handlingactivity -->

<p>This should be used only where the given activity has been started with &quot;begin ...&quot; and will be finished with &quot;end ...&quot;. It runs the &quot;for&quot; rules for the activity, and then comes out true if none of those for rules intervened in the handling of that activity. (The activity must be one which doesn't apply to any value.)</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn255" -->
<div class="definition"><a id="defn255"></a><p class="defnprototype"><b>if handling </b>(activity on values)<b> activity with </b>(value)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_handlingactivitywith -->

<p>This should be used only where the given activity has been started with &quot;begin ...&quot; and will be finished with &quot;end ...&quot;. It runs the &quot;for&quot; rules for the activity, and then comes out true if none of those for rules intervened in the handling of that activity. (The given value must be the one it is being applied to.)</p>

<!-- end definition -->
</div>

<p>It is also legal to force an early end to an activity with:</p>
<!-- START PHRASE "defn256" -->
<div class="definition"><a id="defn256"></a><p class="defnprototype"><b>abandon the </b>(activity)<b> activity</b></p>
<!-- END PHRASE -->
<!-- definition of ph_abandonactivity -->

<p>This phrase ends an activity at once (without consulting any further rulebooks, including its &quot;after&quot; rulebook). It can only be used with an activity which has had its &quot;begin&quot; but not yet its &quot;end&quot; phrase; it is a drastic remedy best taken only if it is clear that circumstances have changed so that the activity now seems inappropriate. It must not be used during one of the rules for the activity: it can only be used between the begin and for stages, or between the for and end stages.</p>
<!-- START CODE "c6298" -->
<a id="c6298"></a><blockquote class="code"><p class="quoted">
abandon the assaying activity;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn257" -->
<div class="definition"><a id="defn257"></a><p class="defnprototype"><b>abandon the </b>(activity on values)<b> activity with </b>(value)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_abandonactivitywith -->

<p>This phrase ends an activity at once (without consulting any further rulebooks, including its &quot;after&quot; rulebook). It can only be used with an activity which has had its &quot;begin&quot; but not yet its &quot;end&quot; phrase; it is a drastic remedy best taken only if it is clear that circumstances have changed so that the activity now seems inappropriate. It must not be used during one of the rules for the activity: it can only be used between the begin and for stages, or between the for and end stages.</p>
<!-- START CODE "c6299" -->
<a id="c6299"></a><blockquote class="code"><p class="quoted">
abandon the analysing activity with the pitchblende;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>We need to follow three golden rules: all activities must end, they must never last longer than a turn, and if activity B starts during activity A then it must also finish during activity A. We must also be careful to make sure that if an activity applies to something, then it begins and ends with the same something (the pitchblende, in the above example).</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s6" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s6" class="standardlink">Back to §18.6. Activity variables</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s8" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s8" class="standardlink">Onward to §18.8. Introduction to the list of built-in activities</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s8"></a>§18.8. Introduction to the list of built-in activities</p>
<p>Activities tend to be about process, rather than outcome. Many of the things Inform does - printing up lists of items, reading commands from the keyboard, and so on - are done as activities, because that way the process can be nudged a little. Too many works of interactive fiction betray their mechanical nature by making it visible that the general machinery being used does not quite seem natural for this or that situation. Activities enable us to add the many graceful touches which avoid that: which contribute nothing to a work, and also everything.</p>
<p>The rest of this chapter covers every activity built in to Inform, with one section for each. It is intended primarily for reference, but may be worth skimming through at a first reading, to give a sense of the possibilities.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s7" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s7" class="standardlink">Back to §18.7. Beginning and ending activities manually</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s9" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s9" class="standardlink">Onward to §18.9. Deciding the concealed possessions of something</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s9"></a>§18.9. Deciding the concealed possessions of something</p>
<p><span class="boldface">1. When it happens.</span> Frequently - whenever Inform needs to check whether something is visible or not. Nothing should be printed, and the activity needs to run quickly, so it should not (for instance) calculate best routes through complicated maps before getting an answer.</p>
<p><span class="boldface">2. The default behaviour.</span> There is no concealment. The ordinary rules still apply, though: the contents of a closed opaque container are invisible because there is a barrier in the way which cannot be seen through, even though nobody is &quot;concealing&quot; anything.</p>
<p><span class="boldface">3. Examples.</span> To repeat a number of brief examples given at the end of Chapter 3, where this activity made an early appearance:</p>
<!-- START CODE "c6300" -->
<a id="c6300"></a><blockquote class="code"><p class="quoted">
Rule for deciding the concealed possessions of the Cloaked Villain: if the particular possession is the sable cloak, no; otherwise yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6301" -->
<a id="c6301"></a><blockquote class="code"><p class="quoted">
The coin is in the Roman Villa. The face and inscription are parts of the coin. Rule for deciding the concealed possessions of the coin: if the coin is carried, no; otherwise yes.
</p></blockquote>
<!-- END CODE -->
<p>The value &quot;particular possession&quot; is the one whose concealment is in question, of course. We can ignore this if someone is invariably secretive:</p>
<!-- START CODE "c6302" -->
<a id="c6302"></a><blockquote class="code"><p class="quoted">
Rule for deciding the concealed possessions of the furtive ghost: yes.
</p></blockquote>
<!-- END CODE -->
<p>In general a rule for deciding the concealed possessions of something will decide &quot;yes&quot; if finishes without making a decision, but it's better style to write such a rule in such a way that it always makes a decision.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s8" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s8" class="standardlink">Back to §18.8. Introduction to the list of built-in activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s10" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s10" class="standardlink">Onward to §18.10. Printing the name of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e185" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e185" class="standardlink">Example 338: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hays Code</b>&#160;&#160;&#160; Clark Gable in a pin-striped suit and a pink thong.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s10"></a>§18.10. Printing the name of something</p>
<p><span class="boldface">1. When it happens.</span> Whenever the name of a thing or room is printed.</p>
<p><span class="boldface">2. The default behaviour.</span> For items other than the current player, the &quot;printed name&quot; property is printed out; but for the current player, &quot;you&quot; or &quot;yourself&quot; is printed. (That doesn't necessarily mean that the &quot;printed name&quot; of the player is never used. Suppose there are two people, Alice and Bob, and the narrative switches between them: when Alice is the player, she appears as &quot;yourself&quot; but Bob is &quot;Bob&quot;; but when Bob is the player, he is &quot;yourself&quot; and Alice is &quot;Alice&quot;.)</p>
<p><span class="boldface">3. Examples.</span> (a) A pen which is described differently in inventories:</p>
<!-- START CODE "c6303" -->
<a id="c6303"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the pen while taking inventory: say &quot;useful pen&quot;.
</p></blockquote>
<!-- END CODE -->
<p>&quot;Taking inventory&quot; is a condition which is true if that's the current action and not otherwise, so the effect is that the pen is called &quot;a useful pen&quot; only in inventory listings. &quot;While looking&quot; is a similarly useful one.</p>
<p>(b) Italicising the names of novels:</p>
<!-- START CODE "c6304" -->
<a id="c6304"></a><blockquote class="code"><p class="quoted">
A novel is a kind of thing. Dr Zhivago and Persuasion are novels. Before printing the name of a novel, say &quot;[italic type]&quot;. After printing the name of a novel, say &quot;[roman type]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(c) Telling the time:</p>
<!-- START CODE "c6305" -->
<a id="c6305"></a><blockquote class="code"><p class="quoted">
After printing the name of the wrist watch while taking inventory: say &quot; (time: [the time of day])&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(d) Merging containers with their contents:</p>
<!-- START CODE "c6306" -->
<a id="c6306"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the bottle while not inserting or removing:
<br />&#160;&#160;&#160;&#160;if the bottle contains sand, say &quot;bottle of sand&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;empty bottle&quot;;
<br />&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<p>This example makes use of a special phrase:</p>
<!-- START PHRASE "defn258" -->
<div class="definition"><a id="defn258"></a><p class="defnprototype"><b>omit contents in listing</b></p>
<!-- END PHRASE -->
<!-- definition of ph_omit -->

<p>This phrase changes the form of an inventory listing, room description, etc., so that it will simply list &quot;a bottle of sand&quot; or &quot;an empty bottle&quot;, rather than &quot;a bottle (in which is sand)&quot; or &quot;a bottle (which is empty)&quot;. It should be used only when the listing is imminent, and does not have permanent effect.</p>

<!-- end definition -->
</div>

<p>The clause about not inserting or removing is to prevent messages like &quot;You put the sand in the bottle of sand.&quot;, where it's confusing to refer to the bottle as anything other than &quot;the bottle&quot;.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s9" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s9" class="standardlink">Back to §18.9. Deciding the concealed possessions of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s11" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s11" class="standardlink">Onward to §18.11. Printing the plural name of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e351" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e351" class="standardlink">Example 339: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Shipping Trunk</b>&#160;&#160;&#160; A box of baking soda whose name changes to "completely ineffective baking soda" when it is in a container with something that smells funny.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e364" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e364" class="standardlink">Example 340: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Trachypachidae Maturin 1803</b>&#160;&#160;&#160; Bottles with removable stoppers: when the stopper is in the bottle, the bottle is functionally closed, but the stopper can also be removed and used elsewhere. Descriptions of the bottle reflect its state intelligently.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e78" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e78" class="standardlink">Example 341: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Chronic Hinting Syndrome</b>&#160;&#160;&#160; Using name-printing rules to keep track of whether the player knows about objects, and also to highlight things he might want to follow up.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s11"></a>§18.11. Printing the plural name of something</p>
<p><span class="boldface">1. When it happens.</span> Only when a group of identical items is present in the same place, and are being described jointly with text like &quot;You can see five gold rings here.&quot; The activity happens after &quot;five&quot; and before &quot;here.&quot; (See the activity &quot;printing a number of something&quot; if the whole phrase needs to be altered.)</p>
<p><span class="boldface">2. The default behaviour.</span> The plural name - in this case &quot;gold rings&quot; - is printed out.</p>
<p><span class="boldface">3. Examples.</span>  (a) Suppose we want to emphasise how nice it is to have more than one gold ring:</p>
<!-- START CODE "c6307" -->
<a id="c6307"></a><blockquote class="code"><p class="quoted">
Rule for printing the plural name of a gold ring: say &quot;gleaming gold rings&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(b) If the number needs changing as well, it's necessary to use the &quot;printing a number of something&quot; activity instead.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s10" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s10" class="standardlink">Back to §18.10. Printing the name of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s12" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s12" class="standardlink">Onward to §18.12. Printing a number of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e194" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e194" class="standardlink">Example 342: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hudsucker Industries</b>&#160;&#160;&#160; Letters which are described differently as a group, depending on whether the player has read none, some, or all of them, and on whether they are alike or unlike.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s12"></a>§18.12. Printing a number of something</p>
<p><span class="boldface">1. When it happens.</span> Only when a group of identical items is present in the same place, and are being described jointly with text like &quot;You can see five gold rings here.&quot; The activity prints the &quot;five gold rings&quot; part. The variable &quot;listing group size&quot; contains the number, which in this example would be 5, and is always at least 2.</p>
<p><span class="boldface">2. The default behaviour.</span> The number of items is printed, in words (&quot;five&quot;) and then the &quot;printing the plural name&quot; activity is run (&quot;gold rings&quot;).</p>
<p><span class="boldface">3. Examples.</span> (a) Using this activity is for perfectionists, because the normal behaviour is almost always fine. Still:</p>
<!-- START CODE "c6308" -->
<a id="c6308"></a><blockquote class="code"><p class="quoted">
Rule for printing a number of blocks when the listing group size is 3: say &quot;all three blocks&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(b) Or perhaps:</p>
<!-- START CODE "c6309" -->
<a id="c6309"></a><blockquote class="code"><p class="quoted">
Rule for printing a number of ants: say &quot;altogether [listing group size in words] ants&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(c) If the only part needing variation is the plural name, it's simpler and tidier to use the &quot;printing the plural name of something&quot; activity instead.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s11" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s11" class="standardlink">Back to §18.11. Printing the plural name of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s13" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s13" class="standardlink">Onward to §18.13. Listing contents of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e302" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e302" class="standardlink">Example 343: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Prolegomena</b>&#160;&#160;&#160; Replacing precise numbers with "some" or other quantifiers when too many objects are clustered together for the player to count at a glance.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s13"></a>§18.13. Listing contents of something</p>
<p><span class="boldface">1. When it happens.</span> When taking inventory, the list is produced by the activity &quot;listing contents of yourself&quot;; when looking, a list of items which do not deserve their own paragraphs is produced by &quot;listing contents of&quot; the location.</p>
<p><span class="boldface">And when it doesn't happen.</span> (a) If the Storage Room contains a sideboard and an open shoe box, then &quot;listing contents of the Storage Room&quot; is used to produce the part of the room description mentioning sideboard and box. But if the box in turn contains a pair of brogues, then &quot;listing contents of the shoe box&quot; is not used to say that part. So this works:</p>
<!-- START CODE "c6310" -->
<a id="c6310"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the brogues while listing contents of a room: ...
</p></blockquote>
<!-- END CODE -->
<p>But this won't affect room descriptions:</p>
<!-- START CODE "c6311" -->
<a id="c6311"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the brogues while listing contents of the shoe box: ...
</p></blockquote>
<!-- END CODE -->
<p>(b) The activity also doesn't happen when, for instance, &quot;[a list of animals]&quot; is printed, because that isn't a list of the contents of any room or location.</p>
<p><span class="boldface">2. The default behaviour.</span> The list is printed out.</p>
<p><span class="boldface">3. Examples.</span> (a) We have already seen that it can be elegant to elaborate on a description in the context of a list. Here we add &quot;discarded&quot; to a sweet wrapper which is found on the ground.</p>
<!-- START CODE "c6312" -->
<a id="c6312"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the wrapper while listing contents of a room: say &quot;discarded sweet wrapper&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(b) Lists can be considerably shortened and tidied up if similar items are grouped together. We do this by specifying what should be grouped together before listing contents, using the special phrase &quot;group ... together&quot;:</p>
<!-- START CODE "c6313" -->
<a id="c6313"></a><blockquote class="code"><p class="quoted">
Utensil is a kind of thing. The knife, the fork and the spoon are utensils. Before listing contents: group utensils together as &quot;utensils&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The result will be, say, &quot;two utensils (knife and spoon)&quot;, if both are found in the same place.</p>
<p>(c) We can less obtrusively group items together like so:</p>
<!-- START CODE "c6314" -->
<a id="c6314"></a><blockquote class="code"><p class="quoted">
Before listing contents while taking inventory: group utensils together.
</p></blockquote>
<!-- END CODE -->
<p>Three special phrases exist for this kind of list organisation:</p>
<!-- START PHRASE "defn259" -->
<div class="definition"><a id="defn259"></a><p class="defnprototype"><b>group </b>(description of objects)<b> together</b></p>
<!-- END PHRASE -->
<!-- definition of ph_group -->

<p>This phrase causes the objects described to be listed together in a single item as part of an inventory or room description. The effect is temporary, and the phrase should only be used when this list is imminent. Example:</p>
<!-- START CODE "c6315" -->
<a id="c6315"></a><blockquote class="code"><p class="quoted">
Utensil is a kind of thing. The knife, the fork and the spoon are utensils. Before listing contents: group utensils together.
</p></blockquote>
<!-- END CODE -->
<p>This might produce the list item &quot;fork and spoon&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn260" -->
<div class="definition"><a id="defn260"></a><p class="defnprototype"><b>group </b>(description of objects)<b> together giving articles</b></p>
<!-- END PHRASE -->
<!-- definition of ph_groupart -->

<p>This phrase causes the objects described to be listed together in a single item as part of an inventory or room description, but giving each individual item its indefinite article. The effect is temporary, and the phrase should only be used when this list is imminent. Example:</p>
<!-- START CODE "c6316" -->
<a id="c6316"></a><blockquote class="code"><p class="quoted">
Utensil is a kind of thing. The knife, the fork and the spoon are utensils. Before listing contents: group utensils together giving articles.
</p></blockquote>
<!-- END CODE -->
<p>This might produce the list item &quot;a fork and a spoon&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn261" -->
<div class="definition"><a id="defn261"></a><p class="defnprototype"><b>group </b>(description of objects)<b> together as </b>(text)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_grouptext -->

<p>This phrase causes the objects described to be listed together in a single item as part of an inventory or room description, summarised with the given text. The effect is temporary, and the phrase should only be used when this list is imminent. Example:</p>
<!-- START CODE "c6317" -->
<a id="c6317"></a><blockquote class="code"><p class="quoted">
Utensil is a kind of thing. The knife, the fork and the spoon are utensils. Before listing contents: group utensils together as &quot;utensils&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This might produce the list item &quot;two utensils (fork and spoon)&quot;.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s12" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s12" class="standardlink">Back to §18.12. Printing a number of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s14" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s14" class="standardlink">Onward to §18.14. Grouping together something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e275" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e275" class="standardlink">Example 344: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Unpeeled</b>&#160;&#160;&#160; Calling an onion "a single yellow onion" when (and only when) it is being listed as the sole content of a room or container.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s14"></a>§18.14. Grouping together something</p>
<p><span class="boldface">1. When it happens.</span> Only while listing contents, and only when a collection of items to be grouped together is reached. This in turn happens only if a &quot;before listing contents&quot; rule has chosen it (see previous section). The first item in the group is the one to which the activity formally applies. The variable &quot;listing group size&quot; gives the number of items grouped together in this way.</p>
<p><span class="boldface">2. The default behaviour.</span> The items grouped together are printed in an English phrase, such as &quot;egg, chicken and farmer&quot;. In particular, they are not split onto separate lines even if the rest of the list is. (See previous section.)</p>
<p><span class="boldface">3. Examples.</span> (a) Here are Scrabble pieces which are described as &quot;the tile W from a Scrabble set&quot; or similar outside of lists, but which, when they turn up together in lists, are rolled together into &quot;the tiles A, B and D from a Scrabble set&quot;.</p>
<!-- START CODE "c6318" -->
<a id="c6318"></a><blockquote class="code"><p class="quoted">
A Scrabble piece is a kind of thing. The X, the Y and the Z are Scrabble pieces.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6319" -->
<a id="c6319"></a><blockquote class="code"><p class="quoted">
Before listing contents: group Scrabble pieces together.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6320" -->
<a id="c6320"></a><blockquote class="code"><p class="quoted">
Before printing the name of a Scrabble piece while not grouping together, say &quot;tile &quot;. After printing the name of a Scrabble piece while not grouping together, say &quot; from a Scrabble set&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6321" -->
<a id="c6321"></a><blockquote class="code"><p class="quoted">
Before grouping together Scrabble pieces, say &quot;the tiles &quot;. After grouping together Scrabble pieces, say &quot; from a Scrabble set&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(b) Maybe we only want an abbreviated form when there are five or more tiles in one place:</p>
<!-- START CODE "c6322" -->
<a id="c6322"></a><blockquote class="code"><p class="quoted">
A Scrabble piece is a kind of thing. The X, the W, the F, the Y and the Z are Scrabble pieces in the Lounge.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6323" -->
<a id="c6323"></a><blockquote class="code"><p class="quoted">
Before listing contents: group Scrabble pieces together.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6324" -->
<a id="c6324"></a><blockquote class="code"><p class="quoted">
Before grouping together Scrabble pieces when the listing group size is greater than 4:
<br />&#160;&#160;&#160;&#160;say &quot;some [listing group size in words] tiles (&quot;.
<br />After grouping together Scrabble pieces when the listing group size is greater than 4:
<br />&#160;&#160;&#160;&#160;say &quot;) from a Scrabble set&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(c) We can throw out all pretence at listing and say whatever we like, in fact:</p>
<!-- START CODE "c6325" -->
<a id="c6325"></a><blockquote class="code"><p class="quoted">
Before listing contents while taking inventory: group utensils together. Rule for grouping together utensils: say &quot;the usual utensils&quot;.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s13" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s13" class="standardlink">Back to §18.13. Listing contents of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s15" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s15" class="standardlink">Onward to §18.15. Issuing the response text of something</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s15"></a>§18.15. Issuing the response text of something</p>
<p><span class="boldface">1. When it happens.</span> When Inform prints a text marked with a response letter (A), (B), (C), ..., in a rule making use of them. For example, in this rule:</p>
<!-- START CODE "c6326" -->
<a id="c6326"></a><blockquote class="code"><p class="quoted">
Carry out taking inventory (this is the print empty inventory rule):
<br />&#160;&#160;&#160;&#160;if the first thing held by the player is nothing,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[We] [are] carrying nothing.&quot; (A) instead.
</p></blockquote>
<!-- END CODE -->
<p>Or, less directly,</p>
<!-- START CODE "c6327" -->
<a id="c6327"></a><blockquote class="code"><p class="quoted">
let R be the print empty inventory rule response (A);
<br />say &quot;To be frank: [text of R].&quot;;
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">2. The default behaviour.</span> To print the current textual value of the response, making any substitutions in the ordinary way.</p>
<p><span class="boldface">3. Examples.</span> This activity is not the best way to amend responses or make them dynamic; the whole idea of responses is that they can be changed just as if they were text variables. This activity should be used only if it's important to amend blocks of responses in some systematic way.</p>
<p>(a) With that said, some interesting effects can be achieved. This is a way to see which responses are being printed, for example:</p>
<!-- START CODE "c6328" -->
<a id="c6328"></a><blockquote class="code"><p class="quoted">
Before issuing the response text of a response (called R): say &quot;[R]: &quot;.
</p></blockquote>
<!-- END CODE -->
<p>whence:</p>
<!-- START CODE "c6329" -->
<a id="c6329"></a><blockquote class="code"><p class="quoted">
&gt;WAIT
<br />standard report waiting rule response (A): Time passes.
</p></blockquote>
<!-- END CODE -->
<p>(b) And this intercepts the activity in order to re-run it in each of the six viewpoints. (Note the way a variable is used to prevent the rule from applying to all of those re-runs as well.)</p>
<!-- START CODE "c6330" -->
<a id="c6330"></a><blockquote class="code"><p class="quoted">
The response inhibition is initially false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6331" -->
<a id="c6331"></a><blockquote class="code"><p class="quoted">
Rule for issuing the response text of a response (called R) when the response inhibition is false:
<br />&#160;&#160;&#160;&#160;now the response inhibition is true;
<br />&#160;&#160;&#160;&#160;let the current viewpoint be the story viewpoint;
<br />&#160;&#160;&#160;&#160;repeat with P running through narrative viewpoints:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the story viewpoint is P;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[P]: [text of R][command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;now the story viewpoint is the current viewpoint;
<br />&#160;&#160;&#160;&#160;now the response inhibition is false.
</p></blockquote>
<!-- END CODE -->
<p>With that in place,</p>
<!-- START CODE "c6332" -->
<a id="c6332"></a><blockquote class="code"><p class="quoted">
&gt;EAST
<br />first person singular: I can't go that way.
<br />second person singular: You can't go that way.
<br />third person singular: He can't go that way.
<br />first person plural: We can't go that way.
<br />second person plural: You can't go that way.
<br />third person plural: They can't go that way.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s14" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s14" class="standardlink">Back to §18.14. Grouping together something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s16" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s16" class="standardlink">Onward to §18.16. Printing room description details of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e432" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e432" class="standardlink">Example 345: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Wesponses</b>&#160;&#160;&#160; Parser messages that are delivered with a speech impediment.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s16"></a>§18.16. Printing room description details of something</p>
<p><span class="boldface">1. When it happens.</span> When an item is listed in the miscellaneous collection of items present in a room (the ones which do not deserve their own paragraphs): this is normally the last paragraph of a room description.</p>
<p><span class="boldface">2. The default behaviour.</span> A bracketed piece of extra information is added for certain items such as containers:</p>
<!-- START CODE "c6333" -->
<a id="c6333"></a><blockquote class="code"><p class="quoted">
You can also see Po and a cage (empty) here.
</p></blockquote>
<!-- END CODE -->
<p>The &quot; (empty)&quot; (note initial space) was added by this activity. (Note that this activity is not responsible for describing further items visible because of the item in question: that is, it does not print the text such as &quot;(in which is a notepad)&quot; which would appear if there were contents. If we want to remove such text, we should use &quot;omit contents in listing&quot;: see the activity &quot;for printing the name of something&quot;.)</p>
<p><span class="boldface">3. Examples.</span> (a) To get rid of such addenda entirely, try:</p>
<!-- START CODE "c6334" -->
<a id="c6334"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details: stop.
</p></blockquote>
<!-- END CODE -->
<p>(b) To add a new form of addendum:</p>
<!-- START CODE "c6335" -->
<a id="c6335"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of a person:
<br />&#160;&#160;&#160;&#160;say &quot; (at last, someone to talk to)&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>If both examples (a) and (b) are in place at once, we might now read:</p>
<!-- START CODE "c6336" -->
<a id="c6336"></a><blockquote class="code"><p class="quoted">
You can also see Po (at last, someone to talk to) and a cage here.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s15" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s15" class="standardlink">Back to §18.15. Issuing the response text of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s17" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s17" class="standardlink">Onward to §18.17. Printing inventory details of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e235" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e235" class="standardlink">Example 346: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Rules of Attraction</b>&#160;&#160;&#160; A magnet which picks up nearby metal objects, and describes itself appropriately in room descriptions and inventory listings, but otherwise goes by its ordinary name.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s17"></a>§18.17. Printing inventory details of something</p>
<p><span class="boldface">1. When it happens.</span> When an item is listed in an inventory of items carried by the player.</p>
<p><span class="boldface">2. The default behaviour.</span> A bracketed piece of extra information is added for certain items such as containers:</p>
<!-- START CODE "c6337" -->
<a id="c6337"></a><blockquote class="code"><p class="quoted">
a flaming branch (providing light)
</p></blockquote>
<!-- END CODE -->
<p>The &quot; (providing light)&quot; (note initial space) was added by this activity.</p>
<p><span class="boldface">3. Examples.</span> (a) To get rid of such addenda entirely, try:</p>
<!-- START CODE "c6338" -->
<a id="c6338"></a><blockquote class="code"><p class="quoted">
Rule for printing inventory details: stop.
</p></blockquote>
<!-- END CODE -->
<p>(b) To add a new form of addendum:</p>
<!-- START CODE "c6339" -->
<a id="c6339"></a><blockquote class="code"><p class="quoted">
Rule for printing inventory details of something edible:
<br />&#160;&#160;&#160;&#160;say &quot; (yummy!)[run paragraph on]&quot;.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s16" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s16" class="standardlink">Back to §18.16. Printing room description details of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s18" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s18" class="standardlink">Onward to §18.18. Printing a refusal to act in the dark</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s18"></a>§18.18. Printing a refusal to act in the dark</p>
<p><span class="boldface">1. When it happens.</span> When an action which requires light is tried, and the visibility rules decide that not enough light is present.</p>
<p><span class="boldface">2. The default behaviour.</span> To print &quot;It is pitch dark, and you can't see a thing.&quot;</p>
<p><span class="boldface">3. Examples.</span> (a) This might do for some twilit, penumbral room:</p>
<!-- START CODE "c6340" -->
<a id="c6340"></a><blockquote class="code"><p class="quoted">
Rule for printing a refusal to act in the dark: if we are examining something, say &quot;It's not totally dark here, perhaps, but certainly too dim for close-up examination of anything.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s17" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s17" class="standardlink">Back to §18.17. Printing inventory details of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s19" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s19" class="standardlink">Onward to §18.19. Printing the announcement of darkness</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e453" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e453" class="standardlink">Example 347: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Zorn of Zorna</b>&#160;&#160;&#160; Light levels vary depending on the number of candles the player has lit, and this determines whether or not he is able to examine detailed objects successfully.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s19"></a>§18.19. Printing the announcement of darkness</p>
<p><span class="boldface">1. When it happens.</span> Inform frequently calculates to see if the player is in light or darkness: this activity happens on the change from light to darkness.</p>
<p><span class="boldface">2. The default behaviour.</span> To print &quot;It is now pitch dark in here!&quot;.</p>
<p><span class="boldface">3. Examples.</span> (a) The most obvious use is to change the text:</p>
<!-- START CODE "c6341" -->
<a id="c6341"></a><blockquote class="code"><p class="quoted">
Rule for printing the announcement of darkness: say &quot;Ooh-er! It's now very nearly pitch dark in here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>(b) But we could also use this activity for sneakier purposes, silently moving things around:</p>
<!-- START CODE "c6342" -->
<a id="c6342"></a><blockquote class="code"><p class="quoted">
Before printing the announcement of darkness: now all of the gremlins are in the kitchen.
</p></blockquote>
<!-- END CODE -->
<p>(c) A special description for occasions when the player has climbed into a container and shut it (so that the darkness is the result of his own actions, rather than some external circumstance):</p>
<!-- START CODE "c6343" -->
<a id="c6343"></a><blockquote class="code"><p class="quoted">
Rule for printing the announcement of darkness when closing a container which contains the player:
<br />&#160;&#160;&#160;&#160;say &quot;Congratulations: now you can't see a thing.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s18" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s18" class="standardlink">Back to §18.18. Printing a refusal to act in the dark</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s20" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s20" class="standardlink">Onward to §18.20. Printing the announcement of light</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s20"></a>§18.20. Printing the announcement of light</p>
<p><span class="boldface">1. When it happens.</span> Inform frequently calculates to see if the player is in light or darkness: this activity happens on the change from darkness to light.</p>
<p><span class="boldface">2. The default behaviour.</span> To try the looking action, which usually prints up a room description.</p>
<p><span class="boldface">3. Examples.</span> (a) Perhaps the player is initially too disoriented to look around in any coherent way:</p>
<!-- START CODE "c6344" -->
<a id="c6344"></a><blockquote class="code"><p class="quoted">
Rule for printing the announcement of light in the Dazzling Temple: say &quot;You are almost blinded by the suffusion of white light, and have spots before your eyes.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s19" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s19" class="standardlink">Back to §18.19. Printing the announcement of darkness</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s21" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s21" class="standardlink">Onward to §18.21. Printing the name of a dark room</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s21"></a>§18.21. Printing the name of a dark room</p>
<p><span class="boldface">1. When it happens.</span> When looking in darkness, or writing the (default) status line in darkness.</p>
<p><span class="boldface">2. The default behaviour.</span> To print &quot;Darkness&quot;.</p>
<p><span class="boldface">3. Examples.</span> (a) One might modify the darkness with some adjective:</p>
<!-- START CODE "c6345" -->
<a id="c6345"></a><blockquote class="code"><p class="quoted">
Before printing the name of a dark room, say &quot;Near &quot;.
</p></blockquote>
<!-- END CODE -->
<p>(Note that this activity does not come in different forms for different dark rooms: the wording is fixed at &quot;printing the name of a dark room&quot;, and we are not allowed to substitute particular dark rooms or assign a &quot;(called ...)&quot; onto the mention of the dark room.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s20" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s20" class="standardlink">Back to §18.20. Printing the announcement of light</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s22" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s22" class="standardlink">Onward to §18.22. Printing the description of a dark room</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s22"></a>§18.22. Printing the description of a dark room</p>
<p><span class="boldface">1. When it happens.</span> When looking in darkness.</p>
<p><span class="boldface">2. The default behaviour.</span> To print &quot;It is pitch dark, and you can't see a thing.&quot;</p>
<p><span class="boldface">3. Examples.</span> (a) A simple variation of wording:</p>
<!-- START CODE "c6346" -->
<a id="c6346"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of a dark room: say &quot;Your eyes can barely make anything out.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>(b) More stylishly,</p>
<!-- START CODE "c6347" -->
<a id="c6347"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of a dark room: try listening instead.
</p></blockquote>
<!-- END CODE -->
<p>which produces, for instance,</p>
<!-- START CODE "c6348" -->
<a id="c6348"></a><blockquote class="code"><p class="quoted">
Darkness
<br />You hear nothing unexpected.
</p></blockquote>
<!-- END CODE -->
<p>(Note that this activity does not come in different forms for different dark rooms: the wording is fixed at &quot;printing the description of a dark room&quot;, and we are not allowed to substitute particular dark rooms or assign a &quot;(called ...)&quot; onto the mention of the dark room.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s21" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s21" class="standardlink">Back to §18.21. Printing the name of a dark room</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s23" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s23" class="standardlink">Onward to §18.23. Constructing the status line</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e190" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e190" class="standardlink">Example 348: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hohmann Transfer</b>&#160;&#160;&#160; Changing the way dark rooms are described to avoid the standard Inform phrasing.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e425" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e425" class="standardlink">Example 349: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Four Stars 1</b>&#160;&#160;&#160; An elaboration of the idea that when light is absent, the player should be given a description of what he can smell and hear, instead.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s23"></a>§18.23. Constructing the status line</p>
<p><span class="boldface">1. When it happens.</span> Just before input is accepted from the keyboard, Inform constructs a &quot;status line&quot; at the top of the window which is normally displayed in reverse colours (white on black instead of black on white, say).</p>
<p><span class="boldface">2. The default behaviour.</span> Makes the status line up out of two pieces, the &quot;left hand status line&quot; and the &quot;right hand status line&quot;. Since these can freely be changed, note that the status line is already very customisable without using rules applied to this activity.</p>
<p><span class="boldface">3. Examples.</span> (a) The most useful thing about this activity is that it allows us to vary descriptions in the status line. This is especially helpful to abbreviate unduly long room names, which might not otherwise fit:</p>
<!-- START CODE "c6349" -->
<a id="c6349"></a><blockquote class="code"><p class="quoted">
The Temple Of A Thousand Mightily Peeved Deities is a room. Rule for printing the name of the Temple while constructing the status line: say &quot;Temple&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(b) Again, it's usually not necessary to apply activity rules to this, but occasionally amusing effects are possible if we do:</p>
<!-- START CODE "c6350" -->
<a id="c6350"></a><blockquote class="code"><p class="quoted">
The blindfold is wearable and carried. Rule for constructing the status line while the blindfold is worn: do nothing.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s22" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s22" class="standardlink">Back to §18.22. Printing the description of a dark room</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s24" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s24" class="standardlink">Onward to §18.24. Writing a paragraph about</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e131" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e131" class="standardlink">Example 350: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ways Out</b>&#160;&#160;&#160; A status line that lists the available exits from the current location.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e130" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e130" class="standardlink">Example 351: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Guided Tour</b>&#160;&#160;&#160; A status line that lists the available exits from the current location, changing the names of these exits depending on whether the room has been visited or not.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s24"></a>§18.24. Writing a paragraph about</p>
<p><span class="boldface">1. When it happens.</span> Just <span class="italic">before</span> writing a paragraph about some item in a room description.</p>
<p><span class="boldface">2. The default behaviour.</span> Is to do nothing. However, if a rule is supplied which prints something up, then this replaces the paragraph which would otherwise have been printed. Moreover, any items whose names are said in the course of this rule - for instance, by being listed - are then excluded from the remainder of the room description, because they are considered as having been described sufficiently already.</p>
<p>Warning: because we often want a &quot;for&quot; rule for this activity to make some calculation and then possibly choose to do nothing (see the example &quot;Otranto&quot;), Inform suppresses the usual paragraph not when a &quot;for&quot; rule took effect but when it detected a paragraph having been printed. This can get confused if a text substitution affecting paragraph breaks, say &quot;[line break]&quot;, is within the final &quot;say&quot; of a &quot;for writing a paragraph about&quot; rule.</p>
<p><span class="boldface">3. Examples.</span> (a) This is a neat way to wrap several things together into the same paragraph:</p>
<!-- START CODE "c6351" -->
<a id="c6351"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about Mr Wickham:
<br />&#160;&#160;&#160;&#160;say &quot;Mr Wickham looks speculatively at [list of women in the location].&quot;
</p></blockquote>
<!-- END CODE -->
<p>because now &quot;Mr Wickham looks speculatively at Velma and Daphne&quot; will now prevent the appearance of the subsequent text &quot;You can also see Velma and Daphne.&quot;</p>
<p>Inform keeps track of which objects have already been named with an either/or property called &quot;mentioned&quot;, which it assigns whenever the name of an object has been automatically printed. So in this case, Velma and Daphne are now mentioned. Note &quot;automatically printed&quot;, though: if the text printed had just been &quot;Mr Wickham looks speculatively at Velma and Daphne&quot;, rather than the text-substitution list used above, then Inform would not know that Velma and Daphne have been described.</p>
<p>If we ever need to override this - say, we want to list all the women but make sure that Velma gets another paragraph anyway - we could change Velma to unmentioned again after the listing.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s23" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s23" class="standardlink">Back to §18.23. Constructing the status line</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s25" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s25" class="standardlink">Onward to §18.25. Listing nondescript items of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e344" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e344" class="standardlink">Example 352: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Reflections</b>&#160;&#160;&#160; Emphasizing the reflective quality of shiny objects whenever they are described in the presence of the torch.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e120" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e120" class="standardlink">Example 353: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Emma</b>&#160;&#160;&#160; Social dynamics in which groups of people form and circulate during a party.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e391" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e391" class="standardlink">Example 354: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Air Conditioning is Standard</b>&#160;&#160;&#160; Uses "writing a paragraph about" to make person and object descriptions that vary considerably depending on what else is going on in the room, including some randomized NPC interactions with objects or with each other.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s25"></a>§18.25. Listing nondescript items of something</p>
<p><span class="boldface">1. When it happens.</span> This activity prints up the also-ran paragraph at the end of a room description. These are nondescript items because they don't merit paragraphs of their own: if, as sometimes happens, there are none in the room, then no such paragraph is printed and this activity does not happen. (So to add a further paragraph to a room description, a simpler &quot;after looking&quot; rule should be used, not an &quot;after listing nondescript items&quot; rule.)</p>
<p><span class="boldface">2. The default behaviour.</span> The paragraph ordinarily reads as &quot;You can also see a cask and a clock.&quot; or similar. Before the activity begins, those objects which are nondescript - in this case the cask and the clock - are given the property of being &quot;marked for listing&quot;.</p>
<p>If it turns out that nothing is marked for listing, because of before rules like the one in the example below, then nothing is printed and <span class="boldface">the activity is abandoned</span>, so that the rules for and after are never reached.</p>
<p><span class="boldface">3. Examples.</span> (a) Promoting something out of the nondescript category, by unmarking it.</p>
<!-- START CODE "c6352" -->
<a id="c6352"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;if the watch is marked for listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The watch catches your eye.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the watch is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<p>(b) Changing the normal phrasing of the paragraph. Note that we can also change the listing style; the one below is the default.</p>
<!-- START CODE "c6353" -->
<a id="c6353"></a><blockquote class="code"><p class="quoted">
Rule for listing nondescript items of the Distressingly Messy Room:
<br />&#160;&#160;&#160;&#160;say &quot;Strewn carelessly on the floor&quot;;
<br />&#160;&#160;&#160;&#160;list the contents of the Distressingly Messy Room, as a sentence,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tersely, listing marked items only, prefacing with is/are,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;including contents and giving brief inventory information;
<br />&#160;&#160;&#160;&#160;say &quot;.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s24" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s24" class="standardlink">Back to §18.24. Writing a paragraph about</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s26" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s26" class="standardlink">Onward to §18.26. Printing the locale description of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e325" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e325" class="standardlink">Example 355: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Rip Van Winkle</b>&#160;&#160;&#160; A simple way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e181" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e181" class="standardlink">Example 356: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Happy Hour</b>&#160;&#160;&#160; Listing visible characters as a group, then giving some followup details in the same paragraph about specific ones.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e380" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e380" class="standardlink">Example 357: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Eye of the Idol</b>&#160;&#160;&#160; A systematic way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description, and to control whether supporters list their contents or not.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s26"></a>§18.26. Printing the locale description of something</p>
<p><span class="boldface">1. When it happens.</span> A &quot;locale description&quot; is Inform jargon for the part of a room description which catalogues the visible items in the room. When looking, Inform will normally print the description of the room itself, followed by a locale description for the room. But if the player is in a cage in the room, there will be two locale descriptions: one for the room, then another for the cage. This activity is used to write the locale description for a single domain, and the &quot;something&quot; can be either a room, an enterable container, or an enterable supporter.</p>
<p><span class="boldface">2. The default behaviour.</span> Is quite complicated, and is written up in full in the typeset form of the Standard Rules downloadable from the Inform website. Briefly, though: we first run the &quot;choosing notable locale objects&quot; activity to find out what ought to be mentioned here. That assembles a list of things to mention, sorted into priority order. Items with priority 1 go first, then those with priority 2, and so on. The &quot;printing a locale paragraph&quot; activity is run for each, and in practice that usually hands the job over to &quot;writing a paragraph about&quot;. Sometimes a paragraph will indeed be written, but not always. Sometimes there is nothing interesting to say, and an item is left until a final, single paragraph which gathers up the leftovers (&quot;You can also see a scarlet fish, a harmonium and a kite here.&quot;), the printing of which is done by the &quot;listing nondescript items of&quot; activity. As soon as any item picks up the either/or property &quot;mentioned&quot;, by having its name printed, it is struck out so that it will not appear subsequently, whatever its priority.</p>
<p><span class="boldface">3. Examples.</span> As general advice: if the effect wanted can be got using &quot;writing a paragraph about&quot; and &quot;listing nondescript items of&quot; alone, use those; if it's necessary to meddle further, use &quot;choosing notable locale objects&quot; and &quot;printing a locale paragraph&quot; to alter the normal processes; use the all-powerful &quot;printing the locale description&quot; activity only when the whole process needs to be altered, not the item-by-item workings.</p>
<p>(a) In the Very Misty Moorlands, nothing on the ground can ordinarily be seen through the swirling mist, so the locale description is suppressed entirely:</p>
<!-- START CODE "c6354" -->
<a id="c6354"></a><blockquote class="code"><p class="quoted">
Rule for printing the locale description of the Very Misty Moorlands:
<br />&#160;&#160;&#160;&#160;say &quot;Mist coils around your feet, thick as a blanket. You cannot even see the ground you walk upon.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6355" -->
<a id="c6355"></a><blockquote class="code"><p class="quoted">
Report taking something in the Very Misty Moorlands:
<br />&#160;&#160;&#160;&#160;say &quot;You grope blindly in the mist and pick up [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>(b) Here we take the chance to insert an additional paragraph into the locale description. This does relate to an item which might be described later, but where the player doesn't know that:</p>
<!-- START CODE "c6356" -->
<a id="c6356"></a><blockquote class="code"><p class="quoted">
The Horological Workshop is a room. The marble table is fixed in place in the Workshop.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6357" -->
<a id="c6357"></a><blockquote class="code"><p class="quoted">
The parcel is a closed opaque container on the marble table. The alarm clock is a device in the parcel. The alarm clock is switched on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6358" -->
<a id="c6358"></a><blockquote class="code"><p class="quoted">
Before printing the locale description of a room (called the locale):
<br />&#160;&#160;&#160;&#160;if the locale encloses the alarm clock and the alarm clock is switched on, say &quot;A faint ticking noise can be heard.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s25" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s25" class="standardlink">Back to §18.25. Listing nondescript items of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s27" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s27" class="standardlink">Onward to §18.27. Choosing notable locale objects for something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e301" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e301" class="standardlink">Example 358: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Priority Lab</b>&#160;&#160;&#160; A debugging rule useful for checking the priorities of objects about to be listed.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s27"></a>§18.27. Choosing notable locale objects for something</p>
<p><span class="boldface">1. When it happens.</span> See &quot;printing the locale description&quot;. This activity is expected to decide which items ought to be mentioned in a locale description for a given room, enterable container or enterable supporter, and to give each item a priority, which is a number ranging upwards from 1 (which is the top priority). The lower the priority number, the earlier the mention, or at least, the earlier the opportunity to be mentioned: it's up to other activities whether to give it a paragraph of its own or not. This activity only makes something a candidate, and decides what order the candidates will be tried in.</p>
<p><span class="boldface">2. The default behaviour.</span> By default, this activity contains only the &quot;standard notable locale objects rule&quot;. This chooses exactly those items directly contained by the locale, assigning all of them priority 5. Note that this includes scenery, and other probably unwanted items - those will be excluded later.</p>
<p><span class="boldface">3. Examples.</span> (a) In the Misty Moorlands, only large items on the ground are visible through the mist:</p>
<!-- START CODE "c6359" -->
<a id="c6359"></a><blockquote class="code"><p class="quoted">
A thing can be large or small. A thing is usually small. The stepladder is a large thing in the Misty Moorlands.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6360" -->
<a id="c6360"></a><blockquote class="code"><p class="quoted">
Rule for choosing notable locale objects for the Misty Moorlands:
<br />&#160;&#160;&#160;&#160;repeat with item running through large things in the Misty Moorlands:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 5.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6361" -->
<a id="c6361"></a><blockquote class="code"><p class="quoted">
Report taking a small thing in the Misty Moorlands:
<br />&#160;&#160;&#160;&#160;say &quot;You grope blindly in the mist and pick up [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Note the special phrase</p>
<!-- START CODE "c6362" -->
<a id="c6362"></a><blockquote class="code"><p class="quoted">
set the locale priority of the item to 5;
</p></blockquote>
<!-- END CODE -->
<p>which should be used only in rules for locale activities. It makes the given item a candidate and sets its priority. (Setting the priority to 0 forces an item not to be a candidate, and can thus undo the effect of previous rules.)</p>
<p>It's best to avoid situations where an item has a locale priority which is higher than that of something it is on top of, or inside, since this can result in an oddly-worded description.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s26" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s26" class="standardlink">Back to §18.26. Printing the locale description of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s28" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s28" class="standardlink">Onward to §18.28. Printing a locale paragraph about</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e231" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e231" class="standardlink">Example 359: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Low Light</b>&#160;&#160;&#160; An object that is only visible and manipulable when a bright light fixture is on.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e68" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e68" class="standardlink">Example 360: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Casino Banale</b>&#160;&#160;&#160; Creating room descriptions and object descriptions that change as the player learns new facts and pieces things together.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s28"></a>§18.28. Printing a locale paragraph about</p>
<p><span class="boldface">1. When it happens.</span> See &quot;printing the locale description&quot;. By this point, the locale description process has identified a number of items as candidates to be described, and worked out a priority order. This activity is then called for each candidate in turn, starting with the highest priority items and working downwards. It can either print some text or not, and can either mark the item as &quot;mentioned&quot; or not: if it does, then the item won't appear subsequently in the locale description. If the activity does nothing, the item becomes &quot;nondescript&quot; and falls through into the final &quot;You can also see...&quot; paragraph, unless another rule mentions it in the mean time.</p>
<p><span class="boldface">2. The default behaviour.</span> Is provided by a sequence of seven rules:</p>
<!-- START CODE "c6363" -->
<a id="c6363"></a><blockquote class="code"><p class="quoted">
(1) The &quot;don't mention player's supporter in room descriptions rule&quot; excludes anything the player is directly or indirectly standing on or, less frequently, in. The header of the room description has probably already said something like &quot;Boudoir (on the four-poster bed)&quot;, so the player can't be unaware of this item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6364" -->
<a id="c6364"></a><blockquote class="code"><p class="quoted">
(2) The &quot;don't mention scenery in room descriptions rule&quot; excludes scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6365" -->
<a id="c6365"></a><blockquote class="code"><p class="quoted">
(3) The &quot;don't mention undescribed items in room descriptions rule&quot; excludes the player object. (It's redundant to say &quot;You can also see yourself here.&quot;) At present nothing else in I7 is &quot;undescribed&quot; in this sense.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6366" -->
<a id="c6366"></a><blockquote class="code"><p class="quoted">
(4) The &quot;set pronouns from items in room descriptions rule&quot; adjusts the meaning of pronouns like IT and HER to pick up items mentioned. Thus if a room description ends &quot;Mme Tourmalet glares at you.&quot;, then HER would be adjusted to mean Mme Tourmalet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6367" -->
<a id="c6367"></a><blockquote class="code"><p class="quoted">
(5) The &quot;offer items to writing a paragraph about rule&quot; gives the &quot;writing a paragraph about&quot; activity a chance to intervene. We detect whether it does intervene or not by looking to see if it has printed any text.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6368" -->
<a id="c6368"></a><blockquote class="code"><p class="quoted">
(6) The &quot;use initial appearance in room descriptions rule&quot; prints the &quot;initial appearance&quot; property of an item which has never been handled as a paragraph, if it has one.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6369" -->
<a id="c6369"></a><blockquote class="code"><p class="quoted">
(7) The &quot;describe what's on scenery supporters in room descriptions rule&quot; is somewhat controversial. It prints text such as &quot;On the mantelpiece is a piece of chalk.&quot; for items which, like the mantelpiece, are scenery mentioned - we assume - in the main room description. (It is assumed that scenery supporters make their contents more prominently visible than scenery containers, which we do not announce the contents of.)
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">3. Examples.</span> If all that's required is to supply an interesting paragraph of room description about something then it's always better to use the &quot;writing a paragraph about&quot; activity, not this one. This activity should only be used when the mechanism itself needs to be adjusted.</p>
<p>(a) The following excludes doors from room descriptions:</p>
<!-- START CODE "c6370" -->
<a id="c6370"></a><blockquote class="code"><p class="quoted">
For printing a locale paragraph about a door (called the item)
<br />&#160;&#160;&#160;&#160;(this is the don't mention doors in room descriptions rule):
<br />&#160;&#160;&#160;&#160;set the locale priority of the item to 0;
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<p>(It's usually a good idea to &quot;continue the activity&quot; at the end of rules for this activity, since usually they all need to take effect for a happy outcome to the process. Here it doesn't really matter, since we were trying to stop anything from happening about the door, but it doesn't do any harm either.)</p>
<p>(b) Here's how to abolish what may be the most contentious rule in the whole Standard Rules:</p>
<!-- START CODE "c6371" -->
<a id="c6371"></a><blockquote class="code"><p class="quoted">
The describe what's on scenery supporters in room descriptions rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s27" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s27" class="standardlink">Back to §18.27. Choosing notable locale objects for something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s29" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s29" class="standardlink">Onward to §18.29. Deciding the scope of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e210" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e210" class="standardlink">Example 361: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Kiwi</b>&#160;&#160;&#160; Creating a raised supporter kind whose contents the player can't see or take from the ground.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e93" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e93" class="standardlink">Example 362: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Copper River</b>&#160;&#160;&#160; Manipulating room descriptions so that only interesting items are mentioned, while objects that are present but not currently useful to the player are ignored.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s29"></a>§18.29. Deciding the scope of something</p>
<p><span class="boldface">1. When it happens.</span> &quot;Scope&quot; is a term of art in interactive fiction programming: it means the collection of things which can be interacted with at any given moment, which depends on who you are and where you are. Commands typed by the player will only be allowed to go forward into actions if the things they refer to are &quot;in scope&quot;. Inform also needs to determine scope at other times, too: for instance, when deciding whether a rule conditional on being &quot;in the presence of&quot; something is valid. It is a bad idea to say anything during this activity.</p>
<p><span class="boldface">2. The default behaviour.</span> Is complicated: see the Inform Designer's Manual, 4th edition, page 227. Briefly, the scope for someone consists of everything in the same place as them, unless it is dark.</p>
<p><span class="boldface">3. Examples.</span> (a) We very rarely want to forbid the player to refer to things close at hand, but often want to allow references to distant ones. For instance, a mirage of something which is not present at all:</p>
<!-- START CODE "c6372" -->
<a id="c6372"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while in the Shrine: place the holy grail in scope.
</p></blockquote>
<!-- END CODE -->
<p>Two different phrases enable us to place unusual items in scope:</p>
<!-- START PHRASE "defn262" -->
<div class="definition"><a id="defn262"></a><p class="defnprototype"><b>place </b>(object)<b> in scope</b></p>
<!-- END PHRASE -->
<!-- definition of ph_placeinscope -->

<p>This phrase should only be used in rules for the &quot;deciding the scope of...&quot; activity. It places the given object in scope, making it accessible to the player's commands, regardless of where it is in the model world. Examples:</p>
<!-- START CODE "c6373" -->
<a id="c6373"></a><blockquote class="code"><p class="quoted">
place the distant volcano in scope;
<br />place the lacquered box in scope, but not its contents;
</p></blockquote>
<!-- END CODE -->
<p>Ordinarily if something is placed in scope, then so are its parts and (in the case of a supporter or a transparent or open container) its contents; using the &quot;but not its contents&quot; option we can place just the box itself in scope.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn263" -->
<div class="definition"><a id="defn263"></a><p class="defnprototype"><b>place the</b>/--<b> contents of </b>(object)<b> in scope</b></p>
<!-- END PHRASE -->
<!-- definition of ph_placecontentsinscope -->

<p>This phrase should only be used in rules for the &quot;deciding the scope of...&quot; activity. It places the things inside or on top of the given object in scope, making them accessible to the player's commands, but it does nothing to place the object itself in scope. (It might of course be in scope anyway, and if it is then this phrase won't remove it.) Example:</p>
<!-- START CODE "c6374" -->
<a id="c6374"></a><blockquote class="code"><p class="quoted">
place the contents of the lacquered box in scope;
<br />place the contents of the Marbled Steps in scope;
</p></blockquote>
<!-- END CODE -->
<p>Note that the object in question can be a room, as in this second example.</p>

<!-- end definition -->
</div>

<p>(b) Another useful device is to be able to see, but not touch, another room:</p>
<!-- START CODE "c6375" -->
<a id="c6375"></a><blockquote class="code"><p class="quoted">
The Cloakroom is a room. &quot;This is just a cloakroom, but through a vague, misty mirror-window you can make out the Beyond.&quot; After looking in the Cloakroom, say &quot;In the mirror you can see [list of things in the Beyond].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6376" -->
<a id="c6376"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while in the Cloakroom: place the Beyond in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6377" -->
<a id="c6377"></a><blockquote class="code"><p class="quoted">
The Beyond is a room. Johnny Depp is a man in the Beyond.
</p></blockquote>
<!-- END CODE -->
<p>(This must, however, also be a mirage, as at time of writing Mr Depp is alive and as well as can be expected following the reviews of &quot;Charlie and the Chocolate Factory&quot;.) Note that &quot;place the Ballroom in scope&quot; doesn't just allow the player to talk about the dancers, the chamber musicians and so forth, also allows, say, &quot;EXAMINE BALLROOM&quot;. To get one but not the other, use &quot;place the contents of the Ballroom in scope&quot; or &quot;place the Ballroom in scope, but not its contents&quot;.</p>
<p>(c) In darkness, the scope of someone is ordinarily restricted to his or her possessions (and body), but we can override that:</p>
<!-- START CODE "c6378" -->
<a id="c6378"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while in darkness: place the location in scope.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">4. A note about actions.</span> This activity takes place during the process of understanding the player's command, when the action that will take place is not fully known. So if the player types &quot;TAKE SHOEBOX&quot;, this activity would happen when SHOEBOX is being examined for meaning. Inform knows the action it would be taking if the current line of command grammar were to be accepted, but it does not yet know to what objects that command would be applied. That means attaching a proviso like &quot;... while taking a container&quot; to a rule for this activity will cause the rule to have no effect - whereas &quot;... while taking&quot; would be fine.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s28" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s28" class="standardlink">Back to §18.28. Printing a locale paragraph about</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s30" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s30" class="standardlink">Onward to §18.30. Clarifying the parser's choice of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e176" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e176" class="standardlink">Example 363: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Peeled</b>&#160;&#160;&#160; Two different approaches to adjusting what the player can interact with, compared.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e426" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e426" class="standardlink">Example 364: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Four Stars 2</b>&#160;&#160;&#160; Using "deciding the scope" to change the content of lists such as "the list of audible things which can be touched by the player".</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e26" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e26" class="standardlink">Example 365: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ginger Beer</b>&#160;&#160;&#160; A portable magic telescope which allows the player to view items in another room of his choice.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e329" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e329" class="standardlink">Example 366: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Rock Garden</b>&#160;&#160;&#160; A simple open landscape where the player can see between rooms and will automatically move to touch things in distant rooms.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e360" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e360" class="standardlink">Example 367: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Stately Gardens</b>&#160;&#160;&#160; An open landscape where the player can see landmarks in nearby areas, with somewhat more complex room descriptions than the previous example, and in which we also account for size differences between things seen at a distance.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s30"></a>§18.30. Clarifying the parser's choice of something</p>
<p><span class="boldface">1. When it happens.</span> When the player has typed an ambiguous noun reference, and Inform has made a decision about what was meant, and it matters what this decision is. (If the decision is between three identical gold coins, say, then it doesn't matter, and this activity does not take place.) There are a couple of limitations on this: the activity applies only to the first noun, and only if it's an object. So for a command like SELECT BLUE, where BLUE is a noun referring to a colour value, say, this activity isn't used. But the simple case where the activity does play a part is nevertheless very useful.</p>
<p><span class="boldface">2. The default behaviour.</span> Text in brackets such as &quot;(the laminated mahogany box)&quot; is printed, on its own line.</p>
<p><span class="boldface">3. Examples.</span> (a) In the following, asking to TAKE TOWER results in the parser choosing the souvenir model (because of the &quot;does the player mean...&quot; rule making the alternative unlikely), and then explaining itself by saying &quot;(The little one, obviously.)&quot; instead of &quot;(the souvenir model Eiffel Tower)&quot;.</p>
<!-- START CODE "c6379" -->
<a id="c6379"></a><blockquote class="code"><p class="quoted">
The Champs du Mars is a room. The great Eiffel Tower is here. &quot;The great Tower stands high over you.&quot; The souvenir model Eiffel Tower is here. &quot;Comparatively tiny is the souvenir version.&quot; The great Eiffel Tower is fixed in place. Does the player mean taking the great Eiffel Tower: it is very unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6380" -->
<a id="c6380"></a><blockquote class="code"><p class="quoted">
Rule for clarifying the parser's choice of the model tower: say &quot;(The little one, obviously.)&quot;
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">4. A note about actions.</span> This activity takes place during the process of understanding the player's command, when the action that will take place is not fully known. So if the player types &quot;TAKE SHOEBOX&quot;, this activity would happen when SHOEBOX is being examined for meaning. Inform knows that the action will be taking, but nothing else. That means attaching a proviso like &quot;... while taking a container&quot; to a rule for this activity will cause the rule to have no effect - whereas &quot;... while taking&quot; would be fine.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s29" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s29" class="standardlink">Back to §18.29. Deciding the scope of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s31" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s31" class="standardlink">Onward to §18.31. Asking which do you mean</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s31"></a>§18.31. Asking which do you mean</p>
<p><span class="boldface">1. When it happens.</span> When the player has typed an ambiguous noun reference, and Inform has not been able to decide what was meant.</p>
<p><span class="boldface">2. The default behaviour.</span> A question such as &quot;Which do you mean, the laminated mahogany box or the boom box?&quot; is printed. (This activity shapes the question: it is not responsible for parsing the answer. It would be very mysterious to write rules for this activity such that nothing is printed, because the player would then have no idea what to type.)</p>
<p><span class="boldface">3. Examples.</span> The question is harder to print than may first appear, since one must not simply list the options, but also take into account collections of plural objects (&quot;Which do you mean, the gold-tipped pen or a gold coin?&quot;). It is probably better not to try to rewrite this.</p>
<p>(a) But we can place notes before or after: here is a verbose explanation for beginners to IF.</p>
<!-- START CODE "c6381" -->
<a id="c6381"></a><blockquote class="code"><p class="quoted">
Before asking which do you mean: say &quot;Okay, so I'm going to have to ask a question now: you've typed something ambiguous, and I don't know which noun you're referring to.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6382" -->
<a id="c6382"></a><blockquote class="code"><p class="quoted">
After asking which do you mean: say &quot;(Just type a word or two to give me more information.)&quot;
</p></blockquote>
<!-- END CODE -->
<p>(b) We can also use this activity as a context for other activities. For instance:</p>
<!-- START CODE "c6383" -->
<a id="c6383"></a><blockquote class="code"><p class="quoted">
The Champs du Mars is a room. The great Eiffel Tower is here. &quot;The great Tower stands high over you.&quot; The souvenir model Eiffel Tower is here. &quot;Comparatively tiny is the souvenir version.&quot; The great Eiffel Tower is fixed in place. Understand &quot;actual&quot; as the great Tower.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6384" -->
<a id="c6384"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the great Tower while asking which do you mean: say &quot;actual Tower&quot;. Rule for printing the name of the souvenir tower while asking which do you mean: say &quot;souvenir&quot;.
</p></blockquote>
<!-- END CODE -->
<p>causes TAKE TOWER (for instance) to produce a nice tidy question in reply: &quot;Which do you mean, the actual Tower or the souvenir?&quot;</p>
<p><span class="boldface">4. A note about actions.</span> This activity takes place during the process of understanding the player's command, when the action that will take place is not fully known. So if the player types &quot;TAKE SHOEBOX&quot;, this activity would happen when SHOEBOX is being examined for meaning. Inform knows that the action will be taking, but nothing else. That means attaching a proviso like &quot;... while taking a container&quot; to a rule for this activity will cause the rule to have no effect - whereas &quot;... while taking&quot; would be fine.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s30" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s30" class="standardlink">Back to §18.30. Clarifying the parser's choice of something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s32" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s32" class="standardlink">Onward to §18.32. Supplying a missing noun/second noun</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e13" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e13" class="standardlink">Example 368: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Apples</b>&#160;&#160;&#160; Prompting the player on how to disambiguate otherwise similar objects.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e277" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e277" class="standardlink">Example 369: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Originals</b>&#160;&#160;&#160; Allowing the player to create models of anything in the game world; parsing the name "model [thing]" or even just "[thing]" to refer to these newly-created models; asking "which do you mean, the model [thing] or the actual [thing]" when there is ambiguity.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e423" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e423" class="standardlink">Example 370: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Walls and Noses</b>&#160;&#160;&#160; Responding to "EXAMINE WALL" with "In which direction?", and to "EXAMINE NOSE" with "Whose nose do you mean, Frederica's, Betty's, Wilma's or your own?"</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s32"></a>§18.32. Supplying a missing noun/second noun</p>
<p><span class="boldface">1. When it happens.</span> (Two different activities here, but identical except for applying to different nouns.) This happens when an Understand sentence fails to supply a noun for an action which requires one. For example, in the sentence 'Understand &quot;seize&quot; as taking.' - the &quot;taking&quot; action is incompletely specified, because it requires a noun, and there's no noun in the command to be understood.</p>
<p>Note that this is not what happens if it's the player who fails to supply the noun. That is, suppose the player types a half-finished command like TAKE, which can't be matched against (for example) 'Understand &quot;take [things]&quot; as taking.' because the player didn't name any thing(s). Typically a story will reply to such a command with a question asking for clarification, but sometimes it makes guesses about what was meant. The &quot;supplying a missing noun&quot; activity plays no part in this guesswork, and can't influence it: that's the task of the &quot;does the player mean&quot; rulebook.</p>
<p>Suppose we do have the first of these cases, then. &quot;Supplying a missing noun&quot; takes place to remedy the problem. It can either:</p>
<p>(i) Set a noun, printing text like &quot;(presumably the black bag)&quot; if it wants, in which case the action goes forward, though it is still subject to the full rules on accessibility exactly as any other action would be; or</p>
<p>(ii) Make no choice, in which case no action takes place and the player's command is rejected. If the activity printed nothing, Inform will produce a generic reply to the player that &quot;You must supply a noun.&quot;.</p>
<p><span class="boldface">2. The default behaviour.</span> In the default grammar for Inform, only three such half-finished actions are ever Understood. One is &quot;going&quot; with no direction, for which this activity simply prints a refusal. The other two are the two undirected senses, &quot;smelling&quot; and &quot;listening&quot;. In each case, the &quot;supplying a missing noun&quot; activity sets the noun to the current location: so, for instance, typing the bare command &quot;listen&quot; might generate the action &quot;listening to the Shoreline&quot;.</p>
<p><span class="boldface">3. Examples.</span> (a) This is the definition Inform uses to make &quot;listen&quot; work as outlined above:</p>
<!-- START CODE "c6385" -->
<a id="c6385"></a><blockquote class="code"><p class="quoted">
Rule for supplying a missing noun while listening (this is the ambient sound rule):
<br />&#160;&#160;&#160;&#160;now the noun is the location.
</p></blockquote>
<!-- END CODE -->
<p>(b) It can be elegant to allow second nouns to be dropped with habitual actions, or where the choice is obvious:</p>
<!-- START CODE "c6386" -->
<a id="c6386"></a><blockquote class="code"><p class="quoted">
Understand &quot;unlock [something]&quot; as unlocking it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6387" -->
<a id="c6387"></a><blockquote class="code"><p class="quoted">
Rule for supplying a missing second noun while unlocking:
<br />&#160;&#160;&#160;&#160;if the skeleton key is carried, now the second noun is the skeleton key;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You will have to specify what to unlock [the noun] with.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that, in order for our activity to succeed, we do need to supply a grammar line allowing the player to try &quot;unlocking it with&quot; using only one noun. Otherwise, the command &quot;unlock something&quot; will still produce the question &quot;What do you want to unlock the door with?&quot;</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s31" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s31" class="standardlink">Back to §18.31. Asking which do you mean</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s33" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s33" class="standardlink">Onward to §18.33. Reading a command</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e218" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e218" class="standardlink">Example 371: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Latin Lessons</b>&#160;&#160;&#160; Supplying missing nouns and second nouns for other characters besides the player.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e406" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e406" class="standardlink">Example 372: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Minimal Movement</b>&#160;&#160;&#160; Supplying a default direction for "go", so that "leave", "go", etc., are always interpreted as "out".</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s33"></a>§18.33. Reading a command</p>
<p><span class="boldface">1. When it happens.</span> When reading a command from the keyboard.</p>
<p><span class="boldface">2. The default behaviour.</span> Print the prompt text; wait for the player to type something and press return. Reject an entirely blank line, and treat a command beginning &quot;oops&quot; as a correction to the previous one. This is a fairly complicated business, so it is probably best not to change the &quot;for&quot; rules for this activity: &quot;before&quot;, and especially &quot;after&quot;, are another matter. (Note, however, that if Inform does reject a blank line and ask for another then this all happens inside the &quot;for&quot; rules: no &quot;after&quot; occurs after the blank line, nor does a &quot;before&quot; happen before the second attempt by the player. It is all a single round of the activity, not two.)</p>
<p><span class="boldface">3. Examples.</span> (a) To lead absolute beginners in gently:</p>
<!-- START CODE "c6388" -->
<a id="c6388"></a><blockquote class="code"><p class="quoted">
Before reading a command while the turn count is 1, say &quot;(This is your chance to say what the protagonist should do next. After the '&gt;', try typing 'take inventory'.)&quot;
</p></blockquote>
<!-- END CODE -->
<p>(b) The following responds politely but firmly if the player tries to type &quot;please look&quot;, say, instead of just &quot;look&quot;:</p>
<!-- START CODE "c6389" -->
<a id="c6389"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;please&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Please do not say please.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reject the player's command.
</p></blockquote>
<!-- END CODE -->
<p>To explain. Fragments of what the player has typed are called snippets: &quot;the player's command&quot; is the entire thing. We can test if a snippet matches a given pattern like so:</p>
<!-- START PHRASE "defn264" -->
<div class="definition"><a id="defn264"></a><p class="defnprototype"><b>if </b>(snippet)<b> matches </b>(topic)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_snippetmatches -->

<p>This condition is true if the given snippet exactly matches the specification. Example:</p>
<!-- START CODE "c6390" -->
<a id="c6390"></a><blockquote class="code"><p class="quoted">
if the player's command matches &quot;room [number]&quot;, ...
</p></blockquote>
<!-- END CODE -->
<p>will be true if the command is ROOM 101, but not if it's EXPLORE ROOM 7.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn265" -->
<div class="definition"><a id="defn265"></a><p class="defnprototype"><b>if </b>(snippet)<b> does not match </b>(topic)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_snippetdoesnotmatch -->

<p>This condition is true if the given snippet does not exactly match the specification.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn266" -->
<div class="definition"><a id="defn266"></a><p class="defnprototype"><b>if </b>(snippet)<b> includes </b>(topic)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_snippetincludes -->

<p>This condition is true if the given snippet includes words matching the specification, either at the beginning, in the middle, or at the end. Example:</p>
<!-- START CODE "c6391" -->
<a id="c6391"></a><blockquote class="code"><p class="quoted">
if the player's command includes &quot;room [number]&quot;, ...
</p></blockquote>
<!-- END CODE -->
<p>will be true if the command is ROOM 101, EXPLORE ROOM 7, or ROOM 22 AHOY, but not if it's VISIT ROOM GAMMA 7.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn267" -->
<div class="definition"><a id="defn267"></a><p class="defnprototype"><b>if </b>(snippet)<b> does not include </b>(topic)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_snippetdoesnotinclude -->

<p>This condition is true if the given snippet does not include any run of words which matches the specification.</p>

<!-- end definition -->
</div>

<p>Lastly, we took drastic action with another new phrase:</p>
<!-- START PHRASE "defn268" -->
<div class="definition"><a id="defn268"></a><p class="defnprototype"><b>reject the player's command</b></p>
<!-- END PHRASE -->
<!-- definition of ph_rejectcommand -->

<p>This phrase should be used only in rules for the &quot;reading a command&quot; activity. It tells Inform not to bother analysing the text further, but to go back to the keyboard. (No time passes; no turn elapses; nothing happens in the simulated world.)</p>

<!-- end definition -->
</div>

<p>(c) An improved version takes commands like &quot;please drop the coin&quot; and strips &quot;please&quot; from them, but then allows them to proceed normally:</p>
<!-- START CODE "c6392" -->
<a id="c6392"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;please&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(Quelle politesse! But no need to say please.)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cut the matched text.
</p></blockquote>
<!-- END CODE -->
<p>&quot;Matched text&quot; is a snippet containing the words which matched against the pattern in the most recent &quot;includes&quot; condition, so in this case it contains just the single word &quot;please&quot;. Two phrases allow snippets to be altered:</p>
<!-- START PHRASE "defn269" -->
<div class="definition"><a id="defn269"></a><p class="defnprototype"><b>replace </b>(snippet)<b> with </b>(text)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_replacesnippet -->

<p>This phrase should be used only in &quot;after&quot; rules for the &quot;reading a command&quot; activity; it replaces the snippet of command, usually the &quot;matched text&quot; found immediately before, with the given text. Example:</p>
<!-- START CODE "c6393" -->
<a id="c6393"></a><blockquote class="code"><p class="quoted">
if the player's command includes &quot;room [number]&quot;:
<br />&#160;&#160;&#160;&#160;replace the matched text with &quot;office&quot;.
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn270" -->
<div class="definition"><a id="defn270"></a><p class="defnprototype"><b>cut </b>(snippet)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_cutsnippet -->

<p>This phrase should be used only in &quot;after&quot; rules for the &quot;reading a command&quot; activity; it removes the snippet of command. Example:</p>
<!-- START CODE "c6394" -->
<a id="c6394"></a><blockquote class="code"><p class="quoted">
if the player's command includes &quot;or else&quot;:
<br />&#160;&#160;&#160;&#160;cut the matched text.
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>Note that &quot;replace&quot; and &quot;cut&quot; can only be used in &quot;after reading a command&quot; rules: not when an action has been chosen and has gone ahead into its rulebooks. Once the &quot;reading a command&quot; activity has finished, the command is final.</p>
<p>(d) To make the word &quot;grab&quot; an abbreviation for &quot;take all&quot;:</p>
<!-- START CODE "c6395" -->
<a id="c6395"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command matches &quot;grab&quot;, replace the player's command with &quot;take all&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(&quot;Snippet&quot; is actually a kind of value, so we could say &quot;Ah, you typed '[the player's command]'!&quot; or some such if we liked. But in practice only three snippets are likely to be useful: the two mentioned above, &quot;player's command&quot; and &quot;matched text&quot;, and the &quot;topic understood&quot;, used when matching the &quot;[text]&quot; token in command grammar.)</p>
<p>(e) Finally, we can make still more detailed alterations to the text of the command using the techniques presented in the Advanced Text chapter. For instance:</p>
<!-- START PHRASE "defn271" -->
<div class="definition"><a id="defn271"></a><p class="defnprototype"><b>change the text of the player's command to </b>(text)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_changecommand -->

<p>This phrase should be used only in &quot;after&quot; rules for the &quot;reading a command&quot; activity; it replaces the current command text entirely. Example:</p>
<!-- START CODE "c6396" -->
<a id="c6396"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;let T be &quot;[the player's command]&quot;;
<br />&#160;&#160;&#160;&#160;replace the regular expression &quot;\p&quot; in T with &quot;&quot;;
<br />&#160;&#160;&#160;&#160;change the text of the player's command to T.
</p></blockquote>
<!-- END CODE -->
<p>This converts the player's command to text, which is then manipulated by searching for any punctuation mark and replacing it with blank text (that is, deleted), and then put back again as the new command.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s32" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s32" class="standardlink">Back to §18.32. Supplying a missing noun/second noun</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s34" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s34" class="standardlink">Onward to §18.34. Implicitly taking something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e86" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e86" class="standardlink">Example 373: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Cloves</b>&#160;&#160;&#160; Accepting adverbs anywhere in a command, registering what the player typed but then cutting them out before interpreting the command.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e192" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e192" class="standardlink">Example 374: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Fragment of a Greek Tragedy</b>&#160;&#160;&#160; Responding to the player's input based on keywords only, and overriding the original parser entirely.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e266" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e266" class="standardlink">Example 375: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>North by Northwest</b>&#160;&#160;&#160; Creating additional compass directions between those that already exist (for instance, NNW) -- and dealing with an awkwardness that arises when the player tries to type "north-northwest". The example demonstrates a way around the nine-character limit on parsed words.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e208" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e208" class="standardlink">Example 376: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Complimentary Peanuts</b>&#160;&#160;&#160; A character who responds to keywords in the player's instructions and remarks, even if there are other words included.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s34"></a>§18.34. Implicitly taking something</p>
<p><span class="boldface">1. When it happens.</span> When an action is tried which requires the actor (normally the player, of course) to be carrying something, but which is not in fact carried by that person. For instance, if the player types WEAR OVERCOAT in reference to a Moroccan overcoat currently draped over a chair.</p>
<p><span class="boldface">2. The default behaviour.</span> To print text such as &quot;(first taking the Moroccan overcoat)&quot; and then silently try taking the object in question (the overcoat). If the take succeeds, the silence means that nothing else is printed: if it fails, it will say why.</p>
<p>No matter what rules are written for this activity, it is impossible to use it to allow the action to go ahead even without the item. The activity allows us to change how, or if, an implicit take will happen, but not to change the consequences of failure. (To do that, we would need to say that &quot;The ignore the carrying requirements rule does nothing&quot;, but this kind of unstitching of the action machinery needs to be done with caution.)</p>
<p><span class="boldface">3. Examples.</span> (a) Forbidding implicit takes for certain dangerous items. (This seems especially fair if taking such items might cause death: the player will not wish to be killed on the strength only of our guess as to what he might be intending to do.)</p>
<!-- START CODE "c6397" -->
<a id="c6397"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking the curare:
<br />&#160;&#160;&#160;&#160;say &quot;Ordinarily you'd pick up the curare in order to be able to do that, but this seems like a good moment for caution.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>(b) Changing the way the implicit action is reported for the player:</p>
<!-- START CODE "c6398" -->
<a id="c6398"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking something (called target):
<br />&#160;&#160;&#160;&#160;try silently taking the target;
<br />&#160;&#160;&#160;&#160;if the player carries the target, say &quot;You appropriate [the target] first, of course. [run paragraph on]&quot;
</p></blockquote>
<!-- END CODE -->
<p>(c) Combining implicit takes when the noun and second noun must both be carried:</p>
<!-- START CODE "c6399" -->
<a id="c6399"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking the noun when the second noun is a thing and the second noun is not carried by the player:
<br />&#160;&#160;&#160;&#160;try silently taking the noun;
<br />&#160;&#160;&#160;&#160;try silently taking the second noun;
<br />&#160;&#160;&#160;&#160;say &quot;(first taking both [the noun] and [the second noun])[line break]&quot;
</p></blockquote>
<!-- END CODE -->
<p>(d) Making another character reply amusingly:</p>
<!-- START CODE "c6400" -->
<a id="c6400"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking something which is carried by the player when the person asked is Clark:
<br />&#160;&#160;&#160;&#160;say &quot;'I don't see how I'm supposed to do that when you're holding [the noun],' remarks Clark sulkily.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>(e) Causing implicit takes which wouldn't otherwise happen. Suppose we have a photographing action, and there are very small flowers which can't conveniently be snapped without being first picked. We then want an implicit take to occur, even though we wouldn't want this for other sorts of photography. So:</p>
<!-- START CODE "c6401" -->
<a id="c6401"></a><blockquote class="code"><p class="quoted">
Check an actor photographing a flower:
<br />&#160;&#160;&#160;&#160;if the actor is not carrying the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the implicitly taking activity with the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the actor is not carrying the noun, stop the action.
</p></blockquote>
<!-- END CODE -->
<p>Note that if the activity doesn't succeed in taking the item, it's expected to print some text explaining this, which is why we don't need to say anything further.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s33" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s33" class="standardlink">Back to §18.33. Reading a command</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s35" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s35" class="standardlink">Onward to §18.35. Printing a parser error</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e34" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e34" class="standardlink">Example 377: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Big Sainsbury's</b>&#160;&#160;&#160; Making implicit takes add a minute to the clock, just as though the player had typed TAKE THING explicitly.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e293" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e293" class="standardlink">Example 378: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Pizza Prince</b>&#160;&#160;&#160; Providing a pizza buffet from which the player can take as many pieces as he wants.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e228" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e228" class="standardlink">Example 379: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lollipop Guild</b>&#160;&#160;&#160; Overriding the rules to allow the player to show something to another character without first taking it.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s35"></a>§18.35. Printing a parser error</p>
<p><span class="boldface">1. When it happens.</span> The parser is the part of the run-time software, included in all works produced by Inform, which tries to match the player's command against the grammar provided by the work. When it is unable to make a valid match, the parser prints an error to the player: for instance,</p>
<!-- START CODE "c6402" -->
<a id="c6402"></a><blockquote class="code"><p class="quoted">
&gt; BIFURCATE TREE
<br />That's not a verb I recognise.
</p></blockquote>
<!-- END CODE -->
<p>There are more than twenty possible messages. The one which the parser wants to say is stored in the variable &quot;latest parser error&quot;, which has the convenient kind &quot;command parser error&quot;. This has the following possible values:</p>
<!-- START CODE "c6403" -->
<a id="c6403"></a><blockquote class="code"><p class="quoted">
didn't understand error
<br />only understood as far as error
<br />didn't understand that number error
<br />can't see any such thing error
<br />said too little error
<br />aren't holding that error
<br />can't use multiple objects error
<br />can only use multiple objects error
<br />not sure what it refers to error
<br />excepted something not included error
<br />can only do that to something animate error
<br />not a verb I recognise error
<br />not something you need to refer to error
<br />can't see it at the moment error
<br />didn't understand the way that finished error
<br />not enough of those available error
<br />nothing to do error
<br />referred to a determination of scope error
<br />I beg your pardon error
<br />noun did not make sense in that context error
<br />can't again the addressee error
<br />comma can't begin error
<br />can't see whom to talk to error
<br />can't talk to inanimate things error
<br />didn't understand addressee's last name error
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">2. The default behaviour.</span> Prints the message in question.</p>
<p><span class="boldface">3. Examples.</span> (a) Perhaps for newcomers:</p>
<!-- START CODE "c6404" -->
<a id="c6404"></a><blockquote class="code"><p class="quoted">
After printing a parser error:
<br />&#160;&#160;&#160;&#160;say &quot;If you are new to interactive fiction, you may like to try typing HELP.&quot;
</p></blockquote>
<!-- END CODE -->
<p>(b) Or to give the parser a certain amount of character:</p>
<!-- START CODE "c6405" -->
<a id="c6405"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error when the latest parser error is the I beg your pardon error:
<br />&#160;&#160;&#160;&#160;say &quot;What's that? Speak up, speak up.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6406" -->
<a id="c6406"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error:
<br />&#160;&#160;&#160;&#160;say &quot;That's a rum thing to say, and no mistake.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>(c) This can be helpful for seeing what's going on:</p>
<!-- START CODE "c6407" -->
<a id="c6407"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error:
<br />&#160;&#160;&#160;&#160;say &quot;The [latest parser error] happened.&quot;;
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s34" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s34" class="standardlink">Back to §18.34. Implicitly taking something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s36" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s36" class="standardlink">Onward to §18.36. Deciding whether all includes</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e444" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e444" class="standardlink">Example 380: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>WXPQ</b>&#160;&#160;&#160; Creating a more sensible parser error than "that noun did not make sense in this context".</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e445" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e445" class="standardlink">Example 381: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Xot</b>&#160;&#160;&#160; Storing an invalid command to be repeated as text later in the game.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s36"></a>§18.36. Deciding whether all includes</p>
<p><span class="boldface">1. When it happens.</span> When parsing a command such as &quot;take all&quot;, where the player uses &quot;all&quot; to signify everything within reach.</p>
<p><span class="boldface">2. The default behaviour.</span> The actual method used is complicated, as &quot;all&quot; is not as simple as it seems - &quot;take all&quot; would not include the player's own body, for instance, or the crescent moon. The point of this activity is to allow the normal method to be changed for given objects, or given kinds of object.</p>
<p><span class="boldface">3. Examples.</span> (a) Removing scenery from &quot;all&quot; (but see (4) below):</p>
<!-- START CODE "c6408" -->
<a id="c6408"></a><blockquote class="code"><p class="quoted">
Rule for deciding whether all includes scenery: it does not.
</p></blockquote>
<!-- END CODE -->
<p>The phrases &quot;it does&quot; and &quot;it does not&quot; make a decision.</p>
<p>(b) Ensuring that a given thing, which might otherwise be excluded, is included:</p>
<!-- START CODE "c6409" -->
<a id="c6409"></a><blockquote class="code"><p class="quoted">
Rule for deciding whether all includes the oval roof: it does.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">4. The Standard Rules already uses this.</span> Note that the Standard Rules already stocks this activity with several rules:</p>
<!-- START CODE "c6410" -->
<a id="c6410"></a><blockquote class="code"><p class="quoted">
exclude scenery from take all rule
<br />exclude people from take all rule
<br />exclude fixed in place things from take all rule
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">5. A note about actions.</span> This activity takes place during the process of understanding the player's command, when the action that will take place is not fully known. So if the player types &quot;TAKE SHOEBOX&quot;, this activity would happen when SHOEBOX is being examined for meaning. Inform knows that the action will be taking, but nothing else. That means attaching a proviso like &quot;... while taking a container&quot; to a rule for this activity will cause the rule to have no effect - whereas &quot;... while taking&quot; would be fine.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s35" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s35" class="standardlink">Back to §18.35. Printing a parser error</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s37" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s37" class="standardlink">Onward to §18.37. Printing the banner text</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s37"></a>§18.37. Printing the banner text</p>
<p><span class="boldface">1. When it happens.</span> The banner is the bibliographic masthead text, which typically looks something like this:</p>
<!-- START CODE "c6411" -->
<a id="c6411"></a><blockquote class="code"><p class="quoted">
Relations
<br />An Interactive Fiction by Emily Short
<br />Release 1 / Serial number 050630 / Inform 7 build 2U98 (I6/v6.30 lib 6/10N) SD
</p></blockquote>
<!-- END CODE -->
<p>(The serial and build numbers are those applying when the story file was last made: these ones are from the mid-2000s.) The banner is printed at the start of play, and when the player types &quot;version&quot; at the command line, and when say &quot;[banner text]&quot; occurs.</p>
<!-- START PHRASE "defn272" -->
<div class="definition"><a id="defn272"></a><p class="defnprototype"><b>say &quot;[the</b>/--<b> banner text]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_banner -->

<p>This text substitution expands to the banner text giving bibliographic details of the current story file, rather like the opening credits of a movie, or the title page of a book.</p>

<!-- end definition -->
</div>

<p><span class="boldface">2. The default behaviour.</span> Prints the text above, giving the title, the headline, the author, the release number, the date of compilation (that's the serial number: YYMMDD), and version numbers of the Inform components used to put the story together.</p>
<p><span class="boldface">3. Examples.</span> (a) Adding a line to the banner:</p>
<!-- START CODE "c6412" -->
<a id="c6412"></a><blockquote class="code"><p class="quoted">
After printing the banner text, say &quot;DRM authentication code: 13S-451-2034u75y65u%%a1248.&quot;
</p></blockquote>
<!-- END CODE -->
<p>(b) Simplifying the banner:</p>
<!-- START CODE "c6413" -->
<a id="c6413"></a><blockquote class="code"><p class="quoted">
Rule for printing the banner text: say &quot;Welcome.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s36" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s36" class="standardlink">Back to §18.36. Deciding whether all includes</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s38" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s38" class="standardlink">Onward to §18.38. Printing the player's obituary</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e35" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e35" class="standardlink">Example 382: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Bikini Atoll</b>&#160;&#160;&#160; Delaying the banner for later.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s38"></a>§18.38. Printing the player's obituary</p>
<p><span class="boldface">1. When it happens.</span> The obituary is the text &quot;*** You have died ***&quot; or similar, sometimes followed by a final score, if the appropriate use option (&quot;Use scoring.&quot;) is in force.</p>
<p><span class="boldface">2. The default behaviour.</span> Printing the aforementioned text, then the final score, and reducing the status line to a largely blank state.</p>
<p><span class="boldface">3. Examples.</span> Here's one way to add to the verdict of history:</p>
<!-- START CODE "c6414" -->
<a id="c6414"></a><blockquote class="code"><p class="quoted">
After printing the player's obituary: say &quot;And you visited [number of visited rooms] place[s].&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s37" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s37" class="standardlink">Back to §18.37. Printing the banner text</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s39" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s39" class="standardlink">Onward to §18.39. Amusing a victorious player</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e125" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e125" class="standardlink">Example 383: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Battle of Ridgefield</b>&#160;&#160;&#160; Completely replacing the endgame text and stopping the game without giving the player a chance to restart or restore.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e143" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e143" class="standardlink">Example 384: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Finality</b>&#160;&#160;&#160; Not mentioning UNDO in the final set of options.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e203" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e203" class="standardlink">Example 385: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Jamaica 1688</b>&#160;&#160;&#160; Adding a feature to the final question after victory, so that the player can choose to reveal notes about items in the game.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s39"></a>§18.39. Amusing a victorious player</p>
<p><span class="boldface">1. When it happens.</span> When the player chooses &quot;AMUSING&quot; from the short menu of choices after a story has been won. Traditionally, this is where the author gets to point out quirky by-ways of the story, or make some final acknowledgements, or simply salute the player's perseverance. Note that the AMUSING option is only offered when the story has ended finally, and that it is only offered if there is at least one rule present in the &quot;for amusing a victorious player&quot; rulebook.</p>
<p><span class="boldface">2. The default behaviour.</span> None. The &quot;for amusing a victorious player&quot; rulebook is empty by default, and no amusement is available.</p>
<p><span class="boldface">3. Examples.</span> The format would be like so:</p>
<!-- START CODE "c6415" -->
<a id="c6415"></a><blockquote class="code"><p class="quoted">
Rule for amusing a victorious player: say &quot;Hmm. You're easily amused.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s38" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s38" class="standardlink">Back to §18.38. Printing the player's obituary</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s40" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s40" class="standardlink">Onward to §18.40. Starting the virtual machine</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e9" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e9" class="standardlink">Example 386: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Xerxes</b>&#160;&#160;&#160; Offering the player a menu of things to read after winning the game.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s40"></a>§18.40. Starting the virtual machine</p>
<p><span class="boldface">1. When it happens.</span> This activity is provided solely as a &quot;hook&quot; for any low-level tasks which need to be performed when the virtual computer which runs Inform story files is starting up. This happens much earlier than &quot;when play begins&quot; rules, and should be used only as a last resort.</p>
<p>It should be remembered that Inform can produce story files for several different virtual computers. On some of these, it will not be safe to print any text during this activity, as the windows which would display such text do not yet exist.</p>
<p><span class="boldface">2. The default behaviour.</span> None.</p>
<p><span class="boldface">3. Examples.</span> No detailed examples will be given here, but the activity might be used (for instance) to set styles for the Glulx windows shortly to be brought into existence.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s39" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_18.html#s39" class="standardlink">Back to §18.39. Amusing a victorious player</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_19.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_19.html#s1" class="standardlink">Onward to Chapter 19: Rulebooks: §19.1. On rules</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#e39" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_18.html#e39" class="standardlink">Example 387: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Blankness</b>&#160;&#160;&#160; Emptying the status line during the first screen of the game.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 18: Activities</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_18.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_19.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_19.html" class="standardlink">Chapter 19: Rulebooks</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "334: Ant-Sensitive Sunglasses" "e12" -->
<a id="e12"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e12" class="eglink"><b>334</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e12" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ant-Sensitive Sunglasses</span></b></a><br />What are activities good for? Controlling output when we want the same action to be able to produce very flexible text depending on the state of the world -- in this case, making highly variable room description and object description text.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e12"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example12">
<p>Suppose we want to create an object -- or maybe even a series of objects -- that warp the player's perception of every room description and object around him.</p>
<p>We've already seen some ways to create variations in text. For instance, we could make a room description with if substitutions in it, like so:</p>
<!-- START CODE "c6416_12" -->
<a id="c6416_12"></a><blockquote class="code"><p class="quoted">
The Kitchen is a room. &quot;[if the player is wearing the sunglasses]Are ants coming out of the sink? No, probably no.[otherwise]A small kitchen tucked into a corner of the vacation house. There is storage space for five or six cups, a sink, a two-ring stove; nothing else to speak of.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<p>That works fine if we have one or two variations we want to add; it's not so good if we're going to have several items that work like the sunglasses, or if we want the sunglasses to override the description of every room in the house.</p>
<p>A slightly more flexible method is to use a substitution that calls out to a say phrase, like this:</p>
<!-- START CODE "c6417_12" -->
<a id="c6417_12"></a><blockquote class="code"><p class="quoted">
The Kitchen is a room. &quot;[kitchen-description]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6418_12" -->
<a id="c6418_12"></a><blockquote class="code"><p class="quoted">
To say kitchen-description:
<br />&#160;&#160;&#160;&#160;if the player is wearing the sunglasses:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Are ants coming out of the sink? No, probably no.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;A small kitchen tucked into a corner of the vacation house. There is storage space for five or six cups, a sink, a two-ring stove; nothing else to speak of.&quot;
</p></blockquote>
<!-- END CODE -->
<p>But again this doesn't handle the case of overriding multiple rooms at once very well.</p>
<p>When we reach a point where we need a given piece of text to be very flexible depending on the world model, it's time to use an activity.</p>
<p>Activities offer several advantages. One, we can create an activity like this:</p>
<!-- START CODE "c6419_12" -->
<a id="c6419_12"></a><blockquote class="code"><p class="quoted">
Printing the room-description of something is an activity.
</p></blockquote>
<!-- END CODE -->
<p>and then write a rule that applies to multiple rooms at once, like:</p>
<!-- START CODE "c6420_12" -->
<a id="c6420_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the room-description of a room when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;The walls look like they're covered with ants. Just a coincidence, I'm sure.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Inform's usual rule-ranking also means that more-specific rules will override less-specific ones, so we could add</p>
<!-- START CODE "c6421_12" -->
<a id="c6421_12"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Rule for printing the room-description of the Kitchen when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;Are ants coming out of the sink? No, probably not.&quot;
</p></blockquote>
<!-- END CODE -->
<p>and have that rule override the behavior of the activity just in the kitchen. Meanwhile, our base room descriptions remain straightforward and uncluttered by if-statements.</p>
<p>Several other examples will show how to hook activities into existing actions: Crusoe goes into detail about how how to make the descriptions of things more variable, and Aftershock demonstrates activities for describing the behavior of switchable devices.</p>
<p>Here, we preview all of those methods, just to get a sense of how they work and why they might be useful in controlling a game. Subsequent chapters go into more detail about the syntax of creating activities and the list of activities that are already defined by Inform.</p>
<!-- START CODE "c6422_12" -->
<a id="c6422_12"></a><blockquote class="code"><p class="quoted">
 &quot;Ant-Sensitive Sunglasses&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6423_12" -->
<a id="c6423_12"></a><blockquote class="code"><p class="quoted">
Part 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<p>To add a new activity to an existing Inform rule, we need to do three things:</p>
<p>1) Define our new activity.</p>
<p>2) Give a basic rule that says what is supposed to happen when that activity occurs, as in &quot;Rule for...&quot;</p>
<p>3) Replace the existing rule in Inform's rulebooks with a new one that calls on our activity.</p>
<p>Here we do this with examining:</p>
<!-- START CODE "c6424_12" -->
<a id="c6424_12"></a><blockquote class="code"><p class="quoted">
Section 1 - Item Description
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6425_12" -->
<a id="c6425_12"></a><blockquote class="code"><p class="quoted">
Printing the description of something is an activity.
</p></blockquote>
<!-- END CODE -->
<p>Now, by default, we want to print the description property; we just want the option to write some extra rules overriding that property. So we tell Inform that our most basic rule for printing the description of something is just to give that description text:</p>
<!-- START CODE "c6426_12" -->
<a id="c6426_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of something (called item):
<br />&#160;&#160;&#160;&#160;if the description of the item is not &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[description of item][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You see nothing special about [the item].&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Next, we need the standard examining rule to look at our printing-the-description activity:</p>
<!-- START CODE "c6427_12" -->
<a id="c6427_12"></a><blockquote class="code"><p class="quoted">
The activity-based examining rule is listed instead of the standard examining rule in the carry out examining rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6428_12" -->
<a id="c6428_12"></a><blockquote class="code"><p class="quoted">
This is the activity-based examining rule:
<br />&#160;&#160;&#160;&#160;carry out the printing the description activity with the noun;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>Now we do the same thing to room descriptions.</p>
<!-- START CODE "c6429_12" -->
<a id="c6429_12"></a><blockquote class="code"><p class="quoted">
Section 2 - Room Description
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6430_12" -->
<a id="c6430_12"></a><blockquote class="code"><p class="quoted">
Printing the room-description of something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6431_12" -->
<a id="c6431_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the room-description of a room (called item):
<br />&#160;&#160;&#160;&#160;if the description of the item is not &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[description of item][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6432_12" -->
<a id="c6432_12"></a><blockquote class="code"><p class="quoted">
The activity-based room description body text rule is listed instead of the room description body text rule in the carry out looking rules.
</p></blockquote>
<!-- END CODE -->
<p>Our replacement rule this time around is a little bit trickier just because the rule that we're replacing is a complicated one: describing a room already checks to see whether there's light to see by, whether the player has turned off room descriptions when he enters a room for the second time, and whether the player character is (say) inside a closed box he can't see out of.</p>
<p>But all of those details are re-copied from the standard rules, and the important thing is that, at the end, we again carry out our activity.</p>
<!-- START CODE "c6433_12" -->
<a id="c6433_12"></a><blockquote class="code"><p class="quoted">
This is the activity-based room description body text rule:
<br />&#160;&#160;&#160;&#160;if the visibility level count is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if set to abbreviated room descriptions, continue the action;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if set to sometimes abbreviated room descriptions and
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;abbreviated form allowed is true and
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;darkness witnessed is true,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;begin the printing the description of a dark room activity;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if handling the printing the description of a dark room activity,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It is pitch dark, and you can't see a thing.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the printing the description of a dark room activity;
<br />&#160;&#160;&#160;&#160;otherwise if the visibility ceiling is the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if set to abbreviated room descriptions, continue the action;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if set to sometimes abbreviated room descriptions and abbreviated form
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;allowed is true and the location is visited, continue the action;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the printing the room-description activity with the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6434_12" -->
<a id="c6434_12"></a><blockquote class="code"><p class="quoted">
Section 3 - Device Description
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6435_12" -->
<a id="c6435_12"></a><blockquote class="code"><p class="quoted">
Showing action of something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6436_12" -->
<a id="c6436_12"></a><blockquote class="code"><p class="quoted">
Rule for showing action of something (called item):
<br />&#160;&#160;&#160;&#160;if the item is switched on, say &quot;[The item] is switched on.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The item] is switched off.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6437_12" -->
<a id="c6437_12"></a><blockquote class="code"><p class="quoted">
The activity-based described devices rule is listed instead of the examine devices rule in the carry out examining rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6438_12" -->
<a id="c6438_12"></a><blockquote class="code"><p class="quoted">
This is the activity-based described devices rule:
<br />&#160;&#160;&#160;&#160;if the noun is a device:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the showing action activity with the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now examine text printed is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6439_12" -->
<a id="c6439_12"></a><blockquote class="code"><p class="quoted">
Report switching on something:
<br />&#160;&#160;&#160;&#160;say &quot;You flip a switch. &quot;;
<br />&#160;&#160;&#160;&#160;carry out the showing action activity with the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6440_12" -->
<a id="c6440_12"></a><blockquote class="code"><p class="quoted">
Part 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6441_12" -->
<a id="c6441_12"></a><blockquote class="code"><p class="quoted">
The Kitchen is a room. &quot;A small kitchen tucked into a corner of the vacation house. There is storage space for five or six cups, a sink, a two-ring stove; nothing else to speak of.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6442_12" -->
<a id="c6442_12"></a><blockquote class="code"><p class="quoted">
The microwave is a device in the Kitchen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6443_12" -->
<a id="c6443_12"></a><blockquote class="code"><p class="quoted">
South of the Kitchen is the Living Area. The description of the Living area is &quot;A whitewashed living/dining/reclining area in what used to be a shepherd's stone hut, but now costs vacationers 600 euros a week. It offers no mod cons, only a straight view of the Mediterranean and a wobbly writing table.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6444_12" -->
<a id="c6444_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the room-description of a room when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;The walls look like they're covered with ants. Just a coincidence, I'm sure[antsy].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6445_12" -->
<a id="c6445_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the room-description of the Kitchen when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;Are ants coming out of the sink? No, probably not[antsy].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6446_12" -->
<a id="c6446_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of something (called the item) when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;[The item] [are] [one of]ant-colored[or]ant-legged[or]covered in ants[at random][antsy].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6447_12" -->
<a id="c6447_12"></a><blockquote class="code"><p class="quoted">
Rule for showing action of the microwave:
<br />&#160;&#160;&#160;&#160;say &quot;The microwave hums meaningfully to itself.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6448_12" -->
<a id="c6448_12"></a><blockquote class="code"><p class="quoted">
Rule for showing action of the microwave when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;The microwave hums as though inhabited by a billion ants[antsy].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6449_12" -->
<a id="c6449_12"></a><blockquote class="code"><p class="quoted">
The player carries sunglasses of freakiness and an apple. The apple is edible. The sunglasses are wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6450_12" -->
<a id="c6450_12"></a><blockquote class="code"><p class="quoted">
ant-paranoia is a number that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6451_12" -->
<a id="c6451_12"></a><blockquote class="code"><p class="quoted">
To say antsy:
<br />&#160;&#160;&#160;&#160;increase ant-paranoia by 1;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6452_12" -->
<a id="c6452_12"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the ant-paranoia is greater than 3:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Augh! AUUUGH! GET THEM OFF--&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story saying &quot;You have lost your mind.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6453_12" -->
<a id="c6453_12"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / turn on microwave / turn off microwave / x apple / x sunglasses / s / wear sunglasses / look / x apple / n / turn on microwave&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "335: AARP-Gnosis" "e121" -->
<a id="e121"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e121" class="eglink"><b>335</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e121" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">AARP-Gnosis</span></b></a><br />An Encyclopedia set which treats volumes in the same place as a single object, but can also be split up.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e121"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example121">
<p>Suppose we have a complete Encyclopedia in our game. The player is allowed to pick up the whole set (there must not be too many volumes), but also to do things with individual volumes, and indeed to scatter these volumes all over the place. Putting a volume back in the same place as the rest of the Encyclopedia should, however, restore it to the collective. We will start out by defining general rules for collectives like this:</p>
<!-- START CODE "c6454_121" -->
<a id="c6454_121"></a><blockquote class="code"><p class="quoted">
&quot;AARP-Gnosis&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6455_121" -->
<a id="c6455_121"></a><blockquote class="code"><p class="quoted">
Fitting relates various things to one thing (called the home). The verb to fit means the fitting relation. Definition: a thing is missing if it is not part of the home of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6456_121" -->
<a id="c6456_121"></a><blockquote class="code"><p class="quoted">
A collective is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6457_121" -->
<a id="c6457_121"></a><blockquote class="code"><p class="quoted">
Before doing something to something which is part of a collective:
<br />&#160;&#160;&#160;&#160;let space be the holder of the home of the noun;
<br />&#160;&#160;&#160;&#160;move the noun to the space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6458_121" -->
<a id="c6458_121"></a><blockquote class="code"><p class="quoted">
Instead of examining a collective:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] consists of [the list of things which are part of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now the real work begins. One reason to make this an activity is that we might easily want to override it for specific objects; for instance, the generic collecting activity here would not deal properly with collectives of clothing where some items might be worn and others not. In that case, we would want to write another, more specific &quot;collecting&quot; activity to handle the complexities of fashion.</p>
<!-- START CODE "c6459_121" -->
<a id="c6459_121"></a><blockquote class="code"><p class="quoted">
Collecting something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6460_121" -->
<a id="c6460_121"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with item running through collectives:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the collecting activity with the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6461_121" -->
<a id="c6461_121"></a><blockquote class="code"><p class="quoted">
To remove (item - a thing) when empty:
<br />&#160;&#160;&#160;&#160;let space be the holder of the item;
<br />&#160;&#160;&#160;&#160;if the number of things which are part of the item is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is nowhere;
<br />&#160;&#160;&#160;&#160;if the number of things which are part of the item is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the last thing be a random thing which is part of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the last thing to the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6462_121" -->
<a id="c6462_121"></a><blockquote class="code"><p class="quoted">
Before collecting a thing (called the item):
<br />&#160;&#160;&#160;&#160;remove item when empty;
<br />&#160;&#160;&#160;&#160;let space be the holder of the item;
<br />&#160;&#160;&#160;&#160;if space is not a thing and space is not a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if something (called the other space) contains at least two things which fit the item, move item to the other space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a room (called the other space) contains at least two things which fit the item, move item to the other space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if someone (called the owner) carries at least two things which fit the item, move item to the owner.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6463_121" -->
<a id="c6463_121"></a><blockquote class="code"><p class="quoted">
Rule for collecting a thing (called the item):
<br />&#160;&#160;&#160;&#160;let space be the holder of the item;
<br />&#160;&#160;&#160;&#160;if space is a thing or space is a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with component running through things held by the space:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the component fits the item, now the component is part of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;remove item when empty.
</p></blockquote>
<!-- END CODE -->
<p>And now for a cheerful scenario:</p>
<!-- START CODE "c6464_121" -->
<a id="c6464_121"></a><blockquote class="code"><p class="quoted">
The Boise Memorial Library is a room. &quot;A concrete box of a room, roughly eight feet by fourteen, which contains all the fallout shelter has to offer by way of entertainment. Someone with a grim sense of humor has tacked a READ! literacy poster to the door, as though there were anything else to do while you await the calming of the Geiger counters.&quot; The shelf is a supporter in the Library. &quot;A battered utility shelf stands against the south wall.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6465_121" -->
<a id="c6465_121"></a><blockquote class="code"><p class="quoted">
The New Idahoan Encyclopedia Set is a collective. Volume A-Aalto fits the Encyclopedia. It is part of the Set. Volume AAM-Aardvark fits the Encyclopedia. It is part of the Set. Volume Aarhus-Aaron fits the Encyclopedia. It is part of the Set. Volume AARP-Gnosis fits the Encyclopedia. It is part of the Set. Volume Gnu-Zygote fits the Encyclopedia. It is part of the Set. The Set is on the shelf.
</p></blockquote>
<!-- END CODE -->
<p>Let's have the Encyclopedia describe itself differently depending on whether it's all in one place:</p>
<!-- START CODE "c6466_121" -->
<a id="c6466_121"></a><blockquote class="code"><p class="quoted">
After printing the name of the Set when something missing fits the Set:
<br />&#160;&#160;&#160;&#160;say &quot; (missing [a list of missing things which fit the Set])&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6467_121" -->
<a id="c6467_121"></a><blockquote class="code"><p class="quoted">
Before printing the name of the Set when the number of missing things which fit the set is 0:
<br />&#160;&#160;&#160;&#160;say &quot;complete &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6468_121" -->
<a id="c6468_121"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get aarhus-aaron / look / inventory / get aam-aardvark / look / get gnu-zygote / look / get aarp-gnosis / look / inventory / drop set / look / get set / get a-aalto / inventory&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "336: Aftershock" "e2" -->
<a id="e2"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e2" class="eglink"><b>336</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e2" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Aftershock</span></b></a><br />Modifying the rules for examining a device so that all devices have some specific behavior when switched on, which is described at various times.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e2"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example2">
<p>The built-in behavior of Inform is to print a line after a device is examined, saying whether the item is on or off. This is often inappropriate, and we could simply turn off that behavior in general by instructing Inform to ignore the &quot;examine described devices rule&quot; (see the chapter on rulebooks).</p>
<p>Perhaps, though, we would like continue to have a short passage about the action of any switched on device; we'd just like a little more control over what it says from time to time. And in that case, we might change the rule to give a new activity control over that portion of the description:</p>
<!-- START CODE "c6469_2" -->
<a id="c6469_2"></a><blockquote class="code"><p class="quoted">
&quot;Aftershock&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6470_2" -->
<a id="c6470_2"></a><blockquote class="code"><p class="quoted">
Section 1 - Showing actions
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6471_2" -->
<a id="c6471_2"></a><blockquote class="code"><p class="quoted">
Showing action of something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6472_2" -->
<a id="c6472_2"></a><blockquote class="code"><p class="quoted">
Rule for showing action of something (called item):
<br />&#160;&#160;&#160;&#160;if the item is switched on, say &quot;[The item] is switched on.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The item] is switched off.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Borrowing from the rulebooks chapter, we can replace the standard &quot;examine described devices&quot; rule with something that uses this activity.</p>
<!-- START CODE "c6473_2" -->
<a id="c6473_2"></a><blockquote class="code"><p class="quoted">
The new described devices rule is listed instead of the examine devices rule in the carry out examining rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6474_2" -->
<a id="c6474_2"></a><blockquote class="code"><p class="quoted">
This is the new described devices rule:
<br />&#160;&#160;&#160;&#160;if the noun is a device:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the showing action activity with the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now examine text printed is true.
</p></blockquote>
<!-- END CODE -->
<p>Thus far we have essentially replicated the original behavior, but we've made it possible to write specialized behavior for devices, and to invoke that behavior in other places:</p>
<!-- START CODE "c6475_2" -->
<a id="c6475_2"></a><blockquote class="code"><p class="quoted">
Report switching on something:
<br />&#160;&#160;&#160;&#160;say &quot;You flip a switch. &quot;;
<br />&#160;&#160;&#160;&#160;carry out the showing action activity with the noun instead.
</p></blockquote>
<!-- END CODE -->
<p>This might be useful for an electric lamp kind:</p>
<!-- START CODE "c6476_2" -->
<a id="c6476_2"></a><blockquote class="code"><p class="quoted">
Section 2 - Electric Lamps
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6477_2" -->
<a id="c6477_2"></a><blockquote class="code"><p class="quoted">
An electric lamp is a kind of device.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6478_2" -->
<a id="c6478_2"></a><blockquote class="code"><p class="quoted">
Rule for showing action of an electric lamp (called item):
<br />&#160;&#160;&#160;&#160;if the item is switched on, say &quot;[The item] is lit[if the number of visible lit things is greater than 1], competing with [the list of visible lit things which are not the item][end if].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The item] is dark.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6479_2" -->
<a id="c6479_2"></a><blockquote class="code"><p class="quoted">
Carry out switching on an electric lamp: now the noun is lit. Carry out switching off an electric lamp: now the noun is unlit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6480_2" -->
<a id="c6480_2"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6481_2" -->
<a id="c6481_2"></a><blockquote class="code"><p class="quoted">
The time of day is 3:47 AM. When play begins, now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6482_2" -->
<a id="c6482_2"></a><blockquote class="code"><p class="quoted">
The Downstairs Hallway is a dark room. &quot;The only room in the house with no furniture and almost nothing on the walls. At times like this you always notice the crack in the plaster, originating near the light fixture and running almost all the way to the wall.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6483_2" -->
<a id="c6483_2"></a><blockquote class="code"><p class="quoted">
A plastic jug of filtered water is in the Downstairs Hallway. The description is &quot;Five gallons, not that that will last you very long, hot as it has been lately.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6484_2" -->
<a id="c6484_2"></a><blockquote class="code"><p class="quoted">
The crack is scenery in the Hallway. The description is &quot;No, the ceiling isn't going to fall on you today.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6485_2" -->
<a id="c6485_2"></a><blockquote class="code"><p class="quoted">
The light fixture is an electric lamp in the Hallway. It is switched on, lit, and scenery. The description is &quot;A plain globe of frosted glass containing the light bulb. Nothing special, and you never think about it except when, as now, you are forced to spend hours in this room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6486_2" -->
<a id="c6486_2"></a><blockquote class="code"><p class="quoted">
The flashlight is an electric lamp carried by the player. The description is &quot;A shiny red flashlight.&quot; The portable radio is a device carried by the player. The description is &quot;A small battery-operated radio which you received for free with your subscription to US News &amp; World Report. It has served you well through many earthquakes past.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And with our activity, we can override the flashlight's electric lamp behavior with new behavior:</p>
<!-- START CODE "c6487_2" -->
<a id="c6487_2"></a><blockquote class="code"><p class="quoted">
Rule for showing action of the flashlight:
<br />&#160;&#160;&#160;&#160;if the flashlight is switched on, say &quot;A strong, narrow beam of light shines from the flashlight.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;It is currently switched off.&quot;
</p></blockquote>
<!-- END CODE -->
<p>...or give special actions for the radio:</p>
<!-- START CODE "c6488_2" -->
<a id="c6488_2"></a><blockquote class="code"><p class="quoted">
Rule for showing action of the radio:
<br />&#160;&#160;&#160;&#160;if the radio is switched on, say &quot;Through the static, you pick up pieces of discussion: a 6.7 on the Richter scale, epicenter... something about Topanga... but it crackles out again.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;The radio is silent. You're saving the batteries.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6489_2" -->
<a id="c6489_2"></a><blockquote class="code"><p class="quoted">
Instead of listening in the presence of the switched on radio:
<br />&#160;&#160;&#160;&#160;carry out the showing action activity with the radio instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6490_2" -->
<a id="c6490_2"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine light / switch light off / switch flashlight on / switch radio on / examine radio / examine flashlight&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "337: Crusoe" "e99" -->
<a id="e99"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e99" class="eglink"><b>337</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e99" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Crusoe</span></b></a><br />Adding a "printing the description of something" activity.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e99"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example99">
<p>Suppose we want to add rules so that any time we examine a charred object (and most of our objects can be charred), a line about the charring is appended to the end of the object description. We could use &quot;after examining...&quot;, but perhaps we would prefer for the sentence about the charring not to appear in its own paragraph.</p>
<p>This is an ideal occasion for a new activity. We look at the action index for &quot;examining&quot; to identify the rule that causes the old behavior (in this case, the &quot;standard examining rule&quot;); replace this with a new rule that calls our activity; and write our &quot;printing the description&quot; activity in such a way that it uses an object's description without forcing a paragraph return afterward.</p>
<p>Then we will use &quot;after printing the description&quot; to add our line about charring, and make sure that the paragraph return does occur before the prompt.</p>
<p>So:</p>
<!-- START CODE "c6491_99" -->
<a id="c6491_99"></a><blockquote class="code"><p class="quoted">
&quot;Crusoe&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6492_99" -->
<a id="c6492_99"></a><blockquote class="code"><p class="quoted">
Section 1 - Creating our New Activity
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6493_99" -->
<a id="c6493_99"></a><blockquote class="code"><p class="quoted">
The fancy examining rule is listed instead of the standard examining rule in the carry out examining rules.
</p></blockquote>
<!-- END CODE -->
<p>This instruction replaces a normal piece of the examine action, the standard examining rule, with another one of our own devising. (The replacement of the standard examining rule will be explained in more detail in the chapter on rulebooks.)</p>
<!-- START CODE "c6494_99" -->
<a id="c6494_99"></a><blockquote class="code"><p class="quoted">
Printing the description of something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6495_99" -->
<a id="c6495_99"></a><blockquote class="code"><p class="quoted">
This is the fancy examining rule:
<br />&#160;&#160;&#160;&#160;carry out the printing the description activity with the noun;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>All we have done here is enclose what is usually just a rule inside an activity. This means that we can now write before and after rules for the activity, and also add special instructions like &quot;Rule for printing the name of something while printing the description of something&quot; -- this may not be likely to arise often, but Inform now has the concept of &quot;printing the description of something&quot; as a separate context of action. Next we add the modification that lets us append to the description without a new line:</p>
<!-- START CODE "c6496_99" -->
<a id="c6496_99"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of something (called item):
<br />&#160;&#160;&#160;&#160;if the description of the item is not &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[description of item] [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You see nothing special about [the item]. [run paragraph on]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>&quot;run paragraph on&quot; here will mean that we do not get a paragraph break following the description, even if it ends with a period. We also insert a space, so that our follow-on comments will be properly punctuated.</p>
<!-- START CODE "c6497_99" -->
<a id="c6497_99"></a><blockquote class="code"><p class="quoted">
After printing the description of something charred:
<br />&#160;&#160;&#160;&#160;say &quot;It is charred.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>The instead at the end of this line stops Inform for going on with any other &quot;after printing the description of...&quot; rules.</p>
<p>The standard library also has rules for printing additional text about containers and supporters with visible contents, and devices that are switched on; with this current system, we could add those as &quot;after printing the description&quot; rules as well, building up a complete paragraph if we wanted. But for simplicity we won't exemplify all of that here. The effects would be much the same as with the &quot;charred&quot; line.</p>
<p>Now, because we want to make sure that we always do get a paragraph break after our description, we add this rule last after all the other rules. &quot;Last&quot; and &quot;first&quot; rules are covered in more detail in the chapter on rulebooks.</p>
<!-- START CODE "c6498_99" -->
<a id="c6498_99"></a><blockquote class="code"><p class="quoted">
Last after printing the description of something:
<br />&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6499_99" -->
<a id="c6499_99"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6500_99" -->
<a id="c6500_99"></a><blockquote class="code"><p class="quoted">
The Desert Isle is a room. &quot;A pale expanse of sand, here and there developing into hillocks of grass, and a small clump of palms. The water is shallow here, and there are other islands within swimming distance -- or even wading distance, perhaps -- but none of them is any larger than your island, so it doesn't seem worth the trouble of visiting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6501_99" -->
<a id="c6501_99"></a><blockquote class="code"><p class="quoted">
A few hundred feet out, the water turns darker blue, the sea floor drops away, and there is nothing to be seen all the way down to the horizon, except a couple of fluffy clouds, and an occasional bird.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6502_99" -->
<a id="c6502_99"></a><blockquote class="code"><p class="quoted">
The remains of your fire smolder in the stone-lined pit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6503_99" -->
<a id="c6503_99"></a><blockquote class="code"><p class="quoted">
A thing can be charred or whole. A thing is usually whole. Instead of burning something: say &quot;You hold [the noun] to the fire until it flares and chars.&quot;; now the noun is charred.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6504_99" -->
<a id="c6504_99"></a><blockquote class="code"><p class="quoted">
The player carries a stick. The description of the stick is &quot;A strip of palm from the woodiest part of the leaf, about a foot and a half long.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6505_99" -->
<a id="c6505_99"></a><blockquote class="code"><p class="quoted">
The player carries a glass bottle and a piece of paper. The description of the paper is &quot;A single blank sheet.&quot; In the glass bottle is a grain of sand. The glass bottle is openable and open. Instead of burning the glass bottle: say &quot;You hold the bottle to the flame, but it grows uncomfortably warm.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6506_99" -->
<a id="c6506_99"></a><blockquote class="code"><p class="quoted">
Instead of burning the grain of sand: say &quot;You drop the grain into the fire pit, where it becomes indistinguishable from all the others.&quot;; now the grain of sand is nowhere. Instead of dropping the grain of sand: now the grain of sand is nowhere; say &quot;You return the grain of sand to its brethren.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The player's description is handled in an unusual way, and this will produce a space paragraph break there where it should not. Instead, therefore, we will add an instead for examining the player (probably a good idea anyway):</p>
<!-- START CODE "c6507_99" -->
<a id="c6507_99"></a><blockquote class="code"><p class="quoted">
Instead of examining the player:
<br />&#160;&#160;&#160;&#160;say &quot;You are sunburned and there is sand in cracks you didn't know existed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6508_99" -->
<a id="c6508_99"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / x stick / x bottle / x sand / x paper / x me / burn stick / x stick / burn paper / x paper&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The &quot;printing a description&quot; activity may be useful for other games, and can be imported just by lifting section 1.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "338: Hays Code" "e185" -->
<a id="e185"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e185" class="eglink"><b>338</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e185" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hays Code</span></b></a><br />Clark Gable in a pin-striped suit and a pink thong.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e185"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example185">
<p>The following burlesque was considered too much for the tender readers of Chapter 3, since it involved explicit use of listing and persuasion:</p>
<!-- START CODE "c6509_185" -->
<a id="c6509_185"></a><blockquote class="code"><p class="quoted">
&quot;Hays Code&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6510_185" -->
<a id="c6510_185"></a><blockquote class="code"><p class="quoted">
The Movie Set is a room. Clark Gable is a man in the Movie Set. &quot;Clark leans on a polystyrene pillar, wearing [a list of unconcealed things worn by Clark] with his usual aplomb.&quot; Persuasion rule for asking Clark to try doing something: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6511_185" -->
<a id="c6511_185"></a><blockquote class="code"><p class="quoted">
Clark is wearing a pin-striped suit and a pink thong. Rule for deciding the concealed possessions of Clark: if the particular possession is the thong and Clark is wearing the suit, yes; otherwise no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6512_185" -->
<a id="c6512_185"></a><blockquote class="code"><p class="quoted">
Test me with &quot;clark, remove suit / look / clark, remove thong / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "339: Shipping Trunk" "e351" -->
<a id="e351"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e351" class="eglink"><b>339</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e351" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Shipping Trunk</span></b></a><br />A box of baking soda whose name changes to "completely ineffective baking soda" when it is in a container with something that smells funny.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e351"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example351">
<p>First to lay some groundwork:</p>
<!-- START CODE "c6513_351" -->
<a id="c6513_351"></a><blockquote class="code"><p class="quoted">
&quot;Shipping Trunk&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6514_351" -->
<a id="c6514_351"></a><blockquote class="code"><p class="quoted">
A chest is a kind of container. A chest is always openable. A lid is a kind of supporter. A lid is part of every chest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6515_351" -->
<a id="c6515_351"></a><blockquote class="code"><p class="quoted">
Before opening a chest when something (called the obstruction) is on a lid which is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;Better remove [the obstruction].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6516_351" -->
<a id="c6516_351"></a><blockquote class="code"><p class="quoted">
A thing can be innocent or smelly.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6517_351" -->
<a id="c6517_351"></a><blockquote class="code"><p class="quoted">
The Storage Unit is a room. The shipping trunk is a closed chest in the Storage Unit. The trunk contains some garlic, a loaf of moldy sourdough, a mildewy bathtowel, a pair of unwashed socks, two dead trout, and a box of baking powder. The garlic, trout, sourdough, bathtowel, and socks are smelly. The baking powder is innocent.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6518_351" -->
<a id="c6518_351"></a><blockquote class="code"><p class="quoted">
The shipping trunk's lid supports a small card. The description of the small card is &quot;'Please, please do not open this trunk.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6519_351" -->
<a id="c6519_351"></a><blockquote class="code"><p class="quoted">
After opening the trunk:
<br />&#160;&#160;&#160;&#160;if the trunk had been open:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You steel yourself...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There roils up from inside an indescribable funk, which, when you can see straight, you have no trouble attributing to the presence of [a list of smelly things in the trunk]. You also note [a list of innocent things in the trunk] in the corner.&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And now, with that preparation:</p>
<!-- START CODE "c6520_351" -->
<a id="c6520_351"></a><blockquote class="code"><p class="quoted">
Before printing the name of the baking powder when the powder is in a container which contains a smelly thing: say &quot;completely ineffective &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6521_351" -->
<a id="c6521_351"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open trunk / examine card / get card / open trunk / get powder / inventory&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "340: Trachypachidae Maturin 1803" "e364" -->
<a id="e364"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e364" class="eglink"><b>340</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e364" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Trachypachidae Maturin 1803</span></b></a><br />Bottles with removable stoppers: when the stopper is in the bottle, the bottle is functionally closed, but the stopper can also be removed and used elsewhere. Descriptions of the bottle reflect its state intelligently.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e364"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example364">
<!-- START CODE "c6522_364" -->
<a id="c6522_364"></a><blockquote class="code"><p class="quoted">
&quot;Trachypachidae Maturin 1803&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6523_364" -->
<a id="c6523_364"></a><blockquote class="code"><p class="quoted">
A bottle is a kind of container. Bottles are usually openable, transparent, and closed. A cork is a kind of thing. A cork is in every bottle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6524_364" -->
<a id="c6524_364"></a><blockquote class="code"><p class="quoted">
Understand &quot;cork [something]&quot; as corking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6525_364" -->
<a id="c6525_364"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;stopper&quot; as &quot;cork&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6526_364" -->
<a id="c6526_364"></a><blockquote class="code"><p class="quoted">
Understand &quot;uncork [something]&quot; as uncorking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6527_364" -->
<a id="c6527_364"></a><blockquote class="code"><p class="quoted">
Corking is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6528_364" -->
<a id="c6528_364"></a><blockquote class="code"><p class="quoted">
Check corking:
<br />&#160;&#160;&#160;&#160;if the noun is not a bottle, say &quot;[The noun] cannot be corked.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6529_364" -->
<a id="c6529_364"></a><blockquote class="code"><p class="quoted">
Carry out corking:
<br />&#160;&#160;&#160;&#160;try closing the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6530_364" -->
<a id="c6530_364"></a><blockquote class="code"><p class="quoted">
Uncorking is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6531_364" -->
<a id="c6531_364"></a><blockquote class="code"><p class="quoted">
Check uncorking:
<br />&#160;&#160;&#160;&#160;if the noun is not a bottle, say &quot;[The noun] cannot be uncorked.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6532_364" -->
<a id="c6532_364"></a><blockquote class="code"><p class="quoted">
Carry out uncorking:
<br />&#160;&#160;&#160;&#160;try opening the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6533_364" -->
<a id="c6533_364"></a><blockquote class="code"><p class="quoted">
Understand &quot;close [something] with [something preferably held]&quot; as corking it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6534_364" -->
<a id="c6534_364"></a><blockquote class="code"><p class="quoted">
Understand &quot;cork [something] with [something preferably held]&quot; as corking it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6535_364" -->
<a id="c6535_364"></a><blockquote class="code"><p class="quoted">
Corking it with is an action applying to one thing and one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6536_364" -->
<a id="c6536_364"></a><blockquote class="code"><p class="quoted">
Check corking it with:
<br />&#160;&#160;&#160;&#160;if the noun is not a bottle, say &quot;[The noun] cannot be corked.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a cork, say &quot;[The second noun] will not fit in [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6537_364" -->
<a id="c6537_364"></a><blockquote class="code"><p class="quoted">
Carry out corking it with:
<br />&#160;&#160;&#160;&#160;try inserting the second noun into the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6538_364" -->
<a id="c6538_364"></a><blockquote class="code"><p class="quoted">
Instead of closing a bottle:
<br />&#160;&#160;&#160;&#160;if a cork (called the item) is carried by the player, try inserting the item into the noun instead;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You need a stopper of some kind.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6539_364" -->
<a id="c6539_364"></a><blockquote class="code"><p class="quoted">
Instead of opening a bottle:
<br />&#160;&#160;&#160;&#160;if a cork (called the item) is in the noun, try taking the item instead;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The noun] has no stopper.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6540_364" -->
<a id="c6540_364"></a><blockquote class="code"><p class="quoted">
Carry out inserting a cork into a bottle:
<br />&#160;&#160;&#160;&#160;now the second noun is closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6541_364" -->
<a id="c6541_364"></a><blockquote class="code"><p class="quoted">
After inserting a cork into a bottle:
<br />&#160;&#160;&#160;&#160;say &quot;You stopper [the second noun] with [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6542_364" -->
<a id="c6542_364"></a><blockquote class="code"><p class="quoted">
Before taking a cork when the noun is in a closed bottle (called the item):
<br />&#160;&#160;&#160;&#160;now the item is open.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6543_364" -->
<a id="c6543_364"></a><blockquote class="code"><p class="quoted">
Instead of taking a cork when the noun is in a bottle (called the item):
<br />&#160;&#160;&#160;&#160;move the noun to the player;
<br />&#160;&#160;&#160;&#160;say &quot;You pull [the noun] from [the item].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6544_364" -->
<a id="c6544_364"></a><blockquote class="code"><p class="quoted">
Before printing the name of a bottle (called target) while not inserting, taking, searching, or removing:
<br />&#160;&#160;&#160;&#160;if the target is closed, say &quot;sealed &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;now open &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6545_364" -->
<a id="c6545_364"></a><blockquote class="code"><p class="quoted">
After printing the name of a bottle (called target) while not inserting, searching, examining, or removing:
<br />&#160;&#160;&#160;&#160;if the target contains a noncork thing, say &quot; containing [a list of noncork things in the target]&quot;;
<br />&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6546_364" -->
<a id="c6546_364"></a><blockquote class="code"><p class="quoted">
Instead of examining a bottle:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] contains [a list of noncork things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6547_364" -->
<a id="c6547_364"></a><blockquote class="code"><p class="quoted">
Definition: a thing is noncork if it is not a cork.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6548_364" -->
<a id="c6548_364"></a><blockquote class="code"><p class="quoted">
The Doctor's Cabin is a room. &quot;A dark, cramped triangle, like a slice of cake, except that its sharp end has been cut off: and so low that a moderately tall man would strike his head on the deck above if he were to stand upright. Every free surface is covered with sheets of best Venetian looking-glass, to increase the light filtering in. Long use and the carpenter's ingenuity have packed in a folding cot and table, and lockers are built into unlikely places: lockers filled with specimens, skeletons, sketches, drafts and serial letters.&quot; The jug is a bottle in the Doctor's Cabin. The jug contains a beetle. The description of the beetle is &quot;The doctor assures you that it is a nondescript.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6549_364" -->
<a id="c6549_364"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get jug / x jug / open jug / x jug / i / x cork / cork jug / i / uncork jug / i / x jug / get beetle / i / close jug / i / x jug&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "341: Chronic Hinting Syndrome" "e78" -->
<a id="e78"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e78" class="eglink"><b>341</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e78" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Chronic Hinting Syndrome</span></b></a><br />Using name-printing rules to keep track of whether the player knows about objects, and also to highlight things he might want to follow up.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e78"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example78">
<p>Suppose we have a conversation system in which it is important to keep track of which subjects the player has heard mentioned. If we're careful to mark subjects in brackets, we can use the &quot;printing the name of&quot; activity to record which things have been mentioned so far:</p>
<!-- START CODE "c6550_78" -->
<a id="c6550_78"></a><blockquote class="code"><p class="quoted">
&quot;Chronic Hinting Syndrome&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6551_78" -->
<a id="c6551_78"></a><blockquote class="code"><p class="quoted">
A subject is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6552_78" -->
<a id="c6552_78"></a><blockquote class="code"><p class="quoted">
Knowledge relates various people to various subjects. The verb to know means the knowledge relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6553_78" -->
<a id="c6553_78"></a><blockquote class="code"><p class="quoted">
Awareness relates various people to various subjects. The verb to be aware of means the awareness relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6554_78" -->
<a id="c6554_78"></a><blockquote class="code"><p class="quoted">
Definition: a subject is pending if the player is aware of it and it is not known by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6555_78" -->
<a id="c6555_78"></a><blockquote class="code"><p class="quoted">
Instead of thinking:
<br />&#160;&#160;&#160;&#160;if the number of pending subjects is 0, say &quot;You have no fresh leads at the moment.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You recall that thus far you have not followed up with questions about [the list of pending subjects].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6556_78" -->
<a id="c6556_78"></a><blockquote class="code"><p class="quoted">
After printing the name of a subject (called idea):
<br />&#160;&#160;&#160;&#160;now the player is aware of the idea.
</p></blockquote>
<!-- END CODE -->
<p>Now suppose that as an added convenience for the player, we let him turn on a mode in which useful conversation topics are always automatically highlighted in the text, so he doesn't waste his time trying to follow up dead leads:</p>
<!-- START CODE "c6557_78" -->
<a id="c6557_78"></a><blockquote class="code"><p class="quoted">
Setting is a kind of value. The settings are bright and dull. Understand &quot;on&quot; as bright. Understand &quot;off&quot; as dull.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6558_78" -->
<a id="c6558_78"></a><blockquote class="code"><p class="quoted">
Highlighting is a setting that varies. Highlighting is dull.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6559_78" -->
<a id="c6559_78"></a><blockquote class="code"><p class="quoted">
Understand &quot;highlighting [setting]&quot; as setting highlighting. Setting highlighting is an action out of world, applying to one setting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6560_78" -->
<a id="c6560_78"></a><blockquote class="code"><p class="quoted">
Carry out setting highlighting:
<br />&#160;&#160;&#160;&#160;now highlighting is the setting understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6561_78" -->
<a id="c6561_78"></a><blockquote class="code"><p class="quoted">
Report setting highlighting:
<br />&#160;&#160;&#160;&#160;say &quot;Highlighting is now [if highlighting is dull]off[otherwise]on[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6562_78" -->
<a id="c6562_78"></a><blockquote class="code"><p class="quoted">
Before printing the name of a subject (called idea) when highlighting is bright:
<br />&#160;&#160;&#160;&#160;unless the player knows the idea:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[bold type]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6563_78" -->
<a id="c6563_78"></a><blockquote class="code"><p class="quoted">
After printing the name of a subject when highlighting is bright:
<br />&#160;&#160;&#160;&#160;say &quot;[roman type]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>...And the rest is peripheral.</p>
<!-- START CODE "c6564_78" -->
<a id="c6564_78"></a><blockquote class="code"><p class="quoted">
The Sickbay is a room. &quot;A place arranged for Nathan's comfort, since his sickness has been prolonged and because he becomes so irritating when not comfortable.&quot; The Hallway is outside from the Sickbay.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6565_78" -->
<a id="c6565_78"></a><blockquote class="code"><p class="quoted">
A supporter can be untried or rejected. A supporter is usually untried.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6566_78" -->
<a id="c6566_78"></a><blockquote class="code"><p class="quoted">
The Sickbay contains a wobbly pedestal, a table, and a sickbed. Understand &quot;bed&quot; as the sickbed. The pedestal, the table, and the sickbed are supporters. Nathan is a man on the sickbed. The sickbed is scenery. The initial appearance of the wobbly pedestal is &quot;A wobbly pedestal near the door has sometimes been known to support vases of flowers, but is currently bare.&quot; The initial appearance of the table is &quot;There is also a table of a more ordinary sort.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6567_78" -->
<a id="c6567_78"></a><blockquote class="code"><p class="quoted">
Nathan can be active or passive.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6568_78" -->
<a id="c6568_78"></a><blockquote class="code"><p class="quoted">
After printing the name of Nathan: now Nathan is passive.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6569_78" -->
<a id="c6569_78"></a><blockquote class="code"><p class="quoted">
Instead of putting the sculpture on the table:
<br />&#160;&#160;&#160;&#160;now the table is rejected;
<br />&#160;&#160;&#160;&#160;say &quot;'[Not there],' [Nathan] snaps. 'The table is way too far from the sickbed.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6570_78" -->
<a id="c6570_78"></a><blockquote class="code"><p class="quoted">
Instead of putting the sculpture on the sickbed:
<br />&#160;&#160;&#160;&#160;now the sickbed is rejected;
<br />&#160;&#160;&#160;&#160;say &quot;'[Not there],' [Nathan] rebukes you. 'You don't want me knocking it over if I roll around. In pain.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6571_78" -->
<a id="c6571_78"></a><blockquote class="code"><p class="quoted">
Instead of putting the sculpture on the pedestal:
<br />&#160;&#160;&#160;&#160;now the pedestal is rejected;
<br />&#160;&#160;&#160;&#160;say &quot;The pedestal starts to wobble so ominously that you don't dare let go.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6572_78" -->
<a id="c6572_78"></a><blockquote class="code"><p class="quoted">
'[Not there],' says [Nathan]. 'That thing is falling apart.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6573_78" -->
<a id="c6573_78"></a><blockquote class="code"><p class="quoted">
Before putting something on the down: try dropping the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6574_78" -->
<a id="c6574_78"></a><blockquote class="code"><p class="quoted">
To say not there:
<br />&#160;&#160;&#160;&#160;if all the supporters are rejected:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Look, the floor would be fine&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the number of rejected supporters is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Yeah, anywhere but there, I'm afraid&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Come on, use your head -- I can't be watching you all the time, I'm sick&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6575_78" -->
<a id="c6575_78"></a><blockquote class="code"><p class="quoted">
Instead of going outside when the player is carrying the sculpture:
<br />&#160;&#160;&#160;&#160;say &quot;You've still got this sculpture to get rid of.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6576_78" -->
<a id="c6576_78"></a><blockquote class="code"><p class="quoted">
Instead of going outside when the breakage is pending:
<br />&#160;&#160;&#160;&#160;say &quot;You can't very well smash in front of [Nathan] his prize sculpture and then just scamper off without saying something. Appealing though the thought is at the moment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6577_78" -->
<a id="c6577_78"></a><blockquote class="code"><p class="quoted">
Instead of going outside when a subject which is not the breakage is pending:
<br />&#160;&#160;&#160;&#160;say &quot;'Yeah, go ahead,' says [Nathan], with a martyr-like air. 'It's probably best that you don't hear about [the random pending subject]. It's not something I'd go into normally.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6578_78" -->
<a id="c6578_78"></a><blockquote class="code"><p class="quoted">
The breakage is a subject. The description is &quot;It's not a big deal. I'll just buy a new [mental wave generator].' A slight awkward pause. 'I mean, this one was a [gift], but don't worry about it&quot;. Understand &quot;accident&quot; or &quot;smashing&quot; or &quot;breaking&quot; or &quot;shard&quot; or &quot;mishap&quot; or &quot;shards&quot; or &quot;mistake&quot; as the breakage. Understand &quot;sculpture&quot; as the breakage when the player is not carrying the sculpture.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6579_78" -->
<a id="c6579_78"></a><blockquote class="code"><p class="quoted">
Instead of saying sorry in the presence of Nathan when the player is aware of the breakage:
<br />&#160;&#160;&#160;&#160;try asking Nathan about the matter of breakage.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6580_78" -->
<a id="c6580_78"></a><blockquote class="code"><p class="quoted">
Instead of asking Nathan to try saying sorry when the player is aware of the breakage:
<br />&#160;&#160;&#160;&#160;try asking Nathan about the matter of breakage.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6581_78" -->
<a id="c6581_78"></a><blockquote class="code"><p class="quoted">
The mental wave generator is a subject. The description is &quot;They're kind of expensive but I can save up. I really need one, though, because of my [dreams]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6582_78" -->
<a id="c6582_78"></a><blockquote class="code"><p class="quoted">
The dreams is a subject. The description is &quot;They're not the kind of dream you want to have.' He closes his eyes and contemplates these undesirable dreams. 'Have you ever woken up convinced you were dead? No, probably not. Well... At any rate, I need the [generator]. Oh, don't worry, they're expensive but not so expensive that I won't be able to save up for another, in a few months&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6583_78" -->
<a id="c6583_78"></a><blockquote class="code"><p class="quoted">
The gift is a subject. The description is &quot;[The mental wave generator] was a present from a girl named [Shari]. Actually I'm not sure she'd take to being called a girl&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6584_78" -->
<a id="c6584_78"></a><blockquote class="code"><p class="quoted">
Shari is a subject. The description is &quot;Look, let's just not go into it, okay? I don't really want to relive all that right now. I still have a six-inch [scar] shaped like a banana in the middle of my back&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6585_78" -->
<a id="c6585_78"></a><blockquote class="code"><p class="quoted">
The scar is a subject.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6586_78" -->
<a id="c6586_78"></a><blockquote class="code"><p class="quoted">
Instead of asking Nathan about the matter of the scar:
<br />&#160;&#160;&#160;&#160;say &quot;Nathan clears his throat, lowers his voice, and begins to tell you the story...&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;End of Demo -- Register to Continue!!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6587_78" -->
<a id="c6587_78"></a><blockquote class="code"><p class="quoted">
Understand &quot;ask [someone] about [any subject]&quot; as asking it about the matter of.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6588_78" -->
<a id="c6588_78"></a><blockquote class="code"><p class="quoted">
Asking it about the matter of is an action applying to one thing and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6589_78" -->
<a id="c6589_78"></a><blockquote class="code"><p class="quoted">
Check asking it about the matter of:
<br />&#160;&#160;&#160;&#160;if the player is not aware of the second noun, say &quot;What [second noun]?&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun does not know the second noun, say &quot;'I've no idea,' replies [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player knows the second noun, say &quot;You've already covered that. The response was '[description of the second noun].'&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6590_78" -->
<a id="c6590_78"></a><blockquote class="code"><p class="quoted">
Carry out asking it about the matter of:
<br />&#160;&#160;&#160;&#160;now the player knows the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6591_78" -->
<a id="c6591_78"></a><blockquote class="code"><p class="quoted">
Report asking it about the matter of:
<br />&#160;&#160;&#160;&#160;say &quot;'[description of the second noun],' says [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6592_78" -->
<a id="c6592_78"></a><blockquote class="code"><p class="quoted">
Instead of telling Nathan about something:
<br />&#160;&#160;&#160;&#160;say &quot;He pinches the bridge of his nose. 'I can't really follow this right now,' he says. 'I'm sorry.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6593_78" -->
<a id="c6593_78"></a><blockquote class="code"><p class="quoted">
Instead of asking Nathan about something:
<br />&#160;&#160;&#160;&#160;say &quot;He shrugs weakly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6594_78" -->
<a id="c6594_78"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;'Just put that down anywhere,' says [Nathan], as you come into the room. He's sitting in the sickbed with his legs straight out in front of him. 'I don't care where.' His voice is weak, but it sharpens up for the last remark: 'And don't make a lot of noise about it.'
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6595_78" -->
<a id="c6595_78"></a><blockquote class="code"><p class="quoted">
Considering that he woke you from a sound slumber to beg you to bring this thing over, his attitude is a bit much. You stare dubiously at the awkward crystal sculpture in your hands.&quot;;
<br />&#160;&#160;&#160;&#160;now Nathan knows every subject.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6596_78" -->
<a id="c6596_78"></a><blockquote class="code"><p class="quoted">
Instead of asking Nathan about something while the player carries the sculpture, say &quot;[Nathan] moans dramatically and refuses to be drawn into conversation.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6597_78" -->
<a id="c6597_78"></a><blockquote class="code"><p class="quoted">
The player is carrying an awkward crystal sculpture. Understand &quot;objet&quot; or &quot;objet de hideous&quot; as the sculpture. The description of the sculpture is &quot;It might possibly be natural, or it might be man-made. It might appeal to someone, but it is certainly not to your tastes.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6598_78" -->
<a id="c6598_78"></a><blockquote class="code"><p class="quoted">
Instead of showing the sculpture to Nathan:
<br />&#160;&#160;&#160;&#160;say &quot;'Please put it anywhere,' he says.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6599_78" -->
<a id="c6599_78"></a><blockquote class="code"><p class="quoted">
Instead of giving the sculpture to Nathan:
<br />&#160;&#160;&#160;&#160;say &quot;'No, it doesn't work if I touch it. That's why I couldn't-- well, just put it down.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6600_78" -->
<a id="c6600_78"></a><blockquote class="code"><p class="quoted">
After dropping the sculpture:
<br />&#160;&#160;&#160;&#160;now the player is aware of the breakage;
<br />&#160;&#160;&#160;&#160;now the sculpture is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;You are incredibly careful, but somehow the sculpture slips -- you might almost say slithers -- from your fingers and crashes into a thousand shards at the feet of [Nathan].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6601_78" -->
<a id="c6601_78"></a><blockquote class="code"><p class="quoted">
There is a tense silence.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6602_78" -->
<a id="c6602_78"></a><blockquote class="code"><p class="quoted">
Before reading a command: now Nathan is active.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6603_78" -->
<a id="c6603_78"></a><blockquote class="code"><p class="quoted">
Every turn while not asking:
<br />&#160;&#160;&#160;&#160;if Nathan is passive, rule succeeds;
<br />&#160;&#160;&#160;&#160;if the player is carrying the sculpture:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if showing or giving, rule succeeds;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[Nathan] opens one eye and stares at you meaningfully. He is waiting for you to deposit his objet de hideous somewhere.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if the breakage is pending:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if dropping, rule succeeds;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You're not quite sure where to begin, but you can't very well leave without making at least some remark on the smashing of the sculpture.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if a subject is pending:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose a random row in the Table of Offhand Reminiscences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[line entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6604_78" -->
<a id="c6604_78"></a><blockquote class="code"><p class="quoted">
Table of Offhand Reminiscences
<br />line
<br />&quot;'It actually is kind of a funny story about [the random pending subject],' [Nathan] remarks casually.&quot;
<br />&quot;[Nathan] chuckles under his breath. 'Man, I hadn't thought about [the random pending subject] in ages.'&quot;
<br />&quot;He glances sideways at you. 'It's nothing personal, you know, but I don't feel comfortable discussing [the random pending subject] with just anyone.'&quot;
<br />&quot;'I don't know why I brought up [the random pending subject] just now,' [Nathan] comments. 'Don't mention it to anyone, if you don't mind.'&quot;
<br />&quot;'Okay, see, the thing about [the random pending subject] is...'  [paragraph break]'Yes?' you ask, on cue.[paragraph break]'...never mind.'&quot;
<br />&quot;[Nathan] makes an explosive exasperated sound. 'Don't you want to ask me about [the random pending subject]?' he demands.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6605_78" -->
<a id="c6605_78"></a><blockquote class="code"><p class="quoted">
Test me with &quot;highlighting bright / put sculpture on pedestal / put it on table / put it on sickbed / drop it / think / ask nathan about breakage / think / ask him about generator / ask him about dreams / ask him about gift / ask him about shari / ask him about scar&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "342: Hudsucker Industries" "e194" -->
<a id="e194"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e194" class="eglink"><b>342</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e194" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hudsucker Industries</span></b></a><br />Letters which are described differently as a group, depending on whether the player has read none, some, or all of them, and on whether they are alike or unlike.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e194"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example194">
<p>In this scenario, the player starts with a bag full of unsorted letters. These can be polite or rude, but he won't know which until he has examined them. What's more, he is allowed to sort the letters, in which case a group of letters will be shown as (for instance) &quot;two polite letters&quot;; but a group of mixed letters, even if they have all been read, will be called &quot;unsorted letters&quot;.</p>
<p>Further, the player should be allowed to refer to sorted letters by tone, but not unsorted letters.</p>
<p>To do this, we'll need printing the name... and printing the plural name..., as well as some special understanding rules.</p>
<!-- START CODE "c6606_194" -->
<a id="c6606_194"></a><blockquote class="code"><p class="quoted">
&quot;Hudsucker Industries&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6607_194" -->
<a id="c6607_194"></a><blockquote class="code"><p class="quoted">
Tone is a kind of value. The tones are effusive, affectionate, polite, curt, and flamingly rude.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6608_194" -->
<a id="c6608_194"></a><blockquote class="code"><p class="quoted">
A letter is a kind of thing. The description of a letter is usually &quot;On inspection, it turns out to be quite [tone].&quot; A letter has a tone. The tone of a letter is usually polite.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6609_194" -->
<a id="c6609_194"></a><blockquote class="code"><p class="quoted">
A letter can be read or unread. A letter is usually unread. Carry out examining a letter: now the noun is read.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6610_194" -->
<a id="c6610_194"></a><blockquote class="code"><p class="quoted">
Before printing the name of a read letter: say &quot;[tone] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6611_194" -->
<a id="c6611_194"></a><blockquote class="code"><p class="quoted">
Before printing the name of an ungrouped letter: say &quot;random &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6612_194" -->
<a id="c6612_194"></a><blockquote class="code"><p class="quoted">
Before printing the plural name of a letter (called the subject):
<br />&#160;&#160;&#160;&#160;if the subject is grouped:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[tone] &quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the number of unread letters which are next to the subject is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;unsorted &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6613_194" -->
<a id="c6613_194"></a><blockquote class="code"><p class="quoted">
After printing the plural name of a letter (called the subject):
<br />&#160;&#160;&#160;&#160;if the number of read letters which are next to the subject is 0, say &quot; (all unread, at the moment)&quot; instead;
<br />&#160;&#160;&#160;&#160;if the number of unread letters which are next to the subject is greater than 0, say &quot; (some as yet unread)&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6614_194" -->
<a id="c6614_194"></a><blockquote class="code"><p class="quoted">
Proximity relates a thing (called X) to a thing (called Y) when the holder of X is the holder of Y. The verb to be next to means the proximity relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6615_194" -->
<a id="c6615_194"></a><blockquote class="code"><p class="quoted">
Definition: a letter is grouped:
<br />&#160;&#160;&#160;&#160;if it is unread, no;
<br />&#160;&#160;&#160;&#160;if the number of unread letters next to it is greater than 0, no;
<br />&#160;&#160;&#160;&#160;repeat with item running through letters which are next to it:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the tone of item is not the tone of it, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6616_194" -->
<a id="c6616_194"></a><blockquote class="code"><p class="quoted">
Definition: a letter is ungrouped if it is not grouped.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6617_194" -->
<a id="c6617_194"></a><blockquote class="code"><p class="quoted">
The Mailroom is a room. &quot;Usually a thrumming hive of bee-like workers, but you got in early to get a jump on the day's work.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6618_194" -->
<a id="c6618_194"></a><blockquote class="code"><p class="quoted">
The satchel is carried by the player. Two flamingly rude letters are in the satchel. Five polite letters are in the satchel.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6619_194" -->
<a id="c6619_194"></a><blockquote class="code"><p class="quoted">
The mail wall are fixed in place in the mailroom. &quot;Before you is a wall of mailboxes, including [a list of mailboxes which are part of the mail wall].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6620_194" -->
<a id="c6620_194"></a><blockquote class="code"><p class="quoted">
The plural of mailbox is mailboxes. A mailbox is a kind of container. The CEO box is a mailbox. The Hold box is a mailbox. The Trash box is a mailbox. Understand &quot;mailbox&quot; as a mailbox.
</p></blockquote>
<!-- END CODE -->
<p>Now, there's a good bit of interaction to streamline. We intend that the player will be taking letters from the satchel, reading them, and putting them (perhaps grouped) into boxes. Our interaction rules should assist in this process as much as possible. To start with, the player will be most likely to examine letters he hasn't read yet:</p>
<!-- START CODE "c6621_194" -->
<a id="c6621_194"></a><blockquote class="code"><p class="quoted">
Does the player mean examining a letter (called the subject):
<br />&#160;&#160;&#160;&#160;if we have examined the subject, it is very unlikely;
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<p>The rules about taking are more subtle: the player is more likely to want to take an ungrouped letter than a grouped one; he is more likely to want one from the satchel than not; and he is most unlikely to want to take a letter (grouped or ungrouped) that he is already holding.</p>
<!-- START CODE "c6622_194" -->
<a id="c6622_194"></a><blockquote class="code"><p class="quoted">
Does the player mean taking a letter (called subject) which is grouped:
<br />&#160;&#160;&#160;&#160;if the player carries the subject, it is very unlikely;
<br />&#160;&#160;&#160;&#160;if the subject is in the satchel, it is possible;
<br />&#160;&#160;&#160;&#160;it is unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6623_194" -->
<a id="c6623_194"></a><blockquote class="code"><p class="quoted">
Does the player mean taking a letter (called subject) which is ungrouped:
<br />&#160;&#160;&#160;&#160;if the player carries the subject, it is very unlikely;
<br />&#160;&#160;&#160;&#160;if the subject is in the satchel, it is very likely;
<br />&#160;&#160;&#160;&#160;it is possible.
</p></blockquote>
<!-- END CODE -->
<p>And finally, we will assume by default that anything other than examining or taking is most likely to apply to a letter he's already identified:</p>
<!-- START CODE "c6624_194" -->
<a id="c6624_194"></a><blockquote class="code"><p class="quoted">
Does the player mean doing something other than examining or taking with a letter (called the subject):
<br />&#160;&#160;&#160;&#160;if we have examined the subject, it is likely;
<br />&#160;&#160;&#160;&#160;it is unlikely.
</p></blockquote>
<!-- END CODE -->
<p>And we would also like to understand properties under the same circumstances as printing -- a letter will be identifiable as &quot;polite&quot; if it's already been read and it is either by itself or in a sorted stack of polite letters, but otherwise not. What's more, to make it possible to disambiguate commands in the other direction, we'll call any unsorted letter &quot;random&quot;, to represent that the player doesn't know what it is.</p>
<!-- START CODE "c6625_194" -->
<a id="c6625_194"></a><blockquote class="code"><p class="quoted">
Understand the tone property as referring to a letter when the item described is grouped. Understand &quot;random&quot; as a letter when the item described is ungrouped.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6626_194" -->
<a id="c6626_194"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every mailbox is part of the mail wall;
<br />&#160;&#160;&#160;&#160;repeat with switch count running from 1 to 5:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move a random letter to the satchel.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6627_194" -->
<a id="c6627_194"></a><blockquote class="code"><p class="quoted">
Test me with &quot;inventory / examine letter / get letter / i / put letter in ceo box / inventory / get letter / x letter / g / g / i / x letter / g / g / i / put letter in hold box / get letter / g / g / i&quot;.
</p></blockquote>
<!-- END CODE -->
<p>That last &quot;repeat&quot; is merely a device to shuffle the order of items in the satchel so that the player will not always encounter the letters in a neatly presorted order, despite our defining them that way. (Of course, that means that the test produced by TEST ME cannot be very exciting...)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "343: Prolegomena" "e302" -->
<a id="e302"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e302" class="eglink"><b>343</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e302" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Prolegomena</span></b></a><br />Replacing precise numbers with "some" or other quantifiers when too many objects are clustered together for the player to count at a glance.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e302"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example302">
<p>Room descriptions often make the player character out to be a bit of a savant, able to count whole stacks of items at a glance: &quot;You see 27 paper clips here.&quot;</p>
<p>We can adjust this behavior to our liking, though, with the printing a number... activity, as follows:</p>
<!-- START CODE "c6628_302" -->
<a id="c6628_302"></a><blockquote class="code"><p class="quoted">
 &quot;Prolegomena&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6629_302" -->
<a id="c6629_302"></a><blockquote class="code"><p class="quoted">
The Editor's Office is a room. The desk is a supporter in the Editor's Office.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6630_302" -->
<a id="c6630_302"></a><blockquote class="code"><p class="quoted">
A red pencil is a kind of thing. 12 red pencils are on the desk.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6631_302" -->
<a id="c6631_302"></a><blockquote class="code"><p class="quoted">
A letter is a kind of thing. 12 letters are on the desk. Understand &quot;correspondence&quot; as a letter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6632_302" -->
<a id="c6632_302"></a><blockquote class="code"><p class="quoted">
Rule for printing the plural name of a letter:
<br />&#160;&#160;&#160;&#160;if the listing group size is greater than 7, say &quot;correspondence&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;letters&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6633_302" -->
<a id="c6633_302"></a><blockquote class="code"><p class="quoted">
Rule for printing a number of something (called the target) when the listing group size is greater than 7:
<br />&#160;&#160;&#160;&#160;say &quot;[one of]some [or]various [or]an assortment of [at random]&quot;;
<br />&#160;&#160;&#160;&#160;carry out the printing the plural name activity with the target.
</p></blockquote>
<!-- END CODE -->
<p>This general rule can of course be overridden by more specific ones; for instance, if we want to take the opportunity to comment on the viewpoint character's appetite for instruments of correction:</p>
<!-- START CODE "c6634_302" -->
<a id="c6634_302"></a><blockquote class="code"><p class="quoted">
Rule for printing a number of red pencils (called the target) when the listing group size is greater than 10:
<br />&#160;&#160;&#160;&#160;carry out the printing the plural name activity with the target;
<br />&#160;&#160;&#160;&#160;say &quot; in nearly-sufficient quantity&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6635_302" -->
<a id="c6635_302"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get two letters / look / get a pencil / i / get pencil / g / g / look / i / get all / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "344: Unpeeled" "e275" -->
<a id="e275"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e275" class="eglink"><b>344</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e275" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Unpeeled</span></b></a><br />Calling an onion "a single yellow onion" when (and only when) it is being listed as the sole content of a room or container.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e275"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example275">
<!-- START CODE "c6636_275" -->
<a id="c6636_275"></a><blockquote class="code"><p class="quoted">
&quot;Unpeeled&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6637_275" -->
<a id="c6637_275"></a><blockquote class="code"><p class="quoted">
Scullery is a room. A sack is carried by the player. The sack contains a yellow onion. The player carries a cork.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6638_275" -->
<a id="c6638_275"></a><blockquote class="code"><p class="quoted">
Before printing the name of the onion while listing contents:
<br />&#160;&#160;&#160;&#160;if the holder of the onion contains exactly 1 thing, say &quot;single &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6639_275" -->
<a id="c6639_275"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / put cork in sack / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "345: Wesponses" "e432" -->
<a id="e432"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e432" class="eglink"><b>345</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e432" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Wesponses</span></b></a><br />Parser messages that are delivered with a speech impediment.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e432"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example432">
<p>If we want to change individual responses to player action, then the best thing to do is to use the response facility to modify those selections, as shown in the chapter on Responses.</p>
<p>However, suppose what we want is to give the parser a speech impediment that slightly alters all of the responses it issues. For this purpose, we might need to do a bit of text replacement...</p>
<!-- START CODE "c6640_432" -->
<a id="c6640_432"></a><blockquote class="code"><p class="quoted">
&quot;Wesponses&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6641_432" -->
<a id="c6641_432"></a><blockquote class="code"><p class="quoted">
The Office is a room. Barry Kripke is a man in the Office.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6642_432" -->
<a id="c6642_432"></a><blockquote class="code"><p class="quoted">
The response inhibition is initially false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6643_432" -->
<a id="c6643_432"></a><blockquote class="code"><p class="quoted">
Rule for issuing the response text of a response (called R) when response inhibition is false:
<br />&#160;&#160;&#160;&#160;now response inhibition is true;
<br />&#160;&#160;&#160;&#160;let output be &quot;[text of R]&quot;;
<br />&#160;&#160;&#160;&#160;now response inhibition is false;
<br />&#160;&#160;&#160;&#160;replace the text &quot;r&quot; in output with &quot;w&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;R&quot; in output with &quot;W&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[output]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6644_432" -->
<a id="c6644_432"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / x barry / listen / waffle / jump&quot;
</p></blockquote>
<!-- END CODE -->
<p>Notice that this doesn't affect the printed names of objects in the room description or other kinds of output text -- only those that are issued by the response mechanism.</p>
<p>It would also not work to try to give our parser a nervous personality by simply adding &quot;Um, &quot; to the beginning of each response, because responses are not guaranteed to be full standalone sentences. For example, we could imagine writing</p>
<!-- START CODE "c6645_432" -->
<a id="c6645_432"></a><blockquote class="code"><p class="quoted">
Rule for issuing the response text of a response (called R) when response inhibition is false:
<br />&#160;&#160;&#160;&#160;now response inhibition is true;
<br />&#160;&#160;&#160;&#160;let output be &quot;Um, [text of R]&quot;;
<br />&#160;&#160;&#160;&#160;now response inhibition is false;
<br />&#160;&#160;&#160;&#160;say &quot;[output]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>but here is what the room description would say as a result:</p>
<!-- START CODE "c6646_432" -->
<a id="c6646_432"></a><blockquote class="code"><p class="quoted">
Office
<br />Um, You Um, can see Barry KripkeUm,  here
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "346: Rules of Attraction" "e235" -->
<a id="e235"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e235" class="eglink"><b>346</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e235" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Rules of Attraction</span></b></a><br />A magnet which picks up nearby metal objects, and describes itself appropriately in room descriptions and inventory listings, but otherwise goes by its ordinary name.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e235"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example235">
<p>Often we have some salient features of an object that we want to make sure the player notices whenever looking at the item in a room or in inventory. At other times, we may prefer to allow the name of the item to be printed bare. So for instance:</p>
<!-- START CODE "c6647_235" -->
<a id="c6647_235"></a><blockquote class="code"><p class="quoted">
&quot;Rules of Attraction&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6648_235" -->
<a id="c6648_235"></a><blockquote class="code"><p class="quoted">
A metal form is a kind of thing. A magnet is a kind of metal form.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6649_235" -->
<a id="c6649_235"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with item running through nonmagnetic metal forms which are not part of something:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if item is in a container which contains a magnet (called attractor):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item] sticks to [the attractor].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is part of the attractor.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6650_235" -->
<a id="c6650_235"></a><blockquote class="code"><p class="quoted">
The horseshoe magnet is a magnet carried by the player. The nail is a metal form carried by the player. The Barn is a room. In the Barn is a bucket. In the bucket is a metal form called the iron hook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6651_235" -->
<a id="c6651_235"></a><blockquote class="code"><p class="quoted">
Definition: a thing is nonmagnetic if it is not a magnet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6652_235" -->
<a id="c6652_235"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of a magnet (called attractor): if something is part of the attractor, say &quot; (stuck to which [is-are the list of things which are part of the attractor])&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6653_235" -->
<a id="c6653_235"></a><blockquote class="code"><p class="quoted">
After printing the name of a magnet (called attractor) while taking inventory:
<br />&#160;&#160;&#160;&#160;if something is part of the attractor, say &quot; (stuck to which [is-are the list of things which are part of the attractor])&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6654_235" -->
<a id="c6654_235"></a><blockquote class="code"><p class="quoted">
Before taking a touchable thing which is part of a magnet (called attractor):
<br />&#160;&#160;&#160;&#160;move the noun to the holder of the attractor.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6655_235" -->
<a id="c6655_235"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / put horseshoe in bucket / look / get horseshoe / i / drop horseshoe / i / look / get all / put all in bucket / i / x magnet / get nail / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "347: Zorn of Zorna" "e453" -->
<a id="e453"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e453" class="eglink"><b>347</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e453" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zorn of Zorna</span></b></a><br />Light levels vary depending on the number of candles the player has lit, and this determines whether or not he is able to examine detailed objects successfully.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e453"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example453">
<!-- START CODE "c6656_453" -->
<a id="c6656_453"></a><blockquote class="code"><p class="quoted">
&quot;Zorn of Zorna&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6657_453" -->
<a id="c6657_453"></a><blockquote class="code"><p class="quoted">
Visibility rule:
<br />&#160;&#160;&#160;&#160;if examining:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the detail of the noun is fine and the number of visible lit candles is less than 5, there is insufficient light;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the detail of the noun is ordinary and the number of visible lit candles is less than 3, there is insufficient light;
<br />&#160;&#160;&#160;&#160;there is sufficient light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6658_453" -->
<a id="c6658_453"></a><blockquote class="code"><p class="quoted">
Detail is a kind of value. The details are fine, ordinary, and gross. A thing has detail.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6659_453" -->
<a id="c6659_453"></a><blockquote class="code"><p class="quoted">
A candle is a kind of thing. Before printing the name of a candle while not burning or blowing out: say &quot;[if lit]lit [otherwise]unlit [end if]&quot;. A candle is usually lit. Before printing the plural name of a candle while not burning or blowing out: say &quot;[if lit]lit [otherwise]unlit [end if]&quot;. A candle is usually lit. Understand the lit property as describing a candle. A candle is usually gross.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6660_453" -->
<a id="c6660_453"></a><blockquote class="code"><p class="quoted">
Instead of burning a candle: now the noun is lit; say &quot;You light [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6661_453" -->
<a id="c6661_453"></a><blockquote class="code"><p class="quoted">
Understand &quot;blow out [something]&quot; or &quot;extinguish [something]&quot; or &quot;put out [something]&quot; as blowing out. Understand the command &quot;snuff&quot; as &quot;extinguish&quot;. Blowing out is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6662_453" -->
<a id="c6662_453"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [unlit candle]&quot; as burning.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6663_453" -->
<a id="c6663_453"></a><blockquote class="code"><p class="quoted">
Instead of blowing out a candle:
<br />&#160;&#160;&#160;&#160;now the noun is unlit;
<br />&#160;&#160;&#160;&#160;say &quot;You put out [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6664_453" -->
<a id="c6664_453"></a><blockquote class="code"><p class="quoted">
Rule for printing a refusal to act in the dark:
<br />&#160;&#160;&#160;&#160;if we are examining something, say &quot;The details of [the noun] are too fine to make out in the light of only [the number of visible lit candles in words] candle[s].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6665_453" -->
<a id="c6665_453"></a><blockquote class="code"><p class="quoted">
Every turn when the Todal is visible:
<br />&#160;&#160;&#160;&#160;if the number of visible lit candles is greater than 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The brightness of the room wakens the Todal from slumber, and with you unarmed...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Todal sleeps fitfully, troubled by even that faint light.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6666_453" -->
<a id="c6666_453"></a><blockquote class="code"><p class="quoted">
A room is usually dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6667_453" -->
<a id="c6667_453"></a><blockquote class="code"><p class="quoted">
The Palace is a room. &quot;The Duke is out; the way is clear. East is Saralinda's Chamber; north, a hallway zigs and zags down to the gate that leads out.&quot; A finely-written placard is in the Palace. &quot;A finely-written placard is on the wall next to this exit.&quot; The placard is fine. The description of the placard is &quot;You read: 'Beware the Todal: its bite is worse than its gleep.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6668_453" -->
<a id="c6668_453"></a><blockquote class="code"><p class="quoted">
No more than one candle!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6669_453" -->
<a id="c6669_453"></a><blockquote class="code"><p class="quoted">
The candle-stand is a supporter in the Palace. Understand &quot;stand&quot; as the candle-stand. The description of the candle-stand is &quot;The candle-stand is a tall metal branch for holding lights, but someone has quite practically added casters to the bottom.&quot; It is pushable between rooms. Three candles are on the candle-stand. Instead of removing something from the candle-stand: say &quot;[The noun] is fixed quite firmly in place.&quot; Instead of taking something which is on the candle-stand: say &quot;[The noun] won't come out of the holder.&quot; Instead of putting something on the candle-stand: say &quot;[The candle-stand] is full.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6670_453" -->
<a id="c6670_453"></a><blockquote class="code"><p class="quoted">
Saralinda's Chamber is east of the Palace. &quot;Now that Saralinda herself is gone, there is no real radiance in this place.&quot; Two unlit candles are in Saralinda's Chamber.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6671_453" -->
<a id="c6671_453"></a><blockquote class="code"><p class="quoted">
A large-print romantic novel is in Saralinda's Chamber. The novel is ordinary. The description of the novel is &quot;'She Was Only The Chimney-Sweep's Daughter', by Marie Swelldon.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6672_453" -->
<a id="c6672_453"></a><blockquote class="code"><p class="quoted">
The Zig-Zag Hallway is north of the Palace. &quot;The Hallway goes left, then right, then left again...&quot; Two unlit candles are in the Hallway.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6673_453" -->
<a id="c6673_453"></a><blockquote class="code"><p class="quoted">
Todal is an animal in the Zig-Zag Hallway.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6674_453" -->
<a id="c6674_453"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of a dark room when the Todal is in the location:
<br />&#160;&#160;&#160;&#160;try listening.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6675_453" -->
<a id="c6675_453"></a><blockquote class="code"><p class="quoted">
Instead of listening when in darkness and the Todal is in the location:
<br />&#160;&#160;&#160;&#160;say &quot;In the darkness something softly gleeps.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6676_453" -->
<a id="c6676_453"></a><blockquote class="code"><p class="quoted">
Instead of going north from the Hallway when in darkness:
<br />&#160;&#160;&#160;&#160;say &quot;You stumble and cannot find your way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6677_453" -->
<a id="c6677_453"></a><blockquote class="code"><p class="quoted">
North of the Hallway is Freedom. Instead of going to Freedom: say &quot;You make it out into the cool night air at last!&quot;; end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6678_453" -->
<a id="c6678_453"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine placard / get placard / n / listen / n / s / examine candle-stand / push candle-stand east / examine novel / get unlit candle / light it / light unlit candle / examine placard / push candle-stand west / e / examine novel / w / n / n&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "348: Hohmann Transfer" "e190" -->
<a id="e190"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e190" class="eglink"><b>348</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e190" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hohmann Transfer</span></b></a><br />Changing the way dark rooms are described to avoid the standard Inform phrasing.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e190"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example190">
<p>Inform automatically keeps track of light and darkness, handling such questions as whether a room is lit, whether the player can see any light sources, etc., and then managing the descriptions accordingly. When the room is dark and no light sources are visible, the player is said to be &quot;in darkness&quot;.</p>
<p>If we don't specify otherwise, Inform will describe our surroundings in a dark room thus:</p>
<!-- START CODE "c6679_190" -->
<a id="c6679_190"></a><blockquote class="code"><p class="quoted">
Darkness
<br />It is pitch dark, and you can't see a thing.
</p></blockquote>
<!-- END CODE -->
<p>This is fine in many situations, but we may sometimes want to replace this phrase with something else.</p>
<!-- START CODE "c6680_190" -->
<a id="c6680_190"></a><blockquote class="code"><p class="quoted">
&quot;Hohmann Transfer&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6681_190" -->
<a id="c6681_190"></a><blockquote class="code"><p class="quoted">
The Western Hemisphere is a dark room. &quot;The cloud mass covers much of the land on this side of the planet, and a particularly nasty storm is brewing off to the south.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6682_190" -->
<a id="c6682_190"></a><blockquote class="code"><p class="quoted">
The Eastern Hemisphere is west of the Western Hemisphere. The Eastern Hemisphere is east of the Western Hemisphere. The Eastern Hemisphere is north of the Western Hemisphere. The Eastern Hemisphere is south of the Western Hemisphere. &quot;This side of the planet is more ocean than land, with only two continents worthy of the name, and a volcanic archipelago in the north seas.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6683_190" -->
<a id="c6683_190"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6684_190" -->
<a id="c6684_190"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of a dark room:
<br />&#160;&#160;&#160;&#160;say &quot;It's night on this side of the planet, so you can make out only the glow of urbanized areas along the seacoasts.&quot;  instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6685_190" -->
<a id="c6685_190"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a dark room:
<br />&#160;&#160;&#160;&#160;say &quot;Dark Side&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>And now a few minor refinements so that we can see what happens when one room becomes dark and the other light:</p>
<!-- START CODE "c6686_190" -->
<a id="c6686_190"></a><blockquote class="code"><p class="quoted">
Carry out going:
<br />&#160;&#160;&#160;&#160;say &quot;You fire the thrusters and loop around to the other side of the planet before settling into a new geosynchronous orbit. Six months and one minute later...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6687_190" -->
<a id="c6687_190"></a><blockquote class="code"><p class="quoted">
The time of day is 4:55 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6688_190" -->
<a id="c6688_190"></a><blockquote class="code"><p class="quoted">
At 5 PM:
<br />&#160;&#160;&#160;&#160;now the Eastern Hemisphere is dark;
<br />&#160;&#160;&#160;&#160;now the Western Hemisphere is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6689_190" -->
<a id="c6689_190"></a><blockquote class="code"><p class="quoted">
Rule for printing the announcement of darkness:
<br />&#160;&#160;&#160;&#160;say &quot;The planet abruptly spins itself over, exposing its cool underbelly to the sun.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6690_190" -->
<a id="c6690_190"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / z / z / w / z / z / e&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "349: Four Stars 1" "e425" -->
<a id="e425"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e425" class="eglink"><b>349</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e425" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Four Stars 1</span></b></a><br />An elaboration of the idea that when light is absent, the player should be given a description of what he can smell and hear, instead.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e425"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example425">
<!-- START CODE "c6691_425" -->
<a id="c6691_425"></a><blockquote class="code"><p class="quoted">
&quot;Four Stars&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6692_425" -->
<a id="c6692_425"></a><blockquote class="code"><p class="quoted">
A thing has some text called sound. The sound of a thing is usually &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6693_425" -->
<a id="c6693_425"></a><blockquote class="code"><p class="quoted">
The report listening rule is not listed in the report listening to rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6694_425" -->
<a id="c6694_425"></a><blockquote class="code"><p class="quoted">
Carry out listening to something:
<br />&#160;&#160;&#160;&#160;say &quot;From [the noun] you hear [the sound of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6695_425" -->
<a id="c6695_425"></a><blockquote class="code"><p class="quoted">
Instead of listening to a room:
<br />&#160;&#160;&#160;&#160;if an audible thing can be touched by the player, say &quot;You hear [the list of audible things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;A merciful peace prevails.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6696_425" -->
<a id="c6696_425"></a><blockquote class="code"><p class="quoted">
Definition: a thing is audible if the sound of it is not &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6697_425" -->
<a id="c6697_425"></a><blockquote class="code"><p class="quoted">
Before printing the name of something audible while listening to a room:
<br />&#160;&#160;&#160;&#160;say &quot;[sound] from the &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6698_425" -->
<a id="c6698_425"></a><blockquote class="code"><p class="quoted">
A thing has some text called scent. The scent of a thing is usually &quot;nothing&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6699_425" -->
<a id="c6699_425"></a><blockquote class="code"><p class="quoted">
The report smelling rule is not listed in the report smelling rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6700_425" -->
<a id="c6700_425"></a><blockquote class="code"><p class="quoted">
Carry out smelling something:
<br />&#160;&#160;&#160;&#160;say &quot;From [the noun] you smell [scent of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6701_425" -->
<a id="c6701_425"></a><blockquote class="code"><p class="quoted">
Instead of smelling a room:
<br />&#160;&#160;&#160;&#160;if a scented thing can be touched by the player, say &quot;You smell [the list of scented things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;The place is blissfully odorless.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6702_425" -->
<a id="c6702_425"></a><blockquote class="code"><p class="quoted">
Definition: a thing is scented if the scent of it is not &quot;nothing&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6703_425" -->
<a id="c6703_425"></a><blockquote class="code"><p class="quoted">
Before printing the name of something scented while smelling a room: say &quot;[scent] from the &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6704_425" -->
<a id="c6704_425"></a><blockquote class="code"><p class="quoted">
The Waning Moon Resort is a dark room. &quot;A spacious room with a flagstone floor, and a dreamcatcher hung over the king-size bed.&quot; The dreamcatcher is scenery in the Resort. The description is &quot;The usual web of threads and crystals, feathers and beads.&quot; Instead of taking the dreamcatcher, say &quot;Ah, ah -- you might be tempted to take it as a souvenir, except that the price list in the minibar clearly states they charge $65 apiece if you walk off with one. Cheaper than stealing the Frette bathrobes, but still probably not a good idea.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6705_425" -->
<a id="c6705_425"></a><blockquote class="code"><p class="quoted">
The king-size bed is an enterable supporter in the Resort. The description is &quot;200-thread-count Egyptian cotton sheets, according to the website. You would make fun, only they really are extraordinarily comfortable.&quot; The player is on the bed. A Lindt chocolate is on the bed. It is edible. The scent of the chocolate is &quot;chocolate-hazelnut smell&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6706_425" -->
<a id="c6706_425"></a><blockquote class="code"><p class="quoted">
Instead of exiting: say &quot;You are too weary to move.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6707_425" -->
<a id="c6707_425"></a><blockquote class="code"><p class="quoted">
The suitcase is an openable closed container in the Resort.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6708_425" -->
<a id="c6708_425"></a><blockquote class="code"><p class="quoted">
An electric light is a kind of device. Carry out switching on an electric light: now the noun is lit. Carry out switching off an electric light: now the noun is unlit. Understand &quot;light&quot; as an electric light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6709_425" -->
<a id="c6709_425"></a><blockquote class="code"><p class="quoted">
The solar lamp is an electric light in Waning Moon Resort. The description is &quot;Specially designed to give light in a spectrum resembling sunlight, to improve the mood and make a person energetic.&quot; The lamp is switched on and lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6710_425" -->
<a id="c6710_425"></a><blockquote class="code"><p class="quoted">
An electric noisemaker is a kind of device. An electric noisemaker has some text called usual sound. The usual sound of an electric noisemaker is usually &quot;beepbeepbeep&quot;. Carry out switching on an electric noisemaker: now the sound of the noun is the usual sound of the noun. Report switching on an electric noisemaker: say &quot;[The noun] goes [usual sound of the noun]!&quot; instead. Report switching off an electric noisemaker: say &quot;You switch off [the noun], silencing the [usual sound of the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6711_425" -->
<a id="c6711_425"></a><blockquote class="code"><p class="quoted">
Carry out switching off an electric noisemaker: now the sound of the noun is &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6712_425" -->
<a id="c6712_425"></a><blockquote class="code"><p class="quoted">
The bedside table is in the Resort. The table supports a potted plant and a Bose speaker. The scent of the potted plant is &quot;rosemary&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6713_425" -->
<a id="c6713_425"></a><blockquote class="code"><p class="quoted">
The Bose speaker is an electric noisemaker. The usual sound of the speaker is &quot;soothing whalesong&quot;. The sound of the speaker is &quot;soothing whalesong&quot;. The speaker is switched on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6714_425" -->
<a id="c6714_425"></a><blockquote class="code"><p class="quoted">
Instead of touching a device: say &quot;You feel the surface of [the noun] and discover the switch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6715_425" -->
<a id="c6715_425"></a><blockquote class="code"><p class="quoted">
Instead of touching a scented thing: say &quot;The brush of your fingers stirs loose a fresh cloud of [scent of the noun] smell.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6716_425" -->
<a id="c6716_425"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of a dark room: try listening; try smelling; rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6717_425" -->
<a id="c6717_425"></a><blockquote class="code"><p class="quoted">
Instead of examining an audible thing while in darkness: try listening to the noun. Instead of examining something while in darkness: try touching the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6718_425" -->
<a id="c6718_425"></a><blockquote class="code"><p class="quoted">
Before touching something when in darkness:
<br />&#160;&#160;&#160;&#160;say &quot;You grope about...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6719_425" -->
<a id="c6719_425"></a><blockquote class="code"><p class="quoted">
After inserting the plant into something:
<br />&#160;&#160;&#160;&#160;say &quot;You unceremoniously dump [the noun] into [the second noun], hoping it sustains no important damage thereby.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6720_425" -->
<a id="c6720_425"></a><blockquote class="code"><p class="quoted">
Before printing the name of a dark room: if the player can touch an audible thing, say &quot;Noisy &quot;; if the player can touch a scented thing, say &quot;Perfumed &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6721_425" -->
<a id="c6721_425"></a><blockquote class="code"><p class="quoted">
Visibility rule when in darkness:
<br />&#160;&#160;&#160;&#160;if examining something, there is sufficient light;
<br />&#160;&#160;&#160;&#160;there is insufficient light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6722_425" -->
<a id="c6722_425"></a><blockquote class="code"><p class="quoted">
Rule for printing the announcement of darkness: say &quot;It is now pleasantly lightless in here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6723_425" -->
<a id="c6723_425"></a><blockquote class="code"><p class="quoted">
Rule for deciding the scope of the player while in darkness: place the location in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6724_425" -->
<a id="c6724_425"></a><blockquote class="code"><p class="quoted">
To decide whether in daylight:
<br />&#160;&#160;&#160;&#160;if in darkness, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6725_425" -->
<a id="c6725_425"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when in daylight:
<br />&#160;&#160;&#160;&#160;say &quot;You've never been able to sleep with the light on.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6726_425" -->
<a id="c6726_425"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when the player can touch an audible thing (called the irritant):
<br />&#160;&#160;&#160;&#160;say &quot;The steady [sound of the irritant] from [the irritant] prevents your slumber.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6727_425" -->
<a id="c6727_425"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when the player can touch a scented thing (called the irritant):
<br />&#160;&#160;&#160;&#160;if the irritant is chocolate, say &quot;The smell of chocolate continues to tantalize you, keeping you from sleep.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You sniffle. [The irritant] is probably acting on your allergies.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6728_425" -->
<a id="c6728_425"></a><blockquote class="code"><p class="quoted">
Instead of sleeping:
<br />&#160;&#160;&#160;&#160;say &quot;You slip easily into the arms of Morpheus.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally saying &quot;At last...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6729_425" -->
<a id="c6729_425"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;You have at last escaped from the airport and gotten through customs; survived an unnerving taxi ride over icy highways; stared down the impertinent concierge; endured the bellhop's catalog of features in your room; and achieved, finally, a moment of peace. Time for a good night's slumber!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6730_425" -->
<a id="c6730_425"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x dreamcatcher / switch lamp off / look / sleep / eat chocolate / sleep / get plant / examine plant / open suitcase / put plant in suitcase / close suitcase / sleep / look / examine bose / switch bose off / sleep&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "350: Ways Out" "e131" -->
<a id="e131"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e131" class="eglink"><b>350</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e131" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ways Out</span></b></a><br />A status line that lists the available exits from the current location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_12.html#e131"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example131">
<p>A not-uncommon device in games with large maps is a list of available exits printed in the status bar. We might do this so:</p>
<!-- START CODE "c6731_131" -->
<a id="c6731_131"></a><blockquote class="code"><p class="quoted">
&quot;Ways Out&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6732_131" -->
<a id="c6732_131"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;Exits: [exit list]&quot;;
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;[location]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6733_131" -->
<a id="c6733_131"></a><blockquote class="code"><p class="quoted">
To say exit list:
<br />&#160;&#160;&#160;&#160;let place be location;
<br />&#160;&#160;&#160;&#160;repeat with way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let place be the room way from the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if place is a room, say &quot; [way]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We may find that printing out full directions makes the status line unpleasantly crowded. Fortunately, it isn't hard to provide a set of abbreviations to use in this context:</p>
<!-- START CODE "c6734_131" -->
<a id="c6734_131"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a direction (called the way) while constructing the status line:
<br />&#160;&#160;&#160;&#160;choose row with a heading of the way in the Table of Abbreviation;
<br />&#160;&#160;&#160;&#160;say &quot;[shortcut entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6735_131" -->
<a id="c6735_131"></a><blockquote class="code"><p class="quoted">
Table of Abbreviation
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">heading</p></td><td class="quotedtablecell"><p class="quoted">shortcut</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">north</p></td><td class="quotedtablecell"><p class="quoted">&quot;N&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">northeast</p></td><td class="quotedtablecell"><p class="quoted">&quot;NE&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">northwest</p></td><td class="quotedtablecell"><p class="quoted">&quot;NW&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">east</p></td><td class="quotedtablecell"><p class="quoted">&quot;E&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">southeast</p></td><td class="quotedtablecell"><p class="quoted">&quot;SE&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">south</p></td><td class="quotedtablecell"><p class="quoted">&quot;S&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">southwest</p></td><td class="quotedtablecell"><p class="quoted">&quot;SW&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">west</p></td><td class="quotedtablecell"><p class="quoted">&quot;W&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">up</p></td><td class="quotedtablecell"><p class="quoted">&quot;U&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">down</p></td><td class="quotedtablecell"><p class="quoted">&quot;D&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">inside</p></td><td class="quotedtablecell"><p class="quoted">&quot;IN&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">outside</p></td><td class="quotedtablecell"><p class="quoted">&quot;OUT&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6736_131" -->
<a id="c6736_131"></a><blockquote class="code"><p class="quoted">
Dome is a room. North of Dome is North Chapel. South of the Dome is South Chapel. West of the Dome is Western End. Quiet Corner is northwest of the Dome, north of Western End, and west of North Chapel. Loud Corner is east of North Chapel, northeast of Dome, and north of Eastern End. Eastern End is north of Dim Corner and east of Dome. Dim Corner is southeast of Dome and east of South Chapel. Ruined Corner is southwest of Dome, west of South Chapel, and south of Western End.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6737_131" -->
<a id="c6737_131"></a><blockquote class="code"><p class="quoted">
The church door is east of Eastern End and west of the Courtyard. The church door is a door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6738_131" -->
<a id="c6738_131"></a><blockquote class="code"><p class="quoted">
Test me with &quot;w / n / e / e / s / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Everywhere else, the names of directions will still be printed out in full in the usual way.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "351: Guided Tour" "e130" -->
<a id="e130"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e130" class="eglink"><b>351</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e130" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Guided Tour</span></b></a><br />A status line that lists the available exits from the current location, changing the names of these exits depending on whether the room has been visited or not.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_12.html#e130"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example130">
<p>It may sometimes be helpful to prompt the player with a list of exits printed up in the status line. For instance, here is a status line that will print the names of nearby rooms, as well as all the doors the player can see:</p>
<!-- START CODE "c6739_130" -->
<a id="c6739_130"></a><blockquote class="code"><p class="quoted">
&quot;Guided Tour&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6740_130" -->
<a id="c6740_130"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;Nearby: [if a room is adjacent][the list of adjacent rooms][end if][if a room is adjacent and a door is visible] and [end if][if a door is visible][the list of visible doors][end if]&quot;;
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Of course, we may not want to tell the player what glories are to be found in locations he hasn't yet explored.</p>
<!-- START CODE "c6741_130" -->
<a id="c6741_130"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of an unvisited room (called the target) while constructing the status line:
<br />&#160;&#160;&#160;&#160;let aim be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;say &quot;something [aim]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Even when we have seen a room, we might still want a reminder about how to get there:</p>
<!-- START CODE "c6742_130" -->
<a id="c6742_130"></a><blockquote class="code"><p class="quoted">
After printing the name of a visited room (called the target) while constructing the status line:
<br />&#160;&#160;&#160;&#160;let aim be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;say &quot; ([aim])&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We may also find that printing out full directions makes the status line unpleasantly crowded. Fortunately, it isn't hard to provide a set of abbreviations to use in this context:</p>
<!-- START CODE "c6743_130" -->
<a id="c6743_130"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a direction (called the aim) while constructing the status line:
<br />&#160;&#160;&#160;&#160;choose row with a heading of the aim in the Table of Abbreviation;
<br />&#160;&#160;&#160;&#160;say &quot;[shortcut entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6744_130" -->
<a id="c6744_130"></a><blockquote class="code"><p class="quoted">
Table of Abbreviation
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">heading</p></td><td class="quotedtablecell"><p class="quoted">shortcut</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">north</p></td><td class="quotedtablecell"><p class="quoted">&quot;N&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">northeast</p></td><td class="quotedtablecell"><p class="quoted">&quot;NE&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">northwest</p></td><td class="quotedtablecell"><p class="quoted">&quot;NW&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">east</p></td><td class="quotedtablecell"><p class="quoted">&quot;E&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">southeast</p></td><td class="quotedtablecell"><p class="quoted">&quot;SE&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">south</p></td><td class="quotedtablecell"><p class="quoted">&quot;S&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">southwest</p></td><td class="quotedtablecell"><p class="quoted">&quot;SW&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">west</p></td><td class="quotedtablecell"><p class="quoted">&quot;W&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">up</p></td><td class="quotedtablecell"><p class="quoted">&quot;U&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">down</p></td><td class="quotedtablecell"><p class="quoted">&quot;D&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">inside</p></td><td class="quotedtablecell"><p class="quoted">&quot;in&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">outside</p></td><td class="quotedtablecell"><p class="quoted">&quot;out&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Everywhere else, the names of directions will still be printed out in full in the usual way. And now we give it a little map to work with:</p>
<!-- START CODE "c6745_130" -->
<a id="c6745_130"></a><blockquote class="code"><p class="quoted">
Dome is a room. North of Dome is North Chapel. South of the Dome is South Chapel. West of the Dome is Western End. Quiet Corner is northwest of the Dome, north of Western End, and west of North Chapel. Loud Corner is east of North Chapel, northeast of Dome, and north of Eastern End. Eastern End is north of Dim Corner and east of Dome. Dim Corner is southeast of Dome and east of South Chapel. Ruined Corner is southwest of Dome, west of South Chapel, and south of Western End.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6746_130" -->
<a id="c6746_130"></a><blockquote class="code"><p class="quoted">
The church door is east of Eastern End and west of the Courtyard. The church door is a door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6747_130" -->
<a id="c6747_130"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / w / s&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that while this looks fine in some places, other locations exceed the limits of what the status-line can hold: if any given room is going to have a large number of exits, this kind of listing will almost certainly not fit. So apply cautiously.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "352: Reflections" "e344" -->
<a id="e344"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e344" class="eglink"><b>352</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e344" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Reflections</span></b></a><br />Emphasizing the reflective quality of shiny objects whenever they are described in the presence of the torch.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e344"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example344">
<!-- START CODE "c6748_344" -->
<a id="c6748_344"></a><blockquote class="code"><p class="quoted">
&quot;Reflections&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6749_344" -->
<a id="c6749_344"></a><blockquote class="code"><p class="quoted">
Behind the Waterfall is a room. &quot;Though one wall of the cave is open to the waterfall, the quantity of water is so great that barely any light comes through from the outside.&quot; Behind the Waterfall is dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6750_344" -->
<a id="c6750_344"></a><blockquote class="code"><p class="quoted">
Surface is a kind of value. The surfaces are shiny and dull. A thing has a surface. A thing is usually dull.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6751_344" -->
<a id="c6751_344"></a><blockquote class="code"><p class="quoted">
The player carries a reflecting ball, a canopic jar, an abacus, a plumbline, a piece of chalk, and a torch. The reflecting ball is shiny.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6752_344" -->
<a id="c6752_344"></a><blockquote class="code"><p class="quoted">
Aladdin's lamp is a shiny thing in Behind the Waterfall.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6753_344" -->
<a id="c6753_344"></a><blockquote class="code"><p class="quoted">
Brightness is a kind of value. The brightnesses are guttering, weak, radiant and blazing. The torch has a brightness. The torch is blazing. The torch is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6754_344" -->
<a id="c6754_344"></a><blockquote class="code"><p class="quoted">
Understand &quot;blow out [something]&quot; or &quot;blow [something]&quot; or &quot;extinguish [something]&quot; as blowing out. Blowing out is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6755_344" -->
<a id="c6755_344"></a><blockquote class="code"><p class="quoted">
Carry out blowing out: say &quot;Futile.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6756_344" -->
<a id="c6756_344"></a><blockquote class="code"><p class="quoted">
Instead of blowing out the torch:
<br />&#160;&#160;&#160;&#160;now brightness of torch is the brightness before the brightness of the torch;
<br />&#160;&#160;&#160;&#160;say &quot;The light of the torch dies to [brightness of torch].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6757_344" -->
<a id="c6757_344"></a><blockquote class="code"><p class="quoted">
Instead of blowing out the guttering torch:
<br />&#160;&#160;&#160;&#160;say &quot;Fool! Do you want to put it out entirely?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6758_344" -->
<a id="c6758_344"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a shiny thing:
<br />&#160;&#160;&#160;&#160;say &quot;The [brightness of the torch] light of [the torch] reflects in the surface[if the number of shiny things in the location &gt; 1]s[end if] of [the list of shiny things in the location].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6759_344" -->
<a id="c6759_344"></a><blockquote class="code"><p class="quoted">
Before printing the name of the torch while writing a paragraph about something:
<br />&#160;&#160;&#160;&#160;if the torch is in the location, say &quot;fallen &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6760_344" -->
<a id="c6760_344"></a><blockquote class="code"><p class="quoted">
Test me with &quot;drop ball / look / blow torch / look / drop torch / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "353: Emma" "e120" -->
<a id="e120"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e120" class="eglink"><b>353</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e120" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Emma</span></b></a><br />Social dynamics in which groups of people form and circulate during a party.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e120"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example120">
<p>To start with, let's understand &quot;room&quot; to mean &quot;a group of people talking&quot;. These groups can grow and shrink as people come and go, so we'll want to name and rename them; and we're also going to need some rules to motivate people moving around, and a description to narrate how they behave when we're with them.</p>
<!-- START CODE "c6761_120" -->
<a id="c6761_120"></a><blockquote class="code"><p class="quoted">
&quot;Emma&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6762_120" -->
<a id="c6762_120"></a><blockquote class="code"><p class="quoted">
by the banquet table is a room. at the corner is a room. next to the doorway is a room. by the window is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6763_120" -->
<a id="c6763_120"></a><blockquote class="code"><p class="quoted">
Social clump is a kind of value. The social clumps are vacancy, lone person, couple, cluster, group.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6764_120" -->
<a id="c6764_120"></a><blockquote class="code"><p class="quoted">
A room has a social clump. Understand the social clump property as describing a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6765_120" -->
<a id="c6765_120"></a><blockquote class="code"><p class="quoted">
Before printing the name of a room:
<br />&#160;&#160;&#160;&#160;say &quot;a [social clump] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6766_120" -->
<a id="c6766_120"></a><blockquote class="code"><p class="quoted">
After looking:
<br />&#160;&#160;&#160;&#160;assign clumping;
<br />&#160;&#160;&#160;&#160;say &quot;Elsewhere in the room, you can see [the list of rooms which are not the location].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6767_120" -->
<a id="c6767_120"></a><blockquote class="code"><p class="quoted">
Understand &quot;go to [any room]&quot; as joining. Joining is an action applying to one visible thing. Carry out joining: move player to the noun. Report joining: do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6768_120" -->
<a id="c6768_120"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [any room]&quot; as looking toward. Looking toward is an action applying to one visible thing. Carry out looking toward a room: say &quot;In that direction you see [a list of other people in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6769_120" -->
<a id="c6769_120"></a><blockquote class="code"><p class="quoted">
When play begins: assign clumping. Every turn: assign clumping.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6770_120" -->
<a id="c6770_120"></a><blockquote class="code"><p class="quoted">
To assign clumping:
<br />&#160;&#160;&#160;&#160;repeat with space running through rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the social clump of the space is vacancy;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the space contains exactly 1 person, now the social clump of the space is Lone person;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the space contains exactly 2 people, now the social clump of the space is Couple;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the space contains more than 2 people and the space contains fewer than 5 people, now the social clump of the space is cluster;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the space contains more than 4 people, now the social clump of the space is group.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6771_120" -->
<a id="c6771_120"></a><blockquote class="code"><p class="quoted">
The room description heading rule is not listed in the carry out looking rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6772_120" -->
<a id="c6772_120"></a><blockquote class="code"><p class="quoted">
A person has a number called longevity. The longevity of a person is usually 0. A person can be active or passive.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6773_120" -->
<a id="c6773_120"></a><blockquote class="code"><p class="quoted">
Definition: a person is other if it is not the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6774_120" -->
<a id="c6774_120"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with mover running through other people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the mover is active;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the longevity of mover;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if longevity of mover is greater than 3 or the mover is bored:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assign value of spaces for the mover;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let destination be the nicest room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the destination is not the location of the mover:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the mover, say &quot;[The mover] makes excuses and drifts off to join [the destination].[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the mover to the destination;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the mover is complacent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the longevity of the mover is 0;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the mover, say &quot;[The mover] wanders over.[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assign clumping;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now mover is passive.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6775_120" -->
<a id="c6775_120"></a><blockquote class="code"><p class="quoted">
A room has a number called attractiveness.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6776_120" -->
<a id="c6776_120"></a><blockquote class="code"><p class="quoted">
Definition: a room is nice if its attractiveness is 1 or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6777_120" -->
<a id="c6777_120"></a><blockquote class="code"><p class="quoted">
To assign value of spaces for (mover - a person):
<br />&#160;&#160;&#160;&#160;repeat with space running through rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now attractiveness of the space is 0;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with figure running through people in the space:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the mover is bored, decrease attractiveness of the space by 2;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the mover likes the figure, increment attractiveness of the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the mover dislikes the figure, decrement attractiveness of the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the mover desires the figure, increase attractiveness of the space by 2.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6778_120" -->
<a id="c6778_120"></a><blockquote class="code"><p class="quoted">
Liking relates various people to various people. The verb to like means the liking relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6779_120" -->
<a id="c6779_120"></a><blockquote class="code"><p class="quoted">
Disliking relates various people to various people. The verb to dislike means the disliking relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6780_120" -->
<a id="c6780_120"></a><blockquote class="code"><p class="quoted">
Attraction relates various people to various people. The verb to desire means the attraction relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6781_120" -->
<a id="c6781_120"></a><blockquote class="code"><p class="quoted">
Mr Weston, Mr Woodhouse, Mr Elton, Mr Knightley, and Frank Churchill are men. Mrs Weston, Mrs Bates, Miss Bates, Harriet Smith, Emma Woodhouse, and Jane Fairfax are women.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6782_120" -->
<a id="c6782_120"></a><blockquote class="code"><p class="quoted">
Harriet Smith likes Mr Elton. Harriet Smith desires Mr Elton. Harriet Smith likes Emma Woodhouse.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6783_120" -->
<a id="c6783_120"></a><blockquote class="code"><p class="quoted">
Mr Elton desires Emma Woodhouse.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6784_120" -->
<a id="c6784_120"></a><blockquote class="code"><p class="quoted">
Emma Woodhouse likes Harriet Smith and Mr Knightley. Emma Woodhouse dislikes Jane Fairfax.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6785_120" -->
<a id="c6785_120"></a><blockquote class="code"><p class="quoted">
Mr Knightley likes Emma Woodhouse, Mr Weston, and Mrs Weston. Mr Knightley desires Emma Woodhouse.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6786_120" -->
<a id="c6786_120"></a><blockquote class="code"><p class="quoted">
Jane Fairfax desires Frank Churchill. Jane Fairfax likes Frank Churchill.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6787_120" -->
<a id="c6787_120"></a><blockquote class="code"><p class="quoted">
Frank Churchill desires Jane Fairfax and Emma Woodhouse. Frank Churchill likes Jane Fairfax.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6788_120" -->
<a id="c6788_120"></a><blockquote class="code"><p class="quoted">
Miss Bates likes Jane Fairfax, Emma Woodhouse, and Mrs Bates.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6789_120" -->
<a id="c6789_120"></a><blockquote class="code"><p class="quoted">
Mr Weston likes Frank Churchill, Emma, Knightley, and Mrs Weston.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6790_120" -->
<a id="c6790_120"></a><blockquote class="code"><p class="quoted">
Mrs Weston likes Frank Churchill, Emma, Knightley, and Mr Weston.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6791_120" -->
<a id="c6791_120"></a><blockquote class="code"><p class="quoted">
Mrs Bates likes Miss Bates.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6792_120" -->
<a id="c6792_120"></a><blockquote class="code"><p class="quoted">
A person can be complacent or bored.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6793_120" -->
<a id="c6793_120"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat with character running through other people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let space be a random room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move character to space.
</p></blockquote>
<!-- END CODE -->
<p>And now we use writing a paragraph about... to describe character behavior in groups, when we join them:</p>
<!-- START CODE "c6794_120" -->
<a id="c6794_120"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about Frank Churchill:
<br />&#160;&#160;&#160;&#160;if the location contains a woman (called flirt) who is desired by Frank:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[Frank Churchill] is talking with great animation and slightly more than becoming warmth to [the flirt][if an unmentioned other person is in the location], while [the list of unmentioned other people in the location] look on with varying degrees of amusement or irritation[end if].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with character running through people in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the character is not Churchill and the character is not the flirt, now the character is bored.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6795_120" -->
<a id="c6795_120"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about Mr Elton:
<br />&#160;&#160;&#160;&#160;if the location contains an unmentioned woman (called flirt) who is desired by Elton:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[Mr Elton] hangs on the sleeve of [the flirt], offering an assortment of studied gallantries that make you wonder about his good sense.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with character running through people in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the character is not Elton and the character is not the flirt, now the character is bored.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6796_120" -->
<a id="c6796_120"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about Harriet Smith:
<br />&#160;&#160;&#160;&#160;if the location contains Emma and Emma is unmentioned:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[Harriet] and [Emma] are conversing in low tones -- Harriet, apparently, being too shy to speak so that everyone can hear her.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6797_120" -->
<a id="c6797_120"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about Mr Knightley:
<br />&#160;&#160;&#160;&#160;if the location contains an unmentioned man (called the listener) who is not Mr Knightley:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[Mr Knightley] is speaking with [the listener] about agricultural matters.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the listener is complacent.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6798_120" -->
<a id="c6798_120"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about Miss Bates:
<br />&#160;&#160;&#160;&#160;say &quot;[Miss Bates] is giggling about the weather[if an unmentioned other person is in the location]. This does not seem to compel the interest of [the list of unmentioned other people in the location][end if].&quot;;
<br />&#160;&#160;&#160;&#160;repeat with character running through people in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the character is not Miss Bates and character is not Mrs Bates, now the character is bored.
</p></blockquote>
<!-- END CODE -->
<p>Since this is just an example, we'll stop here, but there's no reason we couldn't write such paragraphs for everyone.</p>
<!-- START CODE "c6799_120" -->
<a id="c6799_120"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / look / x corner / x doorway / x window / x table / go to the table&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "354: Air Conditioning is Standard" "e391" -->
<a id="e391"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e391" class="eglink"><b>354</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e391" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Air Conditioning is Standard</span></b></a><br />Uses "writing a paragraph about" to make person and object descriptions that vary considerably depending on what else is going on in the room, including some randomized NPC interactions with objects or with each other.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_4.html#e391"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example391">
<!-- START CODE "c6800_391" -->
<a id="c6800_391"></a><blockquote class="code"><p class="quoted">
&quot;Air Conditioning is Standard&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6801_391" -->
<a id="c6801_391"></a><blockquote class="code"><p class="quoted">
Section 1 - The Garage
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6802_391" -->
<a id="c6802_391"></a><blockquote class="code"><p class="quoted">
A person has some text called current occupation. The current occupation of a person is usually &quot;None&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6803_391" -->
<a id="c6803_391"></a><blockquote class="code"><p class="quoted">
Mood is a kind of value. The moods are bemused, bored, attentive, rapt, and blushing. A person has a mood. A person is usually attentive.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6804_391" -->
<a id="c6804_391"></a><blockquote class="code"><p class="quoted">
Instead of examining a person:
<br />&#160;&#160;&#160;&#160;now every thing is unmentioned;
<br />&#160;&#160;&#160;&#160;carry out the writing a paragraph about activity with the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6805_391" -->
<a id="c6805_391"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a person (called X):
<br />&#160;&#160;&#160;&#160;let the subsequent mention be &quot;Name&quot;;
<br />&#160;&#160;&#160;&#160;if the current occupation of X is not &quot;None&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[current occupation of X]. &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the subsequent mention be &quot;He&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if X is female, let the subsequent mention be &quot;She&quot;;
<br />&#160;&#160;&#160;&#160;if X wears something unmentioned:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the subsequent mention is &quot;Name&quot;, say &quot;[The X] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[subsequent mention] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;is wearing [a list of unmentioned things worn by X]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if X carries something unmentioned, say &quot; and carrying [a list of unmentioned things carried by X]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if X carries something unmentioned:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the subsequent mention is &quot;Name&quot;, say &quot;[The X] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[subsequent mention] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; is carrying [a list of unmentioned things carried by X].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6806_391" -->
<a id="c6806_391"></a><blockquote class="code"><p class="quoted">
The Garage is a room. &quot;Above the street door is a spectacular art nouveau fanlight, wherein a stained-glass Spirit of Progress bestows the gift of Transportation on mankind.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6807_391" -->
<a id="c6807_391"></a><blockquote class="code"><p class="quoted">
The sun, gleaming through the hair of Progress, throws amber curls on the macadam floor.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6808_391" -->
<a id="c6808_391"></a><blockquote class="code"><p class="quoted">
The fanlight is scenery in the Garage. The description is &quot;A semi-circle of stained glass as wide as the garage door, designed by Louis Comfort Tiffany himself. No expense has been spared.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6809_391" -->
<a id="c6809_391"></a><blockquote class="code"><p class="quoted">
The gift of Transportation is part of the fanlight. The description is &quot;The gift of Transportation is envisioned as a cornucopia disgorging a steam locomotive. And that blue bit of glass might be the Montgolfier balloon.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6810_391" -->
<a id="c6810_391"></a><blockquote class="code"><p class="quoted">
The Spirit of Progress is part of the fanlight. The description is &quot;It is part of her character to have bare shoulders like that.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6811_391" -->
<a id="c6811_391"></a><blockquote class="code"><p class="quoted">
The machinist is a bored man. He is in the Garage. He is wearing a grimy pair of overalls. He carries a wrench and a screwdriver. The current occupation of the machinist is &quot;[The machinist] is making some adjustments to [the random thing which is part of the Victorian Car] with his [random thing carried by the machinist]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6812_391" -->
<a id="c6812_391"></a><blockquote class="code"><p class="quoted">
The Victorian Car is a device in the Garage. A cast-iron steering wheel, a leather bucket seat, a horn, and a combustion engine are part of the Victorian Car. The seat is an enterable supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6813_391" -->
<a id="c6813_391"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a device (called X):
<br />&#160;&#160;&#160;&#160;let the subsequent mention be &quot;Name&quot;;
<br />&#160;&#160;&#160;&#160;if the X is unmentioned:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The X] is here. &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the subsequent mention be &quot;It&quot;;
<br />&#160;&#160;&#160;&#160;if something is part of X:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the subsequent mention is &quot;Name&quot;, say &quot;[The X] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[subsequent mention] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[if a mentioned thing is part of X]also [end if]features[if a mentioned thing is part of X], in addition to [the list of mentioned things which are part of X],[end if] [a list of unmentioned things which are part of X]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6814_391" -->
<a id="c6814_391"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the steering wheel while writing a paragraph about a person:
<br />&#160;&#160;&#160;&#160;say &quot;steering wheel&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6815_391" -->
<a id="c6815_391"></a><blockquote class="code"><p class="quoted">
A supporter has some text called position. The position of a supporter is usually &quot;None&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6816_391" -->
<a id="c6816_391"></a><blockquote class="code"><p class="quoted">
The Office is west of the Garage. The Office contains a desk. The desk has the position &quot;A [desk] with several dozen drawers stands in the center of the room&quot;. On the desk are some papers.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6817_391" -->
<a id="c6817_391"></a><blockquote class="code"><p class="quoted">
After printing the name of a supporter (called X) which supports an unmentioned thing:
<br />&#160;&#160;&#160;&#160;now X is unmentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6818_391" -->
<a id="c6818_391"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a supporter (called X):
<br />&#160;&#160;&#160;&#160;let the subsequent mention be &quot;Name&quot;;
<br />&#160;&#160;&#160;&#160;if the position of X is not &quot;None&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[position of X]. &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the subsequent mention be &quot;It&quot;;
<br />&#160;&#160;&#160;&#160;if a mentioned thing is on X:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Besides [the list of mentioned things which are on X], &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the subsequent mention be &quot;it&quot;;
<br />&#160;&#160;&#160;&#160;if the subsequent mention is &quot;Name&quot;, say &quot;[The X] &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[subsequent mention] &quot;;
<br />&#160;&#160;&#160;&#160;say &quot;holds [a list of unmentioned things which are on X].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6819_391" -->
<a id="c6819_391"></a><blockquote class="code"><p class="quoted">
Section 2 - Schedule
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6820_391" -->
<a id="c6820_391"></a><blockquote class="code"><p class="quoted">
The time of day is 4:38 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6821_391" -->
<a id="c6821_391"></a><blockquote class="code"><p class="quoted">
At 4:42 PM:
<br />&#160;&#160;&#160;&#160;move the machinist to the Office;
<br />&#160;&#160;&#160;&#160;say &quot;The machinist wanders into the Office to get some paperwork.&quot;;
<br />&#160;&#160;&#160;&#160;now every thing carried by the machinist is on the desk;
<br />&#160;&#160;&#160;&#160;now the current occupation of the machinist is &quot;[The machinist] rifles through [the papers] on [the desk]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6822_391" -->
<a id="c6822_391"></a><blockquote class="code"><p class="quoted">
At 4:43 PM:
<br />&#160;&#160;&#160;&#160;move the young lady to the Garage;
<br />&#160;&#160;&#160;&#160;if the young lady can be seen by the player,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;An attractive young lady walks in from the street, and glances around as though she has never been here before.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6823_391" -->
<a id="c6823_391"></a><blockquote class="code"><p class="quoted">
At 4:45 PM:
<br />&#160;&#160;&#160;&#160;if the young lady can be seen by the player,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;With a not-quite-convincing air of innocence, [the young lady] happens to lean upon [the horn], which bleats loudly.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;There is a honk from the Garage[if the machinist can be seen by the player]. The machinist looks up with a frown[end if].&quot;;
<br />&#160;&#160;&#160;&#160;now the horn is mentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6824_391" -->
<a id="c6824_391"></a><blockquote class="code"><p class="quoted">
At 4:46 PM:
<br />&#160;&#160;&#160;&#160;move the machinist to the Garage;
<br />&#160;&#160;&#160;&#160;say &quot;The machinist strolls from the Office into the Garage to find out what is going on.&quot;;
<br />&#160;&#160;&#160;&#160;now the current occupation of the machinist is &quot;[The machinist] is chatting with [the young lady]. He seems to be demonstrating the various features of [the car], including [the random thing which is part of the car]&quot;;
<br />&#160;&#160;&#160;&#160;now the current occupation of the young lady is &quot;[The young lady] is asking [the machinist] a number of questions about [the car]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6825_391" -->
<a id="c6825_391"></a><blockquote class="code"><p class="quoted">
At 4:49 PM:
<br />&#160;&#160;&#160;&#160;if the young lady can be seen by the player, say &quot;[The machinist] gives [the young lady] his arm to climb into [the seat].&quot;;
<br />&#160;&#160;&#160;&#160;move the young lady to the seat;
<br />&#160;&#160;&#160;&#160;now the young lady is rapt;
<br />&#160;&#160;&#160;&#160;now the current occupation of the young lady is &quot;[The young lady] is turning [the steering wheel] from side to side&quot;;
<br />&#160;&#160;&#160;&#160;now the current occupation of the machinist is &quot;[The machinist] is leaning on the door of [the car], pointing out features to [the young lady]&quot;;
<br />&#160;&#160;&#160;&#160;move the besotted expression to the machinist;
<br />&#160;&#160;&#160;&#160;now the machinist is wearing the besotted expression.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6826_391" -->
<a id="c6826_391"></a><blockquote class="code"><p class="quoted">
At 4:52 PM:
<br />&#160;&#160;&#160;&#160;now the sober grey gown is unbuttoned at the neck;
<br />&#160;&#160;&#160;&#160;if the young lady can be seen by the player, say &quot;[The young lady] murmurs something about the wilting heat, and undoes a button or two of her gown. The machinist's expression is comical, or would be, if you weren't annoyed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6827_391" -->
<a id="c6827_391"></a><blockquote class="code"><p class="quoted">
Every turn when the player is in the Garage and young lady is on the seat:
<br />&#160;&#160;&#160;&#160;say &quot;You are beginning to feel a little unnecessary in this scene.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6828_391" -->
<a id="c6828_391"></a><blockquote class="code"><p class="quoted">
Every turn when the player is in the Office and the young lady is on the seat:
<br />&#160;&#160;&#160;&#160;say &quot;There's no sound at all from the other room, not even conversation.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6829_391" -->
<a id="c6829_391"></a><blockquote class="code"><p class="quoted">
Before going to the Garage when the young lady is on the seat:
<br />&#160;&#160;&#160;&#160;now the sober grey gown is tellingly dishevelled;
<br />&#160;&#160;&#160;&#160;move the young lady to the Garage;
<br />&#160;&#160;&#160;&#160;now the young lady is blushing;
<br />&#160;&#160;&#160;&#160;say &quot;There is a flurry of movement as you enter the room.&quot;;
<br />&#160;&#160;&#160;&#160;now the current occupation of the young lady is &quot;[The young lady] stands near the door, tapping her foot nervously&quot;;
<br />&#160;&#160;&#160;&#160;now the besotted expression is nowhere;
<br />&#160;&#160;&#160;&#160;now the current occupation of the machinist is &quot;[The machinist] is leaning against [the car], looking smug&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6830_391" -->
<a id="c6830_391"></a><blockquote class="code"><p class="quoted">
Section 3 - Initially Out of Play
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6831_391" -->
<a id="c6831_391"></a><blockquote class="code"><p class="quoted">
The besotted expression is a wearable thing. The description is &quot;It looks foolish, doesn't it?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6832_391" -->
<a id="c6832_391"></a><blockquote class="code"><p class="quoted">
The young lady is a bemused woman. She is wearing a sober grey gown and a pair of black boots. The current occupation of the young lady is &quot;[The young lady] is running a gloved finger along the chassis of [the victorian car]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6833_391" -->
<a id="c6833_391"></a><blockquote class="code"><p class="quoted">
Before printing the name of the young lady while writing a paragraph about a person:
<br />&#160;&#160;&#160;&#160;say &quot;[mood of the young lady] &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6834_391" -->
<a id="c6834_391"></a><blockquote class="code"><p class="quoted">
The description of the grey gown is &quot;Something about the perfect row of tiny buttons has the wrong effect -- at any rate, it is natural to wonder how long they take to undo.&quot; The gown can be buttoned almost to the chin, unbuttoned at the neck, or tellingly dishevelled.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6835_391" -->
<a id="c6835_391"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the gown when writing a paragraph about a person:
<br />&#160;&#160;&#160;&#160;say &quot;sober grey gown ([sober grey gown condition])&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6836_391" -->
<a id="c6836_391"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / look / look / z / look / west / east / z  / look / z / look / z / look / west / east&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "355: Rip Van Winkle" "e325" -->
<a id="e325"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e325" class="eglink"><b>355</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e325" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Rip Van Winkle</span></b></a><br />A simple way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e325"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example325">
<p>There are times when, for greater elegance of prose, we'd like to mention an object in the main body text of a room. For instance:</p>
<!-- START CODE "c6837_325" -->
<a id="c6837_325"></a><blockquote class="code"><p class="quoted">
Here is a lovely, secluded fold in the mountains, far from civilization: as though to prove it, Rip Van Winkle is sleeping under a tree.
</p></blockquote>
<!-- END CODE -->
<p>As we've already seen, that's no problem if Rip is scenery. He'll stay there motionless.</p>
<p>But what if something in the game allows Rip to wake up? Or what if we want to use the same technique on a portable object that the player should be allowed to take? Clearly in that case it's not appropriate to make the mentioned thing be scenery, and at the same time, we need to keep Inform from adding a superfluous</p>
<!-- START CODE "c6838_325" -->
<a id="c6838_325"></a><blockquote class="code"><p class="quoted">
You can see Rip Van Winkle here.
</p></blockquote>
<!-- END CODE -->
<p>to the end of our description.</p>
<p>Here is how:</p>
<!-- START CODE "c6839_325" -->
<a id="c6839_325"></a><blockquote class="code"><p class="quoted">
 &quot;Rip Van Winkle&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6840_325" -->
<a id="c6840_325"></a><blockquote class="code"><p class="quoted">
A person can be asleep.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6841_325" -->
<a id="c6841_325"></a><blockquote class="code"><p class="quoted">
The Catskills is a room. &quot;Here is a lovely, secluded fold in the mountains, far from civilization[if Rip Van Winkle is asleep]: as though to prove it, Rip Van Winkle is sleeping under a tree[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6842_325" -->
<a id="c6842_325"></a><blockquote class="code"><p class="quoted">
A tree is scenery in the Catskills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6843_325" -->
<a id="c6843_325"></a><blockquote class="code"><p class="quoted">
Rip Van Winkle is a man in the Catskills. Rip Van Winkle is asleep.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6844_325" -->
<a id="c6844_325"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items of the Catskills:
<br />&#160;&#160;&#160;&#160;if Rip Van Winkle is marked for listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now Rip Van Winkle is not marked for listing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if Rip Van Winkle is not asleep,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Rip Van Winkle stands here, looking mightily confused.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6845_325" -->
<a id="c6845_325"></a><blockquote class="code"><p class="quoted">
Instead of waiting:
<br />&#160;&#160;&#160;&#160;say &quot;Rip Van Winkle wakes up with a snort.&quot;;
<br />&#160;&#160;&#160;&#160;now Rip Van Winkle is not asleep.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6846_325" -->
<a id="c6846_325"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / z / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "356: Happy Hour" "e181" -->
<a id="e181"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e181" class="eglink"><b>356</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e181" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Happy Hour</span></b></a><br />Listing visible characters as a group, then giving some followup details in the same paragraph about specific ones.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e181"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example181">
<p>Often it is best to have an entire paragraph about the characters present in a room, but suppose we're narrating a large party with a lot of people moving around. In that case, it might be better to list everyone together, then add a few salient details by way of follow-up, like this:</p>
<!-- START CODE "c6847_181" -->
<a id="c6847_181"></a><blockquote class="code"><p class="quoted">
&quot;Happy Hour&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6848_181" -->
<a id="c6848_181"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;say &quot;You can see [a list of people who are marked for listing] here. &quot;;
<br />&#160;&#160;&#160;&#160;repeat with named party running through people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the named party is not marked for listing;
<br />&#160;&#160;&#160;&#160;let count be the number of visible other people who are carrying something;
<br />&#160;&#160;&#160;&#160;if count is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;let index be count;
<br />&#160;&#160;&#160;&#160;repeat with holder running through visible other people who are carrying something:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if index is count, say &quot;[The holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[the holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; has [a list of things carried by the holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement index;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make delimiter index of count.
</p></blockquote>
<!-- END CODE -->
<p>The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.</p>
<!-- START CODE "c6849_181" -->
<a id="c6849_181"></a><blockquote class="code"><p class="quoted">
To make delimiter (index - a number) of (count - a number), continuing or halting:
<br />&#160;&#160;&#160;&#160;if index is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if continuing, say &quot;. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if index is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if count is 2, say &quot; and &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[optional comma] and &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;, &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6850_181" -->
<a id="c6850_181"></a><blockquote class="code"><p class="quoted">
To say optional comma:
<br />&#160;&#160;&#160;&#160;if the serial comma option is active:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;,&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And now the scene:</p>
<!-- START CODE "c6851_181" -->
<a id="c6851_181"></a><blockquote class="code"><p class="quoted">
The Banquet Hall is a room. &quot;A large cheery banner over the door (which, incidentally, vanishes when you approach it) reads: HELLO NEW INDUCTEES! WELCOME TO THE AFTERLIFE!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6852_181" -->
<a id="c6852_181"></a><blockquote class="code"><p class="quoted">
Fred, George, and Larry are men in the Banquet Hall. Fred carries a dry martini. Larry carries a cream puff. Matilda and Louise are women in the Banquet Hall.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6853_181" -->
<a id="c6853_181"></a><blockquote class="code"><p class="quoted">
Definition: a person is other if it is not the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6854_181" -->
<a id="c6854_181"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;let wanderer be a random other person;
<br />&#160;&#160;&#160;&#160;let place be the holder of the wanderer;
<br />&#160;&#160;&#160;&#160;let next place be a random room adjacent to the place;
<br />&#160;&#160;&#160;&#160;let the way be the best route from the place to the next place;
<br />&#160;&#160;&#160;&#160;try the wanderer going the way.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6855_181" -->
<a id="c6855_181"></a><blockquote class="code"><p class="quoted">
The Kitchen is west of the Banquet Hall. &quot;Dominated by a pile of dirty plates which you imagine it will be someone's privilege to wash, later.&quot; Vanessa is a woman in the Kitchen. Vanessa carries a tray. On the tray is a salmon roll. The roll is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6856_181" -->
<a id="c6856_181"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / look / g / g / g &quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "357: The Eye of the Idol" "e380" -->
<a id="e380"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e380" class="eglink"><b>357</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e380" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Eye of the Idol</span></b></a><br />A systematic way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description, and to control whether supporters list their contents or not.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e380"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example380">
<!-- START CODE "c6857_380" -->
<a id="c6857_380"></a><blockquote class="code"><p class="quoted">
 &quot;The Eye of the Idol&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6858_380" -->
<a id="c6858_380"></a><blockquote class="code"><p class="quoted">
Section 1 - Reusable Material
</p></blockquote>
<!-- END CODE -->
<p>We start by defining relations that let us know where items &quot;belong&quot;, with the understanding that if something is where it belongs, it will be described in the main room description and therefore should not be separately listed. Thus:</p>
<!-- START CODE "c6859_380" -->
<a id="c6859_380"></a><blockquote class="code"><p class="quoted">
Positioning relates various things to various things. The verb to be placed in means the positioning relation. The verb to be placed on implies the positioning relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6860_380" -->
<a id="c6860_380"></a><blockquote class="code"><p class="quoted">
Room-positioning relates various things to various rooms. The verb to be room-placed in means the room-positioning relation.
</p></blockquote>
<!-- END CODE -->
<p>We can't make relations relate various objects to various objects, and rooms are not things, so two separate cases are necessary. An alternative approach would be to say &quot;A thing has an object called the initial placement&quot;, which would allow a thing to have an initial placement that was a room, a supporter, or a container; an advantage of using relations, though, is that that way we can if we like specify multiple placements for the same object, so that, e.g., a sparkling diamond can be described in the main description paragraph as &quot;half-buried in dust&quot; in the beginning of the game, and then at the end as &quot;in the eye of the idol&quot; at the end.</p>
<p>Now we define, based on these relations, an &quot;in-place&quot; adjective, which will identify whether something is in a location which will specially describe it:</p>
<!-- START CODE "c6861_380" -->
<a id="c6861_380"></a><blockquote class="code"><p class="quoted">
Definition: a thing (called prop) is in-place:
<br />&#160;&#160;&#160;&#160;if the prop is in the location and the prop is room-placed in the location, yes;
<br />&#160;&#160;&#160;&#160;if the holder of the prop is a thing and the prop is placed in the holder of the prop, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6862_380" -->
<a id="c6862_380"></a><blockquote class="code"><p class="quoted">
Definition: a thing is out-of-place if it is not in-place.
</p></blockquote>
<!-- END CODE -->
<p>With that done, removing these items automatically from the room description is actually pretty easy:</p>
<!-- START CODE "c6863_380" -->
<a id="c6863_380"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;now every marked for listing in-place thing is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<p>One tricky case remains: when something is placed on a supporter that is scenery, it can be mentioned even if we have marked that object &quot;not marked for listing&quot;. What matters here is not whether the object itself is marked for listing but whether the supporter has been &quot;mentioned&quot;. (A fuller description of how room descriptions are assembled is available in the Looking section of the Commands chapter in the Recipe Book.) So let's also add a feature whereby we can easily suppress the descriptions of these supporters when appropriate:</p>
<!-- START CODE "c6864_380" -->
<a id="c6864_380"></a><blockquote class="code"><p class="quoted">
A supporter can be quiet.
</p></blockquote>
<!-- END CODE -->
<p>A quiet supporter is one that is never mentioned itself and which only mentions its contents if they are out of place. This allows for maximum flexibility in incorporating it into the body of room descriptions.</p>
<!-- START CODE "c6865_380" -->
<a id="c6865_380"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a quiet supporter (called chosen table):
<br />&#160;&#160;&#160;&#160;if an out-of-place thing is on the chosen table:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if an in-place thing is on the chosen table,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;On [the chosen table], in addition to [the list of in-place things on the chosen table], [is-are a list of out-of-place things which are on the chosen table].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;On [a chosen table] [is-are a list of out-of-place things which are on the chosen table].&quot;;
<br />&#160;&#160;&#160;&#160;now the chosen table is mentioned.
</p></blockquote>
<!-- END CODE -->
<p>Notice that we can still override this with writing a paragraph rules about specific supporters in our game, if we decide that we want something a little different in some cases.</p>
<p>Now, an example to test this out:</p>
<!-- START CODE "c6866_380" -->
<a id="c6866_380"></a><blockquote class="code"><p class="quoted">
Section 2 - A Sample Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6867_380" -->
<a id="c6867_380"></a><blockquote class="code"><p class="quoted">
The Sand-Floored Chamber is a room. &quot;The constant wind has filled this chamber with a layer of fine red sand, as soft as powder snow[if the diamond is in the Sand-floored Chamber]. Something sparkling is half-buried in the corner[end if]. A doorway lies open to the north.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6868_380" -->
<a id="c6868_380"></a><blockquote class="code"><p class="quoted">
The sparkling diamond is in the Sand-floored Chamber. The sparkling diamond is room-placed in the Sand-floored Chamber. The description is &quot;It is a vast diamond; the front is faceted, the back smoothed to fit in some sort of socket.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6869_380" -->
<a id="c6869_380"></a><blockquote class="code"><p class="quoted">
The Hexagonal Temple is north of the Sand-Floored Chamber. &quot;The temple walls are great ashlar blocks rising to a hundred feet overhead, perhaps more; the roof is a scarlet awning only, through which the sun filters down in blood hues. Overseeing all is a sculpture in stone and ivory[if the sparkling diamond is in the idol's eye], in whose single eye a vast diamond gleams[end if][mat-and-incense text].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6870_380" -->
<a id="c6870_380"></a><blockquote class="code"><p class="quoted">
To say mat-and-incense text:
<br />&#160;&#160;&#160;&#160;if the mat is in the Temple and the incense stick is on the pedestal:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. A prayer mat at the idol's feet, and an incense stick still burning on the pedestal, indicate that someone was only recently consigning her grievances to the care of the deity&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the mat is in the Temple:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. At the idol's feet, some worshipper has left a prayer mat&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the incense stick is on the pedestal:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. At the idol's side is a pedestal, on which incense still smolders&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We could have done all this with text conditions in the main room description, but it becomes difficult to read when there are too many conditions operating in the same text property, so we break it out into a clearer set of conditions.</p>
<!-- START CODE "c6871_380" -->
<a id="c6871_380"></a><blockquote class="code"><p class="quoted">
The idol is scenery in the Hexagonal Temple. Understand &quot;sculpture&quot; or &quot;stone&quot; or &quot;ivory&quot; as the idol. The description is &quot;The idol is perhaps three times the height of an ordinary man.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6872_380" -->
<a id="c6872_380"></a><blockquote class="code"><p class="quoted">
The idol's eye is part of the idol. It is a container. The description is &quot;[if the diamond is in the idol's eye]It gleams with purpose and righteous wrath[otherwise]A round socket in the center of the idol's forehead from which something seems to be missing[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6873_380" -->
<a id="c6873_380"></a><blockquote class="code"><p class="quoted">
The pedestal is a quiet supporter in the Hexagonal Temple. On the pedestal is an incense stick. The incense stick is placed on the pedestal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6874_380" -->
<a id="c6874_380"></a><blockquote class="code"><p class="quoted">
A mat is in the Hexagonal Temple. It is room-placed in the Hexagonal Temple. The description is &quot;Woven of assorted grasses.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6875_380" -->
<a id="c6875_380"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get diamond / look / n / get mat / look / drop diamond / look / get diamond / put diamond in eye / look / get incense / look / drop mat / look / get mat / put mat on pedestal / look / put incense on pedestal / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "358: Priority Lab" "e301" -->
<a id="e301"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e301" class="eglink"><b>358</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e301" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Priority Lab</span></b></a><br />A debugging rule useful for checking the priorities of objects about to be listed.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e301"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example301">
<p>When it comes time to start manipulating the priorities of items, it is useful to be able to check the table for debugging purposes; the problem is that printing the names of the objects can itself affect the way the room description is generated, foiling our debugging efforts.</p>
<p>What follows is a rule to help with debugging safely, and a sample of how priorities work:</p>
<!-- START CODE "c6876_301" -->
<a id="c6876_301"></a><blockquote class="code"><p class="quoted">
&quot;Priority Lab&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6877_301" -->
<a id="c6877_301"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6878_301" -->
<a id="c6878_301"></a><blockquote class="code"><p class="quoted">
Before printing the locale description (this is the dump locale table rule):
<br />&#160;&#160;&#160;&#160;say &quot;Locale Priority list:&quot;;
<br />&#160;&#160;&#160;&#160;repeat through Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the flag be whether or not the notable-object entry is mentioned;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[line break]  [notable-object entry]: [locale description priority entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the flag is false, now the notable-object entry is not mentioned;
<br />&#160;&#160;&#160;&#160;say line break.
</p></blockquote>
<!-- END CODE -->
<p>Now, let's look at some items put in a specific order. Things with low priority numbers list towards the beginning; things with high priority numbers list towards the end. (It helps to think of it as though we were making a numbered list of the paragraphs to appear in the description.) Anything numbered 0 doesn't appear at all, and the default priority of an object is 1.</p>
<!-- START CODE "c6879_301" -->
<a id="c6879_301"></a><blockquote class="code"><p class="quoted">
A thing can be early-described, late-described, latest-described, never-described, sightline-described, or ordinarily-described. A thing is usually ordinarily-described.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6880_301" -->
<a id="c6880_301"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects (this is the apply early and late description rule):
<br />&#160;&#160;&#160;&#160;repeat with item running through early-described things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a notable-object of item in the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 1; [list before everything else -- this would work with any number lower than 5 and higher than 0]
<br />&#160;&#160;&#160;&#160;repeat with item running through late-described things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a notable-object of item in the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 10; [list after everything else -- this would work with any number larger than 5]
<br />&#160;&#160;&#160;&#160;repeat with item running through never-described things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 0; [don't list at all]
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<p>An important cautionary note: priorities are only honored if the objects are going to get their own paragraphs (with &quot;writing a paragraph about...&quot; or because they have initial appearances). Priorities do not affect the order in which items appear in the final &quot;You can see...&quot; list, except that items with priority 0 or lower are omitted. (If we want to order the items in that list, we may want to resort to the Complex Listing extension by Emily Short.)</p>
<p>There are further refinements available to us: for instance, we could make some things that are only visible if the player is raised above ground level.</p>
<!-- START CODE "c6881_301" -->
<a id="c6881_301"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects (this is the sightline-described things are visible from supporters rule):
<br />&#160;&#160;&#160;&#160;if the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through sightline-described things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a notable-object of item in the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 0; [remove objects that can only be seen from higher objects.]
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<p>It may also be useful to know about the &quot;parameter-object&quot;, which refers to the thing whose contents we are currently describing: the standard rules consider how to describe the contents of the location and then also check the contents of any supporter or container the player may be inside, so in the first case &quot;parameter-object&quot; would be the location, and then in the second the supporter in question.</p>
<p>In practice this is rarely useful, but should we need to change priorities in the case of both player and object being inside a particular container, we might make use of it, for instance:</p>
<!-- START CODE "c6882_301" -->
<a id="c6882_301"></a><blockquote class="code"><p class="quoted">
A thing can be tasteful or icky. A thing is usually tasteful.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6883_301" -->
<a id="c6883_301"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects (this is the icky things next to players rule):
<br />&#160;&#160;&#160;&#160;if the player is on the parameter-object:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through icky things :
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a notable-object of item in the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 10; [remove objects that can only be seen from higher objects.]
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<p>The other thing to note is that by default that final collection of generic objects (&quot;You can also see...&quot;) appears at the end, regardless of the priority of everything else. If we really wanted to, though, we could force something to appear even after that paragraph, by adding a new listing rule to the locale description rules:</p>
<!-- START CODE "c6884_301" -->
<a id="c6884_301"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects (this is the latest-described items priority rule):
<br />&#160;&#160;&#160;&#160;repeat with item running through latest-described things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is a notable-object listed in the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is mentioned;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is marked for late listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6885_301" -->
<a id="c6885_301"></a><blockquote class="code"><p class="quoted">
The late listing rule is listed after the you-can-also-see rule in the for printing the locale description rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6886_301" -->
<a id="c6886_301"></a><blockquote class="code"><p class="quoted">
A thing can be marked for late listing. A thing is usually not marked for late listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6887_301" -->
<a id="c6887_301"></a><blockquote class="code"><p class="quoted">
This is the late listing rule:
<br />&#160;&#160;&#160;&#160;if something is marked for late listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Oh! And also [a list of things which are marked for late listing].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now everything is not marked for late listing;
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6888_301" -->
<a id="c6888_301"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6889_301" -->
<a id="c6889_301"></a><blockquote class="code"><p class="quoted">
The Priority Lab is a room. The early bird, the worm, the leaf, the unseen object, the pebble, the twig, and the late edition are things in the Priority Lab.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6890_301" -->
<a id="c6890_301"></a><blockquote class="code"><p class="quoted">
The early bird is early-described. The late edition is late-described. The unseen object is never-described.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6891_301" -->
<a id="c6891_301"></a><blockquote class="code"><p class="quoted">
The worm is icky.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6892_301" -->
<a id="c6892_301"></a><blockquote class="code"><p class="quoted">
The high window is in Priority Lab. It is sightline-described and fixed in place. The initial appearance of the high window is &quot;There's a tiny high window up near the ceiling that you can't see unless you're on top of something.&quot;
</p></blockquote>
<!-- END CODE -->
<p>In order for the priorities we just set to be interesting, let's give out some initial appearances and writing a paragraph rules:</p>
<!-- START CODE "c6893_301" -->
<a id="c6893_301"></a><blockquote class="code"><p class="quoted">
The initial appearance of the worm is &quot;A worm inches along the ground.&quot;
<br />The initial appearance of the late edition is &quot;Finally, the late edition lies at your feet.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6894_301" -->
<a id="c6894_301"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the early bird when the early bird is in a room: say &quot;The early bird always appears first, and here it is.&quot;
<br />Rule for writing a paragraph about the leaf: say &quot;Look, there's [a leaf][unless the leaf is in the location] on [the holder of the leaf][end if]!&quot;
<br />Rule for writing a paragraph about an icky thing (called icky item) which is on something which supports the player: say &quot;Ew, [an icky item] is right next to you.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This procedure also means (as you can test by experiment) that after the late edition has been picked up and dropped again, it lists in no special order in the &quot;you can see...&quot; paragraph (since initial appearances only print when the object has not yet been moved).</p>
<!-- START CODE "c6895_301" -->
<a id="c6895_301"></a><blockquote class="code"><p class="quoted">
The afterthought is a thing in the Priority Lab. It is latest-described.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6896_301" -->
<a id="c6896_301"></a><blockquote class="code"><p class="quoted">
The bar stool is an enterable supporter in Priority Lab.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6897_301" -->
<a id="c6897_301"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get leaf / drop leaf / look / x unseen object / get pebble / look / get twig / look / get afterthought / look / drop twig / look / get late edition / look / drop late edition / sit on bar stool / look / get all / put all on stool / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "359: Low Light" "e231" -->
<a id="e231"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e231" class="eglink"><b>359</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e231" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Low Light</span></b></a><br />An object that is only visible and manipulable when a bright light fixture is on.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e231"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example231">
<p>Suppose we want a different treatment of lighting than the usual: the room isn't totally dark, but there's something we can't see unless we turn on a bright light.</p>
<!-- START CODE "c6898_231" -->
<a id="c6898_231"></a><blockquote class="code"><p class="quoted">
&quot;Low Light&quot;
</p></blockquote>
<!-- END CODE -->
<p>First we make our environment and its light:</p>
<!-- START CODE "c6899_231" -->
<a id="c6899_231"></a><blockquote class="code"><p class="quoted">
The Workroom is a room. The desk is in the Workroom. The brilliant lamp is a device on the desk.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6900_231" -->
<a id="c6900_231"></a><blockquote class="code"><p class="quoted">
To decide whether the light level is high:
<br />&#160;&#160;&#160;&#160;if the brilliant lamp is switched off, no;
<br />&#160;&#160;&#160;&#160;if the player cannot see the brilliant lamp, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6901_231" -->
<a id="c6901_231"></a><blockquote class="code"><p class="quoted">
To decide whether the light level is low:
<br />&#160;&#160;&#160;&#160;if the light level is high, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<p>Now we make a shadow so that the player can only refer to it if the shadow is in inventory or the light is on:</p>
<!-- START CODE "c6902_231" -->
<a id="c6902_231"></a><blockquote class="code"><p class="quoted">
The shadow is a privately-named thing on the desk.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6903_231" -->
<a id="c6903_231"></a><blockquote class="code"><p class="quoted">
Understand &quot;barely-visible&quot; or &quot;barely visible&quot; or &quot;shadow&quot; as the shadow when the light level is high. Understand &quot;invisible&quot; or &quot;shadow&quot; as the shadow when the player encloses the shadow.
</p></blockquote>
<!-- END CODE -->
<p>And finally a couple of extra touches to make it clear why we're able to interact with the shadow when it's in inventory, even if the light is low:</p>
<!-- START CODE "c6904_231" -->
<a id="c6904_231"></a><blockquote class="code"><p class="quoted">
Before printing the name of the shadow:
<br />&#160;&#160;&#160;&#160;if the light level is high:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;barely-visible &quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the player encloses the shadow:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;invisible (but tangible) &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6905_231" -->
<a id="c6905_231"></a><blockquote class="code"><p class="quoted">
After dropping the shadow when the light level is low:
<br />&#160;&#160;&#160;&#160;say &quot;You let it go and it fades into the ambient gloom.&quot;
</p></blockquote>
<!-- END CODE -->
<p>To handle the appearance of the object, we want to set its locale priority to 0: that will prevent it being named in room descriptions.</p>
<!-- START CODE "c6906_231" -->
<a id="c6906_231"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects:
<br />&#160;&#160;&#160;&#160;unless the light level is high:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set locale priority of the shadow to 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6907_231" -->
<a id="c6907_231"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / get shadow / turn on lamp / look / get shadow / i / turn off lamp / i / drop shadow / look / get shadow / turn on lamp / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "360: Casino Banale" "e68" -->
<a id="e68"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e68" class="eglink"><b>360</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e68" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Casino Banale</span></b></a><br />Creating room descriptions and object descriptions that change as the player learns new facts and pieces things together.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_5.html#e68"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example68">
<p>In a work of interactive fiction that involves many new discoveries, we might want to change the way we narrate room descriptions and describe objects as the player learns new information.</p>
<p>One approach to this is to create a model of the facts we want the player to find out, and attach some narrative text to each. When a fact becomes relevant to the story, that narrative text is shown to the player. So:</p>
<!-- START CODE "c6908_68" -->
<a id="c6908_68"></a><blockquote class="code"><p class="quoted">
&quot;Casino Banale&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6909_68" -->
<a id="c6909_68"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<p>First we create the concept of facts, and the idea that facts can make some things more important than others.</p>
<!-- START CODE "c6910_68" -->
<a id="c6910_68"></a><blockquote class="code"><p class="quoted">
A fact is a kind of thing. A fact can be known or unknown. A fact can be ready to learn or hidden. A fact has some text called the narration.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6911_68" -->
<a id="c6911_68"></a><blockquote class="code"><p class="quoted">
Definition: a thing is narratively significant if it conveys an interesting fact.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6912_68" -->
<a id="c6912_68"></a><blockquote class="code"><p class="quoted">
Definition: a thing is narratively dull if it is not narratively significant.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6913_68" -->
<a id="c6913_68"></a><blockquote class="code"><p class="quoted">
Conveyance relates various things to various facts. The verb to convey means the conveyance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6914_68" -->
<a id="c6914_68"></a><blockquote class="code"><p class="quoted">
Definition: a fact is interesting if it is unknown and it is ready to learn.
</p></blockquote>
<!-- END CODE -->
<p>Now, we also need a way to tell Inform to introduce certain new facts when the right previous ones have been introduced. We'll create a &quot;following&quot; relation, according to which a new fact can be told to the player when the player has already learned all the facts it follows. This way, we can simulate the effect of putting together several pieces of evidence to come to a conclusion:</p>
<!-- START CODE "c6915_68" -->
<a id="c6915_68"></a><blockquote class="code"><p class="quoted">
Following relates various facts to various facts. The verb to follow means the following relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6916_68" -->
<a id="c6916_68"></a><blockquote class="code"><p class="quoted">
To say (new fact - a fact):
<br />&#160;&#160;&#160;&#160;say &quot;[narration of the new fact]&quot;;
<br />&#160;&#160;&#160;&#160;now the new fact is known;
<br />&#160;&#160;&#160;&#160;repeat with possible outcome running through facts which follow the new fact:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if every fact which is followed by possible outcome is known:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the possible outcome is ready to learn.
</p></blockquote>
<!-- END CODE -->
<p>Next we need a way for the game to introduce these new facts. Let's say we want them to come up when the player examines something appropriate, or sees it in the room:</p>
<!-- START CODE "c6917_68" -->
<a id="c6917_68"></a><blockquote class="code"><p class="quoted">
After examining something which conveys an interesting fact (called discovery):
<br />&#160;&#160;&#160;&#160;say &quot;[discovery][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6918_68" -->
<a id="c6918_68"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the notable-object entry is narratively significant:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the notable-object entry to 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6919_68" -->
<a id="c6919_68"></a><blockquote class="code"><p class="quoted">
For writing a paragraph about a narratively significant thing (called item):
<br />&#160;&#160;&#160;&#160;now the item is mentioned;
<br />&#160;&#160;&#160;&#160;let chosen fact be a random interesting fact which is conveyed by the item;
<br />&#160;&#160;&#160;&#160;say &quot;[chosen fact][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The &quot;after choosing notable locale objects&quot; line here handles things so that any interesting conclusions we want to draw are always given first, followed by the less interesting description.</p>
<p>And finally, we need to give the player a little evidence to piece together:</p>
<!-- START CODE "c6920_68" -->
<a id="c6920_68"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6921_68" -->
<a id="c6921_68"></a><blockquote class="code"><p class="quoted">
The Casino is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6922_68" -->
<a id="c6922_68"></a><blockquote class="code"><p class="quoted">
Frince is a man in the Casino. The description is &quot;Frince is a friend of yours -- if you reckon friendship on the same terms that one reckons a cat as a pet. He spends time with you when he wants to, but if your wishes or convenience ever run counter to a whim of his, it's the whim that wins. Always. [paragraph break]He's also wearing a somewhat ludicrous shirt.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6923_68" -->
<a id="c6923_68"></a><blockquote class="code"><p class="quoted">
Frince wears a ludicrous shirt. The description of the ludicrous shirt is &quot;Fine white fabric with satiny white pinstripes: it's that expensive, effeminate look that Frince is so fond of, and which -- combined with his name -- gives people completely the wrong idea about him.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6924_68" -->
<a id="c6924_68"></a><blockquote class="code"><p class="quoted">
Tim is a man in the Casino. The description is &quot;You don't know Tim well. Kind of wall-flowerish. The only thing that seems to excite him is craps.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6925_68" -->
<a id="c6925_68"></a><blockquote class="code"><p class="quoted">
Penny is a woman in the Casino. The description is &quot;Loud. Brash. Hot, probably, if you can look past the loud and brash.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6926_68" -->
<a id="c6926_68"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a narratively dull person:
<br />&#160;&#160;&#160;&#160;let is-are-n be &quot;is&quot;;
<br />&#160;&#160;&#160;&#160;if the number of unmentioned narratively dull people is not 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let is-are-n be &quot;are&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[A list of unmentioned narratively dull people] [is-are-n] [one of]watching the croupier[or]following the spin of the roulette[or]chattering[at random][one of] breathlessly[or] impatiently[or][at random].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6927_68" -->
<a id="c6927_68"></a><blockquote class="code"><p class="quoted">
Penny-annoying is a fact.
<br />&#160;&#160;&#160;&#160;It is ready to learn.
<br />&#160;&#160;&#160;&#160;The narration is &quot;[if looking]Penny grimaces at you-- [end if]Penny is the same woman who stepped on your toe in the buffet line. The third time, she blurted, 'You have big shoes, don't you?'&quot;
<br />&#160;&#160;&#160;&#160;Penny conveys penny-annoying.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6928_68" -->
<a id="c6928_68"></a><blockquote class="code"><p class="quoted">
lipstick-smudges is a fact.
<br />&#160;&#160;&#160;&#160;It is ready to learn.
<br />&#160;&#160;&#160;&#160;The narration is &quot;There are a couple of smudges of coral-colored lipstick on the collar.&quot;
<br />&#160;&#160;&#160;&#160;The ludicrous shirt conveys lipstick-smudges.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6929_68" -->
<a id="c6929_68"></a><blockquote class="code"><p class="quoted">
penny-wears-coral is a fact.
<br />&#160;&#160;&#160;&#160;It follows penny-annoying.
<br />&#160;&#160;&#160;&#160;The narration is &quot;[if looking]Penny catches your eye again. [end if]The bright coral lipstick was really not a wise choice.&quot;
<br />&#160;&#160;&#160;&#160;Penny conveys penny-wears-coral.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6930_68" -->
<a id="c6930_68"></a><blockquote class="code"><p class="quoted">
Affair-with-penny is a fact.
<br />&#160;&#160;&#160;&#160;It follows lipstick-smudges and penny-wears-coral.
<br />&#160;&#160;&#160;&#160;The narration is &quot;You avoid [if examining Frince]his[otherwise]Frince's[end if] eye. You need some time to adjust to the image of him making out with Penny in a storage closet before you can talk to him without appalled giggling.&quot;
<br />&#160;&#160;&#160;&#160;Frince conveys affair-with-Penny.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6931_68" -->
<a id="c6931_68"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x penny / x frince / x shirt / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "361: Kiwi" "e210" -->
<a id="e210"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e210" class="eglink"><b>361</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e210" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Kiwi</span></b></a><br />Creating a raised supporter kind whose contents the player can't see or take from the ground.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_8.html#e210"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example210">
<p>Suppose we want there to be some high shelves in our game, which the player can't get at unless he's standing on a prop of some kind. (This is a pretty hoary and over-used puzzle, but there may still be occasions when it becomes useful again.)</p>
<p>In order to resolve this, we want to set up a raised supporter kind. When something is on a raised supporter, it should be mentioned to the player only if the player is in the right position (i.e., standing on something) and otherwise omitted from the description entirely.</p>
<!-- START CODE "c6932_210" -->
<a id="c6932_210"></a><blockquote class="code"><p class="quoted">
&quot;Kiwi&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6933_210" -->
<a id="c6933_210"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6934_210" -->
<a id="c6934_210"></a><blockquote class="code"><p class="quoted">
A raised supporter is a kind of supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6935_210" -->
<a id="c6935_210"></a><blockquote class="code"><p class="quoted">
For printing a locale paragraph about a raised supporter (called the high place):
<br />&#160;&#160;&#160;&#160;if the player is on a supporter (called the riser):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Up on [the high place] (and only visible because you're on [the riser]) [is-are a list of things on the high place].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The [high place] is above you.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that here we don't continue the activity because we want to completely replace the normal behavior of describing what is on supporters.</p>
<!-- START CODE "c6936_210" -->
<a id="c6936_210"></a><blockquote class="code"><p class="quoted">
Definition: a thing (called target item) is out of reach:
<br />&#160;&#160;&#160;&#160;if the player is on a supporter, no;
<br />&#160;&#160;&#160;&#160;if the target item is on a raised supporter, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<p>Now we also need to prevent the player from interacting with things that are out of reach:</p>
<!-- START CODE "c6937_210" -->
<a id="c6937_210"></a><blockquote class="code"><p class="quoted">
Before doing something:
<br />&#160;&#160;&#160;&#160;if the noun is out of reach or the second noun is out of reach:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach from down here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>...or restoring things to the shelves while the player is in the wrong position...</p>
<!-- START CODE "c6938_210" -->
<a id="c6938_210"></a><blockquote class="code"><p class="quoted">
Instead of putting something on a raised supporter when the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;say &quot;You can't reach from down here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And raised supporters shouldn't be searchable from the ground either:</p>
<!-- START CODE "c6939_210" -->
<a id="c6939_210"></a><blockquote class="code"><p class="quoted">
Instead of searching or examining a raised supporter when the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;say &quot;You can't see from down here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Finally, we need to tackle the case where the player types GET ALL FROM SHELF, because we don't want to list the objects up there if the player can't even see them. We use a rule for deciding whether all includes in order to tell Inform not to consider items that can't be reached, and then we adjust the parser error so that it's a little more instructive than &quot;There are none at all available!&quot;, which is what the response would otherwise be:</p>
<!-- START CODE "c6940_210" -->
<a id="c6940_210"></a><blockquote class="code"><p class="quoted">
Disallowed-all is a truth state that varies. Disallowed-all is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6941_210" -->
<a id="c6941_210"></a><blockquote class="code"><p class="quoted">
Rule for deciding whether all includes an out of reach thing:
<br />&#160;&#160;&#160;&#160;now disallowed-all is true;
<br />&#160;&#160;&#160;&#160;it does not.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6942_210" -->
<a id="c6942_210"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error when the latest parser error is the nothing to do error and the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;if disallowed-all is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Whatever might be up there, you can't see or reach from down here.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make no decision.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6943_210" -->
<a id="c6943_210"></a><blockquote class="code"><p class="quoted">
A first action-processing rule:
<br />&#160;&#160;&#160;&#160;now disallowed-all is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6944_210" -->
<a id="c6944_210"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6945_210" -->
<a id="c6945_210"></a><blockquote class="code"><p class="quoted">
The Bottom of the Nursery is a room. &quot;Ever since you ate that mysterious cake, you've been even shorter than usual.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6946_210" -->
<a id="c6946_210"></a><blockquote class="code"><p class="quoted">
The high shelf is a raised supporter in the Nursery. It is scenery. On the high shelf are a kiwi-green ball and a stuffed dodo.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6947_210" -->
<a id="c6947_210"></a><blockquote class="code"><p class="quoted">
The step-ladder is an enterable supporter in the Nursery. Understand &quot;ladder&quot; as the step-ladder.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6948_210" -->
<a id="c6948_210"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x shelf / search shelf / get dodo / get all from shelf / stand on ladder / get all from shelf / search shelf / get off / put all on shelf / get all from shelf / stand on ladder / put all on shelf&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "362: Copper River" "e93" -->
<a id="e93"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e93" class="eglink"><b>362</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e93" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Copper River</span></b></a><br />Manipulating room descriptions so that only interesting items are mentioned, while objects that are present but not currently useful to the player are ignored.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e93"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example93">
<p>In a very dense environment, we might want to offer the player room descriptions in which only the currently-interesting items are mentioned, while other objects are suppressed even if they are present. In effect, this takes the idea of scenery and makes it more flexible: different things might become background objects or foreground objects at different times during play.</p>
<p>There are a wide range of possible reasons to do this -- to shift the narrative emphasis, to change the mood of the game by highlighting different parts of the environment, to show the game from the perspective of different viewpoint characters -- but in the following example, our goal is to show the player only the objects that are currently useful for puzzles.</p>
<p>To do this, we need some notion of what puzzles are currently available and unsolved, so we make an &quot;unsolved&quot; adjective; we also need to know which things solve the puzzle, so we create a &quot;resolving&quot; relation, to indicate which objects resolve which problems.</p>
<p>Given that information, we can create rules about which objects in the game world are currently interesting, which are currently dull, and describe accordingly:</p>
<!-- START CODE "c6949_93" -->
<a id="c6949_93"></a><blockquote class="code"><p class="quoted">
&quot;Copper River&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6950_93" -->
<a id="c6950_93"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6951_93" -->
<a id="c6951_93"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6952_93" -->
<a id="c6952_93"></a><blockquote class="code"><p class="quoted">
Resolving relates various things to various things. The verb to resolve means the resolving relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6953_93" -->
<a id="c6953_93"></a><blockquote class="code"><p class="quoted">
Definition: a thing is interesting if it is not dull.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6954_93" -->
<a id="c6954_93"></a><blockquote class="code"><p class="quoted">
Definition: a person is dull:
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6955_93" -->
<a id="c6955_93"></a><blockquote class="code"><p class="quoted">
Definition: a thing is dull:
<br />&#160;&#160;&#160;&#160;if it is unsolved, no;
<br />&#160;&#160;&#160;&#160;if it resolves an unsolved thing, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6956_93" -->
<a id="c6956_93"></a><blockquote class="code"><p class="quoted">
Definition: a supporter is dull:
<br />&#160;&#160;&#160;&#160;if it is unsolved, no;
<br />&#160;&#160;&#160;&#160;if it resolves an unsolved thing, no;
<br />&#160;&#160;&#160;&#160;if it supports an interesting thing, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6957_93" -->
<a id="c6957_93"></a><blockquote class="code"><p class="quoted">
Definition: a container is dull:
<br />&#160;&#160;&#160;&#160;if it is unsolved, no;
<br />&#160;&#160;&#160;&#160;if it resolves an unsolved thing, no;
<br />&#160;&#160;&#160;&#160;if it contains an interesting thing, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6958_93" -->
<a id="c6958_93"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects:
<br />&#160;&#160;&#160;&#160;repeat with item running through unsolved things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6959_93" -->
<a id="c6959_93"></a><blockquote class="code"><p class="quoted">
For printing a locale paragraph about a dull thing (called item):
<br />&#160;&#160;&#160;&#160;now the item is mentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6960_93" -->
<a id="c6960_93"></a><blockquote class="code"><p class="quoted">
Before printing a locale paragraph about a supporter (called item):
<br />&#160;&#160;&#160;&#160;now every dull thing on the item is mentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6961_93" -->
<a id="c6961_93"></a><blockquote class="code"><p class="quoted">
Before printing a locale paragraph about a container (called item):
<br />&#160;&#160;&#160;&#160;now every dull thing on the item is mentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6962_93" -->
<a id="c6962_93"></a><blockquote class="code"><p class="quoted">
Instead of searching a supporter:
<br />&#160;&#160;&#160;&#160;if the noun supports something interesting:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[A list of interesting things on the noun] [are] on [the noun]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun supports something dull:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; (alongside [a list of dull things on the noun])&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the noun supports something dull:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There's nothing very useful here, only [a list of dull things on the noun].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] [are] completely bare.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6963_93" -->
<a id="c6963_93"></a><blockquote class="code"><p class="quoted">
Instead of searching a container:
<br />&#160;&#160;&#160;&#160;if the noun contains something interesting:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[A list of interesting things in the noun] [are] in [the noun]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun contains something dull:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; (alongside [a list of dull things in the noun])&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the noun contains something dull:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There's nothing very useful here, only [a list of dull things in the noun].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] [are] completely empty.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6964_93" -->
<a id="c6964_93"></a><blockquote class="code"><p class="quoted">
Before listing contents when not taking inventory: group dull things together.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6965_93" -->
<a id="c6965_93"></a><blockquote class="code"><p class="quoted">
Rule for grouping together dull things: say &quot;assorted dull items&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6966_93" -->
<a id="c6966_93"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario World and Objects
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6967_93" -->
<a id="c6967_93"></a><blockquote class="code"><p class="quoted">
The Kitchen is a room. &quot;Your Aunt Fiona's kitchen looks as though it has been at the eye of a glitter storm. Fine, sparkling grit dusts every surface. The appliances are slightly askew, too, as though they hadn't quite settled after a vigorous earthquake.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6968_93" -->
<a id="c6968_93"></a><blockquote class="code"><p class="quoted">
The shelf is a scenery supporter in the Kitchen. On the shelf is a can of beans, a can of potato leek soup, and a tin of deflating powder.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6969_93" -->
<a id="c6969_93"></a><blockquote class="code"><p class="quoted">
The cabinet is a scenery container in the Kitchen. In the cabinet is a book of matches, a bottle of descaling solution, a fish hook, and a rusty knife. It is openable and closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6970_93" -->
<a id="c6970_93"></a><blockquote class="code"><p class="quoted">
The counter is a scenery supporter in the Kitchen. On the counter is an espresso machine, a blender, and a mortar. The blender and the mortar are containers. In the mortar is a pestle. Understand &quot;countertop&quot; as the counter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6971_93" -->
<a id="c6971_93"></a><blockquote class="code"><p class="quoted">
The stove is a scenery supporter in the Kitchen. The oven is part of the stove. The oven is a closed openable container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6972_93" -->
<a id="c6972_93"></a><blockquote class="code"><p class="quoted">
The refrigerator is a fixed in place container in the Kitchen.
<br />&#160;&#160;&#160;&#160;Understand &quot;fridge&quot; as the refrigerator.
<br />&#160;&#160;&#160;&#160;The description is &quot;The refrigerator is a dull blue-green, and has a puffy, marshmallow texture on the outside, which means that it's no good for sticking magnets to. Aunt Fiona has never been willing to explain where she got it.&quot; The refrigerator is openable and closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6973_93" -->
<a id="c6973_93"></a><blockquote class="code"><p class="quoted">
In the refrigerator are a bottle of ice wine, a bag of carrot sticks, and an egg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6974_93" -->
<a id="c6974_93"></a><blockquote class="code"><p class="quoted">
Aunt Fiona is a woman in the Kitchen. Aunt Fiona can be inflated or deflated. Aunt Fiona is inflated. &quot;[if Aunt Fiona is inflated]Aunt Fiona stands nearby. Or perhaps 'stands' is the wrong word: she has been sort of puffed up in her own skin like a balloon, and is now propped in a corner of the room with her head lolling back[otherwise]Aunt Fiona stands -- on her own two slender legs -- at the center of the room[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6975_93" -->
<a id="c6975_93"></a><blockquote class="code"><p class="quoted">
Every turn when Fiona is unsolved and Fiona can see the player:
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[one of]Aunt Fiona's eyes follow you, wide and desperate, but it doesn't look like she's able to do anything[or]Aunt Fiona is still looking reproachful[or]A faint gurgling comes from Aunt Fiona[or]Aunt Fiona makes a funny croak noise[or]Aunt Fiona is still having trouble speaking. Perhaps her throat is as swollen as the rest of her[or]Aunt Fiona twitches[stopping].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6976_93" -->
<a id="c6976_93"></a><blockquote class="code"><p class="quoted">
There is a thing called a salmon. Understand &quot;fish&quot; as the salmon. The salmon can be scaly or prepared. The salmon is scaly. The description is &quot;[if scaly]It looks delicious, but is still covered with scales[otherwise]The salmon has been scaled and is ready to eat[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6977_93" -->
<a id="c6977_93"></a><blockquote class="code"><p class="quoted">
Before printing the name of the salmon when the salmon is scaly:
<br />&#160;&#160;&#160;&#160;say &quot;very scaly &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6978_93" -->
<a id="c6978_93"></a><blockquote class="code"><p class="quoted">
Section 3 - Scenario Puzzles
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6979_93" -->
<a id="c6979_93"></a><blockquote class="code"><p class="quoted">
Definition: Aunt Fiona is unsolved if she is inflated.
<br />Definition: the salmon is unsolved:
<br />&#160;&#160;&#160;&#160;if the salmon is off-stage, no;
<br />&#160;&#160;&#160;&#160;if the salmon is scaly, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6980_93" -->
<a id="c6980_93"></a><blockquote class="code"><p class="quoted">
The deflating powder resolves Aunt Fiona.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6981_93" -->
<a id="c6981_93"></a><blockquote class="code"><p class="quoted">
Instead of putting the deflating powder on Aunt Fiona:
<br />&#160;&#160;&#160;&#160;try throwing the deflating powder at Aunt Fiona.
<br />Instead of giving the deflating powder to Aunt Fiona:
<br />&#160;&#160;&#160;&#160;try throwing the deflating powder at Aunt Fiona.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6982_93" -->
<a id="c6982_93"></a><blockquote class="code"><p class="quoted">
Instead of throwing the deflating powder at Aunt Fiona:
<br />&#160;&#160;&#160;&#160;if Aunt Fiona is inflated:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You toss some of the powder in Aunt Fiona's direction, and with a sudden gaseous HUFF! she returns to her usual shape and size. [paragraph break]'Well!' she says, brushing herself off. 'That was bracing!' [paragraph break]You give her an embarrassed smile, to apologize for not curing her faster.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now Aunt Fiona is deflated;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the score by 2;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[one of]You throw another hefty dose of the powder at your aunt. [paragraph break]'Thank you, child,' she says, sneezing. 'But I think you've done enough now.'[or]You throw another hefty dose of the powder at your aunt. [paragraph break]'You're too kind,' she wheezes, through a cloud of glittering dust.[or]You've probably done enough with the powder.[stopping]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6983_93" -->
<a id="c6983_93"></a><blockquote class="code"><p class="quoted">
Every turn when Aunt Fiona is deflated and the salmon is off-stage:
<br />&#160;&#160;&#160;&#160;move the salmon to the counter;
<br />&#160;&#160;&#160;&#160;say &quot;'At least they didn't get this,' she says, producing from somewhere on her person a fresh-caught salmon. An odd pattern around its eye sockets makes it looks comically as though it wears spectacles. 'It's the Salmon of Knowledge,' she explains casually. 'We just need to scale and cook it.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6984_93" -->
<a id="c6984_93"></a><blockquote class="code"><p class="quoted">
The bottle of descaling solution resolves the salmon.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6985_93" -->
<a id="c6985_93"></a><blockquote class="code"><p class="quoted">
Does the player mean putting the descaling solution on the fish hook: it is unlikely.
<br />Does the player mean putting the descaling solution on the salmon: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6986_93" -->
<a id="c6986_93"></a><blockquote class="code"><p class="quoted">
Instead of putting the bottle of descaling solution on the salmon:
<br />&#160;&#160;&#160;&#160;if the salmon is scaly:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the salmon is prepared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;With just a single squirt of the descaling solution (which confusingly has a picture of bathroom tiles on the label), you remove the scales from the salmon, leaving its pink flesh ready for preparation.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the score by 2;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Don't do that,' Aunt Fiona warns you. 'Excessive applications could damage the flesh.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6987_93" -->
<a id="c6987_93"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / get powder / drop powder / look / look in cabinet / get powder / put powder on fiona / look / open cabinet / look in cabinet / get solution / open fridge / put solution in fridge / look / get solution / put solution on salmon / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "363: Peeled" "e176" -->
<a id="e176"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e176" class="eglink"><b>363</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e176" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Peeled</span></b></a><br />Two different approaches to adjusting what the player can interact with, compared.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e176"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example176">
<p>Suppose we have a situation where the player is in darkness, but is allowed to feel and interact with (except for examining) any large objects. In that case, we write a scope rule that puts those large objects into scope all the time, and trust the &quot;requires light&quot; aspect of verbs like examining to prevent the player from doing any actions that he shouldn't:</p>
<!-- START CODE "c6988_176" -->
<a id="c6988_176"></a><blockquote class="code"><p class="quoted">
&quot;Peeled&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6989_176" -->
<a id="c6989_176"></a><blockquote class="code"><p class="quoted">
A thing can be large or small.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6990_176" -->
<a id="c6990_176"></a><blockquote class="code"><p class="quoted">
Before touching a large thing when in darkness: say &quot;You grope for [the noun]...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6991_176" -->
<a id="c6991_176"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;repeat with item running through large things in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;place item in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6992_176" -->
<a id="c6992_176"></a><blockquote class="code"><p class="quoted">
Some generic surroundings are backdrop. They are everywhere. Understand &quot;walls&quot; or &quot;wall&quot; or &quot;ceiling&quot; or &quot;ground&quot; or &quot;floor&quot; or &quot;area&quot; or &quot;room&quot; or &quot;here&quot; as the generic surroundings. Instead of touching the generic surroundings: say &quot;You encounter nothing extraordinary.&quot; Instead of touching the generic surroundings when in darkness: say &quot;You try feeling your way around and reach [a list of large things in the location].&quot; After deciding the scope of the player when in darkness: place the surroundings in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6993_176" -->
<a id="c6993_176"></a><blockquote class="code"><p class="quoted">
The Room of Mystery is a dark room. The bearskin rug is a large thing in the Room of Mystery. Instead of touching the rug: say &quot;It feels furry!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6994_176" -->
<a id="c6994_176"></a><blockquote class="code"><p class="quoted">
The peeled grape is a small thing in the Room of Mystery. Instead of touching the peeled grape: say &quot;Gosh, is that an eyeball?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6995_176" -->
<a id="c6995_176"></a><blockquote class="code"><p class="quoted">
Test me with &quot;feel floor / feel rug / eat rug / examine rug / get grape&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Sadly, because the grape is small, the player will never encounter this horror.</p>
<p>Alternatively, suppose we have a situation in which the player can use one command to interact with a kind of thing that isn't normally in scope. It's usually most convenient to write the &quot;understand&quot; rule appropriately rather than use the scope activity.</p>
<p>(Note that we define &quot;inquiring about&quot; as applying to one *visible* thing; otherwise we would be required to be able to touch the catsuit in order to inquire about it. More on this restriction may be found in the Advanced Actions chapter on the topic of visible, touchable, and carried things.)</p>
<!-- START CODE "c6996_176" -->
<a id="c6996_176"></a><blockquote class="code"><p class="quoted">
&quot;Peeled&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6997_176" -->
<a id="c6997_176"></a><blockquote class="code"><p class="quoted">
Mr Steed's Flat is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6998_176" -->
<a id="c6998_176"></a><blockquote class="code"><p class="quoted">
Understand &quot;ask about [any subject]&quot; as inquiring about. A subject is a kind of thing. The skintight catsuit is a subject. Inquiring about is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6999_176" -->
<a id="c6999_176"></a><blockquote class="code"><p class="quoted">
Carry out inquiring about something:
<br />&#160;&#160;&#160;&#160;say &quot;'What can you tell me about [the noun]?' you demand. Mr Steed raises his eyebrows, but does not reply.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7000_176" -->
<a id="c7000_176"></a><blockquote class="code"><p class="quoted">
Test me with &quot;ask about catsuit / x catsuit&quot;.
</p></blockquote>
<!-- END CODE -->
<p>All this said, there do arise certain complex situations when we want an activity-specific scoping.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "364: Four Stars 2" "e426" -->
<a id="e426"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e426" class="eglink"><b>364</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e426" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Four Stars 2</span></b></a><br />Using "deciding the scope" to change the content of lists such as "the list of audible things which can be touched by the player".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e426"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example426">
<p>As we have seen, a well-written understand rule will often solve the problem of allowing the player to apply specific actions to objects not normally in scope. When we need to adjust scope for some other reason than reading the player's command, though, &quot;deciding the scope of...&quot; may come in handy.</p>
<p>For instance, suppose we wanted to extend Four Stars 1 to add a tomcat on the balcony that will be heard whenever the player listens from the next room, as in:</p>
<!-- START CODE "c7001_426" -->
<a id="c7001_426"></a><blockquote class="code"><p class="quoted">
&gt;listen
<br />You hear the soothing whalesong from the Bose speaker and the yowling from the tomcat.
</p></blockquote>
<!-- END CODE -->
<p>To do this, we need to make sure that in the rule that assembles our listening description,</p>
<!-- START CODE "c7002_426" -->
<a id="c7002_426"></a><blockquote class="code"><p class="quoted">
Instead of listening to a room:
<br />&#160;&#160;&#160;&#160;if an audible thing can be touched by the player, say &quot;You hear [the list of audible things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;A merciful peace prevails.&quot;
</p></blockquote>
<!-- END CODE -->
<p>now includes the tomcat in the &quot;list of audible things which can be touched by the player&quot;.</p>
<p>To this end, we're going to change the way we assess scope, but only during the listening action. Otherwise the tomcat remains in the other room and off-limits. The new source text is marked out below:</p>
<!-- START CODE "c7003_426" -->
<a id="c7003_426"></a><blockquote class="code"><p class="quoted">
&quot;Four Stars&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7004_426" -->
<a id="c7004_426"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7005_426" -->
<a id="c7005_426"></a><blockquote class="code"><p class="quoted">
A thing has some text called sound. The sound of a thing is usually &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7006_426" -->
<a id="c7006_426"></a><blockquote class="code"><p class="quoted">
The report listening rule is not listed in the report listening to rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7007_426" -->
<a id="c7007_426"></a><blockquote class="code"><p class="quoted">
Carry out listening to something:
<br />&#160;&#160;&#160;&#160;say &quot;From [the noun] you hear [the sound of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7008_426" -->
<a id="c7008_426"></a><blockquote class="code"><p class="quoted">
Instead of listening to a room:
<br />&#160;&#160;&#160;&#160;if an audible thing can be touched by the player, say &quot;You hear [the list of audible things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;A merciful peace prevails.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7009_426" -->
<a id="c7009_426"></a><blockquote class="code"><p class="quoted">
Definition: a thing is audible if the sound of it is not &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7010_426" -->
<a id="c7010_426"></a><blockquote class="code"><p class="quoted">
Before printing the name of something audible while listening to a room:
<br />&#160;&#160;&#160;&#160;say &quot;[sound] from the &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7011_426" -->
<a id="c7011_426"></a><blockquote class="code"><p class="quoted">
A thing has some text called scent. The scent of a thing is usually &quot;nothing&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7012_426" -->
<a id="c7012_426"></a><blockquote class="code"><p class="quoted">
The report smelling rule is not listed in the report smelling rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7013_426" -->
<a id="c7013_426"></a><blockquote class="code"><p class="quoted">
Carry out smelling something:
<br />&#160;&#160;&#160;&#160;say &quot;From [the noun] you smell [scent of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7014_426" -->
<a id="c7014_426"></a><blockquote class="code"><p class="quoted">
Instead of smelling a room:
<br />&#160;&#160;&#160;&#160;if a scented thing can be touched by the player, say &quot;You smell [the list of scented things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;The place is blissfully odorless.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7015_426" -->
<a id="c7015_426"></a><blockquote class="code"><p class="quoted">
Definition: a thing is scented if the scent of it is not &quot;nothing&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7016_426" -->
<a id="c7016_426"></a><blockquote class="code"><p class="quoted">
Before printing the name of something scented while smelling a room: say &quot;[scent] from the &quot;
</p></blockquote>
<!-- END CODE -->
<p>Here is our addition:</p>
<!-- START CODE "c7017_426" -->
<a id="c7017_426"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while listening or sleeping or looking:
<br />&#160;&#160;&#160;&#160;if in darkness:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with locale running through adjacent rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;place locale in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7018_426" -->
<a id="c7018_426"></a><blockquote class="code"><p class="quoted">
A reaching inside rule while listening or sleeping or looking:
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7019_426" -->
<a id="c7019_426"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7020_426" -->
<a id="c7020_426"></a><blockquote class="code"><p class="quoted">
The Waning Moon Resort is a dark room. &quot;A spacious room with a flagstone floor, and a dreamcatcher hung over the king-size bed.&quot; The dreamcatcher is scenery in the Resort. The description is &quot;The usual web of threads and crystals, feathers and beads.&quot; Instead of taking the dreamcatcher, say &quot;Ah, ah -- you might be tempted to take it as a souvenir, except that the price list in the minibar clearly states they charge $65 apiece if you walk off with one. Cheaper than stealing the Frette bathrobes, but still probably not a good idea.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now our threat to the player's peace:</p>
<!-- START CODE "c7021_426" -->
<a id="c7021_426"></a><blockquote class="code"><p class="quoted">
The Balcony is outside from the Resort. In the Balcony is a tomcat. The sound of the tomcat is &quot;yowling&quot;. After printing the name of the tomcat when the tomcat is not visible: say &quot; outside on the balcony&quot;.
</p></blockquote>
<!-- END CODE -->
<p>From here we continue with the same scenario as before:</p>
<!-- START CODE "c7022_426" -->
<a id="c7022_426"></a><blockquote class="code"><p class="quoted">
The king-size bed is an enterable supporter in the Resort. The description is &quot;200-thread-count Egyptian cotton sheets, according to the website. You would make fun, only they really are extraordinarily comfortable.&quot; The player is on the bed. A Lindt chocolate is on the bed. It is edible. The scent of the chocolate is &quot;chocolate-hazelnut smell&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7023_426" -->
<a id="c7023_426"></a><blockquote class="code"><p class="quoted">
Instead of exiting: say &quot;You are too weary to move.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7024_426" -->
<a id="c7024_426"></a><blockquote class="code"><p class="quoted">
The suitcase is an openable closed container in the Resort.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7025_426" -->
<a id="c7025_426"></a><blockquote class="code"><p class="quoted">
An electric light is a kind of device. Carry out switching on an electric light: now the noun is lit. Carry out switching off an electric light: now the noun is unlit. Understand &quot;light&quot; as an electric light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7026_426" -->
<a id="c7026_426"></a><blockquote class="code"><p class="quoted">
The solar lamp is an electric light in Waning Moon Resort. The description is &quot;Specially designed to give light in a spectrum resembling sunlight, to improve the mood and make a person energetic.&quot; The lamp is switched on and lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7027_426" -->
<a id="c7027_426"></a><blockquote class="code"><p class="quoted">
An electric noisemaker is a kind of device. An electric noisemaker has some text called usual sound. The usual sound of an electric noisemaker is usually &quot;beepbeepbeep&quot;. Carry out switching on an electric noisemaker: now the sound of the noun is the usual sound of the noun. Report switching on an electric noisemaker: say &quot;[The noun] goes [usual sound of the noun]!&quot; instead. Report switching off an electric noisemaker: say &quot;You switch off [the noun], silencing the [usual sound of the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7028_426" -->
<a id="c7028_426"></a><blockquote class="code"><p class="quoted">
Carry out switching off an electric noisemaker: now the sound of the noun is &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7029_426" -->
<a id="c7029_426"></a><blockquote class="code"><p class="quoted">
The bedside table is in the Resort. The table supports a potted plant and a Bose speaker. The scent of the potted plant is &quot;rosemary&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7030_426" -->
<a id="c7030_426"></a><blockquote class="code"><p class="quoted">
The Bose speaker is an electric noisemaker. The usual sound of the speaker is &quot;soothing whalesong&quot;. The sound of the speaker is &quot;soothing whalesong&quot;. The speaker is switched on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7031_426" -->
<a id="c7031_426"></a><blockquote class="code"><p class="quoted">
Instead of touching a device: say &quot;You feel the surface of [the noun] and discover the switch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7032_426" -->
<a id="c7032_426"></a><blockquote class="code"><p class="quoted">
Instead of touching a scented thing: say &quot;The brush of your fingers stirs loose a fresh cloud of [scent of the noun] smell.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7033_426" -->
<a id="c7033_426"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of a dark room: try listening; try smelling; rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7034_426" -->
<a id="c7034_426"></a><blockquote class="code"><p class="quoted">
Instead of examining an audible thing while in darkness: try listening to the noun. Instead of examining something while in darkness: try touching the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7035_426" -->
<a id="c7035_426"></a><blockquote class="code"><p class="quoted">
Before touching something when in darkness:
<br />&#160;&#160;&#160;&#160;say &quot;You grope about...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7036_426" -->
<a id="c7036_426"></a><blockquote class="code"><p class="quoted">
After inserting the plant into something:
<br />&#160;&#160;&#160;&#160;say &quot;You unceremoniously dump [the noun] into [the second noun], hoping it sustains no important damage thereby.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7037_426" -->
<a id="c7037_426"></a><blockquote class="code"><p class="quoted">
Before printing the name of a dark room: if the player can touch an audible thing, say &quot;Noisy &quot;; if the player can touch a scented thing, say &quot;Perfumed &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7038_426" -->
<a id="c7038_426"></a><blockquote class="code"><p class="quoted">
Visibility rule when in darkness:
<br />&#160;&#160;&#160;&#160;if examining something, there is sufficient light;
<br />&#160;&#160;&#160;&#160;there is insufficient light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7039_426" -->
<a id="c7039_426"></a><blockquote class="code"><p class="quoted">
Rule for printing the announcement of darkness: say &quot;It is now pleasantly lightless in here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7040_426" -->
<a id="c7040_426"></a><blockquote class="code"><p class="quoted">
Rule for deciding the scope of the player while in darkness: place the location in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7041_426" -->
<a id="c7041_426"></a><blockquote class="code"><p class="quoted">
To decide whether in daylight:
<br />&#160;&#160;&#160;&#160;if in darkness, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7042_426" -->
<a id="c7042_426"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when in daylight:
<br />&#160;&#160;&#160;&#160;say &quot;You've never been able to sleep with the light on.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7043_426" -->
<a id="c7043_426"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when the player can touch an audible thing (called the irritant):
<br />&#160;&#160;&#160;&#160;say &quot;The steady [sound of the irritant] from [the irritant] prevents your slumber.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7044_426" -->
<a id="c7044_426"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when the player can touch a scented thing (called the irritant):
<br />&#160;&#160;&#160;&#160;if the irritant is chocolate, say &quot;The smell of chocolate continues to tantalize you, keeping you from sleep.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You sniffle. [The irritant] is probably acting on your allergies.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7045_426" -->
<a id="c7045_426"></a><blockquote class="code"><p class="quoted">
Instead of sleeping:
<br />&#160;&#160;&#160;&#160;say &quot;You slip easily into the arms of Morpheus.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally saying &quot;At last...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7046_426" -->
<a id="c7046_426"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;You have at last escaped from the airport and gotten through customs; survived an unnerving taxi ride over icy highways; stared down the impertinent concierge; endured the bellhop's catalog of features in your room; and achieved, finally, a moment of peace. Time for a good night's slumber!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7047_426" -->
<a id="c7047_426"></a><blockquote class="code"><p class="quoted">
Test me with &quot;listen / x dreamcatcher / switch lamp off / look / sleep / eat chocolate / sleep / get plant / examine plant / open suitcase / put plant in suitcase / close suitcase / sleep / look / examine bose / switch bose off / sleep&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Of course, this new version is less happy for the player, as we haven't included any way to silence the cat.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "365: Ginger Beer" "e26" -->
<a id="e26"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e26" class="eglink"><b>365</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e26" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ginger Beer</span></b></a><br />A portable magic telescope which allows the player to view items in another room of his choice.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e26"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example26">
<p>Suppose we want to have a pair of linked lenses so that the player can look into one of them and see things which occur in room containing the other lense.</p>
<p>We begin simply with a bit of environment for the player to wander around:</p>
<!-- START CODE "c7048_26" -->
<a id="c7048_26"></a><blockquote class="code"><p class="quoted">
&quot;Ginger Beer&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7049_26" -->
<a id="c7049_26"></a><blockquote class="code"><p class="quoted">
The Ginger Beer Factory is a room.  &quot;In the center of the room is an enormous pot filled with crushed ginger, which seems to be bubbling slightly on its own.  The fumes are overwhelming.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7050_26" -->
<a id="c7050_26"></a><blockquote class="code"><p class="quoted">
The pot is scenery in the Ginger Beer Factory. The description of the pot is &quot;Cast iron.&quot; In the pot is a bubbling brew.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7051_26" -->
<a id="c7051_26"></a><blockquote class="code"><p class="quoted">
Instead of smelling the Ginger Beer Factory: try smelling the brew.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7052_26" -->
<a id="c7052_26"></a><blockquote class="code"><p class="quoted">
Instead of smelling the brew, say &quot;You blink back tears.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7053_26" -->
<a id="c7053_26"></a><blockquote class="code"><p class="quoted">
The Storeroom is south of the Ginger Beer Factory.  &quot;The walls here are lined with a prodigious number of small, rounded bottles, each with a screw top and a smiling pirate on the label.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7054_26" -->
<a id="c7054_26"></a><blockquote class="code"><p class="quoted">
The Clippings Room is west of the Ginger Beer Factory. &quot;A clean room lined with steel tables, for preparing ingredients.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7055_26" -->
<a id="c7055_26"></a><blockquote class="code"><p class="quoted">
Some steel tables are a supporter in the Clippings Room.  They are scenery.  The description is &quot;They are roughly the size and height of laboratory worksurfaces.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7056_26" -->
<a id="c7056_26"></a><blockquote class="code"><p class="quoted">
The quantity of dandelion is on the steel tables.  The description is &quot;Horrible common weed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7057_26" -->
<a id="c7057_26"></a><blockquote class="code"><p class="quoted">
The wooden box is on the steel tables.  It is openable and closed.  The description is &quot;A large wooden box with a lid, used for ingredient storage.  There is a label on the lid.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7058_26" -->
<a id="c7058_26"></a><blockquote class="code"><p class="quoted">
The label is part of the box.  The description is &quot;BURDOCK: the root beaten with a little salt and laid on the place suddenly easeth the pain thereof, and helpeth those that are bit by a mad dog:... the seed being drunk in wine 40 days together doth wonderfully help the sciatica: the leaves bruised with the white of an egg and applied to any place burnt with fire, taketh out the fire, gives sudden ease and heals it up afterwards.... The root may be preserved with sugar for consumption, stone and the lax.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7059_26" -->
<a id="c7059_26"></a><blockquote class="code"><p class="quoted">
The quantity of burdock is in the box.  The description is &quot;It looks like a kind of thistle.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7060_26" -->
<a id="c7060_26"></a><blockquote class="code"><p class="quoted">
Some bottles are in the Storeroom.  They are scenery.  The description is &quot;They are smaller than the average bottle, because more potent.&quot;  Instead of taking the bottles, say &quot;Take one away and the whole lineup will cascade to the floor.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now for the lenses themselves:</p>
<!-- START CODE "c7061_26" -->
<a id="c7061_26"></a><blockquote class="code"><p class="quoted">
A lense is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7062_26" -->
<a id="c7062_26"></a><blockquote class="code"><p class="quoted">
The large end of the telescope is a lense in the Ginger Beer Factory.  &quot;There is a large glass lense propped against the wall, in which are reflected all the contents of the room.&quot;  Understand &quot;glass&quot; or &quot;lense&quot; as the large end.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7063_26" -->
<a id="c7063_26"></a><blockquote class="code"><p class="quoted">
The small end of the telescope is a lense in the Storeroom.  &quot;There is a small glass lense sitting on the floor.  Due to some curious effect of the optics, it appears to be giving a view of somewhere else entirely.&quot;  Understand &quot;glass&quot; or &quot;lense&quot; as the small end.  The description is &quot;A gleaming lense about the size of a pound coin.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here is the critical bit, which needs to be somewhat flexible, since the large end of the telescope could in theory be left anywhere in the game (and should still work).</p>
<!-- START CODE "c7064_26" -->
<a id="c7064_26"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while the small end is carried by the player:
<br />&#160;&#160;&#160;&#160;let there be the holder of the large end;
<br />&#160;&#160;&#160;&#160;place there in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7065_26" -->
<a id="c7065_26"></a><blockquote class="code"><p class="quoted">
Before searching the small end when the small end is not carried by the player:
<br />&#160;&#160;&#160;&#160;say &quot;(first picking up [the small end] and holding it to your eye)&quot;;
<br />&#160;&#160;&#160;&#160;silently try taking the small end.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7066_26" -->
<a id="c7066_26"></a><blockquote class="code"><p class="quoted">
Instead of searching the small end when the player is not carrying the small end:
<br />&#160;&#160;&#160;&#160;say &quot;It's too hard to look through the small end from a distance.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7067_26" -->
<a id="c7067_26"></a><blockquote class="code"><p class="quoted">
Instead of searching the large end,
<br />&#160;&#160;&#160;&#160;say &quot;You see only your own reflection.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We also want to make sure that the player who looks through the small lense does not see the large lense listed among the contents of the other location:</p>
<!-- START CODE "c7068_26" -->
<a id="c7068_26"></a><blockquote class="code"><p class="quoted">
Definition: a thing is recognizable if it is not a lense.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7069_26" -->
<a id="c7069_26"></a><blockquote class="code"><p class="quoted">
Instead of searching the small end:
<br />&#160;&#160;&#160;&#160;let the far side be the holder of the large end of the telescope;
<br />&#160;&#160;&#160;&#160;say &quot;You peer into the little lense and through it see, in [the far side], [the list of recognizable things in the far side].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7070_26" -->
<a id="c7070_26"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine lense / south / examine lense / look through lense / north / look through small lense&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And we're done.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "366: Rock Garden" "e329" -->
<a id="e329"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e329" class="eglink"><b>366</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e329" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Rock Garden</span></b></a><br />A simple open landscape where the player can see between rooms and will automatically move to touch things in distant rooms.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e329"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example329">
<p>A map of linked rooms works well for modeling enclosed or indoor space, and somewhat less well for modeling large open spaces, where a person should reasonably be able to see things which are much too far away to touch. With some modifications to scoping, though, we can create an environment where objects in nearby rooms are described and viewable, and where the player will automatically move towards distant items before interacting with them physically.</p>
<!-- START CODE "c7071_329" -->
<a id="c7071_329"></a><blockquote class="code"><p class="quoted">
&quot;Rock Garden&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7072_329" -->
<a id="c7072_329"></a><blockquote class="code"><p class="quoted">
Section 1 - General Rules
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7073_329" -->
<a id="c7073_329"></a><blockquote class="code"><p class="quoted">
Intervisibility relates rooms to each other in groups. The verb to be connected with means the intervisibility relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7074_329" -->
<a id="c7074_329"></a><blockquote class="code"><p class="quoted">
Definition: a room is inter-visible if it is connected with more than one room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7075_329" -->
<a id="c7075_329"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player when the location is an inter-visible room:
<br />&#160;&#160;&#160;&#160;repeat with other place running through rooms which are connected with the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the other place is the location, place the other place in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7076_329" -->
<a id="c7076_329"></a><blockquote class="code"><p class="quoted">
Rule for reaching inside a room (called target) which is connected with the location:
<br />&#160;&#160;&#160;&#160;let way be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;if the way is not a direction:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't get over to [the target] from here.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access;
<br />&#160;&#160;&#160;&#160;say &quot;(first heading [way])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;try going way;
<br />&#160;&#160;&#160;&#160;if the player is in the target, allow access;
<br />&#160;&#160;&#160;&#160;otherwise deny access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7077_329" -->
<a id="c7077_329"></a><blockquote class="code"><p class="quoted">
After looking when the location is an inter-visible room:
<br />&#160;&#160;&#160;&#160;repeat with other place running through rooms which are connected with the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the other place is not the location, describe locale for other place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7078_329" -->
<a id="c7078_329"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7079_329" -->
<a id="c7079_329"></a><blockquote class="code"><p class="quoted">
Rock Garden West is west of Rock Garden East. Rock Garden East contains a rake. Rock Garden West contains a bench and a maple leaf. The bench is an enterable supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7080_329" -->
<a id="c7080_329"></a><blockquote class="code"><p class="quoted">
Rock Garden West is connected with Rock Garden East.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7081_329" -->
<a id="c7081_329"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get rake / drop rake / sit on bench / get rake&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "367: Stately Gardens" "e360" -->
<a id="e360"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e360" class="eglink"><b>367</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e360" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Stately Gardens</span></b></a><br />An open landscape where the player can see landmarks in nearby areas, with somewhat more complex room descriptions than the previous example, and in which we also account for size differences between things seen at a distance.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e360"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example360">
<p>This time we're going to assume that the player can see into any room that is on a line of sight within one or two steps of travel.</p>
<!-- START CODE "c7082_360" -->
<a id="c7082_360"></a><blockquote class="code"><p class="quoted">
&quot;Stately Gardens&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7083_360" -->
<a id="c7083_360"></a><blockquote class="code"><p class="quoted">
Chapter 1 - Laying Out Rooms
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7084_360" -->
<a id="c7084_360"></a><blockquote class="code"><p class="quoted">
A room can be indoors or outdoors.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7085_360" -->
<a id="c7085_360"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7086_360" -->
<a id="c7086_360"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;repeat with the way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let first step be the room the way from the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the first step is a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;place the first step in scope;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let second step be the room the way from the first step;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second step is a room, place the second step in scope;
<br />&#160;&#160;&#160;&#160;place the obelisk in scope.
</p></blockquote>
<!-- END CODE -->
<p>The obelisk is so large that it can be seen from every room. If we had a number of such large monuments we might want to write a systematic routine to handle them, but this will do for now.</p>
<!-- START CODE "c7087_360" -->
<a id="c7087_360"></a><blockquote class="code"><p class="quoted">
The room description heading rule is not listed in the carry out looking rules.
</p></blockquote>
<!-- END CODE -->
<p>Now, we set things up so that the surrounding areas are described automatically as part of the room description:</p>
<!-- START CODE "c7088_360" -->
<a id="c7088_360"></a><blockquote class="code"><p class="quoted">
Building description is a truth state that varies. Building description is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7089_360" -->
<a id="c7089_360"></a><blockquote class="code"><p class="quoted">
After looking when the location is an outdoors room:
<br />&#160;&#160;&#160;&#160;now count of sentences is 0;
<br />&#160;&#160;&#160;&#160;now building description is true;
<br />&#160;&#160;&#160;&#160;repeat with way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let space be the room way from the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if space is an outdoors room, silently try looking toward space;
<br />&#160;&#160;&#160;&#160;if the obelisk is not in the location and the obelisk is unmentioned:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from location to the Upper Terrace;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is a direction, say &quot;[The obelisk] is proudly visible on [the way] horizon. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the count of sentences;
<br />&#160;&#160;&#160;&#160;now building description is false;
<br />&#160;&#160;&#160;&#160;unless the count of sentences is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<p>But perhaps there are a few rooms where we do not wish that to happen, so we'll build in exceptions for those.</p>
<!-- START CODE "c7090_360" -->
<a id="c7090_360"></a><blockquote class="code"><p class="quoted">
After looking in the rose garden:
<br />&#160;&#160;&#160;&#160;say &quot;Otherwise, you are quite cut off.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7091_360" -->
<a id="c7091_360"></a><blockquote class="code"><p class="quoted">
After looking in the Ha-ha:
<br />&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<p>And suppose we want to allow the player to look in any direction:</p>
<!-- START CODE "c7092_360" -->
<a id="c7092_360"></a><blockquote class="code"><p class="quoted">
Understand &quot;look [direction]&quot; or &quot;look to/toward [direction]&quot; as facing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7093_360" -->
<a id="c7093_360"></a><blockquote class="code"><p class="quoted">
Facing is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7094_360" -->
<a id="c7094_360"></a><blockquote class="code"><p class="quoted">
Carry out facing:
<br />&#160;&#160;&#160;&#160;let the viewed item be the room noun from the location;
<br />&#160;&#160;&#160;&#160;if the viewed item is not a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the location is indoors, say &quot;Your view is restricted by the lack of doors or windows in that direction.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;You can't see anything promising that way.&quot; instead;
<br />&#160;&#160;&#160;&#160;try looking toward the viewed item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7095_360" -->
<a id="c7095_360"></a><blockquote class="code"><p class="quoted">
Instead of facing up:
<br />&#160;&#160;&#160;&#160;say &quot;Above you is bright sky.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We also need to tell distant rooms how to describe themselves.</p>
<!-- START CODE "c7096_360" -->
<a id="c7096_360"></a><blockquote class="code"><p class="quoted">
Understand &quot;look toward [any adjacent room]&quot; as looking toward.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7097_360" -->
<a id="c7097_360"></a><blockquote class="code"><p class="quoted">
Looking toward is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7098_360" -->
<a id="c7098_360"></a><blockquote class="code"><p class="quoted">
Check looking toward a room which does not contain something mentionable:
<br />&#160;&#160;&#160;&#160;if building description is false:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't make out anything of interest that way.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7099_360" -->
<a id="c7099_360"></a><blockquote class="code"><p class="quoted">
Carry out looking toward:
<br />&#160;&#160;&#160;&#160;now every thing is unmentioned;
<br />&#160;&#160;&#160;&#160;now the chosen direction is the best route from the location to the noun;
<br />&#160;&#160;&#160;&#160;now the second noun is the room the chosen direction from the noun;
<br />&#160;&#160;&#160;&#160;if the noun contains something mentionable:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through mentionable things in the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the writing a distant paragraph about activity with the item;
<br />&#160;&#160;&#160;&#160;if the noun contains something mentionable:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the count of sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row count of sentences in the Table of Distance Sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second noun is an outdoors room and the second noun contains something mentionable, say &quot;[both entry] [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[here entry] [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second noun is an outdoors room and the second noun contains something mentionable:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the count of sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row count of sentences in the Table of Distance Sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[there entry] [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;if building description is false:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<p>And again, some exception needs to be made for seeing what's in the dip in the ground:</p>
<!-- START CODE "c7100_360" -->
<a id="c7100_360"></a><blockquote class="code"><p class="quoted">
Instead of looking toward the Ha-ha:
<br />&#160;&#160;&#160;&#160;now the chosen direction is the best route from the location to the noun;
<br />&#160;&#160;&#160;&#160;now the second noun is the room the chosen direction from the noun;
<br />&#160;&#160;&#160;&#160;if the second noun is an outdoors room and the second noun contains something mentionable:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the count of sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row count of sentences in the Table of Distance Sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[there entry] [run paragraph on]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The following is to account for cases where the player types &quot;look toward obelisk&quot; or similar, rather than looking toward a room:</p>
<!-- START CODE "c7101_360" -->
<a id="c7101_360"></a><blockquote class="code"><p class="quoted">
Understand &quot;look toward [something]&quot; as examining.
</p></blockquote>
<!-- END CODE -->
<p>The following is arguably an unnecessary refinement, but the listing of items in the distance gets a bit repetitive unless we vary the sentence structure.</p>
<!-- START CODE "c7102_360" -->
<a id="c7102_360"></a><blockquote class="code"><p class="quoted">
Chosen direction is a direction that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7103_360" -->
<a id="c7103_360"></a><blockquote class="code"><p class="quoted">
Count of sentences is a number that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7104_360" -->
<a id="c7104_360"></a><blockquote class="code"><p class="quoted">
Table of Distance Sentences
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">both</p></td><td class="quotedtablecell"><p class="quoted">here</p></td><td class="quotedtablecell"><p class="quoted">there</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;From here, you make out [a list of mentionable things in the noun] a little way [chosen direction], and, further on, [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;From here, you make out [a list of mentionable things in the noun] [if the noun is not adjacent to the location]some distance [end if]to [the chosen direction].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;From here, you make out [a list of mentionable things in the second noun] some distance [chosen direction].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;To [the chosen direction] there [is-are a list of mentionable things in the noun], partly obscuring your further view of [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;To [the chosen direction] there [is-are a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Quite a way [chosen direction] [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Then [chosen direction] [is-are a list of mentionable things in the noun], and beyond [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Meanwhile, to [the chosen direction] [is-are a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Meanwhile, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;When you turn [chosen direction], you see [a list of mentionable things in the noun], and somewhat further on [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;When you turn [chosen direction], you see [a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;If you turn [chosen direction], you see [a list of mentionable things in the second noun] some way off.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Somewhere generally [chosen direction] [is-are a list of mentionable things in the noun], beyond which, [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Roughly [chosen direction] [is-are a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Moreover, in the [chosen direction] distance [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;[The chosen direction] shows [a list of mentionable things in the noun] and then [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;And to [the chosen direction] [a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Meanwhile, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Then, [chosen direction], [is-are a list of mentionable things in the noun], and beyond [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Meanwhile, to [the chosen direction] [is-are a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Meanwhile, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Finally, [chosen direction], [is-are a list of mentionable things in the noun], somewhat nearer than [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Finally, to [the chosen direction] [is-are a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Finally, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Now, our ability to view things at a distance should be determined by the size of the things we're trying to see:</p>
<!-- START CODE "c7105_360" -->
<a id="c7105_360"></a><blockquote class="code"><p class="quoted">
Chapter 2 - Height
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7106_360" -->
<a id="c7106_360"></a><blockquote class="code"><p class="quoted">
A height is a kind of value. 10 feet 11 inches specifies a height. 10 feet 11 specifies a height. The verb to stand means the height property. The verb to measure means the height property. A thing has a height. The height of a thing is usually 3 feet 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7107_360" -->
<a id="c7107_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is tiny if its height is 0 feet 6 inches or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7108_360" -->
<a id="c7108_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is short if its height is 3 feet 0 or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7109_360" -->
<a id="c7109_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is tall if its height is 6 feet 0 or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7110_360" -->
<a id="c7110_360"></a><blockquote class="code"><p class="quoted">
The height of a man is usually 5 feet 10 inches. The height of a woman is usually 5 feet 6 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7111_360" -->
<a id="c7111_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is monumental if it is taller than 25 feet 0 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7112_360" -->
<a id="c7112_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is mentionable if it stands tall enough to see.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7113_360" -->
<a id="c7113_360"></a><blockquote class="code"><p class="quoted">
To decide whether (item - a thing) stands tall enough to see:
<br />&#160;&#160;&#160;&#160;if the item is in the Rose Garden and the item is shorter than the roses, no;
<br />&#160;&#160;&#160;&#160;if the item is mentioned, no;
<br />&#160;&#160;&#160;&#160;if the item is in an adjacent room and item is taller than 2 feet 0, yes;
<br />&#160;&#160;&#160;&#160;if the item is taller than 4 feet 0, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7114_360" -->
<a id="c7114_360"></a><blockquote class="code"><p class="quoted">
Instead of examining something which is within a room (called the space) which is not the location:
<br />&#160;&#160;&#160;&#160;if the location is adjacent to the space:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is tiny, say &quot;It is too far from here for you to make out much detail about [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let way be the best route from the location to the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is a direction, say &quot;You gaze off [way] at [the noun]...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is short, say &quot;It is too far from here for you to make out much detail about [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let way be the best route from the location to the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is a direction, say &quot;You gaze off [way] into the distance at [the noun]...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<p>We might also want to be able to override, manually, the way distant things are described.</p>
<!-- START CODE "c7115_360" -->
<a id="c7115_360"></a><blockquote class="code"><p class="quoted">
Writing a distant paragraph about something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7116_360" -->
<a id="c7116_360"></a><blockquote class="code"><p class="quoted">
Rule for writing a distant paragraph about the lily pond:
<br />&#160;&#160;&#160;&#160;if the second noun is a room and something mentionable is in the second noun, say &quot;A [lily pond], [chosen direction], patchily reflects [a list of mentionable things in the second noun] on the far side. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;To [the chosen direction], [a lily pond] shimmers in the sunlight. [run paragraph on]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7117_360" -->
<a id="c7117_360"></a><blockquote class="code"><p class="quoted">
Rule for writing a distant paragraph about the roses:
<br />&#160;&#160;&#160;&#160;if something in the Rose Garden is taller than the roses,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Over the tops of [the roses], [chosen direction], you see [a list of mentionable things in the rose garden]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Immediately [chosen direction] is [the roses]. [run paragraph on]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7118_360" -->
<a id="c7118_360"></a><blockquote class="code"><p class="quoted">
Rule for writing a distant paragraph about the obelisk:
<br />&#160;&#160;&#160;&#160;if a mentionable thing in the Upper Terrace is shorter than the obelisk,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;A stupidly grand [obelisk], [chosen direction], towers over [a list of mentionable things in the Upper Terrace]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;To [the chosen direction], you can't help noticing [the obelisk], which is much larger than any object really needs to be. [run paragraph on]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7119_360" -->
<a id="c7119_360"></a><blockquote class="code"><p class="quoted">
After writing a distant paragraph about something:
<br />&#160;&#160;&#160;&#160;increment the count of sentences.
</p></blockquote>
<!-- END CODE -->
<p>Moreover, proximate things might have special descriptions too.</p>
<!-- START CODE "c7120_360" -->
<a id="c7120_360"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about something tiny when the location is outdoors:
<br />&#160;&#160;&#160;&#160;if the location is the Gravel Circle,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Abandoned in the gravel [is-are a list of unmentioned tiny things in the location]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Half trampled into the grass, and easy to miss, [is-are a list of unmentioned tiny things in the location]. [run paragraph on]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7121_360" -->
<a id="c7121_360"></a><blockquote class="code"><p class="quoted">
Before doing something other than examining or approaching to something which is not within the location:
<br />&#160;&#160;&#160;&#160;if the player has the noun, continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;(first going over to [the noun])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;try approaching the noun;
<br />&#160;&#160;&#160;&#160;if the noun is not within the location, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7122_360" -->
<a id="c7122_360"></a><blockquote class="code"><p class="quoted">
Understand &quot;go toward/to/towards/near [something]&quot; or &quot;approach [something]&quot; as approaching.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7123_360" -->
<a id="c7123_360"></a><blockquote class="code"><p class="quoted">
Approaching is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7124_360" -->
<a id="c7124_360"></a><blockquote class="code"><p class="quoted">
Check approaching:
<br />&#160;&#160;&#160;&#160;if the player is in something, say &quot;You'll have to get up.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is within the location, say &quot;You're as close to [the noun] as you can get.&quot; instead;
<br />&#160;&#160;&#160;&#160;let space be the location of the noun;
<br />&#160;&#160;&#160;&#160;if the space is not a room, say &quot;You don't quite see how to get there.&quot; instead;
<br />&#160;&#160;&#160;&#160;let way be the best route from the location to the space;
<br />&#160;&#160;&#160;&#160;unless way is a direction,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't see how to get over there from here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7125_360" -->
<a id="c7125_360"></a><blockquote class="code"><p class="quoted">
To head to (space - a room):
<br />&#160;&#160;&#160;&#160;let the way be the best route from the location to the space;
<br />&#160;&#160;&#160;&#160;if the space is adjacent to the location,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try going way;
<br />&#160;&#160;&#160;&#160;otherwise silently try going way.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7126_360" -->
<a id="c7126_360"></a><blockquote class="code"><p class="quoted">
Carry out approaching:
<br />&#160;&#160;&#160;&#160;let space be the location of the noun;
<br />&#160;&#160;&#160;&#160;while the space is not the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;head to space.
</p></blockquote>
<!-- END CODE -->
<p>This is a bit primitive, since if we had an occasion where going was blocked, we could get stuck in a loop. So we would need to be careful, but for this example it won't arise.</p>
<!-- START CODE "c7127_360" -->
<a id="c7127_360"></a><blockquote class="code"><p class="quoted">
Going state is a truth state that varies. Going state is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7128_360" -->
<a id="c7128_360"></a><blockquote class="code"><p class="quoted">
Check going:
<br />&#160;&#160;&#160;&#160;now going state is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7129_360" -->
<a id="c7129_360"></a><blockquote class="code"><p class="quoted">
The description of a room is usually &quot;[if going state is true]You drift [noun] across the open lawn[direction relative to obelisk]. [end if]An absolutely phenomenal quantity of manicured turf stretches from where you stand in almost every direction.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7130_360" -->
<a id="c7130_360"></a><blockquote class="code"><p class="quoted">
Before reading a command:
<br />&#160;&#160;&#160;&#160;now going state is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7131_360" -->
<a id="c7131_360"></a><blockquote class="code"><p class="quoted">
To say direction relative to obelisk:
<br />&#160;&#160;&#160;&#160;if obelisk is in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;, as though drawn magnetically to the foot of the monument&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let way be the best route from the location to the Upper Terrace;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if way is the noun, say &quot;, drawn towards [the obelisk]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is the opposite of the noun, say &quot;, keeping [the obelisk] more or less at your back&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7132_360" -->
<a id="c7132_360"></a><blockquote class="code"><p class="quoted">
Chapter 3 - The Grounds
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7133_360" -->
<a id="c7133_360"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;Idyllic&quot;;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot; &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7134_360" -->
<a id="c7134_360"></a><blockquote class="code"><p class="quoted">
The Gravel Circle, the Ha-ha, the Sheep Field, the Open Lawn, the Croquet Ground, the Rose Garden, the Upper Terrace, the Middle Terrace, and the Lower Terrace are outdoors.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7135_360" -->
<a id="c7135_360"></a><blockquote class="code"><p class="quoted">
The Middle Terrace is north of the Lower Terrace and south of the Upper Terrace. The lily pond is fixed in place in the Middle Terrace.&quot;You [if going state is true]come to[otherwise]are at[end if] the north edge of a perfectly round lily pond, bordered with stones. Its surface patchily reflects [the marble anteater] on the south bank.&quot; A tent peg and a wilted orchid are in the Middle Terrace. The tent peg measures 0 feet 6. The orchid measures 0 feet 4.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7136_360" -->
<a id="c7136_360"></a><blockquote class="code"><p class="quoted">
The description of the Lower Terrace is &quot;[if going state is true]You climb [noun] up a small hillock[direction relative to obelisk][otherwise]You stand on a short, round, entirely artificial hillock[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7137_360" -->
<a id="c7137_360"></a><blockquote class="code"><p class="quoted">
The marble anteater is a fixed in place thing in the Lower Terrace. The height of marble anteater is 6 feet 2 inches.&quot;A marble anteater stands on a pedestal at the top of the hill. In the bright sunlight the white marble makes a striking contrast with [the obelisk] in the distance.&quot; The description is &quot;The anteater is very much more than life-size.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7138_360" -->
<a id="c7138_360"></a><blockquote class="code"><p class="quoted">
The obelisk of black granite is a fixed in place thing in the Upper Terrace.&quot;Now that you are at the foot of it, you can properly appreciate the stupid immensity of the obelisk, pointing stonily at heaven.&quot; The height of the obelisk is 50 feet 0 inches. The description of the obelisk is &quot;It stands ridiculously tall, and has an inscription on the face.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7139_360" -->
<a id="c7139_360"></a><blockquote class="code"><p class="quoted">
The inscription is part of the obelisk. The height of the inscription is 0 feet 3 inches. The description of the inscription is &quot;You can't read the squirming, pointed letters, but they make you uneasy.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7140_360" -->
<a id="c7140_360"></a><blockquote class="code"><p class="quoted">
The Gravel Circle is west of the Upper Terrace, northwest of the Middle Terrace, and north of the Croquet Ground. The description of the Gravel Circle is &quot;[if going state is true]You head [noun] until the lawn thins and[otherwise]Here the lawn[end if] gives way to a circle of raked gravel, which crunches pleasingly beneath you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7141_360" -->
<a id="c7141_360"></a><blockquote class="code"><p class="quoted">
Instead of going northwest in the Upper Terrace, try going north.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7142_360" -->
<a id="c7142_360"></a><blockquote class="code"><p class="quoted">
The Ha-ha is north of the Gravel Circle and northwest of the Upper Terrace. The description of the Ha-ha is &quot;[if going state is true]The land dips here so suddenly that you do not know the dip is there until you're in it; but it prevents livestock from crossing barriers, and that is the important thing[otherwise]You are at the base of a steep-sided depression, so the lawn continues north and south more or less at the level of your head[end if].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7143_360" -->
<a id="c7143_360"></a><blockquote class="code"><p class="quoted">
The tip of [the obelisk] is the only thing you can make out from this depression, off to the southeast.&quot;. North of the Ha-ha is the Sheep Field. In the Sheep Field is an animal called a black sheep. The black sheep stands 4 feet 3 inches.&quot;A black sheep grazes placidly nearby.&quot; The description of the black sheep is &quot;It reminds you of your Uncle Tim.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7144_360" -->
<a id="c7144_360"></a><blockquote class="code"><p class="quoted">
Before going from the Ha-ha:
<br />&#160;&#160;&#160;&#160;say &quot;It's a bit of a scramble to get back up the side of the depression, and you keep slipping in the damp grass. But you manage at last.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7145_360" -->
<a id="c7145_360"></a><blockquote class="code"><p class="quoted">
The Rose Garden is  southwest of the Lower Terrace. The thicket of red roses is a fixed in place thing in the Rose Garden. The thicket stands 4 feet 2 inches.&quot;Heavy red roses grow over a roughly horseshoe-shaped wall around you. Over this barrier, the head of [the marble anteater] is visible to the northwest, and the tip of [the obelisk] in the distance.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7146_360" -->
<a id="c7146_360"></a><blockquote class="code"><p class="quoted">
The description of the Rose Garden is &quot;[if going state is true]You slip [noun] into the enclosure of the rose garden. [end if]The rest of the park, and the world, seems muted and quiet.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7147_360" -->
<a id="c7147_360"></a><blockquote class="code"><p class="quoted">
Instead of smelling the rose garden: try smelling the roses. Instead of smelling the roses, say &quot;The smell tickles the back of your throat and makes you want to cough.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7148_360" -->
<a id="c7148_360"></a><blockquote class="code"><p class="quoted">
Instead of listening to the rose garden:
<br />&#160;&#160;&#160;&#160;say &quot;You can't hear anything at all.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7149_360" -->
<a id="c7149_360"></a><blockquote class="code"><p class="quoted">
The Open Lawn is north of the Rose Garden, west of the Lower Terrace, and southwest of the Middle Terrace. The Croquet Ground is north of the Open Lawn, west of the Middle Terrace, southwest of the Upper Terrace, and northwest of the Lower Terrace.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7150_360" -->
<a id="c7150_360"></a><blockquote class="code"><p class="quoted">
A discarded champagne cork is in the Open Lawn. It stands 0 feet 2 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7151_360" -->
<a id="c7151_360"></a><blockquote class="code"><p class="quoted">
A stone bench is an enterable supporter in the Croquet Ground. It stands 3 feet 8 inches.&quot;There is a stone bench here -- a sort of stone sofa, really, with nymphs disporting themselves on the arms and back.&quot; The description of the bench is &quot;It used to be a Roman sarcophagus -- hence the nymphs -- but someone has thoughtfully recarved it as lawn furniture.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7152_360" -->
<a id="c7152_360"></a><blockquote class="code"><p class="quoted">
The half-size Bentley is a vehicle in the Gravel Circle.&quot;A sort of child's-toy version of a Bentley is parked [if something parkable is in the location]beside [the tallest parkable thing in the location][otherwise]close at hand[end if].&quot; The description of the half-size Bentley is &quot;Of beautiful and unambiguously luxurious lines, but sized down to hold only one or (at a stretch) two people, and powered by electricity.&quot; The half-size Bentley stands 3 feet 6 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7153_360" -->
<a id="c7153_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is parkable if it is not a person and it is not the Bentley.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7154_360" -->
<a id="c7154_360"></a><blockquote class="code"><p class="quoted">
Instead of touching the obelisk, say &quot;Though it is black stone in sunlight, the obelisk is very cold to the touch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7155_360" -->
<a id="c7155_360"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look east / look toward obelisk / s / s / e / sw / ne / n / n / w / n / n / examine obelisk / touch obelisk / read inscription&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "368: Apples" "e13" -->
<a id="e13"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e13" class="eglink"><b>368</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e13" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Apples</span></b></a><br />Prompting the player on how to disambiguate otherwise similar objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e13"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example13">
<p>Inform by default detects whether two objects can be disambiguated by any vocabulary available to the player. If so, it asks a question; if not, it picks one of the identical objects at random.</p>
<p>Generally this produces good behavior. Occasionally, though, two objects have some distinguishing characteristic that doesn't appear in the object name. For instance, suppose we've created a class of apples that can be told apart depending on whether they've been bitten or not:</p>
<!-- START CODE "c7156_13" -->
<a id="c7156_13"></a><blockquote class="code"><p class="quoted">
An apple is a kind of thing. Consumption is a kind of value. The consumptions are pristine and bitten. An apple has a consumption. The description of an apple is &quot;It is [consumption].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7157_13" -->
<a id="c7157_13"></a><blockquote class="code"><p class="quoted">
Understand the consumption property as describing an apple.
</p></blockquote>
<!-- END CODE -->
<p>The player can meaningfully type</p>
<!-- START CODE "c7158_13" -->
<a id="c7158_13"></a><blockquote class="code"><p class="quoted">
&gt;EAT BITTEN APPLE
</p></blockquote>
<!-- END CODE -->
<p>or</p>
<!-- START CODE "c7159_13" -->
<a id="c7159_13"></a><blockquote class="code"><p class="quoted">
&gt;EAT PRISTINE APPLE
</p></blockquote>
<!-- END CODE -->
<p>but if he types</p>
<!-- START CODE "c7160_13" -->
<a id="c7160_13"></a><blockquote class="code"><p class="quoted">
&gt;EAT APPLE
</p></blockquote>
<!-- END CODE -->
<p>Inform will, annoyingly, ask</p>
<!-- START CODE "c7161_13" -->
<a id="c7161_13"></a><blockquote class="code"><p class="quoted">
Which do you mean, an apple or the apple?
</p></blockquote>
<!-- END CODE -->
<p>This gives the player no indication of why Inform is making a distinction. So here we add a special &quot;printing the name&quot; rule to get around that situation:</p>
<!-- START CODE "c7162_13" -->
<a id="c7162_13"></a><blockquote class="code"><p class="quoted">
 &quot;Apples&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7163_13" -->
<a id="c7163_13"></a><blockquote class="code"><p class="quoted">
Orchard is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7164_13" -->
<a id="c7164_13"></a><blockquote class="code"><p class="quoted">
An apple is a kind of thing. Consumption is a kind of value. The consumptions are pristine and bitten. An apple has a consumption. The description of an apple is &quot;It is [consumption].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7165_13" -->
<a id="c7165_13"></a><blockquote class="code"><p class="quoted">
Understand the consumption property as describing an apple.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7166_13" -->
<a id="c7166_13"></a><blockquote class="code"><p class="quoted">
Before printing the name of an apple while asking which do you mean: say &quot;[consumption] &quot;. Before printing the plural name of an apple while asking which do you mean: say &quot;[consumption] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7167_13" -->
<a id="c7167_13"></a><blockquote class="code"><p class="quoted">
The player carries three apples.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7168_13" -->
<a id="c7168_13"></a><blockquote class="code"><p class="quoted">
Instead of eating a pristine apple (called the fruit):
<br />&#160;&#160;&#160;&#160;say &quot;You take a satisfying bite.&quot;;
<br />&#160;&#160;&#160;&#160;now the fruit is bitten.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7169_13" -->
<a id="c7169_13"></a><blockquote class="code"><p class="quoted">
Instead of eating a bitten apple (called the fruit):
<br />&#160;&#160;&#160;&#160;say &quot;You consume the apple entirely.&quot;;
<br />&#160;&#160;&#160;&#160;now the fruit is nowhere.
</p></blockquote>
<!-- END CODE -->
<p>Inform will also separate the bitten from the pristine apples in inventory listings and room descriptions, even though it's not clear why; we can improve on that behavior thus:</p>
<!-- START CODE "c7170_13" -->
<a id="c7170_13"></a><blockquote class="code"><p class="quoted">
Before listing contents: group apples together.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7171_13" -->
<a id="c7171_13"></a><blockquote class="code"><p class="quoted">
Rule for grouping together an apple (called target):
<br />&#160;&#160;&#160;&#160;let source be the holder of the target;
<br />&#160;&#160;&#160;&#160;say &quot;[number of apples held by the source in words] apple[s], some bitten&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7172_13" -->
<a id="c7172_13"></a><blockquote class="code"><p class="quoted">
Before printing the plural name of an apple (called target):
<br />&#160;&#160;&#160;&#160;let source be the holder of the target;
<br />&#160;&#160;&#160;&#160;if every apple held by the source is bitten, say &quot;bitten &quot;;
<br />&#160;&#160;&#160;&#160;if every apple held by the source is pristine, say &quot;pristine &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7173_13" -->
<a id="c7173_13"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / eat apple / i / eat apple / pristine / i / eat apple / pristine / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "369: Originals" "e277" -->
<a id="e277"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e277" class="eglink"><b>369</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e277" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Originals</span></b></a><br />Allowing the player to create models of anything in the game world; parsing the name "model [thing]" or even just "[thing]" to refer to these newly-created models; asking "which do you mean, the model [thing] or the actual [thing]" when there is ambiguity.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e277"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example277">
<p>We rely here on the understanding-by-relations rules we've already learned, but there is an additional trick: we want to make sure that if the player types &quot;original&quot; or &quot;actual&quot;, this word will not be taken to refer to the thing modeled:</p>
<!-- START CODE "c7174_277" -->
<a id="c7174_277"></a><blockquote class="code"><p class="quoted">
&quot;Originals&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7175_277" -->
<a id="c7175_277"></a><blockquote class="code"><p class="quoted">
A model is a kind of thing. 100 models are in the model-repository.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7176_277" -->
<a id="c7176_277"></a><blockquote class="code"><p class="quoted">
Appearance relates one thing to various models. The verb to be shown by means the appearance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7177_277" -->
<a id="c7177_277"></a><blockquote class="code"><p class="quoted">
Indication relates a model (called X) to a thing (called Y) when Y is shown by X and Y is suitable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7178_277" -->
<a id="c7178_277"></a><blockquote class="code"><p class="quoted">
Understand &quot;actual&quot; or &quot;original&quot; as &quot;[actual]&quot;. Understand &quot;[actual]&quot; as something when the item described is not a model.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7179_277" -->
<a id="c7179_277"></a><blockquote class="code"><p class="quoted">
Definition: a thing is suitable:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;[actual]&quot;, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7180_277" -->
<a id="c7180_277"></a><blockquote class="code"><p class="quoted">
Understand &quot;[something related by indication]&quot; as a model.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7181_277" -->
<a id="c7181_277"></a><blockquote class="code"><p class="quoted">
After printing the name of a model (called target): say &quot; [random thing shown by the target]&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now our duplication command -- for the sake of simplicity, we'll suppose that in this scenario the player is duplicating objects by magic rather than creating them out of physical materials or supplies:</p>
<!-- START CODE "c7182_277" -->
<a id="c7182_277"></a><blockquote class="code"><p class="quoted">
Understand &quot;duplicate [something]&quot; as duplicating. Duplicating is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7183_277" -->
<a id="c7183_277"></a><blockquote class="code"><p class="quoted">
The duplicating action has an object called the selected model.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7184_277" -->
<a id="c7184_277"></a><blockquote class="code"><p class="quoted">
Setting action variables for duplicating:
<br />&#160;&#160;&#160;&#160;let N be a random model in the model-repository;
<br />&#160;&#160;&#160;&#160;now the selected model is N.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7185_277" -->
<a id="c7185_277"></a><blockquote class="code"><p class="quoted">
Check duplicating:
<br />&#160;&#160;&#160;&#160;if the selected model is nothing, say &quot;You're out of power.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7186_277" -->
<a id="c7186_277"></a><blockquote class="code"><p class="quoted">
Carry out duplicating:
<br />&#160;&#160;&#160;&#160;now the noun is shown by the selected model;
<br />&#160;&#160;&#160;&#160;move the selected model to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7187_277" -->
<a id="c7187_277"></a><blockquote class="code"><p class="quoted">
Report duplicating:
<br />&#160;&#160;&#160;&#160;say &quot;You concentrate and manifest [a selected model].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now, the challenge is that we want to print the word &quot;actual&quot; before printing the name of an object, but only during disambiguation questions and only when we are not printing the name of the object as part of a model-name! (If we are not careful about the latter point, we will get responses such as &quot;Which do you mean, the model actual deer or the actual deer?&quot; which of course defeats the whole purpose.</p>
<p>The way around this is to remember that activities stack: we're printing the name of the deer while printing the name of a model that involves the deer. So if we set a flag while printing the name of a model, we can control the way the deer's name prints during the transaction. (We could use our ...while clause to specify while not printing the name of a model, except that we're already using it for &quot;while asking which do you mean&quot;, and these do not stack.) So:</p>
<!-- START CODE "c7188_277" -->
<a id="c7188_277"></a><blockquote class="code"><p class="quoted">
The virtual-context is a truth state that varies. The virtual-context is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7189_277" -->
<a id="c7189_277"></a><blockquote class="code"><p class="quoted">
Before printing the name of a model:
<br />&#160;&#160;&#160;&#160;now virtual-context is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7190_277" -->
<a id="c7190_277"></a><blockquote class="code"><p class="quoted">
After printing the name of a model:
<br />&#160;&#160;&#160;&#160;now virtual-context is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7191_277" -->
<a id="c7191_277"></a><blockquote class="code"><p class="quoted">
Before printing the name of something (called target) while asking which do you mean:
<br />&#160;&#160;&#160;&#160;if the target is not a model and virtual-context is false:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;actual &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7192_277" -->
<a id="c7192_277"></a><blockquote class="code"><p class="quoted">
Forest is a room. It contains a deer and a daisy. The deer is an animal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7193_277" -->
<a id="c7193_277"></a><blockquote class="code"><p class="quoted">
Test me with &quot;duplicate deer / x model deer / x deer model / drop deer / x deer / actual / x deer / model&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "370: Walls and Noses" "e423" -->
<a id="e423"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e423" class="eglink"><b>370</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e423" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Walls and Noses</span></b></a><br />Responding to "EXAMINE WALL" with "In which direction?", and to "EXAMINE NOSE" with "Whose nose do you mean, Frederica's, Betty's, Wilma's or your own?"</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e423"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example423">
<p>Suppose we want our game to respond to &quot;EXAMINE WALL&quot; with &quot;In which direction?&quot;, and to &quot;EXAMINE NOSE&quot; with &quot;Whose nose do you mean, Frederica's, Betty's, Wilma's or your own?&quot;</p>
<p>For the case of EXAMINE WALL, we need a way to determine whether every item being disambiguated is a direction. We'll start by making a &quot;matched&quot; adjective which will identify items being disambiguated:</p>
<!-- START CODE "c7194_423" -->
<a id="c7194_423"></a><blockquote class="code"><p class="quoted">
&quot;Walls and Noses&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7195_423" -->
<a id="c7195_423"></a><blockquote class="code"><p class="quoted">
Eight-Walled Chamber is a room. &quot;A perfectly octagonal room whose walls are tinted in various hues.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7196_423" -->
<a id="c7196_423"></a><blockquote class="code"><p class="quoted">
Understand &quot;wall&quot; as a direction.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7197_423" -->
<a id="c7197_423"></a><blockquote class="code"><p class="quoted">
Definition: a direction is matched if it fits the parse list.
<br />Definition: a room is matched if it fits the parse list.
<br />Definition: a thing is matched if it fits the parse list.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7198_423" -->
<a id="c7198_423"></a><blockquote class="code"><p class="quoted">
Rule for asking which do you mean when everything matched is direction:
<br />&#160;&#160;&#160;&#160;say &quot;In which direction?&quot;
</p></blockquote>
<!-- END CODE -->
<p>Checking the parse list requires a bit of behind-the-scenes work with Inform 6. Fortunately, you don't have to understand this entirely in order to use the rest of the example:</p>
<!-- START CODE "c7199_423" -->
<a id="c7199_423"></a><blockquote class="code"><p class="quoted">
To decide whether (N - an object) fits the parse list:
<br />&#160;&#160;&#160;&#160;(- (FindInParseList({N})) -)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7200_423" -->
<a id="c7200_423"></a><blockquote class="code"><p class="quoted">
Include (-
<br />[ FindInParseList obj i k marker;
<br />&#160;&#160;&#160;&#160;marker = 0;
<br />&#160;&#160;&#160;&#160;for (i=1 : i&lt;=number_of_classes : i++) {
<br />&#160;&#160;&#160;&#160;while (((match_classes--&gt;marker) ~= i) &amp;&amp; ((match_classes--&gt;marker) ~= -i)) marker++;
<br />&#160;&#160;&#160;&#160;k = match_list--&gt;marker;
<br />&#160;&#160;&#160;&#160;if (k==obj) rtrue;
<br />&#160;&#160;&#160;&#160;}
<br />&#160;&#160;&#160;&#160;rfalse;
<br />];
<br />-)
</p></blockquote>
<!-- END CODE -->
<p>Now that we've defined our &quot;matched&quot; adjective, we can use it for other purposes as well -- even generating our own lists. Our second challenge was to respond to EXAMINE NOSE with &quot;Whose nose do you mean, Frederica's, Betty's, Wilma's or your own?&quot;</p>
<p>Here we need to change the way the question is worded (not &quot;which do you mean&quot; but &quot;whose nose do you mean&quot;). We also have to the names of the noses as they're printed in this particular context, so that they don't repeat the word &quot;nose&quot; over and over. And -- as a point of good English style -- we also want &quot;your own&quot; nose always to be last on the list.</p>
<p>For this purpose we may want to use the built-in &quot;Complex Listing&quot; extension, which allows us to print specially ordered lists. So:</p>
<!-- START CODE "c7201_423" -->
<a id="c7201_423"></a><blockquote class="code"><p class="quoted">
Include Complex Listing by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7202_423" -->
<a id="c7202_423"></a><blockquote class="code"><p class="quoted">
Wilma, Betty, and Frederica are women in the Eight-Walled Chamber. Understand &quot;lady&quot; or &quot;woman&quot; as a woman. A nose is a kind of thing. A nose is part of every person.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7203_423" -->
<a id="c7203_423"></a><blockquote class="code"><p class="quoted">
Rule for asking which do you mean when everything matched is a nose:
<br />&#160;&#160;&#160;&#160;prepare a list of matched things;
<br />&#160;&#160;&#160;&#160;if your nose is an output listed in the Table of Scored Listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row with an output of your nose in the Table of Scored Listing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the assigned score entry is -1;
<br />&#160;&#160;&#160;&#160;say &quot;Whose nose do you mean, [the prepared list delimited in disjunctive style]?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7204_423" -->
<a id="c7204_423"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a nose (called target) while asking which do you mean :
<br />&#160;&#160;&#160;&#160;if everything matched is a nose:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the target is part of a person (called owner):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the owner is the player, say &quot;your own&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[the owner][apostrophe]s&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make no decision.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7205_423" -->
<a id="c7205_423"></a><blockquote class="code"><p class="quoted">
Understand &quot;own&quot; or &quot;mine&quot; as your nose.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7206_423" -->
<a id="c7206_423"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x wall / north / x nose / mine&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "371: Latin Lessons" "e218" -->
<a id="e218"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e218" class="eglink"><b>371</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e218" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Latin Lessons</span></b></a><br />Supplying missing nouns and second nouns for other characters besides the player.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e218"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example218">
<p>If we're defining actions for other characters to follow, we may want to include them in our &quot;rule for supplying a missing noun&quot;. We can do this if we write our &quot;while...&quot; clause to apply to any actor, as follows:</p>
<!-- START CODE "c7207_218" -->
<a id="c7207_218"></a><blockquote class="code"><p class="quoted">
&quot;Latin Lessons&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7208_218" -->
<a id="c7208_218"></a><blockquote class="code"><p class="quoted">
The Latin Studio is a room. Rick is a man in the Studio.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7209_218" -->
<a id="c7209_218"></a><blockquote class="code"><p class="quoted">
A dance-name is a kind of thing. Argentine tango, samba, merengue, cha-cha, street salsa are dance-names.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7210_218" -->
<a id="c7210_218"></a><blockquote class="code"><p class="quoted">
Dancing is an action applying to one visible thing. Understand &quot;dance [any dance-name]&quot; as dancing. Understand &quot;dance&quot; as dancing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7211_218" -->
<a id="c7211_218"></a><blockquote class="code"><p class="quoted">
Rule for supplying a missing noun while an actor dancing:
<br />&#160;&#160;&#160;&#160;now the noun is street salsa.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7212_218" -->
<a id="c7212_218"></a><blockquote class="code"><p class="quoted">
Report someone dancing:
<br />&#160;&#160;&#160;&#160;say &quot;[The actor] dances a few steps of [the noun] for you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7213_218" -->
<a id="c7213_218"></a><blockquote class="code"><p class="quoted">
Report dancing:
<br />&#160;&#160;&#160;&#160;say &quot;You dance a few steps of [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7214_218" -->
<a id="c7214_218"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking someone to try dancing: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7215_218" -->
<a id="c7215_218"></a><blockquote class="code"><p class="quoted">
Test me with &quot;dance / dance samba / rick, dance / rick, dance merengue&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "372: Minimal Movement" "e406" -->
<a id="e406"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e406" class="eglink"><b>372</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e406" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Minimal Movement</span></b></a><br />Supplying a default direction for "go", so that "leave", "go", etc., are always interpreted as "out".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e406"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example406">
<p>Sometimes it would be nice to respond a little more sensitively to a vague command such as &quot;leave&quot; -- converting it, perhaps, to a &quot;go out&quot; command.</p>
<!-- START CODE "c7216_406" -->
<a id="c7216_406"></a><blockquote class="code"><p class="quoted">
&quot;Minimal Movement&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7217_406" -->
<a id="c7217_406"></a><blockquote class="code"><p class="quoted">
The Doll-like House is a room. The Postage-Stamp-Sized Garden is outside from the House.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7218_406" -->
<a id="c7218_406"></a><blockquote class="code"><p class="quoted">
Rule for supplying a missing noun while going:
<br />&#160;&#160;&#160;&#160;now noun is outside.
</p></blockquote>
<!-- END CODE -->
<p>This particular situation is very slightly complicated by the existing rules about vague movement, but fortunately we can easily turn those off.</p>
<!-- START CODE "c7219_406" -->
<a id="c7219_406"></a><blockquote class="code"><p class="quoted">
The block vaguely going rule is not listed in the for supplying a missing noun rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7220_406" -->
<a id="c7220_406"></a><blockquote class="code"><p class="quoted">
Test me with &quot;go&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "373: Cloves" "e86" -->
<a id="e86"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e86" class="eglink"><b>373</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e86" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Cloves</span></b></a><br />Accepting adverbs anywhere in a command, registering what the player typed but then cutting them out before interpreting the command.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e86"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example86">
<p>It has sometimes been suggested that IF should allow for the player to use adverbs, so that doing something &quot;carefully&quot; will have a different effect from doing it &quot;quickly&quot;. There are several inherent challenges here: it's a good idea to make very sure the player knows all his adverb options, and the list of possibilities should probably not be too long.</p>
<p>Another trick is that adverbs complicate understanding commands, because they can occur anywhere: one might type &gt;GO WEST CAREFULLY or &gt;CAREFULLY GO WEST, and ideally the game should understand both. After reading a command is the best point to do this sort of thing, because we can find adverbs, interpret them, and remove them from the command stream. So:</p>
<!-- START CODE "c7221_86" -->
<a id="c7221_86"></a><blockquote class="code"><p class="quoted">
&quot;Cloves&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7222_86" -->
<a id="c7222_86"></a><blockquote class="code"><p class="quoted">
Manner is a kind of value. The manners are insouciantly, sheepishly, and defiantly.
</p></blockquote>
<!-- END CODE -->
<p>Now we have, automatically, a value called manner understood to be used whenever parsing manners, and we can use this even during the &quot;after reading a command&quot; stage, so:</p>
<!-- START CODE "c7223_86" -->
<a id="c7223_86"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;[manner]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cut the matched text;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;But how, my dear boy, how? You simply can't do something without a pose. Thus far you have mastered doing things [list of manners].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reject the player's command.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7224_86" -->
<a id="c7224_86"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;Behaving [manner understood]&quot;;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[location]&quot;;
<br />&#160;&#160;&#160;&#160;now the manner understood is insouciantly.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7225_86" -->
<a id="c7225_86"></a><blockquote class="code"><p class="quoted">
The Poseur Club is a room. &quot;Lady Mary is laid out on a sofa, her wrists bandaged importantly[if the manner understood is insouciantly] -- and she looks all the more depressed by your indifference to her state[end if]; Salvatore is at the gaming table, clutching his hair with both hands[if the manner understood is defiantly] -- though he looks up long enough to snarl in response to that expression of yours[end if]; Frackenbush is muttering lines from another of his works in progress, as though poetry has nearly made him mad[if the manner understood is sheepishly]. But he spares you a reassuring smile. He's not a bad fellow, Frackenbush[end if].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7226_86" -->
<a id="c7226_86"></a><blockquote class="code"><p class="quoted">
The usual people, in short.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7227_86" -->
<a id="c7227_86"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than waiting or looking:
<br />&#160;&#160;&#160;&#160;say &quot;Dear. No. That would smack of effort.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7228_86" -->
<a id="c7228_86"></a><blockquote class="code"><p class="quoted">
Instead of waiting when the manner understood is sheepishly:
<br />&#160;&#160;&#160;&#160;say &quot;You scuff your foot against the ground for a moment, and allow a seemly blush to creep over your cheek. It's quite effective, you are sure, though you can't look up and see how it is going.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7229_86" -->
<a id="c7229_86"></a><blockquote class="code"><p class="quoted">
Instead of waiting when the manner understood is insouciantly:
<br />&#160;&#160;&#160;&#160;say &quot;Thrusting your hands into your pockets, you whistle a jaunty tune.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7230_86" -->
<a id="c7230_86"></a><blockquote class="code"><p class="quoted">
'Do shut up,' says a Melancholy Poseur from over by the window.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7231_86" -->
<a id="c7231_86"></a><blockquote class="code"><p class="quoted">
Instead of waiting when the manner understood is defiantly:
<br />&#160;&#160;&#160;&#160;say &quot;You raise your chin and give a pointed glance around the room as though to say that you are waiting for someone; you are unembarrassed about waiting for her; you have by no means been stood up; and the first person to comment will receive a poke in the eye.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7232_86" -->
<a id="c7232_86"></a><blockquote class="code"><p class="quoted">
Before looking when the manner understood is sheepishly:
<br />&#160;&#160;&#160;&#160;say &quot;You gaze up from under your brows...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7233_86" -->
<a id="c7233_86"></a><blockquote class="code"><p class="quoted">
Before looking when the manner understood is defiantly:
<br />&#160;&#160;&#160;&#160;say &quot;You cast a withering gaze over the room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7234_86" -->
<a id="c7234_86"></a><blockquote class="code"><p class="quoted">
Before looking when the manner understood is insouciantly:
<br />&#160;&#160;&#160;&#160;if turn count &gt; 1,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You turn an eye to your surroundings, looking faintly-- just faintly-- amused.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7235_86" -->
<a id="c7235_86"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wait / wait insouciantly / sheepishly look / defiantly look / look insouciantly&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The qualification about turn count is to prevent this before message from occurring when the player first looks around the room (automatically) at the start of play.</p>
<p>Note that to test this example, one must type INSOUCIANTLY TEST ME, and not simply TEST ME: a poseur's work is never done.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "374: Fragment of a Greek Tragedy" "e192" -->
<a id="e192"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e192" class="eglink"><b>374</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e192" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fragment of a Greek Tragedy</span></b></a><br />Responding to the player's input based on keywords only, and overriding the original parser entirely.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e192"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example192">
<p>Apologies to the shade of A. E. Housman.</p>
<!-- START CODE "c7236_192" -->
<a id="c7236_192"></a><blockquote class="code"><p class="quoted">
&quot;Fragment of a Greek Tragedy&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7237_192" -->
<a id="c7237_192"></a><blockquote class="code"><p class="quoted">
Understand &quot;restart/restore/save/quit&quot; as &quot;[meta-command]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7238_192" -->
<a id="c7238_192"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command matches &quot;[meta-command]&quot;, make no decision;
<br />&#160;&#160;&#160;&#160;say line break;
<br />&#160;&#160;&#160;&#160;repeat through Table of Current Topics:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player's command includes topic entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;CHORUS: [reply entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the advance time rule;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;[italic type]   Pause.[roman type][line break]&quot;;
<br />&#160;&#160;&#160;&#160;follow the advance time rule;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7239_192" -->
<a id="c7239_192"></a><blockquote class="code"><p class="quoted">
Table of Current Topics
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;journey/trip/travel/came/arrived&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Sailing on horseback, or with feet for oars?&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;horseback/legs/feet/oars&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Beneath a shining or a rainy Zeus?&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;shining/rainy/weather/zeus&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Mud's sister, not herself, adorns thy boots.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>This would be a bit bare if we didn't provide the player with some sort of context at the outset, so let's put some remarks before the first command prompt:</p>
<!-- START CODE "c7240_192" -->
<a id="c7240_192"></a><blockquote class="code"><p class="quoted">
Before reading a command while the turn count is 1:
<br />&#160;&#160;&#160;&#160;say &quot;CHORUS: O suitably-attired-in-leather-boots
<br />&#160;&#160;&#160;&#160;Head of a traveller, wherefore seeking whom
<br />&#160;&#160;&#160;&#160;Whence by what way how purposed art thou come
<br />&#160;&#160;&#160;&#160;To this well-nightingaled vicinity?
<br />&#160;&#160;&#160;&#160;My object in inquiring is to know.
<br />&#160;&#160;&#160;&#160;But if you happen to be deaf and dumb
<br />&#160;&#160;&#160;&#160;And do not understand a word I say,
<br />&#160;&#160;&#160;&#160;Then wave your hand, to signify as much.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This &quot;turn count&quot; condition is why it was useful to follow the advance time rule in &quot;after reading a command&quot;: the game (or drama, if you like) will continue to count moves elapsed even though the rest of Inform's command parsing and world model is being ignored. In a longer and more ambitious implementation of this idea, we might want to allow scenes to govern the behavior and responses of the Chorus.</p>
<p>And then to give the whole exchange a play's format:</p>
<!-- START CODE "c7241_192" -->
<a id="c7241_192"></a><blockquote class="code"><p class="quoted">
The Stage is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7242_192" -->
<a id="c7242_192"></a><blockquote class="code"><p class="quoted">
The room description heading rule is not listed in the carry out looking rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7243_192" -->
<a id="c7243_192"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the command prompt is &quot;YOU: &quot;;
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;Fragment of a Greek Tragedy&quot;;
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;A. E. Housman&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(Because this example manipulates commands outside of the normal parser, the mechanism for TEST will not work here. Try typing commands such as: TELL CHORUS ABOUT JOURNEY / TELL CHORUS ABOUT FEET / TELL CHORUS ABOUT SHROPSHIRE / TELL CHORUS ABOUT ZEUS)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "375: North by Northwest" "e266" -->
<a id="e266"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e266" class="eglink"><b>375</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e266" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">North by Northwest</span></b></a><br />Creating additional compass directions between those that already exist (for instance, NNW) -- and dealing with an awkwardness that arises when the player tries to type "north-northwest". The example demonstrates a way around the nine-character limit on parsed words.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e266"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example266">
<p>Suppose we wanted to add intermediate compass directions such as north-northwest to our game. Because of the limitations of the index map, we won't be able to view these connections on the world map, but we can certainly create them, and use them in route-finding, just like other directions.</p>
<p>Here's how we'd set up such a thing:</p>
<!-- START CODE "c7244_266" -->
<a id="c7244_266"></a><blockquote class="code"><p class="quoted">
&quot;North by Northwest&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7245_266" -->
<a id="c7245_266"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7246_266" -->
<a id="c7246_266"></a><blockquote class="code"><p class="quoted">
The north-northwest is a direction. North-northwest has opposite south-southeast. Understand &quot;n-nw&quot; or &quot;nnw&quot; as north-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7247_266" -->
<a id="c7247_266"></a><blockquote class="code"><p class="quoted">
The north-northeast is a direction. North-northeast has opposite south-southwest. Understand &quot;n-ne&quot; or &quot;nne&quot; as north-northeast.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7248_266" -->
<a id="c7248_266"></a><blockquote class="code"><p class="quoted">
The south-southwest is a direction. South-southwest has opposite north-northeast. Understand &quot;s-sw&quot; or &quot;ssw&quot; as north-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7249_266" -->
<a id="c7249_266"></a><blockquote class="code"><p class="quoted">
The south-southeast is a direction. South-southeast has opposite north-northwest. Understand &quot;s-se&quot; or &quot;sse&quot; as south-southeast.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7250_266" -->
<a id="c7250_266"></a><blockquote class="code"><p class="quoted">
The west-northwest is a direction. West-northwest has opposite east-southeast. Understand &quot;w-nw&quot; or &quot;wnw&quot; as west-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7251_266" -->
<a id="c7251_266"></a><blockquote class="code"><p class="quoted">
The east-northeast is a direction. East-northeast has opposite west-southwest. Understand &quot;e-ne&quot; or &quot;ene&quot; as east-northeast.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7252_266" -->
<a id="c7252_266"></a><blockquote class="code"><p class="quoted">
The west-southwest is a direction. West-southwest has opposite east-northeast. Understand &quot;w-sw&quot; or &quot;wsw&quot; as west-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7253_266" -->
<a id="c7253_266"></a><blockquote class="code"><p class="quoted">
The east-southeast is a direction. East-southeast has opposite west-northwest. Understand &quot;e-se&quot; or &quot;ese&quot; as east-southeast.
</p></blockquote>
<!-- END CODE -->
<p>A complication arises because we reach the 9-character limit: Inform truncates the names of objects to nine characters before trying to understand them. To make matters worse, the hyphen (and other punctuation marks) count as two letters. So both north-northwest and north-northeast will get truncated to &quot;north-no&quot;, and be indistinguishable when the player types them.</p>
<p>When we are compiling for Glulx, the limit is easily changed with a single line, setting the constant called DICT_WORD_SIZE. For instance, if we wanted to raise the limit to 15, we would simply write &quot;Use DICT_WORD_SIZE of 15.&quot;</p>
<p>If we're compiling to the Z-machine, however, we'll have to resort to some manipulation of the player's command. The general solution is that when the player's name for an object is going to have to be longer than we can correctly read, we can substitute an unambiguous abbreviation for the thing the player typed. In this case, it will be simplest and most efficient always to condense the player's direction names to single letters, thus:</p>
<!-- START CODE "c7254_266" -->
<a id="c7254_266"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;let N be &quot;[the player's command]&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;north&quot; in N with &quot;n&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;east&quot; in N with &quot;e&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;south&quot; in N with &quot;s&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;west&quot; in N with &quot;w&quot;;
<br />&#160;&#160;&#160;&#160;change the text of the player's command to N.
</p></blockquote>
<!-- END CODE -->
<p>For more on the use of text, see the Advanced Text chapter.</p>
<!-- START CODE "c7255_266" -->
<a id="c7255_266"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7256_266" -->
<a id="c7256_266"></a><blockquote class="code"><p class="quoted">
The Empty Field is north-northwest of the Deserted Road.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7257_266" -->
<a id="c7257_266"></a><blockquote class="code"><p class="quoted">
A crop-dusting plane is a backdrop. It is not scenery. It is in the Deserted Road and Empty Field. The initial appearance of the crop-dusting plane is &quot;[one of]In the distance[or]Approaching faster and faster[or]Flying ominously low and directly towards you[or]Immediately overhead[or]Circling around for another approach[cycling] is a standard crop-dusting plane.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7258_266" -->
<a id="c7258_266"></a><blockquote class="code"><p class="quoted">
After looking:
<br />&#160;&#160;&#160;&#160;say &quot;From here you can run to [the list of adjacent rooms].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7259_266" -->
<a id="c7259_266"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a room (called the target) which is not the location while looking:
<br />&#160;&#160;&#160;&#160;let chosen direction be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;say &quot;[chosen direction]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7260_266" -->
<a id="c7260_266"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sse / north-northwest&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In practice, this is going to be overkill for almost all games: most players already find eight compass directions plus up and down to be enough (or more than enough) to keep track of. But the option exists, in case there is a compelling reason to use it.</p>
<p>(Note also that we are allowed to use multi-word direction names, so we could  have called the directions &quot;north by northwest&quot;, &quot;north by northeast&quot;, and so on. This example deliberately takes the hard way in order to show how to resolve the nine-character problem.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "376: Complimentary Peanuts" "e208" -->
<a id="e208"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e208" class="eglink"><b>376</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e208" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Complimentary Peanuts</span></b></a><br />A character who responds to keywords in the player's instructions and remarks, even if there are other words included.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e208"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example208">
<p>The &quot;reading a command&quot; activity is not the only point at which we can interact with snippets, as it happens; it is merely the most useful. &quot;The player's command&quot; can be consulted at other points, however, as in this example of your somewhat deaf (or distracted, or simply cussed) Aunt:</p>
<!-- START CODE "c7261_208" -->
<a id="c7261_208"></a><blockquote class="code"><p class="quoted">
&quot;Complimentary Peanuts&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7262_208" -->
<a id="c7262_208"></a><blockquote class="code"><p class="quoted">
Instead of asking Aunt Martha to try doing something:
<br />&#160;&#160;&#160;&#160;repeat through Table of Aunt Martha's Commentary:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if player's command includes topic entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[commentary entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;'Hmmf,' says Aunt Martha.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The topic understood is also a snippet, so that whenever one has been generated, we can treat it in the same way as &quot;the player's command&quot;:</p>
<!-- START CODE "c7263_208" -->
<a id="c7263_208"></a><blockquote class="code"><p class="quoted">
Asking someone about something is speech.
<br />Telling someone about something is speech.
<br />Answering someone that something is speech.
<br />Asking someone for something is speech.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7264_208" -->
<a id="c7264_208"></a><blockquote class="code"><p class="quoted">
Instead of speech when the noun is Aunt Martha:
<br />&#160;&#160;&#160;&#160;repeat through Table of Aunt Martha's commentary:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the topic understood includes topic entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[commentary entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;'Hmmf,' says Aunt Martha.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is superior to checking &quot;the player's command&quot; because we do not want ASK MARTHA ABOUT FRENCH FRIES to trigger the &quot;Martha&quot; keyword, only the &quot;french fries&quot; keywords.</p>
<!-- START CODE "c7265_208" -->
<a id="c7265_208"></a><blockquote class="code"><p class="quoted">
The Empyrean Shuttle Bay is a room. &quot;From here you have an excellent view of the colony world, which looks... well, it looks discouragingly orange. But terraforming is in progress.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7266_208" -->
<a id="c7266_208"></a><blockquote class="code"><p class="quoted">
Aunt Martha is a woman in the Empyrean Shuttle Bay. A gleaming shuttle and a stack of rations are in the Shuttle Bay. The shuttle is a vehicle. &quot;Your shuttle awaits.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7267_208" -->
<a id="c7267_208"></a><blockquote class="code"><p class="quoted">
Table of Aunt Martha's Commentary
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">commentary</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;shuttle&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Shuttles! I hate shuttles,' Aunt Martha grumbles. 'Give me an airplane! AIRPLANE.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;airplane/airport&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Those were the days,' Aunt Martha agrees, plainly reliving the days when she wore a blue-and-white uniform and passed out packets of salted pretzels.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;rations&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Do you think there are any peanuts in there?' she asks in a wistful tone.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7268_208" -->
<a id="c7268_208"></a><blockquote class="code"><p class="quoted">
Test me with &quot;martha, get in the shuttle / martha, for pity's sake, do you see an airplane around here? / martha, pass me the rations&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This means that Martha will respond to keywords regardless of the setting in which they occur. For instance:</p>
<!-- START CODE "c7269_208" -->
<a id="c7269_208"></a><blockquote class="code"><p class="quoted">
&gt;martha, get in the shuttle
<br />&quot;Shuttles! I hate shuttles,&quot; Aunt Martha grumbles. &quot;Give me an airplane! AIRPLANE.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7270_208" -->
<a id="c7270_208"></a><blockquote class="code"><p class="quoted">
&gt;martha, for pity's sake, do you see an airplane around here?
<br />&quot;Those were the days,&quot; Aunt Martha agrees, plainly reliving the days when she wore a blue-and-white uniform and passed out packets of salted peanuts.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7271_208" -->
<a id="c7271_208"></a><blockquote class="code"><p class="quoted">
&gt;martha, pass me the rations
<br />&quot;Do you think there are any peanuts in there?&quot; she asks in a wistful tone.
</p></blockquote>
<!-- END CODE -->
<p>This is not the stuff of which Loebner-winning chatbots are made, admittedly, but it is occasionally a useful alternative to stricter modes of command-parsing.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "377: The Big Sainsbury's" "e34" -->
<a id="e34"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e34" class="eglink"><b>377</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e34" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Big Sainsbury's</span></b></a><br />Making implicit takes add a minute to the clock, just as though the player had typed TAKE THING explicitly.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_4.html#e34"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example34">
<p>Implicit takes are a convenience to players; in general, we would like to avoid asking players to type any more obvious commands than strictly necessary, while allowing the computer to guess as much as it safely can.</p>
<p>Occasionally, though, we have designed a timed puzzle in which the player has a limited number of moves in which to accomplish his objectives. In that case, the implicit take complicates matters, because it means that a player who types</p>
<!-- START CODE "c7272_34" -->
<a id="c7272_34"></a><blockquote class="code"><p class="quoted">
&gt;EAT GATEAU
<br />(first taking the gateau...)
</p></blockquote>
<!-- END CODE -->
<p>gets away with a spare move compared to the precise but naïf dupe who types</p>
<!-- START CODE "c7273_34" -->
<a id="c7273_34"></a><blockquote class="code"><p class="quoted">
&gt;TAKE GATEAU
<br />&gt;EAT GATEAU
</p></blockquote>
<!-- END CODE -->
<p>...and really, that doesn't seem quite fair. The way to fix this problem is to fill in the extra minute on the clock during the implicit take; and that is indeed what we do in the following example.</p>
<!-- START CODE "c7274_34" -->
<a id="c7274_34"></a><blockquote class="code"><p class="quoted">
&quot;The Big Sainsbury's&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7275_34" -->
<a id="c7275_34"></a><blockquote class="code"><p class="quoted">
Sainsbury's is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7276_34" -->
<a id="c7276_34"></a><blockquote class="code"><p class="quoted">
The crispy duck and the Guinness steak pie are edible things in Sainsbury's.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7277_34" -->
<a id="c7277_34"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking something:
<br />&#160;&#160;&#160;&#160;follow the advance time rule;
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7278_34" -->
<a id="c7278_34"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7279_34" -->
<a id="c7279_34"></a><blockquote class="code"><p class="quoted">
Test me with &quot;take crispy duck / eat crispy duck / eat steak pie&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "378: Pizza Prince" "e293" -->
<a id="e293"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e293" class="eglink"><b>378</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e293" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pizza Prince</span></b></a><br />Providing a pizza buffet from which the player can take as many pieces as he wants.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e293"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example293">
<p>Suppose we want the player to have a pizza buffet from which he can take a number of slices. But we don't want to actually put the slices there in front of him, because &quot;you can see 17 slices of pizza here&quot; is not the descriptive effect we want, and because we want to pretend, at least, that the pizza supply is nearly infinite. In fact, we're going to replenish the supply by allowing eaten slices to return to the buffet table (safer in IF than in real life).</p>
<p>To do this, we create one object to stand in for the pizza supply, but whenever the player tries to take it, we give him a different &quot;pizza slice&quot; object instead. Thus:</p>
<!-- START CODE "c7280_293" -->
<a id="c7280_293"></a><blockquote class="code"><p class="quoted">
&quot;Pizza Prince&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7281_293" -->
<a id="c7281_293"></a><blockquote class="code"><p class="quoted">
The Pizza Prince is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7282_293" -->
<a id="c7282_293"></a><blockquote class="code"><p class="quoted">
The buffet table is a supporter in Pizza Prince.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7283_293" -->
<a id="c7283_293"></a><blockquote class="code"><p class="quoted">
The pizza selection is a thing on the buffet table. Understand &quot;slice&quot; as the pizza selection. The description is &quot;They are all cheese-only, and all luke-warm.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7284_293" -->
<a id="c7284_293"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the buffet table:
<br />&#160;&#160;&#160;&#160;say &quot;On [the buffet table] is [a pizza selection]. [description of the pizza selection][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now we introduce our actual pizza slices, which are retained in a container out of play until they're needed:</p>
<!-- START CODE "c7285_293" -->
<a id="c7285_293"></a><blockquote class="code"><p class="quoted">
A pizza slice is a kind of thing. 10 pizza slices are in Pizza Limbo. A pizza slice is always edible. [After a fashion, anyway.]
</p></blockquote>
<!-- END CODE -->
<p>In this example we've set that supply to be artificially small, to make it easier to test what happens when the player reaches the limit; but we could provide many more slices to start with in Pizza Limbo, and the aim in practice would be to pick a number high enough (such as 50 or 100) that the average player will get bored of TAKE PIZZA long before he reaches the limit.</p>
<p>The main thing to be aware of is that objects consume memory in the game file, so creating a large number of pizza slices might bulk the game out. This is more of a concern if we're compiling for the Z-machine than if we're compiling for Glulx.</p>
<p>Whenever the player tries to take the selection, we want him to wind up holding an individual slice instead; but of course we need to check and make sure that he hasn't exhausted the pizza slice supply.</p>
<!-- START CODE "c7286_293" -->
<a id="c7286_293"></a><blockquote class="code"><p class="quoted">
Instead of taking the pizza selection:
<br />&#160;&#160;&#160;&#160;let chosen slice be a random pizza slice in Pizza Limbo;
<br />&#160;&#160;&#160;&#160;if chosen slice is nothing: [That is, there were no slices remaining]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[manager refusal]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the chosen slice to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Taken (gingerly).&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7287_293" -->
<a id="c7287_293"></a><blockquote class="code"><p class="quoted">
To say manager refusal:
<br />&#160;&#160;&#160;&#160;say &quot;[one of]'Hey!' barks a hitherto-unseen manager from behind you. 'It's an 'all you can eat' buffet, not an 'all you can stuff down your pants' buffet.'[or]You are conscious of a disapproving huff from the manager, so you refrain.[stopping]&quot;
</p></blockquote>
<!-- END CODE -->
<p>That's fine for the case where the player is taking a new slice of pizza explicitly, but we need to handle it a little differently if the taking action is generated in response to EAT PIZZA. In that case, we need to take the slice and also change the identity of the noun, because after the implicit take action happens, the game will test whether the player is holding the noun before attempting to eat it. So we need to refocus its attention:</p>
<!-- START CODE "c7288_293" -->
<a id="c7288_293"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking the pizza selection:
<br />&#160;&#160;&#160;&#160;let chosen slice be a random pizza slice in Pizza Limbo;
<br />&#160;&#160;&#160;&#160;if chosen slice is nothing: [That is, there were no slices remaining]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[manager refusal]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the chosen slice to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(helping yourself from the selection)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the noun is the chosen slice.
</p></blockquote>
<!-- END CODE -->
<p>And finally, a bit of touch-up:</p>
<!-- START CODE "c7289_293" -->
<a id="c7289_293"></a><blockquote class="code"><p class="quoted">
Rule for clarifying the parser's choice of the pizza selection while taking:
<br />&#160;&#160;&#160;&#160;say &quot;(from the magnificent selection before you)[line break]&quot;
</p></blockquote>
<!-- END CODE -->
<p>For tidiness, we should probably also return the consumed pizza slices to Pizza Limbo so that they can be re-used later:</p>
<!-- START CODE "c7290_293" -->
<a id="c7290_293"></a><blockquote class="code"><p class="quoted">
After eating a pizza slice:
<br />&#160;&#160;&#160;&#160;move the noun to Pizza Limbo;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7291_293" -->
<a id="c7291_293"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / get pizza / g / i / get pizza / drop pizza / look / get pizza / g / look / eat pizza / g / g / g / g / get pizza / g / g / g / g / g / g / g / g / g / g / g / g / i / eat pizza / take pizza / g&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "379: Lollipop Guild" "e228" -->
<a id="e228"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e228" class="eglink"><b>379</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e228" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lollipop Guild</span></b></a><br />Overriding the rules to allow the player to show something to another character without first taking it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e228"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example228">
<p>As mentioned in this section, the &quot;implicitly taking&quot; activity does not allow us to skip an implicit take entirely. In order to do this, we need to borrow from the chapter on Rulebooks and tell Inform that one of the rules normally built in to the Standard Rules does nothing in certain circumstances:</p>
<!-- START CODE "c7292_228" -->
<a id="c7292_228"></a><blockquote class="code"><p class="quoted">
  &quot;Lollipop Guild&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7293_228" -->
<a id="c7293_228"></a><blockquote class="code"><p class="quoted">
The carrying requirements rule does nothing when showing something to the guardian.
<br />The can't show what you haven't got rule does nothing when showing something to the guardian.
<br />The block showing rule does nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7294_228" -->
<a id="c7294_228"></a><blockquote class="code"><p class="quoted">
Candyland is a room. &quot;A fizzing, popping wonderland of sugary delights. A path tiled with butterscotch sweets leads to the horizon.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7295_228" -->
<a id="c7295_228"></a><blockquote class="code"><p class="quoted">
The butterscotch path is scenery in Candyland.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7296_228" -->
<a id="c7296_228"></a><blockquote class="code"><p class="quoted">
The player carries a basket. In the basket are a licorice gumdrop and a can of tuna. The gumdrop is edible. The description of the gumdrop is &quot;Covered all over with grains of sugar.&quot; The can of tuna is edible. The description of the can of tuna is &quot;A rare import in this place.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7297_228" -->
<a id="c7297_228"></a><blockquote class="code"><p class="quoted">
The giant lollipop is a fixed in place edible thing in Candyland. &quot;Growing right next to the path, on a trunk of white paper, is a giant lollipop colored green and red and white.&quot; The description of the lollipop is &quot;If you were very blind, like Aunt Myrtle, you might mistake it for a young sapling just planted: the lollipop is just that leafy shade of green, with swirls of white and red that might be branches or flowers.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7298_228" -->
<a id="c7298_228"></a><blockquote class="code"><p class="quoted">
The guardian is a man in Candyland. &quot;Right beside you is a guardian in a mint-colored uniform.&quot; The description of the guardian is &quot;A killjoy wielding a gigantic toothbrush.&quot; The guardian carries a gigantic toothbrush. The description of the toothbrush is &quot;Bristles as long as your hand. Firm bristles, too, not those soft ones. The guardian doesn't care about your tender gums.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7299_228" -->
<a id="c7299_228"></a><blockquote class="code"><p class="quoted">
A thing can be sweet. The butterscotch path, the lollipop, and the gumdrop are sweet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7300_228" -->
<a id="c7300_228"></a><blockquote class="code"><p class="quoted">
Carry out showing a sweet thing to the guardian:
<br />&#160;&#160;&#160;&#160;say &quot;The guardian shrieks! You don't understand its language, but from its ululations you understand the idea of decay. There may have been a bit in there about a root canal.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7301_228" -->
<a id="c7301_228"></a><blockquote class="code"><p class="quoted">
Carry out showing something to the guardian:
<br />&#160;&#160;&#160;&#160;say &quot;The guardian nods approvingly at the unsweetened [noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7302_228" -->
<a id="c7302_228"></a><blockquote class="code"><p class="quoted">
Report eating a sweet thing in the presence of the guardian:
<br />&#160;&#160;&#160;&#160;say &quot;The guardian looks mournful, but unholsters his tube of paste and begins applying it to the toothbrush, as though to say that he really did not want to have to do this...&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;Everything goes minty&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7303_228" -->
<a id="c7303_228"></a><blockquote class="code"><p class="quoted">
Report eating something:
<br />&#160;&#160;&#160;&#160;say &quot;You consume [the noun] with gusto.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7304_228" -->
<a id="c7304_228"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x guardian / x toothbrush / show gumdrop to guardian / show path to guardian / show tuna to guardian / look  / eat gumdrop&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that because we only deactivate the carrying requirements rule for showing purposes, the player still takes the gumdrop before eating it.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "380: WXPQ" "e444" -->
<a id="e444"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e444" class="eglink"><b>380</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e444" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">WXPQ</span></b></a><br />Creating a more sensible parser error than "that noun did not make sense in this context".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e444"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example444">
<p>The parser error &quot;That noun did not make sense in this context&quot; arises instead of &quot;You can't see any such thing&quot; when the player uses a command that could apply to any item in the game -- that is, a command such as</p>
<!-- START CODE "c7305_444" -->
<a id="c7305_444"></a><blockquote class="code"><p class="quoted">
Understand &quot;go to [any room]&quot; as going directly to.
<br />Understand &quot;talk about [any subject]&quot; as discussing.
</p></blockquote>
<!-- END CODE -->
<p>...and so on. The idea here is that &quot;You can't see any such thing&quot; isn't a sensible rejoinder when the player doesn't really need to be able to see the object.</p>
<p>Nonetheless, &quot;That noun did not make sense...&quot; is itself a fairly dry and uninformative response, and we may want to override it to something more appropriate for the specific kind of context in which it might appear. For instance:</p>
<!-- START CODE "c7306_444" -->
<a id="c7306_444"></a><blockquote class="code"><p class="quoted">
 &quot;WXPQ&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7307_444" -->
<a id="c7307_444"></a><blockquote class="code"><p class="quoted">
WXPQ Studio is a room. &quot;After about 2 AM, no one is listening anyway, so you can more or less make up whatever you like to fill the airwaves.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7308_444" -->
<a id="c7308_444"></a><blockquote class="code"><p class="quoted">
John F Kennedy, Elvis, Ralph Nader, Tony Blair, and single-origin chocolate are things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7309_444" -->
<a id="c7309_444"></a><blockquote class="code"><p class="quoted">
Understand &quot;talk about [any thing]&quot; or &quot;discuss [any thing]&quot; as discussing. Discussing is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7310_444" -->
<a id="c7310_444"></a><blockquote class="code"><p class="quoted">
Carry out discussing:
<br />&#160;&#160;&#160;&#160;say &quot;You babble for a while about your [one of]interest in[or]hatred of[or]passionate devotion to[or]conspiracy theory concerning[or]mother's secret love affair with[as decreasingly likely outcomes] [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7311_444" -->
<a id="c7311_444"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error when the latest parser error is the noun did not make sense in that context error:
<br />&#160;&#160;&#160;&#160;say &quot;For once, you're at a loss for anything to say.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7312_444" -->
<a id="c7312_444"></a><blockquote class="code"><p class="quoted">
Test me with &quot;discuss Elvis / discuss Kennedy / discuss chocolate / discuss narratology vs ludology debate&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that this solution works as simply as it does because we only have one command in the game that can apply to an &quot;[any]&quot; token. If we had several, we'd need to distinguish between the parser error attached to &quot;discuss&quot; and the parser error attached to &quot;go to&quot; (for instance). In that case, we might instead write something like</p>
<!-- START CODE "c7313_444" -->
<a id="c7313_444"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error when the latest parser error is the noun did not make sense in that context error:
<br />if the player's command includes &quot;go&quot;:
<br />&#160;&#160;&#160;&#160;say &quot;There's no such place you know how to get to.&quot;;
<br />otherwise:
<br />&#160;&#160;&#160;&#160;say &quot;For once, you're at a loss for anything to say.&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "381: Xot" "e445" -->
<a id="e445"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e445" class="eglink"><b>381</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e445" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Xot</span></b></a><br />Storing an invalid command to be repeated as text later in the game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e445"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example445">
<p>In Hitchhiker's Guide to the Galaxy, any erroneous command the player types can return to haunt him later in the game. We could do the same, if we liked, by storing the player's command whenever we print a parser error.</p>
<!-- START CODE "c7314_445" -->
<a id="c7314_445"></a><blockquote class="code"><p class="quoted">
 &quot;Xot&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7315_445" -->
<a id="c7315_445"></a><blockquote class="code"><p class="quoted">
Humiliation Chamber is a room. &quot;A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can't disable it, is a loudspeaker.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7316_445" -->
<a id="c7316_445"></a><blockquote class="code"><p class="quoted">
The last error is a text that varies. The last error is &quot;xot&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7317_445" -->
<a id="c7317_445"></a><blockquote class="code"><p class="quoted">
Before printing a parser error:
<br />&#160;&#160;&#160;&#160;now the last error is the player's command.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7318_445" -->
<a id="c7318_445"></a><blockquote class="code"><p class="quoted">
Every turn when a random chance of 1 in 2 succeeds:
<br />&#160;&#160;&#160;&#160;say &quot;Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying '[last error], [last error], [last error]!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7319_445" -->
<a id="c7319_445"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wiggle / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "382: Bikini Atoll" "e35" -->
<a id="e35"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e35" class="eglink"><b>382</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e35" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bikini Atoll</span></b></a><br />Delaying the banner for later.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e35"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example35">
<!-- START CODE "c7320_35" -->
<a id="c7320_35"></a><blockquote class="code"><p class="quoted">
&quot;Bikini Atoll&quot; by Edward Teller
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7321_35" -->
<a id="c7321_35"></a><blockquote class="code"><p class="quoted">
The Hut and the Tropical Beach are rooms.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7322_35" -->
<a id="c7322_35"></a><blockquote class="code"><p class="quoted">
The conch shell is in the Hut. After taking the shell for the first time: say &quot;As you gather the oddly-warm conch shell into your arms, you experience a sudden flash of deja-vu...[banner text]&quot;; move the player to the Tropical Beach.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7323_35" -->
<a id="c7323_35"></a><blockquote class="code"><p class="quoted">
Rule for printing the banner text when the player is not carrying the shell: do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7324_35" -->
<a id="c7324_35"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / examine shell / get shell / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(By tradition, and as a courtesy to all the people who have worked on Inform, authors ensure that the banner is printed some time near the beginning of each game played. So please only defer it, rather than suppress it altogether.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "383: Battle of Ridgefield" "e125" -->
<a id="e125"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e125" class="eglink"><b>383</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e125" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Battle of Ridgefield</span></b></a><br />Completely replacing the endgame text and stopping the game without giving the player a chance to restart or restore.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e125"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example125">
<p>Occasionally, a piece of IF is sufficiently serious that it feels bathetic to offer the player the usual restore-restart-undo-quit options at the end. The following would replace &quot;*** You have died ***&quot; with a centered epitaph, then quit the game when the player hits a key.</p>
<p>This example relies on a standard extension to avoid any fancy programming:</p>
<!-- START CODE "c7325_125" -->
<a id="c7325_125"></a><blockquote class="code"><p class="quoted">
&quot;Battle of Ridgefield&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7326_125" -->
<a id="c7326_125"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7327_125" -->
<a id="c7327_125"></a><blockquote class="code"><p class="quoted">
Ridgefield is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7328_125" -->
<a id="c7328_125"></a><blockquote class="code"><p class="quoted">
Instead of doing something when the turn count is greater than 1: say &quot;Alas, you no longer have the strength.&quot;; end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7329_125" -->
<a id="c7329_125"></a><blockquote class="code"><p class="quoted">
Rule for printing the player's obituary:
<br />&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;center &quot;In defense of American Independence&quot;;
<br />&#160;&#160;&#160;&#160;center &quot;at the Battle of Ridgefield, April 27, 1777,&quot;;
<br />&#160;&#160;&#160;&#160;center &quot;died Eight Patriots who were laid in this ground,&quot;;
<br />&#160;&#160;&#160;&#160;center &quot;Companioned by Sixteen British Soldiers,&quot;;
<br />&#160;&#160;&#160;&#160;center &quot;Living, their enemies,&quot;;
<br />&#160;&#160;&#160;&#160;center &quot;Dying, their guests&quot;;
<br />&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;wait for any key;
<br />&#160;&#160;&#160;&#160;stop game abruptly;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "384: Finality" "e143" -->
<a id="e143"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e143" class="eglink"><b>384</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e143" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Finality</span></b></a><br />Not mentioning UNDO in the final set of options.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e143"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example143">
<p>By default, Inform reminds the player that he has the option of typing UNDO after a story-ending action. This is generally good practice, especially for the sake of novice players who might not be aware of this possibility otherwise, and might be frustrated by a loss they could easily step back from.</p>
<p>Just occasionally, though, we may decide that the player does not deserve any such notification:</p>
<!-- START CODE "c7330_143" -->
<a id="c7330_143"></a><blockquote class="code"><p class="quoted">
&quot;Finality&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7331_143" -->
<a id="c7331_143"></a><blockquote class="code"><p class="quoted">
Cliff Edge is a room. &quot;This narrow strip overlooks a gorge many hundreds of feet deep, at whose bottom is a river of molten lava. The walls of the gorge are lined with poison-tipped spikes. Furthermore, the birds that inhabit this valley spit balls of fire. Good thing you're safe up here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The Table of Final Question Options determines what options are to be given to the player after the story ends. We can change what is mentioned there by altering the entries. (The example Jamaica 1688 explains this table in more detail, and demonstrates some other things that we might do with it.)</p>
<!-- START CODE "c7332_143" -->
<a id="c7332_143"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;choose row with a final response rule of immediately undo rule in the Table of Final Question Options;
<br />&#160;&#160;&#160;&#160;blank out the final question wording entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7333_143" -->
<a id="c7333_143"></a><blockquote class="code"><p class="quoted">
Instead of jumping:
<br />&#160;&#160;&#160;&#160;say &quot;If you insist.&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<p>And if we decided that we didn't want the player to be able to undo the command at all, we should add the use option</p>
<!-- START CODE "c7334_143" -->
<a id="c7334_143"></a><blockquote class="code"><p class="quoted">
Use undo prevention.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7335_143" -->
<a id="c7335_143"></a><blockquote class="code"><p class="quoted">
Test me with &quot;jump&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "385: Jamaica 1688" "e203" -->
<a id="e203"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e203" class="eglink"><b>385</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e203" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Jamaica 1688</span></b></a><br />Adding a feature to the final question after victory, so that the player can choose to reveal notes about items in the game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e203"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example203">
<p>The options offered to the player at the end of the game are listed in the Table of Final Question Options, which means that we can add to them simply by continuing the table; what's more, the table gives us the opportunity to create a &quot;final response rule&quot;, a rule that the game should follow in order to parse the player's input at this point.</p>
<p>So, for instance, if we wanted the player to be allowed to ask for notes about any of the rooms, characters, or objects in a historical game:</p>
<!-- START CODE "c7336_203" -->
<a id="c7336_203"></a><blockquote class="code"><p class="quoted">
&quot;Jamaica 1688&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7337_203" -->
<a id="c7337_203"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7338_203" -->
<a id="c7338_203"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7339_203" -->
<a id="c7339_203"></a><blockquote class="code"><p class="quoted">
Table of Final Question Options (continued)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">final question wording</p></td><td class="quotedtablecell"><p class="quoted">only if victorious</p></td><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">final response rule</p></td><td class="quotedtablecell"><p class="quoted">final response activity</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;REVEAL the inspiration for something or somewhere&quot;</p></td><td class="quotedtablecell"><p class="quoted">true</p></td><td class="quotedtablecell"><p class="quoted">&quot;reveal [any thing]&quot;</p></td><td class="quotedtablecell"><p class="quoted">investigate something rule</p></td><td class="quotedtablecell"><p class="quoted">--</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">--</p></td><td class="quotedtablecell"><p class="quoted">true</p></td><td class="quotedtablecell"><p class="quoted">&quot;reveal [any room]&quot;</p></td><td class="quotedtablecell"><p class="quoted">investigate something rule</p></td><td class="quotedtablecell"><p class="quoted">--</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7340_203" -->
<a id="c7340_203"></a><blockquote class="code"><p class="quoted">
This is the investigate something rule:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Footnotey Stuff:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player's command matches the topic entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[revelation entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;I'm afraid I have no revelation to vouchsafe there.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7341_203" -->
<a id="c7341_203"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7342_203" -->
<a id="c7342_203"></a><blockquote class="code"><p class="quoted">
The Upper Deck is a room. Lucius is a man in the Upper Deck.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7343_203" -->
<a id="c7343_203"></a><blockquote class="code"><p class="quoted">
The maximum score is 501.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7344_203" -->
<a id="c7344_203"></a><blockquote class="code"><p class="quoted">
When play begins: now the score is 501; end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7345_203" -->
<a id="c7345_203"></a><blockquote class="code"><p class="quoted">
Table of Footnotey Stuff
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">revelation</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;reveal [Lucius]&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Lucius is based on a historical buccaneer who sailed with William Dampier. The original did carry a Greek New Testament, from which he read aloud when the men were stranded in the jungles near Panama.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;reveal [Upper Deck]&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;The Callisto is a simplified and tidied representation of a pirate sloop ca. 1688.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "386: Xerxes" "e9" -->
<a id="e9"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e9" class="eglink"><b>386</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e9" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Xerxes</span></b></a><br />Offering the player a menu of things to read after winning the game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e9"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example9">
<p>Building a menu is moderately tedious, so we will rely on the standard menu extensions provided. Thus:</p>
<!-- START CODE "c7346_9" -->
<a id="c7346_9"></a><blockquote class="code"><p class="quoted">
&quot;Xerxes&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7347_9" -->
<a id="c7347_9"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short. Include Menus by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7348_9" -->
<a id="c7348_9"></a><blockquote class="code"><p class="quoted">
Table of Amusing Matter
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">title</p></td><td class="quotedtablecell"><p class="quoted">subtable</p></td><td class="quotedtablecell"><p class="quoted">description</p></td><td class="quotedtablecell"><p class="quoted">toggle</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Cult Revisions&quot;</p></td><td class="quotedtablecell"><p class="quoted">--</p></td><td class="quotedtablecell"><p class="quoted">&quot;Did you try... [paragraph break]  banning the worship of Seth? [line break]  of Dionysus? [line break]  assigning all your priests to Re? [line break]  assigning male priests to Cybele? [line break]  assigning married priestesses to Hestia? [line break]  identifying one god as another (e.g., Isis and Hecate)? [line break]  identifying a mortal as a god (e.g., Alexander as Helios-Apollo)?&quot;</p></td><td class="quotedtablecell"><p class="quoted">--</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Military Revisions&quot;</p></td><td class="quotedtablecell"><p class="quoted">--</p></td><td class="quotedtablecell"><p class="quoted">&quot;Did you try... [paragraph break]  allying a Greek city-state with the Persians? (try &gt;MEDIZE) [line break]  playing Athens as a land-based power?&quot;</p></td><td class="quotedtablecell"><p class="quoted">--</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7349_9" -->
<a id="c7349_9"></a><blockquote class="code"><p class="quoted">
Rule for amusing a victorious player:
<br />&#160;&#160;&#160;&#160;now the current menu is the Table of Amusing Matter;
<br />&#160;&#160;&#160;&#160;now the current menu title is &quot;Things to Try&quot;;
<br />&#160;&#160;&#160;&#160;carry out the displaying activity;
<br />&#160;&#160;&#160;&#160;clear the screen.
</p></blockquote>
<!-- END CODE -->
<p>Omitting about a half million words from this rigorous and educational but nonetheless enthralling simulation of centuries of history, culture, and religion, we will skip directly to:</p>
<!-- START CODE "c7350_9" -->
<a id="c7350_9"></a><blockquote class="code"><p class="quoted">
Athens is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7351_9" -->
<a id="c7351_9"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7352_9" -->
<a id="c7352_9"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the score is greater than 10000, end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7353_9" -->
<a id="c7353_9"></a><blockquote class="code"><p class="quoted">
When play begins: now the score is 10001.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7354_9" -->
<a id="c7354_9"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "387: Blankness" "e39" -->
<a id="e39"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_18.html#e39" class="eglink"><b>387</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18.html#e39" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Blankness</span></b></a><br />Emptying the status line during the first screen of the game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_12.html#e39"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example39">
<p>Occasionally we want to print something as our first screen and then pause the game. By default, Inform will print a rather odd status line, with &quot;You&quot; on the left side and &quot;0&quot; on the right. This is because the left hand status line is set to display the location, but (because we're not done with the when-play-begins rules) the player has not yet even been moved to a room.</p>
<p>We can tidy this up in the &quot;starting the virtual machine&quot; activity, by temporarily changing the status line content. We will not provide game-pausing code here, because that is easily done by extension; so:</p>
<!-- START CODE "c7355_39" -->
<a id="c7355_39"></a><blockquote class="code"><p class="quoted">
&quot;Blankness&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7356_39" -->
<a id="c7356_39"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7357_39" -->
<a id="c7357_39"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;take me home&quot;;
<br />&#160;&#160;&#160;&#160;wait for any key;
<br />&#160;&#160;&#160;&#160;say &quot; yeah&quot;;
<br />&#160;&#160;&#160;&#160;wait for any key;
<br />&#160;&#160;&#160;&#160;say &quot; yeah&quot;;
<br />&#160;&#160;&#160;&#160;pause the game;
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;[location]&quot;;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[turn count]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7358_39" -->
<a id="c7358_39"></a><blockquote class="code"><p class="quoted">
Before starting the virtual machine:
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;&quot;;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7359_39" -->
<a id="c7359_39"></a><blockquote class="code"><p class="quoted">
Paradise City is a room. The description of Paradise City is &quot;The grass is green and the girls are pretty.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Quite a modest effect, but occasionally useful.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
