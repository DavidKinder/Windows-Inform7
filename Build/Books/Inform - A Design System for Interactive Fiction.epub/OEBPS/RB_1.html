<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>Chapter 1: How to Use The Recipe Book</title>
</head>
<body class="paper papertint"><p class="volumeheading">Part II. The Inform Recipe Book</p>
<table class="centredtable"><tr><td><a href="RB_1.html#chapter_1_1" class="standardlink"><span class="chapterlisting">Chapter 1: How to Use The Recipe Book</span></a>&#160;&#160;&#160;</td><td><a href="RB_8.html" class="standardlink"><span class="chapterlisting">Chapter 8: Vehicles, Animals and Furniture</span></a>&#160;&#160;&#160;</td></tr><tr><td><a href="RB_2.html" class="standardlink"><span class="chapterlisting">Chapter 2: Adaptive Prose</span></a>&#160;&#160;&#160;</td><td><a href="RB_9.html" class="standardlink"><span class="chapterlisting">Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</span></a>&#160;&#160;&#160;</td></tr><tr><td><a href="RB_3.html" class="standardlink"><span class="chapterlisting">Chapter 3: Place</span></a>&#160;&#160;&#160;</td><td><a href="RB_10.html" class="standardlink"><span class="chapterlisting">Chapter 10: Physics: Substances, Ropes, Energy and Weight</span></a>&#160;&#160;&#160;</td></tr><tr><td><a href="RB_4.html" class="standardlink"><span class="chapterlisting">Chapter 4: Time and Plot</span></a>&#160;&#160;&#160;</td><td><a href="RB_11.html" class="standardlink"><span class="chapterlisting">Chapter 11: Out Of World Actions and Effects</span></a>&#160;&#160;&#160;</td></tr><tr><td><a href="RB_5.html" class="standardlink"><span class="chapterlisting">Chapter 5: The Viewpoint Character</span></a>&#160;&#160;&#160;</td><td><a href="RB_12.html" class="standardlink"><span class="chapterlisting">Chapter 12: Typography, Layout, and Multimedia Effects</span></a>&#160;&#160;&#160;</td></tr><tr><td><a href="RB_6.html" class="standardlink"><span class="chapterlisting">Chapter 6: Commands</span></a>&#160;&#160;&#160;</td><td><a href="RB_13.html" class="standardlink"><span class="chapterlisting">Chapter 13: Testing and Publishing</span></a>&#160;&#160;&#160;</td></tr><tr><td><a href="RB_7.html" class="standardlink"><span class="chapterlisting">Chapter 7: Other Characters</span></a>&#160;&#160;&#160;</td></tr></table><p></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_1.html#chapter_1_1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_1.html#chapter_1_1" class="standardlink">Start reading here: §1.1. Preface</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_1.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_1.html" class="standardlink">Part I. Writing with Inform</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples and definitions</a></td></tr>
</table><p class="chapterheading"><a id="chapter_1_1"></a>Chapter 1: How to Use The Recipe Book</p>
<p class="chaptercontents"><a href="RB_1.html#s1" class="standardlink"><span class="chaptercontentsitem">§1.1. Preface</span></a>; <a href="RB_1.html#s2" class="standardlink"><span class="chaptercontentsitem">§1.2. Acknowledgements</span></a>; <a href="RB_1.html#s3" class="standardlink"><span class="chaptercontentsitem">§1.3. Disenchantment Bay</span></a>; <a href="RB_1.html#s4" class="standardlink"><span class="chaptercontentsitem">§1.4. Information Only</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="RB_1.html" class="standardlink">Contents of <i>The Inform Recipe Book</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_2.html" class="standardlink">Chapter 2: Adaptive Prose</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§1.1. Preface</p>
<p><span class="boldface">The Inform Recipe Book</span> is one of two interlinked books included with Inform 7: a comprehensive collection of examples, showing the practical use of Inform. The other book is <span class="boldface">Writing with Inform</span>, a systematic manual for the software. If you are reading this within the Inform application, you will see that the Recipe Book pages are on &quot;yellow paper&quot;, while the manual is on &quot;white paper&quot;.</p>
<p>The Recipe Book assumes that the reader already knows the basics covered in Chapters 1 and 2 of <span class="italic">Writing with Inform</span>: enough to get simple projects working in the Inform application. It's helpful, but not necessary, to have some familiarity with the main ingredients of Inform. For instance, the reader who can play and test the following source text, and who can take a guess at what it ought to do, should be fine:</p>
<!-- START CODE "c9295" -->
<a id="c9295"></a><blockquote class="code"><p class="quoted">
&quot;The Power of the Keys&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9296" -->
<a id="c9296"></a><blockquote class="code"><p class="quoted">
Afterlife is a room. &quot;Fluffy white clouds gather round you here in the afterlife.&quot; The Pearly Gates are a door in Afterlife. &quot;The Pearly Gates - large, white, wrought-iron and splendidly monumental - stand above you.&quot; Heaven is a room. The Gates are above the Afterlife and below Heaven.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9297" -->
<a id="c9297"></a><blockquote class="code"><p class="quoted">
St Peter is a man in the Afterlife. &quot;St Peter, cheery if absent-minded, studies his celestial clipboard.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9298" -->
<a id="c9298"></a><blockquote class="code"><p class="quoted">
Before going through the Pearly Gates:
<br />&#160;&#160;&#160;&#160;say &quot;St Peter coughs disarmingly. 'If you'd read your Bible,' he says, 'you might recall Revelation 21:21 saying that the twelve gates were twelve pearls, each gate being made from a single pearl. I really don't know why people keep imagining it like the entrance to some sort of public park - oh, well. In you go.'&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9299" -->
<a id="c9299"></a><blockquote class="code"><p class="quoted">
Test me with &quot;enter gates&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The <span class="italic">Recipe Book</span> is not a tutorial - it offers advice and examples to crib from, not theory or systematic teaching. The examples here are provided with the express intention that authors cut and paste useful passages into their own works, modifying as they go. This is an excellent way to get things working quickly.</p>
<p>In the traditional saying: good programmers write good code, but great programmers steal it. (Appropriately enough, nobody seems to know who said this first.) For the avoidance of any doubt - the example text is here to be taken, and this infringes no copyright, and requires no acknowledgement. So steal at will. The examples are a part of Inform itself, and as such, they are available to anyone who accepts the Inform licence.</p>
<p>Many programming languages for conventional computing, such as C, come with elaborate libraries of ready-written code - so elaborate, in fact, that they often need much larger manuals than the language itself, and can be hard to learn. Even expert programmers typically use only a small part of what is available in such libraries, giving up on the rest as too complex to use, or too difficult to find out about, or not quite what they need.</p>
<p>The designers of Inform chose not to go down this road. Rather than providing a general system for liquids (say), which would have to be a quite complicated and opaque program, Inform provides a choice of examples showing how to get different effects. The writer can read the text which achieves these effects, and can simply cut and paste whatever might be useful, and rewrite whatever is not quite wanted.</p>
<p>The wider community of Inform writers has made a great wealth of material available in the form of Extensions, too, and under a Creative Commons Attribution licence requiring only a namecheck: we don't cover the Extensions in this book, because it would grow far too long and be a constant labour to maintain, but it's well worth seeing what is out there.</p>
<p class="crossreference"><a href="RB_1.html#s2" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Acknowledgements</b></a><i> for a chance to try out the cross-referencing links in the <span class="italic">Recipe Book</span> - click on the red asterisk or the name of the destination to go there</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_1.html#chapter_1_1" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_1.html#chapter_1_1" class="standardlink">Start of Chapter 1: How to Use The Recipe Book</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_1.html#s2" class="standardlink">Onward to §1.2. Acknowledgements</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e129" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e129" class="standardlink">Example 1: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>About the examples</b>&#160;&#160;&#160; An explanation of the examples in this documentation, and the asterisks attached to them. Click the heading of the example, or the example number, to reveal the text.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e249" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e249" class="standardlink">Example 12: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Midsummer Day</b>&#160;&#160;&#160; A few sentences laying out a garden together with some things which might be found in it.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§1.2. Acknowledgements</p>
<p>David Fisher's &quot;Past raif topics&quot; pages on the Interactive Fiction Wiki were an invaluable tool during the early design of these examples, as they catalog an enormous assortment of implementation problems encountered by IF authors over the past fifteen years.</p>
<p>Thanks also go to Nick Montfort for several conversations during the development of Inform: these inspired a number of ideas about how the author should be able to control the textual output of a story, and suggested specific problem areas to work on.</p>
<p>Jeff Nyman provided extensive feedback about using <span class="italic">Writing with Inform</span> in workshops of aspiring IF authors from both programming and conventional fiction writing backgrounds. His observations about the concerns of conventional writers first encountering IF were especially useful, and had a great influence on the  organization of the <span class="italic">Recipe Book</span>. While the results may not meet all the needs he identified, we hope to have taken a step in the right direction.</p>
<p>A few examples were contributed by denizens of rec.arts.int-fiction: Jesse McGrew, Jon Ingold, Mike Tarbert, Eric Rossing, and Kate McKee offered such elegant implementations of various tasks that we have folded their contributions (with permission) into the <span class="italic">Recipe Book</span>.</p>
<p>Finally, these pages owe much to the questions and suggestions of Inform users on rec.arts.int-fiction and ifMUD.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_1.html#chapter_1_1" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_1.html#chapter_1_1" class="standardlink">Start of Chapter 1: How to Use The Recipe Book</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_1.html#s1" class="standardlink">Back to §1.1. Preface</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_1.html#s3" class="standardlink">Onward to §1.3. Disenchantment Bay</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§1.3. Disenchantment Bay</p>
<p>&quot;Disenchantment Bay&quot; is a simple work of IF used as a running example in Chapter 3 of <span class="italic">Writing with Inform</span> - not so much a tutorial as a convenient hook on which to hang some demonstrations of the basics. Because the resulting examples only use basic features and in the most straightforward way, they make for uninteresting &quot;recipes&quot; - so they are not included in the <span class="italic">Recipe Book</span> proper. But some readers might like to have all twelve stages of the example gathered on a single page: this is that page.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_1.html#chapter_1_1" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_1.html#chapter_1_1" class="standardlink">Start of Chapter 1: How to Use The Recipe Book</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_1.html#s2" class="standardlink">Back to §1.2. Acknowledgements</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_1.html#s4" class="standardlink">Onward to §1.4. Information Only</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e48" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e48" class="standardlink">Example 14: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 1</b>&#160;&#160;&#160; A running example in this chapter, Disenchantment Bay, involves chartering a boat. This is the first step: creating the cabin.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e51" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e51" class="standardlink">Example 15: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 2</b>&#160;&#160;&#160; Disenchantment Bay: creating some of the objects in the cabin's description.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e52" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e52" class="standardlink">Example 17: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 3</b>&#160;&#160;&#160; Disenchantment Bay: adding a view of the glacier.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e53" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e53" class="standardlink">Example 18: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 4</b>&#160;&#160;&#160; Disenchantment Bay: fleshing out the descriptions of things on the boat.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e54" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e54" class="standardlink">Example 20: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 5</b>&#160;&#160;&#160; Disenchantment Bay: adding the door and the deck to our charter boat.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e55" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e55" class="standardlink">Example 23: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 6</b>&#160;&#160;&#160; Disenchantment Bay: locking up the charter boat's fishing rods.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e56" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e56" class="standardlink">Example 25: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 7</b>&#160;&#160;&#160; Disenchantment Bay: making the radar and instruments switch on and off.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e58" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e58" class="standardlink">Example 30: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 9</b>&#160;&#160;&#160; Disenchantment Bay: enter the charter boat's Captain.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e49" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e49" class="standardlink">Example 33: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 10</b>&#160;&#160;&#160; Disenchantment Bay: things for the player and the characters to wear and carry.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e50" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e50" class="standardlink">Example 34: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 11</b>&#160;&#160;&#160; Disenchantment Bay: making a holdall of the backpack.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e57" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e57" class="standardlink">Example 28: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 8</b>&#160;&#160;&#160; Disenchantment Bay: a pushable chest of ice for the boat.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e74" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e74" class="standardlink">Example 37: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Disenchantment Bay 12</b>&#160;&#160;&#160; A final trip to Disenchantment Bay: the scenario turned into a somewhat fuller scene, with various features that have not yet been explained.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§1.4. Information Only</p>
<p>One last preliminary: a handful of the examples do not show how to do anything at all, but are really sidebars of information. Those examples are gathered below, since they contribute nothing by way of recipes.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_1.html#chapter_1_1" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_1.html#chapter_1_1" class="standardlink">Start of Chapter 1: How to Use The Recipe Book</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_1.html#s3" class="standardlink">Back to §1.3. Disenchantment Bay</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_2.html#s1" class="standardlink">Onward to Chapter 2: Adaptive Prose: §2.1. Varying What Is Written</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e319" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e319" class="standardlink">Example 415: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>About Inform's regular expression support</b>&#160;&#160;&#160; Some footnotes on Inform's regular expressions, and how they compare to those of other programming languages.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e175" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e175" class="standardlink">Example 223: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Formal syntax of sentences</b>&#160;&#160;&#160; A more formal description of the sentence grammar used by Inform for both assertions and conditions.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e240" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e240" class="standardlink">Example 243: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Mathematical view of relations</b>&#160;&#160;&#160; Some notes on relations from a mathematical point of view, provided only to clarify some technicalities for those who are interested.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e241" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e241" class="standardlink">Example 244: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Graph-theory view of relations</b>&#160;&#160;&#160; Some notes on relations from the point of view of graph theory.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_1.html#e42" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_1.html#e42" class="standardlink">Example 399: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Backus-Naur form for rules</b>&#160;&#160;&#160; The full grammar Inform uses to parse rule definitions, in a standard computer-science notation.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 1: How to Use The Recipe Book</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_1.html#chapter_1_1" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_1.html#chapter_1_1" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_2.html" class="standardlink">Chapter 2: Adaptive Prose</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "1: About the examples" "e129" -->
<a id="e129"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e129" class="eglink"><b>1</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e129" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">About the examples</span></b></a><br />An explanation of the examples in this documentation, and the asterisks attached to them. Click the heading of the example, or the example number, to reveal the text.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_1.html#e129"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example129">
<p>This is the first of about 400 numbered examples. In a few cases, such as this one, they provide a little background information, but almost all demonstrate Inform source text. The techniques demonstrated tend to be included either because they are frequently asked for, or because they show how to achieve some interesting effect.</p>
<p>The same examples are included in <span class="boldface">both</span> of the books of documentation, but in a different order: in <span class="italic">Writing with Inform</span>, they appear near the techniques used to make them work; in <span class="italic">The Inform Recipe Book</span>, they are grouped by the effects they provide. For instance, an example called &quot;Do Pass Go&quot;, about the throwing of a pair of dice, appears in the &quot;Randomness&quot; section of <span class="italic">Writing with Inform</span> and also in the &quot;Dice and Playing Cards&quot; section of <span class="italic">The Inform Recipe Book</span>. Clicking the italicised WI and RB buttons at the right-hand side of an example's heading switches between its position in each book.</p>
<p>Many computing books quote excerpts from programs, but readers have grown wary of them: they are tiresome to type in, and may only be fragments, or may not ever have been tested. The authors of Inform have tried to avoid this. All but two dozen examples contain entire source texts. A single click on the paste icon <img alt="paste.png" src="images/paste.png" /> (always placed just left of the double-quoted title) will write the complete source text into the Source panel. All that is then required is to click the Go button, and the example should translate into a working game.</p>
<p>In most cases, typing the single command TEST ME will play through a few moves to show off the effect being demonstrated. (You may find it convenient to create a &quot;scratch&quot; project file for temporary trials like this, clearing all its text and starting again with each new test.)</p>
<p>As part of the testing process which verifies a new build of Inform, each example in turn is extracted from this documentation, translated, played through, and the resulting transcript mechanically checked. So the examples may even work as claimed. But the flesh is weak, and there are bound to be glitches. We would welcome reports, so that future editions can be corrected.</p>
<p>Each example is loosely graded by difficulty: if they were exercises in a textbook, the asterisks would indicate how many marks each question scores. As a general rule:</p>
<!-- START CODE "c9300_129" -->
<a id="c9300_129"></a><blockquote class="code"><p class="quoted">
<img alt="asterisk.png" src="images/asterisk.png" /> - A simple example, fairly easily guessed.
<br /><img alt="asterisk.png" src="images/asterisk.png" /> <img alt="asterisk.png" src="images/asterisk.png" /> - A complicated or surprising example.
<br /><img alt="asterisk.png" src="images/asterisk.png" /> <img alt="asterisk.png" src="images/asterisk.png" /> <img alt="asterisk.png" src="images/asterisk.png" /> - An example needing detailed knowledge of many aspects of the system.
<br /><img alt="asterisk.png" src="images/asterisk.png" /> <img alt="asterisk.png" src="images/asterisk.png" /> <img alt="asterisk.png" src="images/asterisk.png" /> <img alt="asterisk.png" src="images/asterisk.png" /> - A complete scenario, containing material not necessarily relevant to the topic being demonstrated.
</p></blockquote>
<!-- END CODE -->
<p>In general, the main text of <span class="italic">Writing with Inform</span> tries never to assume knowledge of material which has not yet appeared, but the trickier examples almost always need to break this rule.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "12: Midsummer Day" "e249" -->
<a id="e249"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e249" class="eglink"><b>12</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e249" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Midsummer Day</span></b></a><br />A few sentences laying out a garden together with some things which might be found in it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e249"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example249">
<!-- START CODE "c9301_249" -->
<a id="c9301_249"></a><blockquote class="code"><p class="quoted">
&quot;Midsummer Day&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9302_249" -->
<a id="c9302_249"></a><blockquote class="code"><p class="quoted">
East of the Garden is the Gazebo. Above is the Treehouse. A billiards table is in the Gazebo. On it is a trophy cup. A starting pistol is in the cup. In the Treehouse is a container called a cardboard box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9303_249" -->
<a id="c9303_249"></a><blockquote class="code"><p class="quoted">
Test me with &quot;up / x box / d / e / x table / x cup / x pistol / get cup&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "14: Disenchantment Bay 1" "e48" -->
<a id="e48"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e48" class="eglink"><b>14</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e48" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 1</span></b></a><br />A running example in this chapter, Disenchantment Bay, involves chartering a boat. This is the first step: creating the cabin.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e48"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example48">
<p>To begin with the title:</p>
<!-- START CODE "c9304_48" -->
<a id="c9304_48"></a><blockquote class="code"><p class="quoted">
&quot;Disenchantment Bay&quot;
</p></blockquote>
<!-- END CODE -->
<p>There are many Disenchantment Bays across the world, named by eighteenth-century ships' captains - one in Antarctica, another in Tasmania, for instance. The most famous is probably the one where Lewis and Clark's expedition broke through to the Pacific. But ours is the one in Alaska, named in 1791 by a Spanish navigator who had hoped it might lead to the fabled Northwest Passage, and all of this history is beside the point since the game is set in the present day.</p>
<!-- START CODE "c9305_48" -->
<a id="c9305_48"></a><blockquote class="code"><p class="quoted">
The Cabin is a room.  &quot;The front of the small cabin is entirely occupied with navigational instruments, a radar display, and radios for calling back to shore. Along each side runs a bench with faded blue vinyl cushions, which can be lifted to reveal the storage space underneath. A glass case against the wall contains several fishing rods.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9306_48" -->
<a id="c9306_48"></a><blockquote class="code"><p class="quoted">
Scratched windows offer a view of the surrounding bay, and there is a door south to the deck. A sign taped to one wall announces the menu of tours offered by the Yakutat Charter Boat Company.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We might want to start with the glass case.</p>
<!-- START CODE "c9307_48" -->
<a id="c9307_48"></a><blockquote class="code"><p class="quoted">
The Cabin contains a glass case. In the glass case is a collection of fishing rods.
</p></blockquote>
<!-- END CODE -->
<p>Now Inform will have guessed that the case is a container, but its default idea of a container is something like a bucket: permanently open and not able to be opened and shut. We can change that:</p>
<!-- START CODE "c9308_48" -->
<a id="c9308_48"></a><blockquote class="code"><p class="quoted">
The case is closed, transparent, and openable.
</p></blockquote>
<!-- END CODE -->
<p>We get a similar set of guesses if we write</p>
<!-- START CODE "c9309_48" -->
<a id="c9309_48"></a><blockquote class="code"><p class="quoted">
The bench is in the cabin. On the bench are some blue vinyl cushions.
</p></blockquote>
<!-- END CODE -->
<p>Using &quot;some&quot; rather than &quot;a&quot; or &quot;the&quot; tells Inform that the cushions are to be referred to as a plural object in the future. And because of the &quot;on the bench...&quot; phrase, Inform will guess that the bench is a supporter and that it is fixed in place and cannot be moved from room to room. We do have to tell it that the bench can be sat on, though:</p>
<!-- START CODE "c9310_48" -->
<a id="c9310_48"></a><blockquote class="code"><p class="quoted">
The bench is enterable.
</p></blockquote>
<!-- END CODE -->
<p>And now a short script, so that if we type TEST ME, we experiment with the case and bench:</p>
<!-- START CODE "c9311_48" -->
<a id="c9311_48"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine case / get rods / open case / get rods / sit on bench / take cushions / get up&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "15: Disenchantment Bay 2" "e51" -->
<a id="e51"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e51" class="eglink"><b>15</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e51" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 2</span></b></a><br />Disenchantment Bay: creating some of the objects in the cabin's description.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e51"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example51">
<p>If we compile our last version of the cabin, we get a room where the glass case and the bench are listed separately from the room description, even though they have already been mentioned once. We can prevent this by making the already-mentioned things scenery:</p>
<!-- START CODE "c9312_51" -->
<a id="c9312_51"></a><blockquote class="code"><p class="quoted">
&quot;Disenchantment Bay&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9313_51" -->
<a id="c9313_51"></a><blockquote class="code"><p class="quoted">
The Cabin is a room.  &quot;The front of the small cabin is entirely occupied with navigational instruments, a radar display, and radios for calling back to shore. Along each side runs a bench with faded blue vinyl cushions, which can be lifted to reveal the storage space underneath. A glass case against the wall contains several fishing rods.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9314_51" -->
<a id="c9314_51"></a><blockquote class="code"><p class="quoted">
Scratched windows offer a view of the surrounding bay, and there is a door south to the deck. A sign taped to one wall announces the menu of tours offered by the Yakutat Charter Boat Company.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9315_51" -->
<a id="c9315_51"></a><blockquote class="code"><p class="quoted">
The Cabin contains a glass case. In the glass case is a collection of fishing rods. The case is closed, transparent, and openable. The case is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9316_51" -->
<a id="c9316_51"></a><blockquote class="code"><p class="quoted">
The bench is in the cabin. On the bench are some blue vinyl cushions. The bench is enterable and scenery. The cushions are scenery.
</p></blockquote>
<!-- END CODE -->
<p>Generally speaking, it is a good idea to recognize the player's attempts to interact with any objects mentioned in the room description, so we should also provide</p>
<!-- START CODE "c9317_51" -->
<a id="c9317_51"></a><blockquote class="code"><p class="quoted">
Some navigational instruments, some scratched windows, a sign, a radar display, and some radios are scenery in the cabin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9318_51" -->
<a id="c9318_51"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine instruments / x windows / x sign / x display / x radios&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The door and the view will need to be done as well, but they are special cases which we will get to shortly.</p>
<p>As noted, making something scenery also means that the player will be prevented from picking it up and carrying it away. This is sensible, though: if an object can be removed from the room where it first appears, we should be careful about mentioning it in the main room description; otherwise, it will continue to be described as present even when someone has carried it off.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "17: Disenchantment Bay 3" "e52" -->
<a id="e52"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e52" class="eglink"><b>17</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e52" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 3</span></b></a><br />Disenchantment Bay: adding a view of the glacier.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e52"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example52">
<p>Suppose we wanted to have the glacier visible from the Cabin of our boat, and anywhere else we might add to the game:</p>
<!-- START CODE "c9319_52" -->
<a id="c9319_52"></a><blockquote class="code"><p class="quoted">
The view of the Malaspina glacier is a backdrop. It is everywhere. The description is &quot;The Malaspina glacier covers much of the nearby slope, and -- beyond it -- an area as large as Rhode Island.&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "18: Disenchantment Bay 4" "e53" -->
<a id="e53"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e53" class="eglink"><b>18</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e53" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 4</span></b></a><br />Disenchantment Bay: fleshing out the descriptions of things on the boat.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e53"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example53">
<p>Currently we have provided objects for most of what is on the boat, but it's not very interesting to look at. We might want to give some more description to these things.</p>
<!-- START CODE "c9320_53" -->
<a id="c9320_53"></a><blockquote class="code"><p class="quoted">
&quot;Disenchantment Bay&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9321_53" -->
<a id="c9321_53"></a><blockquote class="code"><p class="quoted">
The Cabin is a room.  &quot;The front of the small cabin is entirely occupied with navigational instruments, a radar display, and radios for calling back to shore. Along each side runs a bench with faded blue vinyl cushions, which can be lifted to reveal the storage space underneath. A glass case against the wall contains several fishing rods.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9322_53" -->
<a id="c9322_53"></a><blockquote class="code"><p class="quoted">
Scratched windows offer a view of the surrounding bay, and there is a door south to the deck. A sign taped to one wall announces the menu of tours offered by the Yakutat Charter Boat Company.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9323_53" -->
<a id="c9323_53"></a><blockquote class="code"><p class="quoted">
The Cabin contains a glass case. In the glass case is a collection of fishing rods. The case is closed, transparent, and openable. The case is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9324_53" -->
<a id="c9324_53"></a><blockquote class="code"><p class="quoted">
The bench is in the cabin. On the bench are some blue vinyl cushions. The bench is enterable and scenery. The cushions are scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9325_53" -->
<a id="c9325_53"></a><blockquote class="code"><p class="quoted">
Some navigational instruments, some scratched windows, a radar display, and some radios are scenery in the cabin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9326_53" -->
<a id="c9326_53"></a><blockquote class="code"><p class="quoted">
The description of the instruments is &quot;Knowing what they do is the Captain's job.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9327_53" -->
<a id="c9327_53"></a><blockquote class="code"><p class="quoted">
The description of the windows is &quot;They're a bit the worse for wear, but you can still get an impressive view of the glacier through them. There were whales earlier, but they're gone now.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9328_53" -->
<a id="c9328_53"></a><blockquote class="code"><p class="quoted">
The description of the radar is &quot;Apparently necessary to avoid the larger icebergs.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9329_53" -->
<a id="c9329_53"></a><blockquote class="code"><p class="quoted">
The description of the radios is &quot;With any luck you will not need to radio for help, but it is reassuring that these things are here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The order in which we define these things is fairly open. We could also define an object so:</p>
<!-- START CODE "c9330_53" -->
<a id="c9330_53"></a><blockquote class="code"><p class="quoted">
A sign is scenery in the Cabin. The description is &quot;You can get half-day and full-day sight-seeing tours, and half-day and full-day fishing trips.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Where &quot;the description&quot; is assumed to refer to the thing most recently defined, if no object is specified.</p>
<!-- START CODE "c9331_53" -->
<a id="c9331_53"></a><blockquote class="code"><p class="quoted">
The view of the Malaspina glacier is a backdrop. It is everywhere. The description is &quot;The Malaspina glacier covers much of the nearby slope, and -- beyond it -- an area as large as Rhode Island.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9332_53" -->
<a id="c9332_53"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine sign / examine glacier / examine instruments / examine windows / examine radar / examine radios / take the cushions / take the glacier&quot;.
</p></blockquote>
<!-- END CODE -->
<p>These last two commands show how scenery and backdrops are automatically impossible for the player to take.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "20: Disenchantment Bay 5" "e54" -->
<a id="e54"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e54" class="eglink"><b>20</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e54" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 5</span></b></a><br />Disenchantment Bay: adding the door and the deck to our charter boat.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e54"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example54">
<p>We mentioned that there is a door out to the deck in our example. The following two sentences will create both the door and the other room:</p>
<!-- START CODE "c9333_54" -->
<a id="c9333_54"></a><blockquote class="code"><p class="quoted">
The cabin door is south of the Cabin and north of the Deck. It is a door and scenery.
</p></blockquote>
<!-- END CODE -->
<p>Now Inform has constructed a generic room called &quot;Deck&quot; to the south. It has neither a description nor any contents yet, but we could fix that in time. It does have a view of the glacier, though, since we defined the glacier view to be everywhere.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "23: Disenchantment Bay 6" "e55" -->
<a id="e55"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e55" class="eglink"><b>23</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e55" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 6</span></b></a><br />Disenchantment Bay: locking up the charter boat's fishing rods.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e55"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example55">
<p>It stands to reason that the captain wouldn't let just anyone meddle with his fishing equipment; maybe he keeps that case locked. We could replace the case description with this one, instead:</p>
<!-- START CODE "c9334_55" -->
<a id="c9334_55"></a><blockquote class="code"><p class="quoted">
The Cabin contains a glass case. In the glass case is a collection of fishing rods. The case is closed, transparent, openable, lockable, and locked. The case is scenery. The small silver key unlocks the case.
</p></blockquote>
<!-- END CODE -->
<p>Now there's a silver key that will unlock it -- though since we haven't said where the key is, the player will never be able to find it in the game. (If we look at the World index, we find &quot;small silver key&quot; right at the bottom, not inside any of the rooms. That is as good as not existing at all -- though we usually use the term &quot;out of play&quot; -- but as we will later see, it is possible to have things initially out of play but brought into existence later on.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "25: Disenchantment Bay 7" "e56" -->
<a id="e56"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e56" class="eglink"><b>25</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e56" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 7</span></b></a><br />Disenchantment Bay: making the radar and instruments switch on and off.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e56"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example56">
<p>If we would like the player to be able to turn instrumentation on and off, we could add a line to this effect:</p>
<!-- START CODE "c9335_56" -->
<a id="c9335_56"></a><blockquote class="code"><p class="quoted">
The radar, the instruments, and the radios are devices.
</p></blockquote>
<!-- END CODE -->
<p>And since the captain is probably not navigating blind, we might also want to say</p>
<!-- START CODE "c9336_56" -->
<a id="c9336_56"></a><blockquote class="code"><p class="quoted">
The radar and the instruments are switched on.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "30: Disenchantment Bay 9" "e58" -->
<a id="e58"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e58" class="eglink"><b>30</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e58" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 9</span></b></a><br />Disenchantment Bay: enter the charter boat's Captain.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e58"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example58">
<p>Now finally we can put a Captain in the boat:</p>
<!-- START CODE "c9337_58" -->
<a id="c9337_58"></a><blockquote class="code"><p class="quoted">
The Captain is a man in the Cabin. &quot;The captain sits at the wheel, steering the boat and occasionally checking the radar readout.&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "33: Disenchantment Bay 10" "e49" -->
<a id="e49"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e49" class="eglink"><b>33</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e49" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 10</span></b></a><br />Disenchantment Bay: things for the player and the characters to wear and carry.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e49"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example49">
<p>At this point we can dress both the Captain and the player with some appropriate props:</p>
<!-- START CODE "c9338_49" -->
<a id="c9338_49"></a><blockquote class="code"><p class="quoted">
The captain wears a baseball cap. The description of the cap is &quot;It says, THE WORST DAY FISHING IS BETTER THAN THE BEST DAY WORKING.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9339_49" -->
<a id="c9339_49"></a><blockquote class="code"><p class="quoted">
The player is carrying a backpack and a bottle of water. The player is wearing a pair of sunglasses. The description of the sunglasses is &quot;The light off the water and the ice does get pretty bright sometimes.&quot;
</p></blockquote>
<!-- END CODE -->
<p>(At present the backpack can't be worn, but see the next version.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "34: Disenchantment Bay 11" "e50" -->
<a id="e50"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e50" class="eglink"><b>34</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e50" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 11</span></b></a><br />Disenchantment Bay: making a holdall of the backpack.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e50"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example50">
<p>If we wanted, we could make the player's backpack infinitely capacious, so:</p>
<!-- START CODE "c9340_50" -->
<a id="c9340_50"></a><blockquote class="code"><p class="quoted">
The backpack is a player's holdall.
</p></blockquote>
<!-- END CODE -->
<p>...And now whenever the player character is unable to hold everything, he will automatically stow some of his possessions therein.</p>
<p>This is only useful if the player doesn't have infinite carrying capacity himself, so perhaps we also need</p>
<!-- START CODE "c9341_50" -->
<a id="c9341_50"></a><blockquote class="code"><p class="quoted">
The carrying capacity of the player is 3.
</p></blockquote>
<!-- END CODE -->
<p>Perhaps mercifully, items which are worn are not counted against the player's carrying capacity. We might want to let him take advantage of that, too:</p>
<!-- START CODE "c9342_50" -->
<a id="c9342_50"></a><blockquote class="code"><p class="quoted">
The backpack is wearable.
</p></blockquote>
<!-- END CODE -->
<p>This capacity system makes a compromise between the realistic and the absurd: on the one hand, it acknowledges that people can't carry an infinite number of items in their hands, while at the same time providing a sack that can.</p>
<p>Many games will have no use for object-juggling of this kind at all; others will want to be much more rigorous about questions of capacity and volume. Fortunately, it is easy to leave the whole business out by assigning no carrying capacity to anything.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "28: Disenchantment Bay 8" "e57" -->
<a id="e57"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e57" class="eglink"><b>28</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e57" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 8</span></b></a><br />Disenchantment Bay: a pushable chest of ice for the boat.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e57"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example57">
<p>We probably do not need a vehicle to ride around our boat, but there might be a heavy ice chest that can only be pushed from room to room:</p>
<!-- START CODE "c9343_57" -->
<a id="c9343_57"></a><blockquote class="code"><p class="quoted">
The ice chest is a closed openable container in the Deck. &quot;A very heavy ice chest sits on the ground.&quot; It is fixed in place and pushable between rooms. A quantity of ice is in the chest. The description is &quot;Ready and waiting just in case there's any fish needing to be kept cool.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This anticipates a later chapter, but it would probably be a good idea to hint to the player, if he tries to take the ice chest, that there is another way to move it:</p>
<!-- START CODE "c9344_57" -->
<a id="c9344_57"></a><blockquote class="code"><p class="quoted">
Instead of taking the chest: say &quot;It's too heavy to lift, but you might be able to push it, and just inch it over the frame of the door.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Otherwise, attempts to pick it up will just reply with &quot;That's fixed in place.&quot;</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "37: Disenchantment Bay 12" "e74" -->
<a id="e74"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e74" class="eglink"><b>37</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e74" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 12</span></b></a><br />A final trip to Disenchantment Bay: the scenario turned into a somewhat fuller scene, with various features that have not yet been explained.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e74"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example74">
<!-- START CODE "c9345_74" -->
<a id="c9345_74"></a><blockquote class="code"><p class="quoted">
&quot;Disenchantment Bay&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9346_74" -->
<a id="c9346_74"></a><blockquote class="code"><p class="quoted">
Include Locksmith by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9347_74" -->
<a id="c9347_74"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9348_74" -->
<a id="c9348_74"></a><blockquote class="code"><p class="quoted">
The Cabin is a room.  &quot;The front of the small cabin is entirely occupied with navigational instruments, a radar display, and radios for calling back to shore. Along each side runs a bench with faded blue vinyl cushions[if the compartment is closed], which can be lifted to reveal the storage space underneath[otherwise], one of which is currently lifted to allow access to the storage compartment within[end if]. A glass case against the wall contains several fishing rods.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9349_74" -->
<a id="c9349_74"></a><blockquote class="code"><p class="quoted">
Scratched windows offer a view of the surrounding bay, and there is a door south to the deck. A sign taped to one wall announces the menu of tours offered by the Yakutat Charter Boat Company.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9350_74" -->
<a id="c9350_74"></a><blockquote class="code"><p class="quoted">
The Cabin contains a glass case. In the glass case is a collection of fishing rods. Understand &quot;rod&quot; as the collection. The case is closed, transparent, openable, lockable, and locked. The case is scenery. The small silver key unlocks the case.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9351_74" -->
<a id="c9351_74"></a><blockquote class="code"><p class="quoted">
The bench is in the cabin. On the bench are some blue vinyl cushions. The bench is enterable and scenery. The cushions are scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9352_74" -->
<a id="c9352_74"></a><blockquote class="code"><p class="quoted">
A storage compartment is an openable closed container. It is part of the bench. Instead of opening the bench, try opening the storage compartment. Instead of closing the bench, try closing the storage compartment. Instead of pushing or pulling or turning the cushions, try opening the storage compartment. Understand &quot;space&quot; as the storage compartment.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9353_74" -->
<a id="c9353_74"></a><blockquote class="code"><p class="quoted">
Some nets and a Coke are in the compartment. Understand &quot;net&quot; as the nets. The description of the nets is &quot;They must have something to do with fish as well. Really, you're just here for the sights.&quot; The nets are a container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9354_74" -->
<a id="c9354_74"></a><blockquote class="code"><p class="quoted">
Some navigational instruments, some scratched windows, a radar display, and some radios are scenery in the cabin. The radar, the instruments, and the radios are devices. The radar and the instruments are switched on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9355_74" -->
<a id="c9355_74"></a><blockquote class="code"><p class="quoted">
A screen is part of the radar. The description of the screen is &quot;[if the radar is switched on]Phantom lights move across the screen.[otherwise]The screen is dark.[end if]&quot;. Instead of doing something other than examining to the screen, say &quot;It's not good for much but looking at.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9356_74" -->
<a id="c9356_74"></a><blockquote class="code"><p class="quoted">
The Captain is a man in the Cabin. &quot;The captain sits at the wheel, steering the boat and occasionally checking the radar readout.&quot; The captain wears a baseball cap. The description of the cap is &quot;It says, THE WORST DAY FISHING IS BETTER THAN THE BEST DAY WORKING.&quot; The captain carries the silver key. The description of the captain is &quot;[The captain] is wearing [a list of things worn by the captain][if the captain carries something] and carrying [a list of things carried by the captain][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9357_74" -->
<a id="c9357_74"></a><blockquote class="code"><p class="quoted">
The description of the instruments is &quot;Knowing what they do is the Captain's job.&quot; Instead of doing something other than examining to the instruments in the presence of the Captain: say &quot;The Captain glares at you. Clearly you are not welcome to do that.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9358_74" -->
<a id="c9358_74"></a><blockquote class="code"><p class="quoted">
The description of the windows is &quot;They're a bit the worse for wear, but you can still get an impressive view of the glacier through them. There were whales earlier, but they're gone now.&quot; Understand &quot;window&quot; as the windows.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9359_74" -->
<a id="c9359_74"></a><blockquote class="code"><p class="quoted">
The description of the radar is &quot;Apparently necessary to avoid the larger icebergs.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9360_74" -->
<a id="c9360_74"></a><blockquote class="code"><p class="quoted">
The description of the radios is &quot;With any luck you will not need to radio for help, but it is reassuring that these things are here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9361_74" -->
<a id="c9361_74"></a><blockquote class="code"><p class="quoted">
A sign is scenery in the Cabin. The description is &quot;You can get half-day and full-day sight-seeing tours, and half-day and full-day fishing trips.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9362_74" -->
<a id="c9362_74"></a><blockquote class="code"><p class="quoted">
The view of the Malaspina glacier is a backdrop. It is everywhere. The description is &quot;The Malaspina glacier covers much of the nearby slope, and -- beyond it -- an area as large as Rhode Island.&quot; Understand &quot;view of the surrounding bay&quot; or &quot;surrounding bay&quot; as the view.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9363_74" -->
<a id="c9363_74"></a><blockquote class="code"><p class="quoted">
The cabin door is south of the Cabin and north of the Deck. It is a door and scenery. The description of the Deck is &quot;The whole back half of the boat is open, allowing you to view the surroundings without intervening windows -- if you can stand the cold.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9364_74" -->
<a id="c9364_74"></a><blockquote class="code"><p class="quoted">
The ice chest is a closed openable container in the Deck. &quot;A very heavy ice chest sits on the ground.&quot; It is fixed in place and pushable between rooms.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9365_74" -->
<a id="c9365_74"></a><blockquote class="code"><p class="quoted">
A quantity of ice is in the Deck. &quot;All around the boat bob chunks of glacier ice.&quot; Understand &quot;glacier ice&quot; as the quantity. The description is &quot;Curiously cooled into funny-shaped chunks.&quot; The printed name of the quantity is &quot;glacier ice&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9366_74" -->
<a id="c9366_74"></a><blockquote class="code"><p class="quoted">
Instead of taking the quantity of ice when the player is not carrying the nets:
<br />&#160;&#160;&#160;&#160;if the quantity of ice is handled, continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;You are having a hard time fishing out the ice with your bare hands.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9367_74" -->
<a id="c9367_74"></a><blockquote class="code"><p class="quoted">
Instead of taking the quantity of ice when the player is carrying the nets:
<br />&#160;&#160;&#160;&#160;if the quantity of ice is handled or the quantity of ice is in the nets, continue the action;
<br />&#160;&#160;&#160;&#160;now the quantity of ice is in the nets;
<br />&#160;&#160;&#160;&#160;say &quot;You scoop up the ice with the net.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9368_74" -->
<a id="c9368_74"></a><blockquote class="code"><p class="quoted">
Instead of taking the chest: say &quot;It's too heavy to lift, but you might be able to push it, and just inch it over the frame of the door.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9369_74" -->
<a id="c9369_74"></a><blockquote class="code"><p class="quoted">
The player is carrying a backpack. The player is wearing a pair of sunglasses. The description of the sunglasses is &quot;The light off the water and the ice does get pretty bright sometimes.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9370_74" -->
<a id="c9370_74"></a><blockquote class="code"><p class="quoted">
The backpack is a player's holdall. The carrying capacity of the player is 3. The backpack is wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9371_74" -->
<a id="c9371_74"></a><blockquote class="code"><p class="quoted">
Instead of asking the Captain for the key:
<br />&#160;&#160;&#160;&#160;say &quot;'Sure, you can -- well, get me a drink first, would you?'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9372_74" -->
<a id="c9372_74"></a><blockquote class="code"><p class="quoted">
Instead of asking the Captain for the key when the Captain is carrying a cold Coke and the Captain is carrying the key:
<br />&#160;&#160;&#160;&#160;move the key to the player;
<br />&#160;&#160;&#160;&#160;say &quot;'Here, knock yourself out.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9373_74" -->
<a id="c9373_74"></a><blockquote class="code"><p class="quoted">
Instead of asking the Captain for the key when the Captain is not carrying the key: say &quot;'I already gave it to you. You didn't lose it, did you?'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9374_74" -->
<a id="c9374_74"></a><blockquote class="code"><p class="quoted">
Heat is a kind of value. The heats are cold, cool, room temperature, and warm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9375_74" -->
<a id="c9375_74"></a><blockquote class="code"><p class="quoted">
A beverage is a kind of thing. A beverage can be open or closed. A beverage can be openable or unopenable. A beverage is always edible and openable. A beverage has a heat. A beverage is usually warm. The Coke is a beverage. The beer is a beverage. The beer is in the backpack.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9376_74" -->
<a id="c9376_74"></a><blockquote class="code"><p class="quoted">
Instead of giving or showing a beer to the Captain:
<br />&#160;&#160;&#160;&#160;say &quot;'I don't drink on the job, thanks,' he says. 'You can help yourself if you want it, though.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9377_74" -->
<a id="c9377_74"></a><blockquote class="code"><p class="quoted">
Instead of giving or showing a Coke to the Captain:
<br />&#160;&#160;&#160;&#160;say &quot;'It needs chilling,' the Captain remarks, disgruntled.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9378_74" -->
<a id="c9378_74"></a><blockquote class="code"><p class="quoted">
Instead of giving or showing a cold Coke to the Captain:
<br />&#160;&#160;&#160;&#160;move the Coke to the Captain;
<br />&#160;&#160;&#160;&#160;increase the score by 2;
<br />&#160;&#160;&#160;&#160;say &quot;'Ah, thank you,' he says. How he can drink an iced soda on a day like today is an open question, but Alaskans are special.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9379_74" -->
<a id="c9379_74"></a><blockquote class="code"><p class="quoted">
Every turn when the quantity of ice is in the ice chest:
<br />&#160;&#160;&#160;&#160;repeat with item running through beverages in the ice chest:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the current heat be the heat of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current heat is not cold, now the heat of the item is the heat before the current heat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9380_74" -->
<a id="c9380_74"></a><blockquote class="code"><p class="quoted">
Before printing the name of a beverage (called the drink):
<br />&#160;&#160;&#160;&#160;say &quot;[heat of the drink] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9381_74" -->
<a id="c9381_74"></a><blockquote class="code"><p class="quoted">
Understand the heat property as describing a beverage.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9382_74" -->
<a id="c9382_74"></a><blockquote class="code"><p class="quoted">
The maximum score is 5.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9383_74" -->
<a id="c9383_74"></a><blockquote class="code"><p class="quoted">
After taking the fishing rods:
<br />&#160;&#160;&#160;&#160;end the story finally;
<br />&#160;&#160;&#160;&#160;increase the score by 3;
<br />&#160;&#160;&#160;&#160;say &quot;Success is yours! (Now if only you knew anything about fishing.)&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9384_74" -->
<a id="c9384_74"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test first / test second / test third&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9385_74" -->
<a id="c9385_74"></a><blockquote class="code"><p class="quoted">
Test first with &quot;x captain / open case / i / ask captain for the key / give beer to captain / open bench / x nets / get nets / get coke / give coke to captain&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9386_74" -->
<a id="c9386_74"></a><blockquote class="code"><p class="quoted">
Test second with &quot;s / open chest / drop nets / get glacier ice / get nets / get glacier ice / g / put glacier ice in chest / get coke / put coke in chest&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9387_74" -->
<a id="c9387_74"></a><blockquote class="code"><p class="quoted">
Test third with &quot;x coke / g / g / g / get coke / n / give coke to captain / ask captain for key / open case / get rods&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "415: About Inform's regular expression support" "e319" -->
<a id="e319"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e319" class="eglink"><b>415</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e319" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">About Inform's regular expression support</span></b></a><br />Some footnotes on Inform's regular expressions, and how they compare to those of other programming languages.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_20.html#e319"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example319">
<p>There is not really any unanimity about what regular expression language is. The unix tools sed and grep extend on Kleene's original grammar. Henry Spencer's regex library extended on this again, and was a foundation for Perl, but Perl once again went further. Philip Hazel's PCRE, despite the name Perl Compatible Regular Expressions, makes further extensions still, and so on.</p>
<p>Inform's regular expressions are modelled on those of Perl, as the best de facto standard we have, but a few omissions have been inevitable. Inform's regex matcher must occupy source code less than one hundredth the size of PCRE, and it has very little memory. Inform aims to behave exactly like Perl except as follows:</p>
<!-- START CODE "c9388_319" -->
<a id="c9388_319"></a><blockquote class="code"><p class="quoted">
(i) Inform allows angle brackets as synonymous with square brackets, for reasons explained above. This means literal angle brackets have to be escaped as &quot;\&lt;&quot; and &quot;\&gt;&quot; in Inform regular expressions, which is unnecessary in Perl.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9389_319" -->
<a id="c9389_319"></a><blockquote class="code"><p class="quoted">
(ii) Inform only has single-line mode, not multiline mode: this removes need for the mode-switches &quot;(?m)&quot; and &quot;(?s)&quot; and the positional markers &quot;\A&quot; and &quot;\Z&quot;. Multiline mode is idiosyncratic to Perl and is a messy compromise to do with holding long files of text as single strings, yet treating them as lists of lines at the same time: this would not be sensible for Inform. Similarly, because there is no ambiguity about how line breaks are represented in Inform strings (by a single &quot;\n&quot;), initial newline convention markers such as &quot;(*ANYCRLF)&quot; are unsupported.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9390_319" -->
<a id="c9390_319"></a><blockquote class="code"><p class="quoted">
(iii) The codes &quot;\a&quot;, &quot;\r&quot;, &quot;\f&quot;, &quot;\e&quot;, &quot;\0&quot; for alarm, carriage return, form feed, escape and the zero character are unsupported: none of these can occur in an Inform string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9391_319" -->
<a id="c9391_319"></a><blockquote class="code"><p class="quoted">
(iv) Inform does not allow characters to be referred to by character code (whereas Perl allows &quot;\036&quot; for an octal character code, &quot;\x7e&quot; for a hexadecimal one, &quot;\cD&quot; for a control character). This is because we do not want the user to know whether text is internally stored as ZSCII or Unicode.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9392_319" -->
<a id="c9392_319"></a><blockquote class="code"><p class="quoted">
(v) Inform's character class &quot;\p&quot; (and its negation &quot;\P&quot;) have no equivalent in Perl, and Inform's understanding of &quot;\w&quot; is different. Perl defines this as an upper or lower case English letter, underscore or digit, which is good for programming-language identifiers, but bad for natural language - for instance, &quot;é&quot; is not matched by &quot;\w&quot; in Perl, but unquestionably it appears in words. Inform therefore defines &quot;\w&quot; as the negation of &quot;\s&quot; union &quot;\p&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9393_319" -->
<a id="c9393_319"></a><blockquote class="code"><p class="quoted">
(vi) Inform supports only single-digit grouping numbers &quot;\1&quot; to &quot;\9&quot;, whereas Perl allows &quot;\10&quot;, &quot;\11&quot;, ...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9394_319" -->
<a id="c9394_319"></a><blockquote class="code"><p class="quoted">
(vii) POSIX named character ranges are not supported. These are only abbreviations in any case, and are not very useful. (Note that the POSIX range &quot;[:punct:]&quot;, which is supposedly for punctuation, includes many things we do not want to think of that way - percentage signs, for instance - and so &quot;\p&quot; has a more natural-language-based definition.)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9395_319" -->
<a id="c9395_319"></a><blockquote class="code"><p class="quoted">
(viii) Character classes can be used inside ranges, so that &quot;&lt;\da-f&gt;&quot; is legal, but not as ends of contiguous runs, so that &quot;&lt;\d-X&gt;&quot; is not legal. (As reckless as this is, it is legal in Perl.)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9396_319" -->
<a id="c9396_319"></a><blockquote class="code"><p class="quoted">
(ix) For obvious reasons, escapes to Perl code using the notation &quot;(?{...})&quot; are unsupported, and so is the Perl iteration operator &quot;\G&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9397_319" -->
<a id="c9397_319"></a><blockquote class="code"><p class="quoted">
(x) Perl's extended mode &quot;(?x)&quot;, a lexical arrangement which allows expressions to be expanded out as little computer programs with comments, is unsupported. It would look awful syntax-coloured in the Inform interface and is not a style of coding to be encouraged.
</p></blockquote>
<!-- END CODE -->
<p>Inform further does not support the Python extension of named subexpression groups, nor the Java extension of the possessive quantifier &quot;++&quot;. There was only so much functionality we could squeeze in.</p>
<p>As verification of Inform's matching algorithm, we took the Perl 5 source code's notorious &quot;re-test.txt&quot; set of 961 test cases, removed the 316 using features unsupported by Inform (220 tested multiline mode, for instance), and ran the remaining 645 cases through Inform. It agrees with Perl on 643 of these: the two outstanding are -</p>
<!-- START CODE "c9398_319" -->
<a id="c9398_319"></a><blockquote class="code"><p class="quoted">
(i) Perl is able to match &quot;^(a\1?){4}$&quot; against &quot;aaaaaa&quot; but Inform is not - Inform's backtracking is not as good when it comes to repetitions of groupings which are recursively defined. (Note that the optional &quot;\1&quot; match refers to the value of the bracketed expression which contains it, so that the interpretation is different on each repetition. Here to match we have to interpret &quot;?&quot; as 0, 0, 1, 0 repeats respectively as we work through the &quot;{4}&quot;.)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9399_319" -->
<a id="c9399_319"></a><blockquote class="code"><p class="quoted">
(ii) Perl matches &quot;((&lt;a-c&gt;)b*?\2)*&quot; against &quot;ababbbcbc&quot; finding the match &quot;ababb&quot;, whereas Inform finds the match &quot;ababbbcbc&quot;. This is really a difference of opinion about whether the outer asterisk, which is greedy, should be allowed three matches rather than two if to do so requires the inner asterisk, which is not greedy, to eat more than it needs on one of those three matches.
</p></blockquote>
<!-- END CODE -->
<p>Case (i) is a sacrifice to enable Inform's back-tracking to use less memory. Case (ii) simply seems unimportant.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "223: Formal syntax of sentences" "e175" -->
<a id="e175"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e175" class="eglink"><b>223</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e175" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Formal syntax of sentences</span></b></a><br />A more formal description of the sentence grammar used by Inform for both assertions and conditions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e175"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example175">
<p>An entire grammar for the whole mass of Inform would not be linguistically interesting: it contains many convenient wordings which are not really part of a grand pattern. Inform does, however, have a formal notion of a Sentence, a grammatical structure which we shall call S. It is almost true that conditions (&quot;if the flowerpot is on the wall&quot;) have the same grammar as assertions (&quot;The flowerpot is on the wall&quot;) and &quot;now&quot; phrases (&quot;now the flowerpot is on the wall&quot;). All three use the S grammar, so we could define an assertion as &quot;S.&quot;, say that &quot;if S&quot;, &quot;while S&quot;, &quot;when S&quot; and so on are conditions, and say that &quot;now S&quot; defines the &quot;now&quot; declaration.</p>
<p>Grammatical sentences do not necessarily make sense, of course. Many perfectly grammatical assertions in fact give rise to problem messages:</p>
<!-- START CODE "c9400_175" -->
<a id="c9400_175"></a><blockquote class="code"><p class="quoted">
The wicker basket is not in the kitchen. (<span class="italic">Unhelpfully negative.</span>)
<br />The wicker basket has been in the kitchen. (<span class="italic">Talks about a time which never existed.</span>)
<br />The wicker basket is full. (<span class="italic">Full of what? Too vague.</span>)
<br />The wicker basket is the ginger cat. (<span class="italic">Demonstrably false.</span>)
</p></blockquote>
<!-- END CODE -->
<p>Whereas the first three, at least, would be sensible as conditions. So saying that assertions are &quot;just like&quot; conditions is a little misleading: what they have in common is S, the underlying grammar they each use as a starting-point.</p>
<p>To define S, we break it up into subsidiary structures. The most important is the Description Phrase (DP), examples of which include &quot;the red basket&quot;, &quot;somewhere lighted&quot; and &quot;an empty open container&quot;. Clearly sentences include DPs, but they also include other ingredients. The general pattern used in Inform is very simple:</p>
<!-- START CODE "c9401_175" -->
<a id="c9401_175"></a><blockquote class="code"><p class="quoted">
1. S = DP + VP
<br />2. VP = Verb + DP
</p></blockquote>
<!-- END CODE -->
<p>where VP is another structure, the Verb Phrase. For instance:</p>
<!-- START CODE "c9402_175" -->
<a id="c9402_175"></a><blockquote class="code"><p class="quoted">
S (The horseman wears a riding helmet)
<br />&#160;&#160;&#160;&#160;= DP (The horseman) + VP (wears a riding helmet)
<br />VP (wears a riding helmet)
<br />&#160;&#160;&#160;&#160;= Verb (wears) + DP (a riding helmet)
</p></blockquote>
<!-- END CODE -->
<p>In that example, the Verb was the single word &quot;wears&quot;. More generally, Inform allows a Verb to include adverbs and prepositions, to be negated, and to come in any of four tenses, so the following are all valid examples of Verb in our grammar:</p>
<!-- START CODE "c9403_175" -->
<a id="c9403_175"></a><blockquote class="code"><p class="quoted">
wore
<br />carries
<br />is carried by
<br />had not been inside
</p></blockquote>
<!-- END CODE -->
<p>Although we are not going through the definition of Description Phrases in detail, it is worth noticing how &quot;which&quot; and &quot;who&quot; behave:</p>
<!-- START CODE "c9404_175" -->
<a id="c9404_175"></a><blockquote class="code"><p class="quoted">
3a. DP = DP + which + VP
<br />3b. DP = DP + who + VP
</p></blockquote>
<!-- END CODE -->
<p>Thus &quot;an open container which is in the Ballroom&quot; can be broken down as:</p>
<!-- START CODE "c9405_175" -->
<a id="c9405_175"></a><blockquote class="code"><p class="quoted">
DP (an open container) + which + VP (is in the Ballroom)
</p></blockquote>
<!-- END CODE -->
<p>To understand compounds like &quot;something in a container&quot;, we have to invent a new grammatical structure for &quot;in a container&quot; and similar: let's call this a Relative Phrase (RP).</p>
<!-- START CODE "c9406_175" -->
<a id="c9406_175"></a><blockquote class="code"><p class="quoted">
4. DP = DP + RP
</p></blockquote>
<!-- END CODE -->
<p>Thus &quot;an open container in the Ballroom&quot; is DP (an open container) + RP (in the Ballroom). Relative Phrases have two different forms:</p>
<!-- START CODE "c9407_175" -->
<a id="c9407_175"></a><blockquote class="code"><p class="quoted">
5a. RP = Preposition + DP
<br />5b. RP = Participle + DP
</p></blockquote>
<!-- END CODE -->
<p>so that &quot;in a container&quot; is an example of 5a. An example of 5b would be</p>
<!-- START CODE "c9408_175" -->
<a id="c9408_175"></a><blockquote class="code"><p class="quoted">
RP (worn by Mr Darcy) = Participle (worn by) + DP (Mr Darcy)
</p></blockquote>
<!-- END CODE -->
<p>That is nearly it, but not quite: we must go back to the &quot;almost&quot; in the statement above that assertions and conditions &quot;almost&quot; have the same grammar S. The difference arises from a curious irregularity in English called subject-verb inversion (see the <span class="italic">Oxford English Grammar</span> at 3.22F), whereby assertions can be reversed but not conditions. For instance,</p>
<!-- START CODE "c9409_175" -->
<a id="c9409_175"></a><blockquote class="code"><p class="quoted">
In the Garden is a sunflower.
</p></blockquote>
<!-- END CODE -->
<p>This does not follow the pattern S = DP + VP, because &quot;in the garden&quot; is not a DP: indeed, it is not a noun at all. To make sense of this sentence, Inform reverses it to &quot;A sunflower is in the Garden&quot;, which does indeed follow DP + VP. Hence the final rule:</p>
<!-- START CODE "c9410_175" -->
<a id="c9410_175"></a><blockquote class="code"><p class="quoted">
6 (assertions only). S = RP + Verb + DP
</p></blockquote>
<!-- END CODE -->
<p>So the condition &quot;if in the garden is a sunflower...&quot; fails because rule 6 does not apply to the grammar for conditions: while occasional poetic uses of subject-verb inversion do turn up in conditions (&quot;If On A Winter's Night A Traveller&quot;, say), they are rare in ordinary English usage, and illegal in Inform. That completes the S grammar, so to recap:</p>
<!-- START CODE "c9411_175" -->
<a id="c9411_175"></a><blockquote class="code"><p class="quoted">
1. S = DP + VP
<br />2. VP = Verb + DP
<br />3a. DP = DP + which + VP
<br />3b. DP = DP + who + VP
<br />4. DP = DP + RP
<br />5a. RP = Preposition + DP
<br />5b. RP = Participle + DP
<br />6 (assertions only). S = RP + Verb + DP
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "243: Mathematical view of relations" "e240" -->
<a id="e240"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e240" class="eglink"><b>243</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e240" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Mathematical view of relations</span></b></a><br />Some notes on relations from a mathematical point of view, provided only to clarify some technicalities for those who are interested.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e240"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example240">
<p>Inform uses the term &quot;relation&quot; in a broader sense than mathematics. Properly speaking, the term &quot;relation&quot; in its mathematical sense only applies to the case where the domain for the left and right objects are the same: for simplicity's sake, let us talk only about the case where they are.</p>
<p>In mathematics, the properties most often looked for in a relation are that it should be:</p>
<p>(a) Reflexive: A &lt;=&gt; A for every A. This is not especially useful for Inform, and seldom appears in practical examples.</p>
<p>(b) Symmetric: A &lt;=&gt; B if and only if B &lt;=&gt; A. Generally, Inform relations are not symmetric, but there are two important cases which are:</p>
<!-- START CODE "c9412_240" -->
<a id="c9412_240"></a><blockquote class="code"><p class="quoted">
Meeting relates people to each other.
<br />Marriage relates one person to another.
</p></blockquote>
<!-- END CODE -->
<p>These are automatically symmetric, so that to assert one way round is to assert the other as well.</p>
<p>(c) Transitive: A &lt;=&gt; B and B &lt;=&gt; C means that A &lt;=&gt; C as well. Again, Inform relations are not generally transitive. In many relations, there can be long chains of things, each perhaps related to the one in front and the one behind, so that there is some indirect sense in which the two ends of the chain are connected to each other: but they are not related as such. For instance, a journey across the map might pass through ten rooms, each adjacent to the last and next, but the two ends would not themselves be adjacent. The concept we need is the &quot;transitive closure&quot; of the original relation, defined as the smallest transitive relation including the original. If R is a relation between &quot;things&quot;, then the following:</p>
<!-- START CODE "c9413_240" -->
<a id="c9413_240"></a><blockquote class="code"><p class="quoted">
TC relates a thing (called A) to a thing (called B) when the number of steps via R from A to B is greater than 0.
</p></blockquote>
<!-- END CODE -->
<p>is the transitive closure of R. In particular,</p>
<!-- START CODE "c9414_240" -->
<a id="c9414_240"></a><blockquote class="code"><p class="quoted">
Accessibility relates a room (called A) to a room (called B) when the number of moves from B to A is greater than 0. The verb to be accessible from means the accessibility relation.
</p></blockquote>
<!-- END CODE -->
<p>calculates the transitive closure of adjacency. Here, though, the way we normally understand &quot;accessible from&quot; suggests that it would be better to write:</p>
<!-- START CODE "c9415_240" -->
<a id="c9415_240"></a><blockquote class="code"><p class="quoted">
Accessibility relates a room (called A) to a room (called B) when the number of moves from B to A is at least 0.
</p></blockquote>
<!-- END CODE -->
<p>which is reflexive as well as transitive. The usefulness of Inform's &quot;next step via R from A to B&quot; construction, in a wide variety of settings, reflects the importance of transitivity as an idea.</p>
<p>A relation which has all three properties of being reflexive, symmetric and transitive is called an &quot;equivalence relation&quot;. (If all the map connections are two-way, then the accessibility relation above is symmetric and therefore a full equivalence relation: but if not, it may not be.) Inform has a special construction for making equivalence relations:</p>
<!-- START CODE "c9416_240" -->
<a id="c9416_240"></a><blockquote class="code"><p class="quoted">
Nationality relates people to each other in groups.
</p></blockquote>
<!-- END CODE -->
<p>This language - &quot;in groups&quot; - relies on the standard theorem that every equivalence relation on a set naturally defines a partition of that set, and vice versa. The &quot;groups&quot; referred to are what are normally called &quot;equivalence classes&quot;. (Inform does little with these equivalence classes: it might be interesting to do so, in effect forming quotient kinds.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "244: Graph-theory view of relations" "e241" -->
<a id="e241"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e241" class="eglink"><b>244</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e241" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Graph-theory view of relations</span></b></a><br />Some notes on relations from the point of view of graph theory.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e241"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example241">
<p>One way to look at a relation is to regard it as a directed graph: that is, a collection of things (&quot;vertices&quot;) with arrows drawn between them (&quot;edges&quot;). We write our items A, B, C, ... on a piece of paper: then, if A relates to B, we draw an arrow pointing from A to B, and so on. If we made this drawing for the adjacency relation, we would more or less have reconstructed the map (or at least a simplified one which does not care about precise directions, like the famous diagram of the London Underground). But the drawing can be made for any relation. If we define:</p>
<!-- START CODE "c9417_241" -->
<a id="c9417_241"></a><blockquote class="code"><p class="quoted">
Suspecting relates various people to one person.
</p></blockquote>
<!-- END CODE -->
<p>then, in the corresponding graph, each &quot;vertex&quot; will have at most one arrow leading away from it - though there could be many (or none) leading towards. Conversely, a one-to-various relation produces a graph where each vertex has at most one arrow coming in. A one-to-one relation means that the picture consists of some vertices on their own, with no arrows, a few perhaps with looped arrows leading from and to themselves, and then a collection of pairs joined by arrows. On the other hand, a various-to-various relation is just a free-for-all, with no restrictions on the arrows. The relations:</p>
<!-- START CODE "c9418_241" -->
<a id="c9418_241"></a><blockquote class="code"><p class="quoted">
Meeting relates people to each other.
<br />Marriage relates one person to another.
</p></blockquote>
<!-- END CODE -->
<p>always have the property of working both ways round, and these are easiest to visualise by forgetting the direction of the arrows, so that they just become lines joining the vertices.</p>
<p>Inform uses a different algorithm for finding routes (&quot;the next step via R from A to B&quot;) in each of these cases, and internally it stores relations in different formats in the different cases, because it makes a big difference to the efficiency of Inform to minimise the storage required for a relation and the time taken to explore it.</p>
<p>All the cases are benign except for &quot;various to various&quot; - the most useful - and for its closely related symmetrical version, &quot;relates... to each other&quot;. Inform cannot afford to assume that the relation will be &quot;sparse&quot; (that is: that no vertex will have more than a certain number of arrows, or that the total number of arrows will be small), because it has no idea how the arrows will come and go during play. It therefore uses 1 bit of storage for each pair of objects. This sounds harmless, but if there are 200 rooms, there are 40,000 pairs of rooms, which means a 5000-byte allocation of storage (plus a handful of bytes as overhead). Gratuitous various-to-various relations are therefore not a good idea.</p>
<p>There is a standard algorithm for calculating shortest paths through a directed graph, but Inform does not always use it, because there is not always memory to store the required matrix of partial results. Inform's slow method, likely to be used on the Z-machine, requires a storage overhead which is equal to the number of vertices, not the square of that number, but the worst-case running time can be bad: if there are N vertices, and the diameter of graph (the longest distance between vertices) is D, then the running time is proportional to D times N. The worst case in finding routes from A to B is when almost every vertex can reach B, some across long trails, but A cannot. In the case of finding routes across the game's map, this must be multiplied further by the number of possible directions - usually 16.</p>
<p>This does not sound too awful, but if one is trying to find (say) &quot;the most distant room from A&quot;, that means a further loop and now the running time will be D times N squared. Extension writers will need to be careful of this kind of thing: it is easy to write highly cool prototypes which work terribly slowly on larger, more realistic maps.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "399: Backus-Naur form for rules" "e42" -->
<a id="e42"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_1.html#e42" class="eglink"><b>399</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_1.html#e42" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Backus-Naur form for rules</span></b></a><br />The full grammar Inform uses to parse rule definitions, in a standard computer-science notation.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_19.html#e42"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example42">
<p>Backus-Naur form, or BNF, is a standard notation used by computer scientists to specify more or less precisely what the valid programs are for a given programming language. It tends to provide a good description for a language such as C or Pascal, where contextual rules are limited, but the authors of Inform are doubtful that it is such a good tool for a natural-language system. For those who are interested, though, the following gives a formal specification for Inform's rules.</p>
<!-- START CODE "c9419_42" -->
<a id="c9419_42"></a><blockquote class="code"><p class="quoted">
&lt;rule&gt; ::=
<br />&#160;&#160;&#160;&#160;Definition : A/an &lt;kind&gt; is &lt;new adjectival name&gt; if/unless &lt;definition&gt;
<br />&#160;&#160;&#160;&#160;| &lt;preamble&gt; : &lt;phrases&gt;
<br />&#160;&#160;&#160;&#160;| &lt;preamble&gt; , &lt;phrase&gt;    (* only allowed for a few cases: see below)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9420_42" -->
<a id="c9420_42"></a><blockquote class="code"><p class="quoted">
&lt;definition&gt; ::=
<br />&#160;&#160;&#160;&#160;&lt;condition&gt;
<br />&#160;&#160;&#160;&#160;| its/his/her/their &lt;value property name&gt; is/are &lt;value&gt; or less/more
<br />&#160;&#160;&#160;&#160;| : &lt;phrases&gt;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9421_42" -->
<a id="c9421_42"></a><blockquote class="code"><p class="quoted">
&lt;preamble&gt; ::=
<br />&#160;&#160;&#160;&#160;To &lt;phrase template&gt;
<br />&#160;&#160;&#160;&#160;| To decide if/whether &lt;phrase template&gt;
<br />&#160;&#160;&#160;&#160;| To decide which/what &lt;kind of value&gt; is &lt;phrase template&gt;
<br />&#160;&#160;&#160;&#160;| This is the &lt;rule name&gt;
<br />&#160;&#160;&#160;&#160;| [[A] Rule for] &lt;circumstances&gt; [(this is the &lt;rule name&gt;)]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9422_42" -->
<a id="c9422_42"></a><blockquote class="code"><p class="quoted">
&lt;circumstances&gt; ::=
<br />&#160;&#160;&#160;&#160;At &lt;time&gt;
<br />&#160;&#160;&#160;&#160;| When &lt;event name&gt;
<br />&#160;&#160;&#160;&#160;| [&lt;placement&gt;] &lt;rulebook reference&gt; [while/when &lt;condition&gt;] [during &lt;scene name&gt;]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9423_42" -->
<a id="c9423_42"></a><blockquote class="code"><p class="quoted">
&lt;rulebook reference&gt; ::=
<br />&#160;&#160;&#160;&#160;&lt;rulebook name&gt; [about/for/of/on/rule] [&lt;action pattern&gt;]
<br />&#160;&#160;&#160;&#160;| &lt;object-based-rulebook name&gt; [about/for/of/on/rule] [&lt;description&gt;]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9424_42" -->
<a id="c9424_42"></a><blockquote class="code"><p class="quoted">
&lt;placement&gt; ::=
<br />&#160;&#160;&#160;&#160;a/an
<br />&#160;&#160;&#160;&#160;| [the] first
<br />&#160;&#160;&#160;&#160;| [the] last
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9425_42" -->
<a id="c9425_42"></a><blockquote class="code"><p class="quoted">
&lt;phrases&gt; ::=
<br />&#160;&#160;&#160;&#160;&lt;phrase&gt;
<br />&#160;&#160;&#160;&#160;| &lt;phrases&gt; ; &lt;phrase&gt;
</p></blockquote>
<!-- END CODE -->
<p>The following examples show how Inform breaks down some typical rules using the system above:</p>
<!-- START CODE "c9426_42" -->
<a id="c9426_42"></a><blockquote class="code"><p class="quoted">
&lt;rule&gt; = At 2:09 PM: increase the score by 2; say &quot;Progress!&quot;
<br />&#160;&#160;&#160;&#160;&lt;preamble&gt; = At 2:09 PM
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;circumstances&gt; = At 2:09 PM
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;At
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;time&gt; = 2:09 PM
<br />&#160;&#160;&#160;&#160;:
<br />&#160;&#160;&#160;&#160;&lt;phrases&gt; = increase the score by 2; say &quot;Progress!&quot;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;phrase&gt; = increase the score by 2
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;phrase&gt; = say &quot;Progress&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9427_42" -->
<a id="c9427_42"></a><blockquote class="code"><p class="quoted">
&lt;rule&gt; = Instead of eating the ostrich during Formal Dinner (this is the cuisine rule), say &quot;It's greasy!&quot;
<br />&#160;&#160;&#160;&#160;&lt;preamble&gt; = Instead of eating the ostrich during Formal Dinner (this is the cuisine rule)
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;circumstances&gt; = Instead of eating the ostrich during Formal Dinner
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;rulebook reference&gt; = Instead of eating the ostrich
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;rulebook name&gt; = Instead
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;of
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;action pattern&gt; = eating the ostrich
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;during
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;scene name&gt; = Formal Dinner
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;this
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;is
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;the
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;rule name&gt; = cuisine rule
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;)
<br />&#160;&#160;&#160;&#160;,
<br />&#160;&#160;&#160;&#160;&lt;phrases&gt; = say &quot;It's greasy!&quot;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;phrase&gt; = say &quot;It's greasy!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9428_42" -->
<a id="c9428_42"></a><blockquote class="code"><p class="quoted">
&lt;rule&gt; = After printing the name of a container: say &quot;!&quot;
<br />&#160;&#160;&#160;&#160;&lt;preamble&gt; = After printing the name of a container
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;circumstances&gt; = After printing the name of a container
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;rulebook reference&gt; = After printing the name of a container
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;object-based-rulebook name&gt; = After printing the name
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;of
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;description&gt; = a container
<br />&#160;&#160;&#160;&#160;:
<br />&#160;&#160;&#160;&#160;&lt;phrases&gt; = say &quot;!&quot;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;phrase&gt; = say &quot;!&quot;
</p></blockquote>
<!-- END CODE -->
<p>(*) The colon dividing a rule preamble from its definition can be replaced by a comma only if the preamble begins with the words &quot;Instead of&quot;, &quot;Before&quot;, &quot;After&quot;, &quot;Every turn&quot; or &quot;When&quot;, and if the definition consists only of a single phrase.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
