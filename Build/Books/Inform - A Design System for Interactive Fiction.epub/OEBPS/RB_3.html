<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>Chapter 3: Place</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 3: Place</p>
<p class="chaptercontents"><a href="RB_3.html#s1" class="standardlink"><span class="chaptercontentsitem">§3.1. Room Descriptions</span></a>; <a href="RB_3.html#s2" class="standardlink"><span class="chaptercontentsitem">§3.2. Map</span></a>; <a href="RB_3.html#s3" class="standardlink"><span class="chaptercontentsitem">§3.3. Position Within Rooms</span></a>; <a href="RB_3.html#s4" class="standardlink"><span class="chaptercontentsitem">§3.4. Continuous Spaces and The Outdoors</span></a>; <a href="RB_3.html#s5" class="standardlink"><span class="chaptercontentsitem">§3.5. Doors, Staircases, and Bridges</span></a>; <a href="RB_3.html#s6" class="standardlink"><span class="chaptercontentsitem">§3.6. Windows</span></a>; <a href="RB_3.html#s7" class="standardlink"><span class="chaptercontentsitem">§3.7. Lighting</span></a>; <a href="RB_3.html#s8" class="standardlink"><span class="chaptercontentsitem">§3.8. Sounds</span></a>; <a href="RB_3.html#s9" class="standardlink"><span class="chaptercontentsitem">§3.9. Passers-By, Weather and Astronomical Events</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="RB_1.html" class="standardlink">Contents of <i>The Inform Recipe Book</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_2.html" class="standardlink">Chapter 2: Adaptive Prose</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_4.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_4.html" class="standardlink">Chapter 4: Time and Plot</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§3.1. Room Descriptions</p>
<p>The printing of a room description is a more delicate business than it might initially seem to be: Inform has to consider all the objects that the player might have brought into the room or dropped there, and all the objects on visible supporters, and decide how to group and list them.</p>
<p>All of this behavior is handled by the looking command, so we find the relevant rules in the carry out looking rulebook. To go through the elements step by step:</p>
<p>Looking begins by printing the name and description of the room we're in. We can introduce variations into room names and descriptions by changing their printed name and description properties, as in</p>
<!-- START CODE "c9740" -->
<a id="c9740"></a><blockquote class="code"><p class="quoted">
now the printed name of the Church is &quot;Lightning-Struck Ruin&quot;;
<br />now the description of the Church is &quot;The beams overhead have been burnt away and the pews are charred. Only the stone walls remain.&quot;;
</p></blockquote>
<!-- END CODE -->
<p>If we need more drastic effects, we can turn off or change either of these features by altering the rules in the carry out looking rulebook. For instance, to remove the name of the location entirely from room descriptions, we would write</p>
<!-- START CODE "c9741" -->
<a id="c9741"></a><blockquote class="code"><p class="quoted">
The room description heading rule is not listed in the carry out looking rules.
</p></blockquote>
<!-- END CODE -->
<p>(A word of warning: there is one other context in which the story prints a room name — when restoring a save or undoing a move. To omit the room title here too, add</p>
<!-- START CODE "c9742" -->
<a id="c9742"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a room: do nothing.)
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">Ant-Sensitive Sunglasses</span> demonstrates how to use activities to make more flexible room description text.</p>
<p>Next, the story determines what items are visible to the player and need to be described. These never include the player himself, or scenery, but other things in the environment will be made &quot;marked for listing&quot;. This is also the stage at which Inform chooses the order in which items will be listed.</p>
<p>We are allowed to meddle by changing the priorities of objects, in case we want some things to be described to the player first or last in the room description; <span class="boldface">Priority Lab</span> goes into detail about how. We can also force things to be left out entirely: <span class="boldface">Low Light</span> handles the case of an object that can only be seen when an extra lamp is switched on, even though the room is not otherwise considered dark. <span class="boldface">Copper River</span> implements the idea of &quot;interesting&quot; and &quot;dull&quot; objects: the story determines which items are currently important to the puzzles or narrative and mentions those in the room description, while suppressing everything else.</p>
<p>Then Inform carries out the writing a paragraph about... activity with anything that provides one; anything it prints the name of, it tags &quot;mentioned&quot;. Thus</p>
<!-- START CODE "c9743" -->
<a id="c9743"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about Mr Wickham:
<br />&#160;&#160;&#160;&#160;say &quot;Mr Wickham looks speculatively at [list of women in the location].&quot;
</p></blockquote>
<!-- END CODE -->
<p>will count Wickham and everyone he looks at as all having been mentioned, and will not refer to them again through the rest of the room description. More complicated uses of writing a paragraph abound. A developed system for handling supporters that don't list contents appears in <span class="boldface">The Eye of the Idol</span>.</p>
<p>Inform then prints the initial appearances of objects that are marked for listing but not already mentioned; and then it performs the listing nondescript items activity, collating the remaining objects into a paragraph like</p>
<!-- START CODE "c9744" -->
<a id="c9744"></a><blockquote class="code"><p class="quoted">
You can see a dog, a hen, ...
</p></blockquote>
<!-- END CODE -->
<p>We can pre-empt items from appearing in this paragraph or change their listing by intervening with a Before listing nondescript items... rule, as in</p>
<!-- START CODE "c9745" -->
<a id="c9745"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items when the player needs the watch:
<br />&#160;&#160;&#160;&#160;if the watch is marked for listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The watch catches your eye.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the watch is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted the watch always to be listed this way, it would be better to give it an initial appearance, but for conditional cases, the listing nondescript items activity is a good place to intervene. For instance, <span class="boldface">Rip</span> uses this activity to incorporate changeable or portable items into the main description text for a room when (and only when) that is appropriate.</p>
<p>The listing nondescript items activity also allows us to replace the &quot;You can see...&quot; tag with something else more fitting, if for instance we are in a dimly lit room.</p>
<p>When the story compiles the list of nondescript items, it adds tags such as &quot;(open)&quot; or &quot;(empty)&quot; or &quot;(on which is a fish tank)&quot; to the names of containers and supporters. We can suppress or change the &quot;(empty)&quot; tag with the printing room description details of activity, as in</p>
<!-- START CODE "c9746" -->
<a id="c9746"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details: stop.
</p></blockquote>
<!-- END CODE -->
<p>And we can suppress the &quot;(open)&quot; and &quot;(on which is...)&quot; sorts of tags with the &quot;omit the contents in listing&quot; phrase, as in</p>
<!-- START CODE "c9747" -->
<a id="c9747"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the bottle while not inserting or removing:
<br />&#160;&#160;&#160;&#160;if the bottle contains sand, say &quot;bottle of sand&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;empty bottle&quot;;
<br />&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<p>Finally, the looking command lists visible non-scenery items that sit on scenery supporters, as in</p>
<!-- START CODE "c9748" -->
<a id="c9748"></a><blockquote class="code"><p class="quoted">
On the table is a folded newspaper.
</p></blockquote>
<!-- END CODE -->
<p>These paragraphs can be manipulated with the printing the locale description activity and the printing a locale paragraph about activity.</p>
<p>Another common thing we may want to do is change the description of a room depending on whether we've been there before (as in <span class="boldface">Slightly Wrong</span>) or on how often we've visited (as in <span class="boldface">Infiltration</span>). <span class="boldface">Night Sky</span>, meanwhile, changes the description of a room when we've examined another object, so that the player's awareness of his environment is affected by other things the character knows.</p>
<p class="crossreference"><a href="RB_6.html#s4" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Looking</b></a><i> for ways to change the default length of room descriptions</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_3.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_2.html#s3" class="standardlink">Back to Chapter 2: Adaptive Prose: §2.3. Using the Player's Input</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html#s2" class="standardlink">Onward to §3.2. Map</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e263" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e263" class="standardlink">Example 147: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Night Sky</b>&#160;&#160;&#160; A room which changes its description depending on whether an object has been examined.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e199" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e199" class="standardlink">Example 152: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Infiltration</b>&#160;&#160;&#160; A room whose description changes depending on the number of times the player has visited.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e12" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e12" class="standardlink">Example 334: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ant-Sensitive Sunglasses</b>&#160;&#160;&#160; What are activities good for? Controlling output when we want the same action to be able to produce very flexible text depending on the state of the world -- in this case, making highly variable room description and object description text.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e325" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e325" class="standardlink">Example 355: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Rip Van Winkle</b>&#160;&#160;&#160; A simple way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e301" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e301" class="standardlink">Example 358: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Priority Lab</b>&#160;&#160;&#160; A debugging rule useful for checking the priorities of objects about to be listed.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e231" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e231" class="standardlink">Example 359: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Low Light</b>&#160;&#160;&#160; An object that is only visible and manipulable when a bright light fixture is on.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e234" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e234" class="standardlink">Example 4: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Slightly Wrong</b>&#160;&#160;&#160; A room whose description changes slightly after our first visit there.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e380" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e380" class="standardlink">Example 357: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Eye of the Idol</b>&#160;&#160;&#160; A systematic way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description, and to control whether supporters list their contents or not.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e93" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e93" class="standardlink">Example 362: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Copper River</b>&#160;&#160;&#160; Manipulating room descriptions so that only interesting items are mentioned, while objects that are present but not currently useful to the player are ignored.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§3.2. Map</p>
<p>A work of IF contains many spectacles and activities, and these must not all present themselves at once, or the player will be overwhelmed. One way to spread them out is in time, by having them available only as a plot develops, but another is to spread them out literally in space. The player has to walk between the Library and the Swimming Pool, and thus bookish and athletic tasks are not both presenting themselves at once. There have been valiant &quot;one-room&quot; IFs, and it forms a respectable sub-genre of the art, but most works of any size need a map.</p>
<p>Inform, following IF conventions, divides the world up into locations called &quot;rooms&quot;, connected together by so-called &quot;map connections&quot; along compass bearings. Thus:</p>
<!-- START CODE "c9749" -->
<a id="c9749"></a><blockquote class="code"><p class="quoted">
The Library is east of the Swimming Pool.
</p></blockquote>
<!-- END CODE -->
<p>The example <span class="boldface">Port Royal 1</span> develops a medium-sized map from such sentences. This develops in <span class="boldface">Port Royal 2</span> to include connections which bend around, allowing the rooms not to lie on an imaginary square grid.</p>
<p>Because it is useful to group rooms together under names describing whole areas, Inform also allows rooms to be placed in &quot;regions&quot;. Thus:</p>
<!-- START CODE "c9750" -->
<a id="c9750"></a><blockquote class="code"><p class="quoted">
The Campus Area is a region. The Library and the Swimming Pool are in the Campus Area.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">Port Royal 3</span> demonstrates this further. <span class="boldface">A&amp;E</span> shows how regions can be used to write simple rules which regulate access to and from whole areas of the map.</p>
<p>Many old-school IF puzzles involve journeys through the map which are confused, randomised or otherwise frustrated: see <span class="boldface">Bee Chambers</span> for a typical maze, <span class="boldface">Zork II</span> for a randomised connection, <span class="boldface">Prisoner's Dilemma</span> for a change in the map occurring during play. A completely random map takes us away from traditional IF and more towards a different sort of old-school game, the computerised role-playing game with its endless quests through dungeons with randomly generated treasures and monsters. This style of map - building itself one step at a time, as the player explores - can sometimes be useful to provide an illusion of infinite expanse: see <span class="boldface">All Roads Lead To Mars</span>.</p>
<p>While the standard compass directions are conventional in IF, there are times when we may want to replace them without other forms of directional relationship. <span class="boldface">Indirection</span> renames the compass directions to correspond to primary colors, as in Mayan thinking. <span class="boldface">The World of Charles S. Roberts</span> substitutes new ones, instead, introducing a hex-grid map in place of the usual one.</p>
<p class="crossreference"><a href="RB_6.html#s9" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Going, Pushing Things in Directions</b></a><i> for ways to add more relative directions, such as context-sensitive understanding of OUT and IN</i></p><p class="crossreference"><a href="RB_3.html#s1" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Room Descriptions</b></a><i> for ways to modify the room description printed</i></p><p class="crossreference"><a href="RB_8.html#s2" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Ships, Trains and Elevators</b></a><i> for rooms which move around in the map and for directions aboard a ship</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_3.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_3.html#s1" class="standardlink">Back to §3.1. Room Descriptions</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html#s3" class="standardlink">Onward to §3.3. Position Within Rooms</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e331" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e331" class="standardlink">Example 5: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Port Royal 1</b>&#160;&#160;&#160; A partial implementation of Port Royal, Jamaica, set before the earthquake of 1692 demolished large portions of the city.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e332" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e332" class="standardlink">Example 8: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Port Royal 2</b>&#160;&#160;&#160; Another part of Port Royal, with less typical map connections.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e333" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e333" class="standardlink">Example 10: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Port Royal 3</b>&#160;&#160;&#160; Division of Port Royal into regions.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e288" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e288" class="standardlink">Example 78: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>All Roads Lead to Mars</b>&#160;&#160;&#160; Layout where the player is allowed to wander any direction he likes, and the map will arrange itself in order so that he finds the correct "next" location.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e27" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e27" class="standardlink">Example 125: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Bee Chambers</b>&#160;&#160;&#160; A maze with directions between rooms randomized at the start of play.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e66" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e66" class="standardlink">Example 134: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Zork II</b>&#160;&#160;&#160; A "Carousel Room", as in Zork II, where moving in any direction from the room leads (at random) to one of the eight rooms nearby.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e88" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e88" class="standardlink">Example 286: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Indirection</b>&#160;&#160;&#160; Renaming the directions of the compass so that "white" corresponds to north, "red" to east, "yellow" to south, and "black" to west.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e36" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e36" class="standardlink">Example 40: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Prisoner's Dilemma</b>&#160;&#160;&#160; A button that causes a previously non-existent exit to come into being.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e441" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e441" class="standardlink">Example 41: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The World of Charles S. Roberts</b>&#160;&#160;&#160; Replacing the ordinary compass bearings with a set of six directions to impose a hexagonal rather than square grid on the landscape.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e415" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e415" class="standardlink">Example 101: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>A&amp;E</b>&#160;&#160;&#160; Using regions to block access to an entire area when the player does not carry a pass, regardless of which entrance he uses.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§3.3. Position Within Rooms</p>
<p>Inform's division of geography into &quot;rooms&quot; is a good compromise for most purposes. The rooms are cut off from each other by (imaginary or actual) walls, while all of the interior of a given room is regarded as the same place.</p>
<p>Suppose we want things to happen differently in different corners of the same room? Inform can already do this a little, in that the player can be inside an enterable container or on an enterable supporter. For instance:</p>
<!-- START CODE "c9751" -->
<a id="c9751"></a><blockquote class="code"><p class="quoted">
Instead of opening a door when the player is on the bed, say &quot;You can't reach the handle from the bed.&quot;
</p></blockquote>
<!-- END CODE -->
<p>If we need to have divided-up areas of the floor itself, the standard approach is to define a small number of named positions. We then need to remember at which of these locations the player (or something else) currently stands.</p>
<p><span class="boldface">Further Reasons Why All Poets Are Liars</span> allows the player to be in different parts of a room by standing on a box which can be in different places: thus only the box needs an internal position, not the player, simplifying matters neatly.</p>
<p>Another interesting case is when one room is entirely inside another (such as a hut in a field, or a booth in a large convention hall), so that the exterior of the room should be visible from another location. <span class="boldface">Starry Void</span> gives a simple demonstration of a magician's booth that can be examined from the outside, opened and closed, and entered to reach a new location.</p>
<p class="crossreference"><a href="RB_3.html#s4" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Continuous Spaces and The Outdoors</b></a><i> for making the space between rooms continuous</i></p><p class="crossreference"><a href="RB_7.html#s5" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Combat and Death</b></a><i> for the use of position in a room in determining combat maneuvers</i></p><p class="crossreference"><a href="RB_6.html#s10" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Entering and Exiting, Sitting and Standing</b></a><i> for automatically getting up from chairs before going places</i></p><p class="crossreference"><a href="RB_5.html#s1" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>The Human Body</b></a><i> for letting the player take different postures on furniture or on the floor</i></p><p class="crossreference"><a href="RB_8.html#s4" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Furniture</b></a><i> for cages, beds, and other kinds of enterable supporters and containers</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_3.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_3.html#s2" class="standardlink">Back to §3.2. Map</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html#s4" class="standardlink">Onward to §3.4. Continuous Spaces and The Outdoors</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e160" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e160" class="standardlink">Example 199: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Further Reasons Why All Poets Are Liars</b>&#160;&#160;&#160; The young William Wordsworth, pushing a box about in his room, must struggle to achieve a Romantic point of view.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e359" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e359" class="standardlink">Example 7: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Starry Void</b>&#160;&#160;&#160; Creating a booth that can be seen from the outside, opened and closed, and entered as a separate room.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§3.4. Continuous Spaces and The Outdoors</p>
<p>Suppose we want to blur the boundaries between rooms, in an environment where there are no walls: out of doors, for instance?</p>
<p>The simplest cases involve making something exceptional visible in more than one place. <span class="boldface">Carnivale</span> features an exceptionally large landmark seen by day; <span class="boldface">Eddystone</span> an exceptionally bright one by night. <span class="boldface">Waterworld</span> allows a very distant object (the Sun) to be seen throughout many rooms, but never approached. <span class="boldface">View of Green Hills</span> gives the player an explicit command for looking through into an adjacent room.</p>
<p>Three systematic examples then present outdoor landscapes with increasing sophistication. <span class="boldface">Tiny Garden</span> gives the multiple rooms of an extended lawn descriptions which automatically adapt to say which directions lead into further lawn area. <span class="boldface">Rock Garden</span> provides a relation, &quot;connected with&quot;, between rooms, allowing items in one to be seen from the other: an attempt to interact with a visible item in a different area of the garden triggers an implicit going action first. <span class="boldface">Stately Gardens</span> provides a much larger outdoor area, where larger landmarks are visible from further away, and room descriptions are highly adaptive.</p>
<p>In an outdoor environment, the distinction between a one-move journey and a multiple-move journey is also blurred. <span class="boldface">Hotel Stechelberg</span> shows a signpost which treats these equally.</p>
<p class="crossreference"><a href="RB_3.html#s3" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Position Within Rooms</b></a><i> for making the space within a room continuous</i></p><p class="crossreference"><a href="RB_3.html#s6" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Windows</b></a><i> for another way to see between locations</i></p><p class="crossreference"><a href="RB_3.html#s5" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Doors, Staircases, and Bridges</b></a><i> for still a third way to be told at least what lies adjacent</i></p><p class="crossreference"><a href="RB_3.html#s9" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Passers-By, Weather and Astronomical Events</b></a><i> for more on describing the sky</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_3.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_3.html#s3" class="standardlink">Back to §3.3. Position Within Rooms</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s5" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html#s5" class="standardlink">Onward to §3.5. Doors, Staircases, and Bridges</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e414" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e414" class="standardlink">Example 216: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Waterworld</b>&#160;&#160;&#160; A backdrop which the player can examine, but cannot interact with in any other way.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e220" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e220" class="standardlink">Example 62: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Tiny Garden</b>&#160;&#160;&#160; A lawn made up of several rooms, with part of the description written automatically.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e347" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e347" class="standardlink">Example 79: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hotel Stechelberg</b>&#160;&#160;&#160; Signposts such as those provided on hiking paths in the Swiss Alps, which show the correct direction and hiking time to all other locations.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e65" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e65" class="standardlink">Example 212: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Carnivale</b>&#160;&#160;&#160; An alternative to backdrops when we want something to be visible from a distance but only touchable from one room.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e226" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e226" class="standardlink">Example 213: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Eddystone</b>&#160;&#160;&#160; Creating new commands involving the standard compass directions.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e329" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e329" class="standardlink">Example 366: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Rock Garden</b>&#160;&#160;&#160; A simple open landscape where the player can see between rooms and will automatically move to touch things in distant rooms.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e17" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e17" class="standardlink">Example 80: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>A View of Green Hills</b>&#160;&#160;&#160; A LOOK [direction] command which allows the player to see descriptions of the nearby landscape.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e360" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e360" class="standardlink">Example 367: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Stately Gardens</b>&#160;&#160;&#160; An open landscape where the player can see landmarks in nearby areas, with somewhat more complex room descriptions than the previous example, and in which we also account for size differences between things seen at a distance.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§3.5. Doors, Staircases, and Bridges</p>
<p>Inform's &quot;door&quot; kind provides for a tangible thing which comes between one room and another. A door can be open or closed, and openable or not: it can be locked or unlocked, and lockable or not. Here we create a conventional door, a natural gap in the rocks, and a (fixed in place) wooden ladder:</p>
<!-- START CODE "c9752" -->
<a id="c9752"></a><blockquote class="code"><p class="quoted">
The fire door is an open door. The fire door is east of the Projection Booth and west of the Fire Escape.
<br />The narrow crevice is an open unopenable door. The crevice is east of the Col du Prafleuri and west of Rocky Knoll Above Arolla.
<br />The wooden ladder is an open unopenable door. The ladder is above the Stableyard and below the Hay Loft.
</p></blockquote>
<!-- END CODE -->
<p>Most doors are visible from both sides: they are single objects but present in two rooms at once, which raises a number of complications. Inform normally uses the same description looking from each way, which is not very interesting: <span class="boldface">When?</span> and <span class="boldface">Whence?</span> demonstrate neat ways to describe the two sides differently, and <span class="boldface">Whither?</span> adds the option for the player to refer to doors as &quot;the west door&quot; and &quot;the east door&quot; automatically.</p>
<p><span class="boldface">Neighbourhood Watch</span> goes further by making a door behave differently on each side: from the &quot;outside&quot; you need a key, but &quot;inside&quot; it opens on a latch. Finally, <span class="boldface">Garibaldi 1</span> shows how to access information about the two sides of a door.</p>
<p><span class="boldface">Higher Calling</span> demonstrates doors which automatically open as needed: though using the Inform extension Locksmith by Emily Short is probably easier and better. <span class="boldface">Elsie</span>, conversely, demonstrates a door that closes one turn after the player has opened it.</p>
<p>Certain complications apply when characters other than the player have to see and interact with doors that exist in other rooms. <span class="boldface">Wainwright Acts</span> demonstrates the syntax needed to handle this technically quirky situation.</p>
<p><span class="boldface">Something Narsty</span> and <span class="boldface">Hayseed</span> provide a &quot;staircase&quot; kind useful for vertically arranged, always-open doors like staircases and (fixed in place) ladders.</p>
<p><span class="boldface">One Short Plank</span> implements a precarious plank bridge across a chasm as an open unopenable door.</p>
<p class="crossreference"><a href="RB_3.html#s6" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Windows</b></a><i> for climbing through a window from one room to another</i></p><p class="crossreference"><a href="RB_10.html#s6" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Ropes</b></a><i> for portable connections between rooms, much of the development of which could be adapted to handle portable ladders. &quot;Doors&quot; are never allowed to move</i></p><p class="crossreference"><a href="RB_10.html#s10" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Magic (Breaking the Laws of Physics)</b></a><i> for a hat that lets the player walk through closed doors</i></p><p class="crossreference"><a href="RB_6.html#s3" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Modifying Existing Commands</b></a><i> for ways to allow the player to unlock with a key he isn't currently holding</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_3.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_3.html#s4" class="standardlink">Back to §3.4. Continuous Spaces and The Outdoors</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s6" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html#s6" class="standardlink">Onward to §3.6. Windows</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e357" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e357" class="standardlink">Example 45: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Something Narsty</b>&#160;&#160;&#160; A staircase always open and never openable.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e107" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e107" class="standardlink">Example 63: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>When?</b>&#160;&#160;&#160; A door whose description says "...leads east" in one place and "...leads west" in the other.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e358" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e358" class="standardlink">Example 89: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hayseed</b>&#160;&#160;&#160; A refinement of our staircase kind which can be climbed.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e108" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e108" class="standardlink">Example 128: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Higher Calling</b>&#160;&#160;&#160; All doors in the game automatically attempt to open if the player approaches them when they are closed.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e418" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e418" class="standardlink">Example 236: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Wainwright Acts</b>&#160;&#160;&#160; A technical note about checking the location of door objects when characters other than the player are interacting with them.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e436" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e436" class="standardlink">Example 321: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Whither?</b>&#160;&#160;&#160; A door whose description says where it leads; and which automatically understands references such as "the west door" and "the east door" depending on which direction it leads from the location.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e101" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e101" class="standardlink">Example 24: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Neighborhood Watch</b>&#160;&#160;&#160; A locked door that can be locked or unlocked without a key from one side, but not from the other.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e294" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e294" class="standardlink">Example 106: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>One Short Plank</b>&#160;&#160;&#160; A plank bridge which breaks if the player is carrying something when he goes across it. Pushing anything over the bridge is forbidden outright.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e119" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e119" class="standardlink">Example 151: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Elsie</b>&#160;&#160;&#160; A door that closes automatically one turn after the player opens it.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e163" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e163" class="standardlink">Example 22: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Garibaldi 1</b>&#160;&#160;&#160; Providing a security readout device by which the player can check on the status of all doors in the game.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e18" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e18" class="standardlink">Example 64: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Whence?</b>&#160;&#160;&#160; A kind of door that always automatically describes the direction it opens and what lies on the far side (if that other room has been visited).</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s6"></a>§3.6. Windows</p>
<p>Calvin Coolidge once described windows as &quot;rectangles of glass.&quot; For us, they have two purposes: first, they offer a view of landscape beyond. In the simplest case the view is of an area which will not be interacted with in play, and therefore does not need to adapt to whatever may have changed there:</p>
<!-- START CODE "c9753" -->
<a id="c9753"></a><blockquote class="code"><p class="quoted">
The window is scenery in the Turret. &quot;Through the window you see miles and miles of unbroken forest, turning from green to flame in the hard early autumn.&quot;
</p></blockquote>
<!-- END CODE -->
<p>More interesting is to adapt the view a little to provide a changing picture: a forest may not change much, but a street scene will. <span class="boldface">Port Royal 4</span> allows us to glimpse random passers-by.</p>
<p>The trickiest kind of window allows the player to see another room which can also be encountered in play, and to interact with what is there. <span class="boldface">Dinner is Served</span> presents a shop window, allowing people to see inside from the street, and even to reach through.</p>
<p><span class="boldface">Vitrine</span> handles the complication of a window misting up to become opaque, and thus temporarily hiding its view.</p>
<p>Second, windows provide openings in walls and can act as conduits. <span class="boldface">Escape</span> shows how a &quot;door&quot; in the Inform sense can become a window. <span class="boldface">A Haughty Spirit</span> provides a general kind of window for jumping down out of: ideal for escapers from Colditz-like castles.</p>
<p class="crossreference"><a href="RB_3.html#s5" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Doors, Staircases, and Bridges</b></a><i> for a door which can be partially seen through</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_3.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s5" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_3.html#s5" class="standardlink">Back to §3.5. Doors, Staircases, and Bridges</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s7" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html#s7" class="standardlink">Onward to §3.7. Lighting</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e117" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e117" class="standardlink">Example 116: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Vitrine</b>&#160;&#160;&#160; An electrochromic window that becomes transparent or opaque depending on whether it is currently turned on.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e23" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e23" class="standardlink">Example 21: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Escape</b>&#160;&#160;&#160; Window that can be climbed through or looked through.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e439" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e439" class="standardlink">Example 217: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Dinner is Served</b>&#160;&#160;&#160; A window between two locations. When the window is open, the player can reach through into the other location; when it isn't, access is barred.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e260" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e260" class="standardlink">Example 272: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Port Royal 4</b>&#160;&#160;&#160; A cell window through which the player can see people who were in Port Royal in the current year of game-time.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e388" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e388" class="standardlink">Example 181: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>A Haughty Spirit</b>&#160;&#160;&#160; Windows overlooking lower spaces which will prevent the player from climbing through if the lower space is too far below.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s7"></a>§3.7. Lighting</p>
<p>At any place (room, or inside a container) light is either fully present or fully absent. Inform does not usually try to track intermediate states of lighting, but see <span class="boldface">The Undertomb 2</span> for a single lantern with varying light levels and <span class="boldface">Zorn of Zorna</span> for multiple candles that can be lit for cumulative changes to the light level.</p>
<p>Light can be added to, but not taken away: rooms and things can act as sources of light, by having the &quot;lighted&quot; and &quot;lit&quot; properties respectively, but they cannot be sinks which drain light away. The reason darkness is not a constant hazard in Inform-written games is that rooms always have the &quot;lighted&quot; property unless declared &quot;dark&quot;. (We assume daylight or some always-on electric lighting.) A &quot;dark&quot; room may well still be illuminated if a light source happens to be present:</p>
<!-- START CODE "c9754" -->
<a id="c9754"></a><blockquote class="code"><p class="quoted">
The Deep Crypt is a dark room. The candle lantern is a lit thing in the Deep Crypt.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">Hymenaeus</span> allows us to explicitly refer to torches as &quot;lit&quot; or &quot;unlit&quot;, or (as synonyms) &quot;flaming&quot; or &quot;extinguished&quot;.</p>
<p>For light produced electrically we might want a wall switch, as in <span class="boldface">Down Below</span>, or a portable lamp, as in <span class="boldface">The Dark Ages Revisited</span>.</p>
<p>The fierce, locally confined light thrown out by a carried lamp has a quality quite unlike weak but ambient daylight, and <span class="boldface">Reflections</span> exploits this to make a lantern feel more realistic.</p>
<p>When the player experiences darkness in a location, Inform is usually very guarded in what it reveals. (&quot;It is pitch dark, and you can't see a thing.&quot;) <span class="boldface">Hohmann Transfer</span> gives darkness a quite different look, and <span class="boldface">Four Stars</span> heightens the other senses so that a player in darkness can still detect her surroundings. The first of the two examples in <span class="boldface">Peeled</span> allows exploration of a dark place by touch.</p>
<p>It is sometimes useful to check whether a room that is not the current location happens to contain a light source or be naturally lighted. This poses a few challenges. <span class="boldface">Unblinking</span> demonstrates one way of doing this, so long as there are no backdrop light sources.</p>
<p><span class="boldface">Cloak of Darkness</span> is a short and sweet game based on a light puzzle.</p>
<p class="crossreference"><a href="RB_3.html#s1" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Room Descriptions</b></a><i> for an item that can only be seen in bright light, when an extra lamp is switched on</i></p><p class="crossreference"><a href="RB_6.html#s6" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Looking Under and Hiding</b></a><i> for a looking under action which is helped by the fiercer brightness of a light source</i></p><p class="crossreference"><a href="RB_6.html#s9" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Going, Pushing Things in Directions</b></a><i> for making it hazardous to walk around in the dark</i></p><p class="crossreference"><a href="RB_10.html#s7" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Electricity and Magnetism</b></a><i> for batteries to power a torch or flashlight</i></p><p class="crossreference"><a href="RB_10.html#s8" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Fire</b></a><i> for a non-electrical way to produce light</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_3.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s6" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_3.html#s6" class="standardlink">Back to §3.6. Windows</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s8" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html#s8" class="standardlink">Onward to §3.8. Sounds</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e115" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e115" class="standardlink">Example 194: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Dark Ages Revisited</b>&#160;&#160;&#160; An electric light kind of device which becomes lit when switched on and dark when switched off.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e195" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e195" class="standardlink">Example 312: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hymenaeus</b>&#160;&#160;&#160; Understanding "flaming torch" and "extinguished torch" to refer to torches when lit and unlit.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e344" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e344" class="standardlink">Example 352: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Reflections</b>&#160;&#160;&#160; Emphasizing the reflective quality of shiny objects whenever they are described in the presence of the torch.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e176" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e176" class="standardlink">Example 363: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Peeled</b>&#160;&#160;&#160; Two different approaches to adjusting what the player can interact with, compared.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e29" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e29" class="standardlink">Example 26: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Down Below</b>&#160;&#160;&#160; A light switch which makes the room it is in dark or light.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e402" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e402" class="standardlink">Example 51: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Undertomb 2</b>&#160;&#160;&#160; Flickering lantern-light effects added to the Undertomb.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e190" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e190" class="standardlink">Example 348: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hohmann Transfer</b>&#160;&#160;&#160; Changing the way dark rooms are described to avoid the standard Inform phrasing.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e396" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e396" class="standardlink">Example 81: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Unblinking</b>&#160;&#160;&#160; Finding a best route through light-filled rooms only, leaving aside any that might be dark.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e453" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e453" class="standardlink">Example 347: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Zorn of Zorna</b>&#160;&#160;&#160; Light levels vary depending on the number of candles the player has lit, and this determines whether or not he is able to examine detailed objects successfully.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e425" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e425" class="standardlink">Example 349: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Four Stars 1</b>&#160;&#160;&#160; An elaboration of the idea that when light is absent, the player should be given a description of what he can smell and hear, instead.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e87" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e87" class="standardlink">Example 291: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Cloak of Darkness</b>&#160;&#160;&#160; Implementation of "Cloak of Darkness", a simple example game that for years has been used to demonstrate the features of IF languages.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s8"></a>§3.8. Sounds</p>
<p>It is too easily assumed that room descriptions are what the player sees, but as <span class="boldface">The Undertomb</span> demonstrates, they might just as easily include ambient sounds.</p>
<p>So Inform's &quot;listening to&quot; action is the audio equivalent of &quot;examining&quot;, rather than &quot;looking&quot;. Despite this the player can type LISTEN, which Inform understands as listening to the everything in the location at once. A simple but effective way to handle this is shown in <span class="boldface">The Art of Noise</span>.</p>
<p><span class="boldface">Four Stars 2</span> adjusts the idea of &quot;visibility&quot; to make it behave differently for listening purposes: this introduces a formal idea of &quot;audibility&quot;.</p>
<p class="crossreference"><a href="RB_3.html#s7" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Lighting</b></a><i> for heightened hearing in darkness, and the rest of &quot;Four Stars&quot;</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_3.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s7" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_3.html#s7" class="standardlink">Back to §3.7. Lighting</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s9" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_3.html#s9" class="standardlink">Onward to §3.9. Passers-By, Weather and Astronomical Events</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e401" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e401" class="standardlink">Example 50: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Undertomb 1</b>&#160;&#160;&#160; A small map of dead ends, in which the sound of an underground river has different strengths in different caves.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e426" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e426" class="standardlink">Example 364: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Four Stars 2</b>&#160;&#160;&#160; Using "deciding the scope" to change the content of lists such as "the list of audible things which can be touched by the player".</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e264" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e264" class="standardlink">Example 95: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Art of Noise</b>&#160;&#160;&#160; Things are all assigned their own noise (or silence). Listening to the room in general reports on all the things that are currently audible.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s9"></a>§3.9. Passers-By, Weather and Astronomical Events</p>
<p>Out of doors, nature is seldom still. Clouds scull by at random, as in <span class="boldface">Weathering</span>, and provide some variety in what would otherwise be lifelessly static room descriptions. In much the same way, passers-by and other diversions make a city street a constant bustle: see <span class="boldface">Uptown Girls</span> for this human breeze. A more nagging sense of atmosphere can be experienced in <span class="boldface">Full Moon</span>.</p>
<p><span class="boldface">Orange Cones</span> offers traffic that is present on every road in the story unless a room is marked off with orange cones -- and this is allowed to change during play.</p>
<p><span class="boldface">Night and Day</span> and <span class="boldface">Totality</span> each schedule celestial events to provide a changing display in the sky above, and this time running like clockwork rather than at random.</p>
<p class="crossreference"><a href="RB_4.html#s4" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Scene Changes</b></a><i> for meteors and a moon-rise</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_3.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#s8" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_3.html#s8" class="standardlink">Back to §3.8. Sounds</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_4.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_4.html#s1" class="standardlink">Onward to Chapter 4: Time and Plot: §4.1. The Passage Of Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e430" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e430" class="standardlink">Example 131: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Weathering</b>&#160;&#160;&#160; The automatic weather station atop Mt. Pisgah shows randomly fluctuating temperature, pressure and cloud cover.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e442" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e442" class="standardlink">Example 157: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Full Moon</b>&#160;&#160;&#160; Random atmospheric events which last the duration of a scene.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e262" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e262" class="standardlink">Example 164: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Night and Day</b>&#160;&#160;&#160; Cycling through a sequence of scenes to represent day and night following one another during a game.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e113" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e113" class="standardlink">Example 144: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Totality</b>&#160;&#160;&#160; To schedule an eclipse of the sun, which involves a number of related events.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e276" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e276" class="standardlink">Example 120: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Orange Cones</b>&#160;&#160;&#160; Creating a traffic backdrop that appears in all road rooms except the one in which the player has laid down orange cones.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3.html#e171" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_3.html#e171" class="standardlink">Example 132: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Uptown Girls</b>&#160;&#160;&#160; A stream of random pedestrians who go by the player.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 3: Place</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_3.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_3.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_4.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_4.html" class="standardlink">Chapter 4: Time and Plot</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "147: Night Sky" "e263" -->
<a id="e263"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e263" class="eglink"><b>147</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e263" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Night Sky</span></b></a><br />A room which changes its description depending on whether an object has been examined.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_9.html#e263"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example263">
<p>Sometimes a nice effect is to change the way things are described depending on the information the player has gained in the course of play. We could for instance write this:</p>
<!-- START CODE "c9755_263" -->
<a id="c9755_263"></a><blockquote class="code"><p class="quoted">
&quot;Night Sky&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9756_263" -->
<a id="c9756_263"></a><blockquote class="code"><p class="quoted">
The Planetarium is a room. &quot;[if we have examined the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9757_263" -->
<a id="c9757_263"></a><blockquote class="code"><p class="quoted">
The sinister message is a thing in the Planetarium. &quot;A message is taped to the wall.&quot; The description is &quot;'BEWARE.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9758_263" -->
<a id="c9758_263"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / x message / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>On the other hand, beware that this would not work as desired:</p>
<!-- START CODE "c9759_263" -->
<a id="c9759_263"></a><blockquote class="code"><p class="quoted">
&quot;Night Sky&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9760_263" -->
<a id="c9760_263"></a><blockquote class="code"><p class="quoted">
The Planetarium is a room. &quot;[if we have listened to the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9761_263" -->
<a id="c9761_263"></a><blockquote class="code"><p class="quoted">
The sinister message is a thing in the Planetarium. &quot;A message plays very softly, so that you would have to listen to hear it.&quot; Instead of doing anything other than listening to the message: say &quot;It's only a sound, after all.&quot;. Instead of listening to the sinister message: say &quot;A voice whispers, 'BEWARE'.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9762_263" -->
<a id="c9762_263"></a><blockquote class="code"><p class="quoted">
Test me with &quot;listen to message / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The reason is that our Instead rule has pre-empted normal listening, so Inform considers that we have never successfully heard the message. The moral here is that &quot;if we have...&quot; is useful for tracking events that otherwise proceeded completely normally (picking up ordinary objects, examining things); if we have used instead to make some change, we will have to use a different approach to record that the event did occur as scheduled.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "152: Infiltration" "e199" -->
<a id="e199"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e199" class="eglink"><b>152</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e199" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Infiltration</span></b></a><br />A room whose description changes depending on the number of times the player has visited.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_9.html#e199"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example199">
<p>Suppose we have a location that makes the player uncomfortable, and we want its description to change slightly each time he goes there, to reflect his increasing unease. We also want the door to that room to show whether he is going there for the first time, or whether this is a repeat visit.</p>
<p>We start with an ordinary room:</p>
<!-- START CODE "c9763_199" -->
<a id="c9763_199"></a><blockquote class="code"><p class="quoted">
&quot;Infiltration&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9764_199" -->
<a id="c9764_199"></a><blockquote class="code"><p class="quoted">
The Wasteland is a room. &quot;In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now the door, which will change from saying &quot;leads inside...&quot; to &quot;leads back inside...&quot; when this becomes appropriate:</p>
<!-- START CODE "c9765_199" -->
<a id="c9765_199"></a><blockquote class="code"><p class="quoted">
The portal is a door. It is inside from the Wasteland and outside from the Secure Zone. &quot;[if the player is in the Wasteland]To the west, a[otherwise]A[end if] portal in the cinder-block and barbed wire wall leads[if the player is in the Wasteland and the Zone is visited] back[end if] [if the player is in the Wasteland]inside[otherwise]outside[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here we haven't used any conditions that we didn't know about in previous sections: the portal line only reflects whether the Zone has been visited never or visited once. But the Secure Zone itself makes use of the number of times visited:</p>
<!-- START CODE "c9766_199" -->
<a id="c9766_199"></a><blockquote class="code"><p class="quoted">
The Secure Zone has the description &quot;[if the player is in the Zone for the second time]Re-entering the Zone has not made you any more comfortable inside. [end if]Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don't belong. Not that very many people are visible here[if the player is in the Zone for more than the second time] -- the place seems more desolate than ever[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9767_199" -->
<a id="c9767_199"></a><blockquote class="code"><p class="quoted">
Instead of going west in the Wasteland, try going inside. Instead of going east in the Secure Zone, try going outside.
</p></blockquote>
<!-- END CODE -->
<p>And finally, to be sure that the player does see our fancy changing descriptions:</p>
<!-- START CODE "c9768_199" -->
<a id="c9768_199"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9769_199" -->
<a id="c9769_199"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / open portal / w / look / e / look / w / e / w&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that the description of the Secure Zone changes from visit to visit, but that looking repeatedly during a single visit changes nothing.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "334: Ant-Sensitive Sunglasses" "e12" -->
<a id="e12"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e12" class="eglink"><b>334</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e12" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ant-Sensitive Sunglasses</span></b></a><br />What are activities good for? Controlling output when we want the same action to be able to produce very flexible text depending on the state of the world -- in this case, making highly variable room description and object description text.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e12"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example12">
<p>Suppose we want to create an object -- or maybe even a series of objects -- that warp the player's perception of every room description and object around him.</p>
<p>We've already seen some ways to create variations in text. For instance, we could make a room description with if substitutions in it, like so:</p>
<!-- START CODE "c9770_12" -->
<a id="c9770_12"></a><blockquote class="code"><p class="quoted">
The Kitchen is a room. &quot;[if the player is wearing the sunglasses]Are ants coming out of the sink? No, probably no.[otherwise]A small kitchen tucked into a corner of the vacation house. There is storage space for five or six cups, a sink, a two-ring stove; nothing else to speak of.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<p>That works fine if we have one or two variations we want to add; it's not so good if we're going to have several items that work like the sunglasses, or if we want the sunglasses to override the description of every room in the house.</p>
<p>A slightly more flexible method is to use a substitution that calls out to a say phrase, like this:</p>
<!-- START CODE "c9771_12" -->
<a id="c9771_12"></a><blockquote class="code"><p class="quoted">
The Kitchen is a room. &quot;[kitchen-description]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9772_12" -->
<a id="c9772_12"></a><blockquote class="code"><p class="quoted">
To say kitchen-description:
<br />&#160;&#160;&#160;&#160;if the player is wearing the sunglasses:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Are ants coming out of the sink? No, probably no.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;A small kitchen tucked into a corner of the vacation house. There is storage space for five or six cups, a sink, a two-ring stove; nothing else to speak of.&quot;
</p></blockquote>
<!-- END CODE -->
<p>But again this doesn't handle the case of overriding multiple rooms at once very well.</p>
<p>When we reach a point where we need a given piece of text to be very flexible depending on the world model, it's time to use an activity.</p>
<p>Activities offer several advantages. One, we can create an activity like this:</p>
<!-- START CODE "c9773_12" -->
<a id="c9773_12"></a><blockquote class="code"><p class="quoted">
Printing the room-description of something is an activity.
</p></blockquote>
<!-- END CODE -->
<p>and then write a rule that applies to multiple rooms at once, like:</p>
<!-- START CODE "c9774_12" -->
<a id="c9774_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the room-description of a room when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;The walls look like they're covered with ants. Just a coincidence, I'm sure.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Inform's usual rule-ranking also means that more-specific rules will override less-specific ones, so we could add</p>
<!-- START CODE "c9775_12" -->
<a id="c9775_12"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Rule for printing the room-description of the Kitchen when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;Are ants coming out of the sink? No, probably not.&quot;
</p></blockquote>
<!-- END CODE -->
<p>and have that rule override the behavior of the activity just in the kitchen. Meanwhile, our base room descriptions remain straightforward and uncluttered by if-statements.</p>
<p>Several other examples will show how to hook activities into existing actions: Crusoe goes into detail about how how to make the descriptions of things more variable, and Aftershock demonstrates activities for describing the behavior of switchable devices.</p>
<p>Here, we preview all of those methods, just to get a sense of how they work and why they might be useful in controlling a game. Subsequent chapters go into more detail about the syntax of creating activities and the list of activities that are already defined by Inform.</p>
<!-- START CODE "c9776_12" -->
<a id="c9776_12"></a><blockquote class="code"><p class="quoted">
 &quot;Ant-Sensitive Sunglasses&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9777_12" -->
<a id="c9777_12"></a><blockquote class="code"><p class="quoted">
Part 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<p>To add a new activity to an existing Inform rule, we need to do three things:</p>
<p>1) Define our new activity.</p>
<p>2) Give a basic rule that says what is supposed to happen when that activity occurs, as in &quot;Rule for...&quot;</p>
<p>3) Replace the existing rule in Inform's rulebooks with a new one that calls on our activity.</p>
<p>Here we do this with examining:</p>
<!-- START CODE "c9778_12" -->
<a id="c9778_12"></a><blockquote class="code"><p class="quoted">
Section 1 - Item Description
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9779_12" -->
<a id="c9779_12"></a><blockquote class="code"><p class="quoted">
Printing the description of something is an activity.
</p></blockquote>
<!-- END CODE -->
<p>Now, by default, we want to print the description property; we just want the option to write some extra rules overriding that property. So we tell Inform that our most basic rule for printing the description of something is just to give that description text:</p>
<!-- START CODE "c9780_12" -->
<a id="c9780_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of something (called item):
<br />&#160;&#160;&#160;&#160;if the description of the item is not &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[description of item][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You see nothing special about [the item].&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Next, we need the standard examining rule to look at our printing-the-description activity:</p>
<!-- START CODE "c9781_12" -->
<a id="c9781_12"></a><blockquote class="code"><p class="quoted">
The activity-based examining rule is listed instead of the standard examining rule in the carry out examining rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9782_12" -->
<a id="c9782_12"></a><blockquote class="code"><p class="quoted">
This is the activity-based examining rule:
<br />&#160;&#160;&#160;&#160;carry out the printing the description activity with the noun;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>Now we do the same thing to room descriptions.</p>
<!-- START CODE "c9783_12" -->
<a id="c9783_12"></a><blockquote class="code"><p class="quoted">
Section 2 - Room Description
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9784_12" -->
<a id="c9784_12"></a><blockquote class="code"><p class="quoted">
Printing the room-description of something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9785_12" -->
<a id="c9785_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the room-description of a room (called item):
<br />&#160;&#160;&#160;&#160;if the description of the item is not &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[description of item][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9786_12" -->
<a id="c9786_12"></a><blockquote class="code"><p class="quoted">
The activity-based room description body text rule is listed instead of the room description body text rule in the carry out looking rules.
</p></blockquote>
<!-- END CODE -->
<p>Our replacement rule this time around is a little bit trickier just because the rule that we're replacing is a complicated one: describing a room already checks to see whether there's light to see by, whether the player has turned off room descriptions when he enters a room for the second time, and whether the player character is (say) inside a closed box he can't see out of.</p>
<p>But all of those details are re-copied from the standard rules, and the important thing is that, at the end, we again carry out our activity.</p>
<!-- START CODE "c9787_12" -->
<a id="c9787_12"></a><blockquote class="code"><p class="quoted">
This is the activity-based room description body text rule:
<br />&#160;&#160;&#160;&#160;if the visibility level count is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if set to abbreviated room descriptions, continue the action;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if set to sometimes abbreviated room descriptions and
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;abbreviated form allowed is true and
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;darkness witnessed is true,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;begin the printing the description of a dark room activity;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if handling the printing the description of a dark room activity,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It is pitch dark, and you can't see a thing.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the printing the description of a dark room activity;
<br />&#160;&#160;&#160;&#160;otherwise if the visibility ceiling is the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if set to abbreviated room descriptions, continue the action;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if set to sometimes abbreviated room descriptions and abbreviated form
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;allowed is true and the location is visited, continue the action;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the printing the room-description activity with the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9788_12" -->
<a id="c9788_12"></a><blockquote class="code"><p class="quoted">
Section 3 - Device Description
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9789_12" -->
<a id="c9789_12"></a><blockquote class="code"><p class="quoted">
Showing action of something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9790_12" -->
<a id="c9790_12"></a><blockquote class="code"><p class="quoted">
Rule for showing action of something (called item):
<br />&#160;&#160;&#160;&#160;if the item is switched on, say &quot;[The item] is switched on.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The item] is switched off.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9791_12" -->
<a id="c9791_12"></a><blockquote class="code"><p class="quoted">
The activity-based described devices rule is listed instead of the examine devices rule in the carry out examining rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9792_12" -->
<a id="c9792_12"></a><blockquote class="code"><p class="quoted">
This is the activity-based described devices rule:
<br />&#160;&#160;&#160;&#160;if the noun is a device:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the showing action activity with the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now examine text printed is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9793_12" -->
<a id="c9793_12"></a><blockquote class="code"><p class="quoted">
Report switching on something:
<br />&#160;&#160;&#160;&#160;say &quot;You flip a switch. &quot;;
<br />&#160;&#160;&#160;&#160;carry out the showing action activity with the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9794_12" -->
<a id="c9794_12"></a><blockquote class="code"><p class="quoted">
Part 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9795_12" -->
<a id="c9795_12"></a><blockquote class="code"><p class="quoted">
The Kitchen is a room. &quot;A small kitchen tucked into a corner of the vacation house. There is storage space for five or six cups, a sink, a two-ring stove; nothing else to speak of.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9796_12" -->
<a id="c9796_12"></a><blockquote class="code"><p class="quoted">
The microwave is a device in the Kitchen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9797_12" -->
<a id="c9797_12"></a><blockquote class="code"><p class="quoted">
South of the Kitchen is the Living Area. The description of the Living area is &quot;A whitewashed living/dining/reclining area in what used to be a shepherd's stone hut, but now costs vacationers 600 euros a week. It offers no mod cons, only a straight view of the Mediterranean and a wobbly writing table.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9798_12" -->
<a id="c9798_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the room-description of a room when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;The walls look like they're covered with ants. Just a coincidence, I'm sure[antsy].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9799_12" -->
<a id="c9799_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the room-description of the Kitchen when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;Are ants coming out of the sink? No, probably not[antsy].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9800_12" -->
<a id="c9800_12"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of something (called the item) when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;[The item] [are] [one of]ant-colored[or]ant-legged[or]covered in ants[at random][antsy].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9801_12" -->
<a id="c9801_12"></a><blockquote class="code"><p class="quoted">
Rule for showing action of the microwave:
<br />&#160;&#160;&#160;&#160;say &quot;The microwave hums meaningfully to itself.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9802_12" -->
<a id="c9802_12"></a><blockquote class="code"><p class="quoted">
Rule for showing action of the microwave when the player wears the sunglasses:
<br />&#160;&#160;&#160;&#160;say &quot;The microwave hums as though inhabited by a billion ants[antsy].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9803_12" -->
<a id="c9803_12"></a><blockquote class="code"><p class="quoted">
The player carries sunglasses of freakiness and an apple. The apple is edible. The sunglasses are wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9804_12" -->
<a id="c9804_12"></a><blockquote class="code"><p class="quoted">
ant-paranoia is a number that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9805_12" -->
<a id="c9805_12"></a><blockquote class="code"><p class="quoted">
To say antsy:
<br />&#160;&#160;&#160;&#160;increase ant-paranoia by 1;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9806_12" -->
<a id="c9806_12"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the ant-paranoia is greater than 3:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Augh! AUUUGH! GET THEM OFF--&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story saying &quot;You have lost your mind.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9807_12" -->
<a id="c9807_12"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / turn on microwave / turn off microwave / x apple / x sunglasses / s / wear sunglasses / look / x apple / n / turn on microwave&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "355: Rip Van Winkle" "e325" -->
<a id="e325"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e325" class="eglink"><b>355</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e325" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Rip Van Winkle</span></b></a><br />A simple way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e325"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example325">
<p>There are times when, for greater elegance of prose, we'd like to mention an object in the main body text of a room. For instance:</p>
<!-- START CODE "c9808_325" -->
<a id="c9808_325"></a><blockquote class="code"><p class="quoted">
Here is a lovely, secluded fold in the mountains, far from civilization: as though to prove it, Rip Van Winkle is sleeping under a tree.
</p></blockquote>
<!-- END CODE -->
<p>As we've already seen, that's no problem if Rip is scenery. He'll stay there motionless.</p>
<p>But what if something in the game allows Rip to wake up? Or what if we want to use the same technique on a portable object that the player should be allowed to take? Clearly in that case it's not appropriate to make the mentioned thing be scenery, and at the same time, we need to keep Inform from adding a superfluous</p>
<!-- START CODE "c9809_325" -->
<a id="c9809_325"></a><blockquote class="code"><p class="quoted">
You can see Rip Van Winkle here.
</p></blockquote>
<!-- END CODE -->
<p>to the end of our description.</p>
<p>Here is how:</p>
<!-- START CODE "c9810_325" -->
<a id="c9810_325"></a><blockquote class="code"><p class="quoted">
 &quot;Rip Van Winkle&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9811_325" -->
<a id="c9811_325"></a><blockquote class="code"><p class="quoted">
A person can be asleep.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9812_325" -->
<a id="c9812_325"></a><blockquote class="code"><p class="quoted">
The Catskills is a room. &quot;Here is a lovely, secluded fold in the mountains, far from civilization[if Rip Van Winkle is asleep]: as though to prove it, Rip Van Winkle is sleeping under a tree[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9813_325" -->
<a id="c9813_325"></a><blockquote class="code"><p class="quoted">
A tree is scenery in the Catskills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9814_325" -->
<a id="c9814_325"></a><blockquote class="code"><p class="quoted">
Rip Van Winkle is a man in the Catskills. Rip Van Winkle is asleep.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9815_325" -->
<a id="c9815_325"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items of the Catskills:
<br />&#160;&#160;&#160;&#160;if Rip Van Winkle is marked for listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now Rip Van Winkle is not marked for listing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if Rip Van Winkle is not asleep,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Rip Van Winkle stands here, looking mightily confused.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9816_325" -->
<a id="c9816_325"></a><blockquote class="code"><p class="quoted">
Instead of waiting:
<br />&#160;&#160;&#160;&#160;say &quot;Rip Van Winkle wakes up with a snort.&quot;;
<br />&#160;&#160;&#160;&#160;now Rip Van Winkle is not asleep.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9817_325" -->
<a id="c9817_325"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / z / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "358: Priority Lab" "e301" -->
<a id="e301"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e301" class="eglink"><b>358</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e301" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Priority Lab</span></b></a><br />A debugging rule useful for checking the priorities of objects about to be listed.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e301"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example301">
<p>When it comes time to start manipulating the priorities of items, it is useful to be able to check the table for debugging purposes; the problem is that printing the names of the objects can itself affect the way the room description is generated, foiling our debugging efforts.</p>
<p>What follows is a rule to help with debugging safely, and a sample of how priorities work:</p>
<!-- START CODE "c9818_301" -->
<a id="c9818_301"></a><blockquote class="code"><p class="quoted">
&quot;Priority Lab&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9819_301" -->
<a id="c9819_301"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9820_301" -->
<a id="c9820_301"></a><blockquote class="code"><p class="quoted">
Before printing the locale description (this is the dump locale table rule):
<br />&#160;&#160;&#160;&#160;say &quot;Locale Priority list:&quot;;
<br />&#160;&#160;&#160;&#160;repeat through Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the flag be whether or not the notable-object entry is mentioned;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[line break]  [notable-object entry]: [locale description priority entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the flag is false, now the notable-object entry is not mentioned;
<br />&#160;&#160;&#160;&#160;say line break.
</p></blockquote>
<!-- END CODE -->
<p>Now, let's look at some items put in a specific order. Things with low priority numbers list towards the beginning; things with high priority numbers list towards the end. (It helps to think of it as though we were making a numbered list of the paragraphs to appear in the description.) Anything numbered 0 doesn't appear at all, and the default priority of an object is 1.</p>
<!-- START CODE "c9821_301" -->
<a id="c9821_301"></a><blockquote class="code"><p class="quoted">
A thing can be early-described, late-described, latest-described, never-described, sightline-described, or ordinarily-described. A thing is usually ordinarily-described.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9822_301" -->
<a id="c9822_301"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects (this is the apply early and late description rule):
<br />&#160;&#160;&#160;&#160;repeat with item running through early-described things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a notable-object of item in the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 1; [list before everything else -- this would work with any number lower than 5 and higher than 0]
<br />&#160;&#160;&#160;&#160;repeat with item running through late-described things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a notable-object of item in the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 10; [list after everything else -- this would work with any number larger than 5]
<br />&#160;&#160;&#160;&#160;repeat with item running through never-described things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 0; [don't list at all]
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<p>An important cautionary note: priorities are only honored if the objects are going to get their own paragraphs (with &quot;writing a paragraph about...&quot; or because they have initial appearances). Priorities do not affect the order in which items appear in the final &quot;You can see...&quot; list, except that items with priority 0 or lower are omitted. (If we want to order the items in that list, we may want to resort to the Complex Listing extension by Emily Short.)</p>
<p>There are further refinements available to us: for instance, we could make some things that are only visible if the player is raised above ground level.</p>
<!-- START CODE "c9823_301" -->
<a id="c9823_301"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects (this is the sightline-described things are visible from supporters rule):
<br />&#160;&#160;&#160;&#160;if the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through sightline-described things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a notable-object of item in the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 0; [remove objects that can only be seen from higher objects.]
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<p>It may also be useful to know about the &quot;parameter-object&quot;, which refers to the thing whose contents we are currently describing: the standard rules consider how to describe the contents of the location and then also check the contents of any supporter or container the player may be inside, so in the first case &quot;parameter-object&quot; would be the location, and then in the second the supporter in question.</p>
<p>In practice this is rarely useful, but should we need to change priorities in the case of both player and object being inside a particular container, we might make use of it, for instance:</p>
<!-- START CODE "c9824_301" -->
<a id="c9824_301"></a><blockquote class="code"><p class="quoted">
A thing can be tasteful or icky. A thing is usually tasteful.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9825_301" -->
<a id="c9825_301"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects (this is the icky things next to players rule):
<br />&#160;&#160;&#160;&#160;if the player is on the parameter-object:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through icky things :
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a notable-object of item in the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 10; [remove objects that can only be seen from higher objects.]
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<p>The other thing to note is that by default that final collection of generic objects (&quot;You can also see...&quot;) appears at the end, regardless of the priority of everything else. If we really wanted to, though, we could force something to appear even after that paragraph, by adding a new listing rule to the locale description rules:</p>
<!-- START CODE "c9826_301" -->
<a id="c9826_301"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects (this is the latest-described items priority rule):
<br />&#160;&#160;&#160;&#160;repeat with item running through latest-described things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is a notable-object listed in the Table of Locale Priorities:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is mentioned;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is marked for late listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9827_301" -->
<a id="c9827_301"></a><blockquote class="code"><p class="quoted">
The late listing rule is listed after the you-can-also-see rule in the for printing the locale description rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9828_301" -->
<a id="c9828_301"></a><blockquote class="code"><p class="quoted">
A thing can be marked for late listing. A thing is usually not marked for late listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9829_301" -->
<a id="c9829_301"></a><blockquote class="code"><p class="quoted">
This is the late listing rule:
<br />&#160;&#160;&#160;&#160;if something is marked for late listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Oh! And also [a list of things which are marked for late listing].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now everything is not marked for late listing;
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9830_301" -->
<a id="c9830_301"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9831_301" -->
<a id="c9831_301"></a><blockquote class="code"><p class="quoted">
The Priority Lab is a room. The early bird, the worm, the leaf, the unseen object, the pebble, the twig, and the late edition are things in the Priority Lab.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9832_301" -->
<a id="c9832_301"></a><blockquote class="code"><p class="quoted">
The early bird is early-described. The late edition is late-described. The unseen object is never-described.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9833_301" -->
<a id="c9833_301"></a><blockquote class="code"><p class="quoted">
The worm is icky.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9834_301" -->
<a id="c9834_301"></a><blockquote class="code"><p class="quoted">
The high window is in Priority Lab. It is sightline-described and fixed in place. The initial appearance of the high window is &quot;There's a tiny high window up near the ceiling that you can't see unless you're on top of something.&quot;
</p></blockquote>
<!-- END CODE -->
<p>In order for the priorities we just set to be interesting, let's give out some initial appearances and writing a paragraph rules:</p>
<!-- START CODE "c9835_301" -->
<a id="c9835_301"></a><blockquote class="code"><p class="quoted">
The initial appearance of the worm is &quot;A worm inches along the ground.&quot;
<br />The initial appearance of the late edition is &quot;Finally, the late edition lies at your feet.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9836_301" -->
<a id="c9836_301"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the early bird when the early bird is in a room: say &quot;The early bird always appears first, and here it is.&quot;
<br />Rule for writing a paragraph about the leaf: say &quot;Look, there's [a leaf][unless the leaf is in the location] on [the holder of the leaf][end if]!&quot;
<br />Rule for writing a paragraph about an icky thing (called icky item) which is on something which supports the player: say &quot;Ew, [an icky item] is right next to you.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This procedure also means (as you can test by experiment) that after the late edition has been picked up and dropped again, it lists in no special order in the &quot;you can see...&quot; paragraph (since initial appearances only print when the object has not yet been moved).</p>
<!-- START CODE "c9837_301" -->
<a id="c9837_301"></a><blockquote class="code"><p class="quoted">
The afterthought is a thing in the Priority Lab. It is latest-described.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9838_301" -->
<a id="c9838_301"></a><blockquote class="code"><p class="quoted">
The bar stool is an enterable supporter in Priority Lab.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9839_301" -->
<a id="c9839_301"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get leaf / drop leaf / look / x unseen object / get pebble / look / get twig / look / get afterthought / look / drop twig / look / get late edition / look / drop late edition / sit on bar stool / look / get all / put all on stool / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "359: Low Light" "e231" -->
<a id="e231"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e231" class="eglink"><b>359</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e231" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Low Light</span></b></a><br />An object that is only visible and manipulable when a bright light fixture is on.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e231"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example231">
<p>Suppose we want a different treatment of lighting than the usual: the room isn't totally dark, but there's something we can't see unless we turn on a bright light.</p>
<!-- START CODE "c9840_231" -->
<a id="c9840_231"></a><blockquote class="code"><p class="quoted">
&quot;Low Light&quot;
</p></blockquote>
<!-- END CODE -->
<p>First we make our environment and its light:</p>
<!-- START CODE "c9841_231" -->
<a id="c9841_231"></a><blockquote class="code"><p class="quoted">
The Workroom is a room. The desk is in the Workroom. The brilliant lamp is a device on the desk.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9842_231" -->
<a id="c9842_231"></a><blockquote class="code"><p class="quoted">
To decide whether the light level is high:
<br />&#160;&#160;&#160;&#160;if the brilliant lamp is switched off, no;
<br />&#160;&#160;&#160;&#160;if the player cannot see the brilliant lamp, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9843_231" -->
<a id="c9843_231"></a><blockquote class="code"><p class="quoted">
To decide whether the light level is low:
<br />&#160;&#160;&#160;&#160;if the light level is high, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<p>Now we make a shadow so that the player can only refer to it if the shadow is in inventory or the light is on:</p>
<!-- START CODE "c9844_231" -->
<a id="c9844_231"></a><blockquote class="code"><p class="quoted">
The shadow is a privately-named thing on the desk.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9845_231" -->
<a id="c9845_231"></a><blockquote class="code"><p class="quoted">
Understand &quot;barely-visible&quot; or &quot;barely visible&quot; or &quot;shadow&quot; as the shadow when the light level is high. Understand &quot;invisible&quot; or &quot;shadow&quot; as the shadow when the player encloses the shadow.
</p></blockquote>
<!-- END CODE -->
<p>And finally a couple of extra touches to make it clear why we're able to interact with the shadow when it's in inventory, even if the light is low:</p>
<!-- START CODE "c9846_231" -->
<a id="c9846_231"></a><blockquote class="code"><p class="quoted">
Before printing the name of the shadow:
<br />&#160;&#160;&#160;&#160;if the light level is high:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;barely-visible &quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the player encloses the shadow:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;invisible (but tangible) &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9847_231" -->
<a id="c9847_231"></a><blockquote class="code"><p class="quoted">
After dropping the shadow when the light level is low:
<br />&#160;&#160;&#160;&#160;say &quot;You let it go and it fades into the ambient gloom.&quot;
</p></blockquote>
<!-- END CODE -->
<p>To handle the appearance of the object, we want to set its locale priority to 0: that will prevent it being named in room descriptions.</p>
<!-- START CODE "c9848_231" -->
<a id="c9848_231"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects:
<br />&#160;&#160;&#160;&#160;unless the light level is high:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set locale priority of the shadow to 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9849_231" -->
<a id="c9849_231"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / get shadow / turn on lamp / look / get shadow / i / turn off lamp / i / drop shadow / look / get shadow / turn on lamp / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "4: Slightly Wrong" "e234" -->
<a id="e234"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e234" class="eglink"><b>4</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e234" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Slightly Wrong</span></b></a><br />A room whose description changes slightly after our first visit there.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e234"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example234">
<p>A fairly common effect in interactive fiction is a room which is described differently on the first visit than on subsequent visits. We can produce this effect as follows:</p>
<!-- START CODE "c9850_234" -->
<a id="c9850_234"></a><blockquote class="code"><p class="quoted">
&quot;Slightly Wrong&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9851_234" -->
<a id="c9851_234"></a><blockquote class="code"><p class="quoted">
Awning is a room. &quot;A tan awning is stretched on tent poles over the dig-site, providing a little shade to the workers here; you are at the bottom of a square twenty feet on a side, marked out with pegs and lines of string. Uncovered in the south face of this square is an awkward opening into the earth.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9852_234" -->
<a id="c9852_234"></a><blockquote class="code"><p class="quoted">
Slightly Wrong Chamber is south of the Awning. &quot;[if unvisited]When you first step into the room, you are bothered by the sense that something is not quite right: perhaps the lighting, perhaps the angle of the walls. [end if]A mural on the far wall depicts a woman with a staff, tipped with a pine-cone. She appears to be watching you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9853_234" -->
<a id="c9853_234"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / s / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note the &quot;[if unvisited]...&quot; in the description of the Slightly Wrong Chamber. A room is considered to be &quot;unvisited&quot; until after the player has seen its description for the first time.</p>
<p>The bracketed text creates a special rule for printing; we will learn more about these in the sections on text with variations and text with substitutions.</p>
<p>Some further fine print: we might write our condition as &quot;if unvisited&quot;, &quot;if the location is unvisited&quot;, or &quot;if the Chamber is unvisited&quot; -- all of these constructions would be acceptable, but in the absence of more specifics, the condition is understood to apply to the object whose description it is.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "357: The Eye of the Idol" "e380" -->
<a id="e380"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e380" class="eglink"><b>357</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e380" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Eye of the Idol</span></b></a><br />A systematic way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description, and to control whether supporters list their contents or not.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e380"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example380">
<!-- START CODE "c9854_380" -->
<a id="c9854_380"></a><blockquote class="code"><p class="quoted">
 &quot;The Eye of the Idol&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9855_380" -->
<a id="c9855_380"></a><blockquote class="code"><p class="quoted">
Section 1 - Reusable Material
</p></blockquote>
<!-- END CODE -->
<p>We start by defining relations that let us know where items &quot;belong&quot;, with the understanding that if something is where it belongs, it will be described in the main room description and therefore should not be separately listed. Thus:</p>
<!-- START CODE "c9856_380" -->
<a id="c9856_380"></a><blockquote class="code"><p class="quoted">
Positioning relates various things to various things. The verb to be placed in means the positioning relation. The verb to be placed on implies the positioning relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9857_380" -->
<a id="c9857_380"></a><blockquote class="code"><p class="quoted">
Room-positioning relates various things to various rooms. The verb to be room-placed in means the room-positioning relation.
</p></blockquote>
<!-- END CODE -->
<p>We can't make relations relate various objects to various objects, and rooms are not things, so two separate cases are necessary. An alternative approach would be to say &quot;A thing has an object called the initial placement&quot;, which would allow a thing to have an initial placement that was a room, a supporter, or a container; an advantage of using relations, though, is that that way we can if we like specify multiple placements for the same object, so that, e.g., a sparkling diamond can be described in the main description paragraph as &quot;half-buried in dust&quot; in the beginning of the game, and then at the end as &quot;in the eye of the idol&quot; at the end.</p>
<p>Now we define, based on these relations, an &quot;in-place&quot; adjective, which will identify whether something is in a location which will specially describe it:</p>
<!-- START CODE "c9858_380" -->
<a id="c9858_380"></a><blockquote class="code"><p class="quoted">
Definition: a thing (called prop) is in-place:
<br />&#160;&#160;&#160;&#160;if the prop is in the location and the prop is room-placed in the location, yes;
<br />&#160;&#160;&#160;&#160;if the holder of the prop is a thing and the prop is placed in the holder of the prop, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9859_380" -->
<a id="c9859_380"></a><blockquote class="code"><p class="quoted">
Definition: a thing is out-of-place if it is not in-place.
</p></blockquote>
<!-- END CODE -->
<p>With that done, removing these items automatically from the room description is actually pretty easy:</p>
<!-- START CODE "c9860_380" -->
<a id="c9860_380"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;now every marked for listing in-place thing is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<p>One tricky case remains: when something is placed on a supporter that is scenery, it can be mentioned even if we have marked that object &quot;not marked for listing&quot;. What matters here is not whether the object itself is marked for listing but whether the supporter has been &quot;mentioned&quot;. (A fuller description of how room descriptions are assembled is available in the Looking section of the Commands chapter in the Recipe Book.) So let's also add a feature whereby we can easily suppress the descriptions of these supporters when appropriate:</p>
<!-- START CODE "c9861_380" -->
<a id="c9861_380"></a><blockquote class="code"><p class="quoted">
A supporter can be quiet.
</p></blockquote>
<!-- END CODE -->
<p>A quiet supporter is one that is never mentioned itself and which only mentions its contents if they are out of place. This allows for maximum flexibility in incorporating it into the body of room descriptions.</p>
<!-- START CODE "c9862_380" -->
<a id="c9862_380"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a quiet supporter (called chosen table):
<br />&#160;&#160;&#160;&#160;if an out-of-place thing is on the chosen table:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if an in-place thing is on the chosen table,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;On [the chosen table], in addition to [the list of in-place things on the chosen table], [is-are a list of out-of-place things which are on the chosen table].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;On [a chosen table] [is-are a list of out-of-place things which are on the chosen table].&quot;;
<br />&#160;&#160;&#160;&#160;now the chosen table is mentioned.
</p></blockquote>
<!-- END CODE -->
<p>Notice that we can still override this with writing a paragraph rules about specific supporters in our game, if we decide that we want something a little different in some cases.</p>
<p>Now, an example to test this out:</p>
<!-- START CODE "c9863_380" -->
<a id="c9863_380"></a><blockquote class="code"><p class="quoted">
Section 2 - A Sample Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9864_380" -->
<a id="c9864_380"></a><blockquote class="code"><p class="quoted">
The Sand-Floored Chamber is a room. &quot;The constant wind has filled this chamber with a layer of fine red sand, as soft as powder snow[if the diamond is in the Sand-floored Chamber]. Something sparkling is half-buried in the corner[end if]. A doorway lies open to the north.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9865_380" -->
<a id="c9865_380"></a><blockquote class="code"><p class="quoted">
The sparkling diamond is in the Sand-floored Chamber. The sparkling diamond is room-placed in the Sand-floored Chamber. The description is &quot;It is a vast diamond; the front is faceted, the back smoothed to fit in some sort of socket.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9866_380" -->
<a id="c9866_380"></a><blockquote class="code"><p class="quoted">
The Hexagonal Temple is north of the Sand-Floored Chamber. &quot;The temple walls are great ashlar blocks rising to a hundred feet overhead, perhaps more; the roof is a scarlet awning only, through which the sun filters down in blood hues. Overseeing all is a sculpture in stone and ivory[if the sparkling diamond is in the idol's eye], in whose single eye a vast diamond gleams[end if][mat-and-incense text].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9867_380" -->
<a id="c9867_380"></a><blockquote class="code"><p class="quoted">
To say mat-and-incense text:
<br />&#160;&#160;&#160;&#160;if the mat is in the Temple and the incense stick is on the pedestal:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. A prayer mat at the idol's feet, and an incense stick still burning on the pedestal, indicate that someone was only recently consigning her grievances to the care of the deity&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the mat is in the Temple:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. At the idol's feet, some worshipper has left a prayer mat&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the incense stick is on the pedestal:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. At the idol's side is a pedestal, on which incense still smolders&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We could have done all this with text conditions in the main room description, but it becomes difficult to read when there are too many conditions operating in the same text property, so we break it out into a clearer set of conditions.</p>
<!-- START CODE "c9868_380" -->
<a id="c9868_380"></a><blockquote class="code"><p class="quoted">
The idol is scenery in the Hexagonal Temple. Understand &quot;sculpture&quot; or &quot;stone&quot; or &quot;ivory&quot; as the idol. The description is &quot;The idol is perhaps three times the height of an ordinary man.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9869_380" -->
<a id="c9869_380"></a><blockquote class="code"><p class="quoted">
The idol's eye is part of the idol. It is a container. The description is &quot;[if the diamond is in the idol's eye]It gleams with purpose and righteous wrath[otherwise]A round socket in the center of the idol's forehead from which something seems to be missing[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9870_380" -->
<a id="c9870_380"></a><blockquote class="code"><p class="quoted">
The pedestal is a quiet supporter in the Hexagonal Temple. On the pedestal is an incense stick. The incense stick is placed on the pedestal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9871_380" -->
<a id="c9871_380"></a><blockquote class="code"><p class="quoted">
A mat is in the Hexagonal Temple. It is room-placed in the Hexagonal Temple. The description is &quot;Woven of assorted grasses.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9872_380" -->
<a id="c9872_380"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get diamond / look / n / get mat / look / drop diamond / look / get diamond / put diamond in eye / look / get incense / look / drop mat / look / get mat / put mat on pedestal / look / put incense on pedestal / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "362: Copper River" "e93" -->
<a id="e93"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e93" class="eglink"><b>362</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e93" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Copper River</span></b></a><br />Manipulating room descriptions so that only interesting items are mentioned, while objects that are present but not currently useful to the player are ignored.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e93"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example93">
<p>In a very dense environment, we might want to offer the player room descriptions in which only the currently-interesting items are mentioned, while other objects are suppressed even if they are present. In effect, this takes the idea of scenery and makes it more flexible: different things might become background objects or foreground objects at different times during play.</p>
<p>There are a wide range of possible reasons to do this -- to shift the narrative emphasis, to change the mood of the game by highlighting different parts of the environment, to show the game from the perspective of different viewpoint characters -- but in the following example, our goal is to show the player only the objects that are currently useful for puzzles.</p>
<p>To do this, we need some notion of what puzzles are currently available and unsolved, so we make an &quot;unsolved&quot; adjective; we also need to know which things solve the puzzle, so we create a &quot;resolving&quot; relation, to indicate which objects resolve which problems.</p>
<p>Given that information, we can create rules about which objects in the game world are currently interesting, which are currently dull, and describe accordingly:</p>
<!-- START CODE "c9873_93" -->
<a id="c9873_93"></a><blockquote class="code"><p class="quoted">
&quot;Copper River&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9874_93" -->
<a id="c9874_93"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9875_93" -->
<a id="c9875_93"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9876_93" -->
<a id="c9876_93"></a><blockquote class="code"><p class="quoted">
Resolving relates various things to various things. The verb to resolve means the resolving relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9877_93" -->
<a id="c9877_93"></a><blockquote class="code"><p class="quoted">
Definition: a thing is interesting if it is not dull.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9878_93" -->
<a id="c9878_93"></a><blockquote class="code"><p class="quoted">
Definition: a person is dull:
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9879_93" -->
<a id="c9879_93"></a><blockquote class="code"><p class="quoted">
Definition: a thing is dull:
<br />&#160;&#160;&#160;&#160;if it is unsolved, no;
<br />&#160;&#160;&#160;&#160;if it resolves an unsolved thing, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9880_93" -->
<a id="c9880_93"></a><blockquote class="code"><p class="quoted">
Definition: a supporter is dull:
<br />&#160;&#160;&#160;&#160;if it is unsolved, no;
<br />&#160;&#160;&#160;&#160;if it resolves an unsolved thing, no;
<br />&#160;&#160;&#160;&#160;if it supports an interesting thing, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9881_93" -->
<a id="c9881_93"></a><blockquote class="code"><p class="quoted">
Definition: a container is dull:
<br />&#160;&#160;&#160;&#160;if it is unsolved, no;
<br />&#160;&#160;&#160;&#160;if it resolves an unsolved thing, no;
<br />&#160;&#160;&#160;&#160;if it contains an interesting thing, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9882_93" -->
<a id="c9882_93"></a><blockquote class="code"><p class="quoted">
After choosing notable locale objects:
<br />&#160;&#160;&#160;&#160;repeat with item running through unsolved things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set the locale priority of the item to 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9883_93" -->
<a id="c9883_93"></a><blockquote class="code"><p class="quoted">
For printing a locale paragraph about a dull thing (called item):
<br />&#160;&#160;&#160;&#160;now the item is mentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9884_93" -->
<a id="c9884_93"></a><blockquote class="code"><p class="quoted">
Before printing a locale paragraph about a supporter (called item):
<br />&#160;&#160;&#160;&#160;now every dull thing on the item is mentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9885_93" -->
<a id="c9885_93"></a><blockquote class="code"><p class="quoted">
Before printing a locale paragraph about a container (called item):
<br />&#160;&#160;&#160;&#160;now every dull thing on the item is mentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9886_93" -->
<a id="c9886_93"></a><blockquote class="code"><p class="quoted">
Instead of searching a supporter:
<br />&#160;&#160;&#160;&#160;if the noun supports something interesting:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[A list of interesting things on the noun] [are] on [the noun]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun supports something dull:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; (alongside [a list of dull things on the noun])&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the noun supports something dull:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There's nothing very useful here, only [a list of dull things on the noun].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] [are] completely bare.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9887_93" -->
<a id="c9887_93"></a><blockquote class="code"><p class="quoted">
Instead of searching a container:
<br />&#160;&#160;&#160;&#160;if the noun contains something interesting:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[A list of interesting things in the noun] [are] in [the noun]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun contains something dull:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; (alongside [a list of dull things in the noun])&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the noun contains something dull:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There's nothing very useful here, only [a list of dull things in the noun].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] [are] completely empty.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9888_93" -->
<a id="c9888_93"></a><blockquote class="code"><p class="quoted">
Before listing contents when not taking inventory: group dull things together.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9889_93" -->
<a id="c9889_93"></a><blockquote class="code"><p class="quoted">
Rule for grouping together dull things: say &quot;assorted dull items&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9890_93" -->
<a id="c9890_93"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario World and Objects
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9891_93" -->
<a id="c9891_93"></a><blockquote class="code"><p class="quoted">
The Kitchen is a room. &quot;Your Aunt Fiona's kitchen looks as though it has been at the eye of a glitter storm. Fine, sparkling grit dusts every surface. The appliances are slightly askew, too, as though they hadn't quite settled after a vigorous earthquake.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9892_93" -->
<a id="c9892_93"></a><blockquote class="code"><p class="quoted">
The shelf is a scenery supporter in the Kitchen. On the shelf is a can of beans, a can of potato leek soup, and a tin of deflating powder.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9893_93" -->
<a id="c9893_93"></a><blockquote class="code"><p class="quoted">
The cabinet is a scenery container in the Kitchen. In the cabinet is a book of matches, a bottle of descaling solution, a fish hook, and a rusty knife. It is openable and closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9894_93" -->
<a id="c9894_93"></a><blockquote class="code"><p class="quoted">
The counter is a scenery supporter in the Kitchen. On the counter is an espresso machine, a blender, and a mortar. The blender and the mortar are containers. In the mortar is a pestle. Understand &quot;countertop&quot; as the counter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9895_93" -->
<a id="c9895_93"></a><blockquote class="code"><p class="quoted">
The stove is a scenery supporter in the Kitchen. The oven is part of the stove. The oven is a closed openable container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9896_93" -->
<a id="c9896_93"></a><blockquote class="code"><p class="quoted">
The refrigerator is a fixed in place container in the Kitchen.
<br />&#160;&#160;&#160;&#160;Understand &quot;fridge&quot; as the refrigerator.
<br />&#160;&#160;&#160;&#160;The description is &quot;The refrigerator is a dull blue-green, and has a puffy, marshmallow texture on the outside, which means that it's no good for sticking magnets to. Aunt Fiona has never been willing to explain where she got it.&quot; The refrigerator is openable and closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9897_93" -->
<a id="c9897_93"></a><blockquote class="code"><p class="quoted">
In the refrigerator are a bottle of ice wine, a bag of carrot sticks, and an egg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9898_93" -->
<a id="c9898_93"></a><blockquote class="code"><p class="quoted">
Aunt Fiona is a woman in the Kitchen. Aunt Fiona can be inflated or deflated. Aunt Fiona is inflated. &quot;[if Aunt Fiona is inflated]Aunt Fiona stands nearby. Or perhaps 'stands' is the wrong word: she has been sort of puffed up in her own skin like a balloon, and is now propped in a corner of the room with her head lolling back[otherwise]Aunt Fiona stands -- on her own two slender legs -- at the center of the room[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9899_93" -->
<a id="c9899_93"></a><blockquote class="code"><p class="quoted">
Every turn when Fiona is unsolved and Fiona can see the player:
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[one of]Aunt Fiona's eyes follow you, wide and desperate, but it doesn't look like she's able to do anything[or]Aunt Fiona is still looking reproachful[or]A faint gurgling comes from Aunt Fiona[or]Aunt Fiona makes a funny croak noise[or]Aunt Fiona is still having trouble speaking. Perhaps her throat is as swollen as the rest of her[or]Aunt Fiona twitches[stopping].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9900_93" -->
<a id="c9900_93"></a><blockquote class="code"><p class="quoted">
There is a thing called a salmon. Understand &quot;fish&quot; as the salmon. The salmon can be scaly or prepared. The salmon is scaly. The description is &quot;[if scaly]It looks delicious, but is still covered with scales[otherwise]The salmon has been scaled and is ready to eat[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9901_93" -->
<a id="c9901_93"></a><blockquote class="code"><p class="quoted">
Before printing the name of the salmon when the salmon is scaly:
<br />&#160;&#160;&#160;&#160;say &quot;very scaly &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9902_93" -->
<a id="c9902_93"></a><blockquote class="code"><p class="quoted">
Section 3 - Scenario Puzzles
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9903_93" -->
<a id="c9903_93"></a><blockquote class="code"><p class="quoted">
Definition: Aunt Fiona is unsolved if she is inflated.
<br />Definition: the salmon is unsolved:
<br />&#160;&#160;&#160;&#160;if the salmon is off-stage, no;
<br />&#160;&#160;&#160;&#160;if the salmon is scaly, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9904_93" -->
<a id="c9904_93"></a><blockquote class="code"><p class="quoted">
The deflating powder resolves Aunt Fiona.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9905_93" -->
<a id="c9905_93"></a><blockquote class="code"><p class="quoted">
Instead of putting the deflating powder on Aunt Fiona:
<br />&#160;&#160;&#160;&#160;try throwing the deflating powder at Aunt Fiona.
<br />Instead of giving the deflating powder to Aunt Fiona:
<br />&#160;&#160;&#160;&#160;try throwing the deflating powder at Aunt Fiona.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9906_93" -->
<a id="c9906_93"></a><blockquote class="code"><p class="quoted">
Instead of throwing the deflating powder at Aunt Fiona:
<br />&#160;&#160;&#160;&#160;if Aunt Fiona is inflated:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You toss some of the powder in Aunt Fiona's direction, and with a sudden gaseous HUFF! she returns to her usual shape and size. [paragraph break]'Well!' she says, brushing herself off. 'That was bracing!' [paragraph break]You give her an embarrassed smile, to apologize for not curing her faster.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now Aunt Fiona is deflated;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the score by 2;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[one of]You throw another hefty dose of the powder at your aunt. [paragraph break]'Thank you, child,' she says, sneezing. 'But I think you've done enough now.'[or]You throw another hefty dose of the powder at your aunt. [paragraph break]'You're too kind,' she wheezes, through a cloud of glittering dust.[or]You've probably done enough with the powder.[stopping]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9907_93" -->
<a id="c9907_93"></a><blockquote class="code"><p class="quoted">
Every turn when Aunt Fiona is deflated and the salmon is off-stage:
<br />&#160;&#160;&#160;&#160;move the salmon to the counter;
<br />&#160;&#160;&#160;&#160;say &quot;'At least they didn't get this,' she says, producing from somewhere on her person a fresh-caught salmon. An odd pattern around its eye sockets makes it looks comically as though it wears spectacles. 'It's the Salmon of Knowledge,' she explains casually. 'We just need to scale and cook it.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9908_93" -->
<a id="c9908_93"></a><blockquote class="code"><p class="quoted">
The bottle of descaling solution resolves the salmon.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9909_93" -->
<a id="c9909_93"></a><blockquote class="code"><p class="quoted">
Does the player mean putting the descaling solution on the fish hook: it is unlikely.
<br />Does the player mean putting the descaling solution on the salmon: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9910_93" -->
<a id="c9910_93"></a><blockquote class="code"><p class="quoted">
Instead of putting the bottle of descaling solution on the salmon:
<br />&#160;&#160;&#160;&#160;if the salmon is scaly:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the salmon is prepared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;With just a single squirt of the descaling solution (which confusingly has a picture of bathroom tiles on the label), you remove the scales from the salmon, leaving its pink flesh ready for preparation.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the score by 2;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Don't do that,' Aunt Fiona warns you. 'Excessive applications could damage the flesh.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9911_93" -->
<a id="c9911_93"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / get powder / drop powder / look / look in cabinet / get powder / put powder on fiona / look / open cabinet / look in cabinet / get solution / open fridge / put solution in fridge / look / get solution / put solution on salmon / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "5: Port Royal 1" "e331" -->
<a id="e331"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e331" class="eglink"><b>5</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e331" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 1</span></b></a><br />A partial implementation of Port Royal, Jamaica, set before the earthquake of 1692 demolished large portions of the city.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e331"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example331">
<!-- START CODE "c9912_331" -->
<a id="c9912_331"></a><blockquote class="code"><p class="quoted">
&quot;1691&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9913_331" -->
<a id="c9913_331"></a><blockquote class="code"><p class="quoted">
Fort James is a room. &quot;The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Unless we arrange otherwise, this will be the first room in the game because it is the first we have defined.</p>
<p>For subsequent rooms, we do not have to say explicitly that they are rooms, as long as they are connected to a room on the map. For instance, this will automatically make Thames Street End a room:</p>
<!-- START CODE "c9914_331" -->
<a id="c9914_331"></a><blockquote class="code"><p class="quoted">
Thames Street End is south of Fort James. &quot;The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond. Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9915_331" -->
<a id="c9915_331"></a><blockquote class="code"><p class="quoted">
Water Lane is east of Thames Street End. &quot;Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9916_331" -->
<a id="c9916_331"></a><blockquote class="code"><p class="quoted">
Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town.&quot;
</p></blockquote>
<!-- END CODE -->
<p>If we have some concern that the room name will be confused with an existing name, we can be more explicit about it using &quot;called&quot;:</p>
<!-- START CODE "c9917_331" -->
<a id="c9917_331"></a><blockquote class="code"><p class="quoted">
East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description &quot;To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9918_331" -->
<a id="c9918_331"></a><blockquote class="code"><p class="quoted">
The Private Alley is south of Thames Street at the Wherry Bridge. &quot;You're just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now we get &quot;inside&quot;, which generates a space treated as its own area on the map.</p>
<!-- START CODE "c9919_331" -->
<a id="c9919_331"></a><blockquote class="code"><p class="quoted">
The Feathers is inside from the Private Alley.  &quot;Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There's a room upstairs for those wanting to stay the night.&quot; The Feathers Bedroom is above the Feathers.
</p></blockquote>
<!-- END CODE -->
<p>And if we like we can declare a number of rooms for which we will come back and write the descriptions later. There is no obligation for the description to occur at the first definition of the room.</p>
<!-- START CODE "c9920_331" -->
<a id="c9920_331"></a><blockquote class="code"><p class="quoted">
Lime Street is south of Thames Street End.
</p></blockquote>
<!-- END CODE -->
<p>For efficiency, we can also write multiple sets of connections at once:</p>
<!-- START CODE "c9921_331" -->
<a id="c9921_331"></a><blockquote class="code"><p class="quoted">
Queen Street East is east of Queen Street Middle and south of Private Alley.
</p></blockquote>
<!-- END CODE -->
<p>Clicking Go will translate this description into a sketchy but working simulation of Port Royal, in which we can type movement commands like EAST or SOUTH to explore the streets. Looking at the World tab of the Index, we can also see a schematic map of the simulation as it currently stands. Like the rest of the Index, this is provided entirely for the author's benefit, and is not visible to the player. (Though if we do decide that we want players to have access to a printed map while they play, Inform can help: we will return to the layout of Port Royal in the chapter on Publishing.)</p>
<p>The following Test command allows us to type TEST ME and explore the map we just devised:</p>
<!-- START CODE "c9922_331" -->
<a id="c9922_331"></a><blockquote class="code"><p class="quoted">
Test me with &quot;s / e / e / s / in&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "8: Port Royal 2" "e332" -->
<a id="e332"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e332" class="eglink"><b>8</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e332" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 2</span></b></a><br />Another part of Port Royal, with less typical map connections.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e332"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example332">
<!-- START CODE "c9923_332" -->
<a id="c9923_332"></a><blockquote class="code"><p class="quoted">
&quot;1691&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9924_332" -->
<a id="c9924_332"></a><blockquote class="code"><p class="quoted">
Thames Street End is a room.
</p></blockquote>
<!-- END CODE -->
<p>If we check out a map of historic Port Royal, we find that Thames Street End bends around the northwest tip of the peninsula and becomes the (very) roughly north/south Fisher's Row. We can't put Fisher's Row south of Thames Street End, though, because Lime Street is already going that way. So instead, let's have a map connection that bends around from west to north:</p>
<!-- START CODE "c9925_332" -->
<a id="c9925_332"></a><blockquote class="code"><p class="quoted">
West of Thames Street End is north of Fisher's Row.
</p></blockquote>
<!-- END CODE -->
<p>Now continuing west along Thames Street, or north along Fisher's Row, will bring us around the corner in question. Asymmetric map connections should be used carefully. They're good for representing the layout of the real world, which tends not to be laid out on a convenient square matrix, but if exits are not described clearly they can be disorienting for the player. So let's be sure to make things clear:</p>
<!-- START CODE "c9926_332" -->
<a id="c9926_332"></a><blockquote class="code"><p class="quoted">
The description of Fisher's Row is &quot;A waterfront street that runs south towards Chocolata Hole, where the small craft are harboured. It also continues north around the tip of the peninsula from here, turning into the east-west Thames Street.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Meanwhile, suppose Fort James is in a prominent position, raised a bit from its surroundings; maybe the player should be able to go down from there, as well as south, to get to Thames Street End.</p>
<!-- START CODE "c9927_332" -->
<a id="c9927_332"></a><blockquote class="code"><p class="quoted">
Thames Street End is down from Fort James. Thames Street End is south from Fort James.
</p></blockquote>
<!-- END CODE -->
<p>But we don't want the upward direction to work:</p>
<!-- START CODE "c9928_332" -->
<a id="c9928_332"></a><blockquote class="code"><p class="quoted">
Up from Thames Street End is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9929_332" -->
<a id="c9929_332"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / d / u / w / e / n / s&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "10: Port Royal 3" "e333" -->
<a id="e333"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e333" class="eglink"><b>10</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e333" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 3</span></b></a><br />Division of Port Royal into regions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e333"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example333">
<!-- START CODE "c9930_333" -->
<a id="c9930_333"></a><blockquote class="code"><p class="quoted">
&quot;1691&quot;
</p></blockquote>
<!-- END CODE -->
<p>We should go ahead and do all our room definitions first...</p>
<!-- START CODE "c9931_333" -->
<a id="c9931_333"></a><blockquote class="code"><p class="quoted">
Fort James is a room. &quot;The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9932_333" -->
<a id="c9932_333"></a><blockquote class="code"><p class="quoted">
Thames Street End is south of Fort James. &quot;The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond.  Most of that stretch is full of people at all hours.  Imported goods are moved off of ships and taken to distributors; exported goods are brought to be loaded; and there is one public house and brothel for every ten inhabitants.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9933_333" -->
<a id="c9933_333"></a><blockquote class="code"><p class="quoted">
Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9934_333" -->
<a id="c9934_333"></a><blockquote class="code"><p class="quoted">
Lime Street is south of Thames Street End. West of Thames Street End is north of Fisher's Row. The description of Fisher's Row is &quot;A waterfront street that runs south towards Chocolata Hole, where the small craft are harboured. It also continues north around the tip of the peninsula from here, turning into the east-west Thames Street.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9935_333" -->
<a id="c9935_333"></a><blockquote class="code"><p class="quoted">
Thames Street End is down from Fort James. Up from Thames Street End is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9936_333" -->
<a id="c9936_333"></a><blockquote class="code"><p class="quoted">
Water Lane is east of Thames Street End. &quot;Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9937_333" -->
<a id="c9937_333"></a><blockquote class="code"><p class="quoted">
Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9938_333" -->
<a id="c9938_333"></a><blockquote class="code"><p class="quoted">
East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description &quot;To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9939_333" -->
<a id="c9939_333"></a><blockquote class="code"><p class="quoted">
The Fishmarket is southwest of Thames Street at the Wherry Bridge.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9940_333" -->
<a id="c9940_333"></a><blockquote class="code"><p class="quoted">
The Private Alley is south of Thames Street at the Wherry Bridge. &quot;You're just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9941_333" -->
<a id="c9941_333"></a><blockquote class="code"><p class="quoted">
The Feathers is inside from the Private Alley.  &quot;Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There's a room upstairs for those wanting to stay the night.&quot; The Feathers Bedroom is above the Feathers.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9942_333" -->
<a id="c9942_333"></a><blockquote class="code"><p class="quoted">
Thames Street by the King's House is east of Thames Street at the Wherry Bridge.  &quot;The King's House is reserved for the use of the Governor, but he does not live in it, and it is frequently being rented out to some merchant so that the government will at least derive some value from it. It is nearly the least interesting establishment on Thames Street, and the crowd -- which, to the west, is extremely dense -- here thins out a bit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9943_333" -->
<a id="c9943_333"></a><blockquote class="code"><p class="quoted">
Thames Street before Fort Carlisle is east of Thames Street by the King's House. &quot;Here Thames Street, formerly a respectable width, narrows to a footpath in order to edge around the front of Fort Carlisle, underneath the mouths of the cannon.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9944_333" -->
<a id="c9944_333"></a><blockquote class="code"><p class="quoted">
There are no buildings on the harbour side of Thames Street at this point, which means that you have an unusually good view of the ships at dock, water beyond, and the Blue Mountains rising on the other side of the harbour.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9945_333" -->
<a id="c9945_333"></a><blockquote class="code"><p class="quoted">
South of Thames Street before Fort Carlisle is a room called Fort Carlisle. The description of Fort Carlisle is &quot;Handsomely arrayed with cannons which you could fire at any moment -- though of course there are ships at dock which might be in the way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9946_333" -->
<a id="c9946_333"></a><blockquote class="code"><p class="quoted">
Queen Street End is south of Lime Street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9947_333" -->
<a id="c9947_333"></a><blockquote class="code"><p class="quoted">
Queen Street Middle is east of Queen Street End.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9948_333" -->
<a id="c9948_333"></a><blockquote class="code"><p class="quoted">
Queen Street East is east of Queen Street Middle and south of Private Alley.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9949_333" -->
<a id="c9949_333"></a><blockquote class="code"><p class="quoted">
Queen Street at the Prison is east of Queen Street East.
</p></blockquote>
<!-- END CODE -->
<p>Now, if we like, we can create regions to distinguish the coast from the portions of town that aren't on the water:</p>
<!-- START CODE "c9950_333" -->
<a id="c9950_333"></a><blockquote class="code"><p class="quoted">
Inland is a region. Queen Street End, Queen Street Middle, Queen Street East, Private Alley, Lime Street, and Queen Street at the Prison are in Inland.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9951_333" -->
<a id="c9951_333"></a><blockquote class="code"><p class="quoted">
Waterfront is a region. Thames Street before Fort Carlisle, Thames Street by the King's House, Thames Street at the Wherry Bridge, Water Lane, Fishmarket, Fisher's Row, and Thames Street End are in Waterfront.
</p></blockquote>
<!-- END CODE -->
<p>There's no rule that regions must be contiguous, so we could if we like make a region consisting just of the two forts:</p>
<!-- START CODE "c9952_333" -->
<a id="c9952_333"></a><blockquote class="code"><p class="quoted">
Military Holdings is a region. Fort Carlisle and Fort James are in Military Holdings.
</p></blockquote>
<!-- END CODE -->
<p>And we might make the Feathers Tavern part of the Inland area, but within its own subcategory:</p>
<!-- START CODE "c9953_333" -->
<a id="c9953_333"></a><blockquote class="code"><p class="quoted">
Tavern is a region. It is in Inland. Feathers and Feathers Bedroom are in Tavern.
</p></blockquote>
<!-- END CODE -->
<p>Now the index map will be colored to reflect our regions, and later in the game development we would be able to make rules that affect just one region at a time.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "78: All Roads Lead to Mars" "e288" -->
<a id="e288"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e288" class="eglink"><b>78</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e288" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">All Roads Lead to Mars</span></b></a><br />Layout where the player is allowed to wander any direction he likes, and the map will arrange itself in order so that he finds the correct "next" location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_6.html#e288"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example288">
<p>Suppose we want to allow the player to wander freely in any direction, but ourselves maintain control over the order in which he encounters the rooms. This sort of effect emphasizes the order of the story-telling over any kind of rigorous simulation of space; on multiple play-throughs, the player might not find all the same rooms in the same locations.</p>
<!-- START CODE "c9954_288" -->
<a id="c9954_288"></a><blockquote class="code"><p class="quoted">
&quot;All Roads Lead to Mars&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9955_288" -->
<a id="c9955_288"></a><blockquote class="code"><p class="quoted">
Before going a direction (called way) when a room (called next location) is not visited:
<br />&#160;&#160;&#160;&#160;let further place be the room the way from the location;
<br />&#160;&#160;&#160;&#160;if further place is a room, continue the action;
<br />&#160;&#160;&#160;&#160;change the way exit of the location to the next location;
<br />&#160;&#160;&#160;&#160;let reverse be the opposite of the way;
<br />&#160;&#160;&#160;&#160;change the reverse exit of the next location to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9956_288" -->
<a id="c9956_288"></a><blockquote class="code"><p class="quoted">
The Open Plain is a room. &quot;A wide-open grassy expanse, from which you could really go any way at all.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9957_288" -->
<a id="c9957_288"></a><blockquote class="code"><p class="quoted">
The Hilly Place is a room. &quot;The grassland gives way to a somewhat more hilly area, though there is still very little to guide you any particular way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9958_288" -->
<a id="c9958_288"></a><blockquote class="code"><p class="quoted">
The Stream is a room. &quot;This is the third place you've been today, and so the stream is welcome. How refreshing!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9959_288" -->
<a id="c9959_288"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / s / e / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted still to be able to find routes between places, we could define a relationship of connection between rooms, which we would add to as we went along.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "125: Bee Chambers" "e27" -->
<a id="e27"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e27" class="eglink"><b>125</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e27" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bee Chambers</span></b></a><br />A maze with directions between rooms randomized at the start of play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e27"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example27">
<p>Mazes are a traditional element of interactive fiction, often consisting of apparently identical rooms with exits that do not work reciprocally and which cause confusion.</p>
<p>The methods of mapping mazes are now fairly well understood and mazes themselves tend to be regarded as tiresome rather than enjoyable by a large portion of the playing audience. However, if we did want to ignore the common wisdom and create a maze, randomly generated at the start of play, here would be one way to go about it:</p>
<!-- START CODE "c9960_27" -->
<a id="c9960_27"></a><blockquote class="code"><p class="quoted">
&quot;Maze of Gloom&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9961_27" -->
<a id="c9961_27"></a><blockquote class="code"><p class="quoted">
A Bee Chamber is a kind of room. The printed name of a Bee Chamber is usually &quot;Hexagonal Room&quot;. The description of a Bee Chamber is usually &quot;Waxy, translucent walls surround you on six sides; the floor and ceiling are made of the same material, gently uneven. There are exits in every direction, cut into the faces or the corners.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9962_27" -->
<a id="c9962_27"></a><blockquote class="code"><p class="quoted">
Bee1, Bee2, Bee3, Bee4, Bee5, Bee6, Bee7, Bee8, Bee9, and Bee10 are Bee Chambers.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9963_27" -->
<a id="c9963_27"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;[number of visited rooms]/[number of rooms]&quot;;
<br />&#160;&#160;&#160;&#160;repeat with place running through Bee Chambers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped north of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped northwest of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped west of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped southwest of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped south of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped southeast of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped east of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped northeast of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped above place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped below place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped inside place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped outside place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9964_27" -->
<a id="c9964_27"></a><blockquote class="code"><p class="quoted">
Test me with &quot;in / out / up / down / n / ne / nw / e / w / sw / se / s&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "134: Zork II" "e66" -->
<a id="e66"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e66" class="eglink"><b>134</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e66" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zork II</span></b></a><br />A "Carousel Room", as in Zork II, where moving in any direction from the room leads (at random) to one of the eight rooms nearby.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e66"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example66">
<p>All we need to do is select the player's destination for him at random:</p>
<!-- START CODE "c9965_66" -->
<a id="c9965_66"></a><blockquote class="code"><p class="quoted">
&quot;Zork II&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9966_66" -->
<a id="c9966_66"></a><blockquote class="code"><p class="quoted">
The Carousel Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9967_66" -->
<a id="c9967_66"></a><blockquote class="code"><p class="quoted">
Instead of going from the Carousel Room:
<br />&#160;&#160;&#160;&#160;move the player to a random adjacent room.
</p></blockquote>
<!-- END CODE -->
<p>To avoid infringing the original game too much, let's try a somewhat different setting:</p>
<!-- START CODE "c9968_66" -->
<a id="c9968_66"></a><blockquote class="code"><p class="quoted">
The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women's Toilet is southwest of the Carousel Room. The Men's Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9969_66" -->
<a id="c9969_66"></a><blockquote class="code"><p class="quoted">
Test me with &quot;s&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And the following means that the test runs consistently even though the numbers are theoretically random. To make them truly random, remove this line.</p>
<!-- START CODE "c9970_66" -->
<a id="c9970_66"></a><blockquote class="code"><p class="quoted">
When play begins, seed the random-number generator with 1234.
</p></blockquote>
<!-- END CODE -->
<p>Or if we want to add the refinement that the Carousel Room can be switched off:</p>
<!-- START CODE "c9971_66" -->
<a id="c9971_66"></a><blockquote class="code"><p class="quoted">
&quot;Zork II&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9972_66" -->
<a id="c9972_66"></a><blockquote class="code"><p class="quoted">
The Carousel Room is a room. The spinning machine is a switched on device in the Carousel Room.
</p></blockquote>
<!-- END CODE -->
<p>And then</p>
<!-- START CODE "c9973_66" -->
<a id="c9973_66"></a><blockquote class="code"><p class="quoted">
Instead of going from the Carousel Room when the spinning machine is switched on:
<br />&#160;&#160;&#160;&#160;move the player to a random adjacent room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9974_66" -->
<a id="c9974_66"></a><blockquote class="code"><p class="quoted">
The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women's Toilet is southwest of the Carousel Room. The Men's Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9975_66" -->
<a id="c9975_66"></a><blockquote class="code"><p class="quoted">
Test me with &quot;turn off machine / s / n / turn on machine / s&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9976_66" -->
<a id="c9976_66"></a><blockquote class="code"><p class="quoted">
When play begins, seed the random-number generator with 1234.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "286: Indirection" "e88" -->
<a id="e88"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e88" class="eglink"><b>286</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e88" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Indirection</span></b></a><br />Renaming the directions of the compass so that "white" corresponds to north, "red" to east, "yellow" to south, and "black" to west.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e88"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example88">
<p>In Mayan culture, colours seem to have been used as names for the primary directions: for instance, &quot;red&quot; implies east as the colour of sunrise. So the following might be a stylish touch for a game in which the player has to get inside the Mayan world-view:</p>
<!-- START CODE "c9977_88" -->
<a id="c9977_88"></a><blockquote class="code"><p class="quoted">
&quot;Indirection&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9978_88" -->
<a id="c9978_88"></a><blockquote class="code"><p class="quoted">
Understand &quot;white&quot; and &quot;sac&quot; as north. Understand &quot;red&quot; and &quot;chac&quot; as east. Understand &quot;yellow&quot; and &quot;kan&quot; as south. Understand &quot;black&quot; and &quot;chikin&quot; as west.
</p></blockquote>
<!-- END CODE -->
<p>We could also use a colour as a verb:</p>
<!-- START CODE "c9979_88" -->
<a id="c9979_88"></a><blockquote class="code"><p class="quoted">
Understand &quot;turquoise&quot; and &quot;yax&quot; as looking.
</p></blockquote>
<!-- END CODE -->
<p>And now a few extra rooms to try it out in:</p>
<!-- START CODE "c9980_88" -->
<a id="c9980_88"></a><blockquote class="code"><p class="quoted">
The Square Chamber is a room. &quot;A sunken, gloomy stone chamber, ten yards across. A shaft of sunlight cuts in from the steps above, giving the chamber a diffuse light, but in the shadows low lintelled doorways to east and south lead into the deeper darkness of the Temple.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9981_88" -->
<a id="c9981_88"></a><blockquote class="code"><p class="quoted">
The Wormcast is east of the Square Chamber. The Corridor is south of the Square Chamber.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9982_88" -->
<a id="c9982_88"></a><blockquote class="code"><p class="quoted">
Test me with &quot;kan / white / chac / black&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "40: Prisoner's Dilemma" "e36" -->
<a id="e36"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e36" class="eglink"><b>40</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e36" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Prisoner's Dilemma</span></b></a><br />A button that causes a previously non-existent exit to come into being.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e36"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example36">
<p>We can change the directions in the map in mid-game, though in practice this is rarely necessary. But suppose we do not want a door or any sign of a door to exist before the player takes some action, in this case pressing a button:</p>
<!-- START CODE "c9983_36" -->
<a id="c9983_36"></a><blockquote class="code"><p class="quoted">
&quot;Prisoner's Dilemma&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9984_36" -->
<a id="c9984_36"></a><blockquote class="code"><p class="quoted">
Challenger's Waiting Room is a room. &quot;The challenge is this: to wait as long as you can endure to do so in a room with no features and no clock. If you wait longer than all the other contestants, you win.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9985_36" -->
<a id="c9985_36"></a><blockquote class="code"><p class="quoted">
The button is fixed in place in the Challenger's Waiting Room. &quot;The only item in view is a black recessed button.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9986_36" -->
<a id="c9986_36"></a><blockquote class="code"><p class="quoted">
Amid the Cheering Throng is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9987_36" -->
<a id="c9987_36"></a><blockquote class="code"><p class="quoted">
Instead of pushing the button for the first time:
<br />&#160;&#160;&#160;&#160;change the east exit of the Challenger's Waiting Room to Amid the Cheering Throng;
<br />&#160;&#160;&#160;&#160;change the west exit of the Cheering Throng to the Challenger's Waiting Room;
<br />&#160;&#160;&#160;&#160;say &quot;With a groan of gears, the east wall swings open! If you've lost now, well, you've lost...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9988_36" -->
<a id="c9988_36"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / push button / e / w&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Our instructions about pushing the button will be further explained in the chapter on Actions, but the thing to note here is that we can &quot;change (whatever) exit&quot; in order to set or re-set map directions. Notice that we have to set both directions explicitly: changing the east exit of the Waiting Room does not automatically also change the west exit of Amid the Cheering Throng.</p>
<p>This allows greater flexibility in our games but does require an extra line or so of work.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "41: The World of Charles S. Roberts" "e441" -->
<a id="e441"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e441" class="eglink"><b>41</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e441" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The World of Charles S. Roberts</span></b></a><br />Replacing the ordinary compass bearings with a set of six directions to impose a hexagonal rather than square grid on the landscape.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e441"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example441">
<p>Wargaming is an ancient pursuit, but its modern form began as a professional training exercise in 19th-century Prussian staff colleges; since at least as early as H. G. Wells's &quot;Little Wars&quot; (1913) it has been a hobby of &quot;boys from twelve years of age to one hundred and fifty and for that more intelligent sort of girl who likes boys' games and books.&quot; The free-form tabletop game used miniature figures and tape-measured movements, and remains the dominant form today. But in the mid-20th century, map grids on printed sheets gave the hobby a sudden new lease of life. They were easier to set up, more interesting to look at, cheaper to sell by mail-order. 1970s sales figures for &quot;Strategy and Tactics&quot;, the leading US subscription-based wargame distributor, were very similar to those of Infocom's IF games in the 1980s. And like classical IF, the grid-based wargame parceled up a continuous world into locations.</p>
<p>Grids were initially square, as on a chessboard, but square cells have several disadvantages. Four directions of movement (N, E, S, W) is too few, yet allowing movement in the diagonal directions means allowing tanks to travel about 1.4 times faster northeast than they do north. Square grids also only conform cleanly to man-made landscape features such as buildings in one orientation, and they never fit hills well. (A compromise measure to fix this, cutting the squares into octagons to leave smaller diamond squares at corner intersections, has never caught on.)</p>
<p><img alt="hexes.jpg" src="images/hexes.jpg" /></p>
<p>But following Charles S. Roberts's American Civil War designs for Avalon Hill of 1958-61 (notably &quot;Chancellorsville&quot; and the second edition of &quot;Gettysburg&quot;), a hexagonal grid became the new standard. Each hexagon is the same distance from the centre of all six of its neighbours, which are at equal angular spacings; and clumps of hexagons fit the shape of lakes, contoured hills, and so forth, much more naturally than clumps of squares do. Hexes also have a certain mystique - an air of &quot;I don't belong in the children's department&quot;.</p>
<p>But hexes are tricky for IF, not least because English lacks words for &quot;the direction 60 degrees around from front&quot;. Our cognitive view of the world tends to be square, perhaps because our two eyes both face front, in a direction at right angles to the plane of our arms, legs, pelvis and eyes. We reach out sideways at right angles to our walking. Even early hex-grid wargames called the cells &quot;squares&quot;, though &quot;hexes&quot; eventually caught on. Still and all:</p>
<!-- START CODE "c9989_441" -->
<a id="c9989_441"></a><blockquote class="code"><p class="quoted">
 &quot;The World of Charles S. Roberts&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9990_441" -->
<a id="c9990_441"></a><blockquote class="code"><p class="quoted">
Forward is a direction. Forward has opposite backward. Understand &quot;f&quot; as forward.
<br />Backward is a direction. Backward has opposite forward. Understand &quot;b&quot; and &quot;back&quot; as backward.
<br />Forward left is a direction. Forward left has opposite backward right. Understand &quot;fl&quot; as forward left.
<br />Forward right is a direction. Forward right has opposite backward left. Understand &quot;fr&quot; as forward right.
<br />Backward left is a direction. Backward left has opposite forward right. Understand &quot;bl&quot; as backward left.
<br />Backward right is a direction. Backward right has opposite forward left. Understand &quot;br&quot; as backward right.
</p></blockquote>
<!-- END CODE -->
<p>Now to forbid the use of the compass directions:</p>
<!-- START CODE "c9991_441" -->
<a id="c9991_441"></a><blockquote class="code"><p class="quoted">
A direction can be hexagonal or squared-off. A direction is usually squared-off. Forward, backward, forward left, forward right, backward left and backward right are hexagonal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9992_441" -->
<a id="c9992_441"></a><blockquote class="code"><p class="quoted">
Before going a squared-off direction, say &quot;In this hexagonally-divided landscape, squared-off directions are not allowed.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>A slight nuisance is that, with things as they are above, typing BACKWARD produces the response &quot;Which do you mean, backward, backward left or backward right?&quot; To avoid that silly question, we write:</p>
<!-- START CODE "c9993_441" -->
<a id="c9993_441"></a><blockquote class="code"><p class="quoted">
Does the player mean going backward: it is very likely. Does the player mean going forward: it is very likely.
</p></blockquote>
<!-- END CODE -->
<p>And now a clump of 37 hexes, in six columns of six or seven rooms each. There are many ingenious ways we could put this map together automatically, but instead we will take a deep breath and write:</p>
<!-- START CODE "c9994_441" -->
<a id="c9994_441"></a><blockquote class="code"><p class="quoted">
E1 is forward of E2. &quot;Open farmland.&quot; E2 is forward of E3. &quot;The edge of woods.&quot; E3 is forward of E4. &quot;Deep woodland.&quot; E4 is forward of E5. &quot;Deep woodland.&quot; E5 is forward of E6. &quot;The rear edge of woods.&quot; E6 is forward of E7. &quot;The start of a road leading forward right.&quot; E7 is a room. &quot;Grassland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9995_441" -->
<a id="c9995_441"></a><blockquote class="code"><p class="quoted">
F1 is forward of F2. &quot;The edge of farmland.&quot; F2 is forward of F3. &quot;The edge of woods.&quot; F3 is forward of F4. &quot;Clearing in woods.&quot; F4 is forward of F5. &quot;Deep woodland.&quot; F5 is forward of F6. &quot;A road runs backward left to forward right.&quot; F6 is a room. &quot;The edge of grassland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9996_441" -->
<a id="c9996_441"></a><blockquote class="code"><p class="quoted">
G1 is forward of G2. &quot;Grassland.&quot; G2 is forward of G3. &quot;The edge of farmland.&quot; G3 is forward of G4. &quot;A copse of trees.&quot; G4 is forward of G5. &quot;The backward edge of woodland.&quot; G5 is forward of G6. &quot;A bend in the road, from backward left to backward right.&quot; G6 is forward of G7. &quot;Open farmland.&quot; G7 is a room. &quot;Open farmland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9997_441" -->
<a id="c9997_441"></a><blockquote class="code"><p class="quoted">
H1 is forward of H2. &quot;Grassland, bordered by a hedge to the right.&quot; H2 is forward of H3. &quot;The edge of farmland, with a hedge to forward right.&quot; H3 is forward of H4. &quot;A copse of trees.&quot; H4 is forward of H5. &quot;Open farmland.&quot; H5 is forward of H6. &quot;A passing place on the road, which bends forward left to forward right.&quot; H6 is a room. &quot;Open farmland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9998_441" -->
<a id="c9998_441"></a><blockquote class="code"><p class="quoted">
I1 is forward of I2. &quot;The end of a forward road, blocked by hedges on all sides except backward.&quot; I2 is forward of I3.  &quot;A straight road runs forward to backward, with long hedges to left and right.&quot; I3 is forward of I4.  &quot;A straight road runs forward to backward, alongside a long hedge to right.&quot; I4 is forward of I5.  &quot;A straight road runs forward to backward, alongside a long hedge to right.&quot; I5 is forward of I6. &quot;Where three roads, forward, backward left and backward right, meet. Forward right is a thick hedge.&quot; I6 is forward of I7. &quot;Open farmland.&quot; I7 is a room. &quot;Open farmland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9999_441" -->
<a id="c9999_441"></a><blockquote class="code"><p class="quoted">
J1 is forward of J2. &quot;Dense woodland, with a hedge to left.&quot; J2 is forward of J3. &quot;Grassland, with a hedge to left.&quot; J3 is forward of J4. &quot;The edge of farmland, with a hedge to left.&quot; J4 is a room. &quot;Open farmland, with a long hedge blocking movement forward left, backward left or backward.&quot; J5 is forward of J6. &quot;A road running forward left to backward right, alongside a hedge.&quot; J6 is a room. &quot;Open farmland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10000_441" -->
<a id="c10000_441"></a><blockquote class="code"><p class="quoted">
F1 is forward right of E2 and backward right of E1. F2 is forward right of E3 and backward right of E2. F3 is forward right of E4 and backward right of E3. F4 is forward right of E5 and backward right of E4. F5 is forward right of E6 and backward right of E5. F6 is forward right of E7 and backward right of E6.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10001_441" -->
<a id="c10001_441"></a><blockquote class="code"><p class="quoted">
G1 is forward right of F1. G2 is forward right of F2 and backward right of F1. G3 is forward right of F3 and backward right of F2. G4 is forward right of F4 and backward right of F3. G5 is forward right of F5 and backward right of F4. G6 is forward right of F6 and backward right of F5.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10002_441" -->
<a id="c10002_441"></a><blockquote class="code"><p class="quoted">
H1 is forward right of G2 and backward right of G1. H2 is forward right of G3 and backward right of G2. H3 is forward right of G4 and backward right of G3. H4 is forward right of G5 and backward right of G4. H5 is forward right of G6 and backward right of G5. H6 is forward right of G7 and backward right of G6.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10003_441" -->
<a id="c10003_441"></a><blockquote class="code"><p class="quoted">
I3 is forward right of H3 and backward right of H2. I4 is forward right of H4 and backward right of H3. I5 is forward right of H5 and backward right of H4. I6 is forward right of H6 and backward right of H5.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10004_441" -->
<a id="c10004_441"></a><blockquote class="code"><p class="quoted">
J5 is forward right of I6 and backward right of I5. J6 is forward right of I7 and backward right of I6.
</p></blockquote>
<!-- END CODE -->
<p>And now we have a hexagonally-gridded world. Route-finding will work; prepositional forms like &quot;to be mapped backward left of&quot; exist, just as they should; and in general these directions are just as good as the square ones. (The only thing which doesn't look good is the Index map, where Inform is just unable to draw a picture because it assumes a square grid. But that has no effect on play.)</p>
<p>The landscape is much easier to navigate with a little diagram:</p>
<!-- START CODE "c10005_441" -->
<a id="c10005_441"></a><blockquote class="code"><p class="quoted">
To say legend (D - direction):
<br />&#160;&#160;&#160;&#160;let destination hex be the room D from the location;
<br />&#160;&#160;&#160;&#160;if the destination hex is nothing, say &quot;  &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say the destination hex.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10006_441" -->
<a id="c10006_441"></a><blockquote class="code"><p class="quoted">
Carry out looking:
<br />&#160;&#160;&#160;&#160;say &quot;[fixed letter spacing]   \ [legend forward] /[line break][legend forward left]  ----  [legend forward right][line break]   /    \[line break]--&lt;  [location]  &gt;--[line break]   \    /[line break][legend backward left]  ----  [legend backward right][line break]   / [legend backward] \[variable letter spacing][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And finally:</p>
<!-- START CODE "c10007_441" -->
<a id="c10007_441"></a><blockquote class="code"><p class="quoted">
The player is in I5.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10008_441" -->
<a id="c10008_441"></a><blockquote class="code"><p class="quoted">
Test me with &quot;f / forward / backward left / bl / br / br / f&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "101: A&E" "e415" -->
<a id="e415"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e415" class="eglink"><b>101</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e415" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">A&amp;E</span></b></a><br />Using regions to block access to an entire area when the player does not carry a pass, regardless of which entrance he uses.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_7.html#e415"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example415">
<p>Rules about going to regions make it easy to exclude the player from a large portion of the map, even if there are many connecting paths to the region. For instance, in this story it would be annoying to have to write a rule about all four exits by which the player could reach the film set area:</p>
<!-- START CODE "c10009_415" -->
<a id="c10009_415"></a><blockquote class="code"><p class="quoted">
&quot;A&amp;E&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10010_415" -->
<a id="c10010_415"></a><blockquote class="code"><p class="quoted">
Winding Street is a room. Winding Street is west of Duck Pond. Sloping Street is north of Winding Street, northwest of Duck Pond, west of Stately Lawn, and southwest of Stately Home. Stately Lawn is north of Duck Pond. Stately Home is north of Stately Lawn.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10011_415" -->
<a id="c10011_415"></a><blockquote class="code"><p class="quoted">
Film Set is a region. Duck Pond, Stately Lawn, and Stately Home are in Film Set.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10012_415" -->
<a id="c10012_415"></a><blockquote class="code"><p class="quoted">
Instead of going to Film Set when the player does not carry the VIP Pass: say &quot;A burly studio guard materializes in your path, convincing you that you would prefer to be elsewhere.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10013_415" -->
<a id="c10013_415"></a><blockquote class="code"><p class="quoted">
The VIP Pass is in the garbage can. The garbage can is in Sloping Street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10014_415" -->
<a id="c10014_415"></a><blockquote class="code"><p class="quoted">
After going to the Film Set:
<br />&#160;&#160;&#160;&#160;say &quot;Success! At last you are inside the set of 'Prouder and More Prejudiced'. Next step: locating Mr Firth.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10015_415" -->
<a id="c10015_415"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / n / e / get pass / e&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "199: Further Reasons Why All Poets Are Liars" "e160" -->
<a id="e160"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e160" class="eglink"><b>199</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e160" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Further Reasons Why All Poets Are Liars</span></b></a><br />The young William Wordsworth, pushing a box about in his room, must struggle to achieve a Romantic point of view.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e160"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example160">
<p>We begin with the location and its fittings, and we create a kind of value which names the different internal positions we will allow.</p>
<!-- START CODE "c10016_160" -->
<a id="c10016_160"></a><blockquote class="code"><p class="quoted">
&quot;Further Reasons Why All Poets Are Liars&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10017_160" -->
<a id="c10017_160"></a><blockquote class="code"><p class="quoted">
Nook Obscure is a room. &quot;Above the College kitchens, which make a humming sound, less tuneable than bees, but hardly less industrious, with shrill notes of sharp command and scolding intermixed: and below Trinity's loquacious clock, who never lets the quarters, night or day, slip by him unproclaimed, and tells the hours twice over with a male and female voice. In short, the kind of rubbish room they give to a northern villager. But you get a bed and a high shelf all of your own. And you long to find some Romantic way to look out of the window.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10018_160" -->
<a id="c10018_160"></a><blockquote class="code"><p class="quoted">
The window, the shelf and the bed are scenery in the Nook Obscure. The shelf and the bed are supporters. The bed is enterable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10019_160" -->
<a id="c10019_160"></a><blockquote class="code"><p class="quoted">
Internal position is a kind of value. The internal positions are nowhere at all, over by the window, under the shelf and near the bed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10020_160" -->
<a id="c10020_160"></a><blockquote class="code"><p class="quoted">
The box is an enterable supporter in Nook Obscure. The current box position is an internal position that varies. The current box position is near the bed. &quot;Your packing case, stamped W. WORDSWORTH (KENDAL), is [current box position].&quot; Instead of taking the box, say &quot;It is filled with your peerless rock collection and too heavy to lift, but could be pushed.&quot; Instead of opening the box, say &quot;It is securely nailed shut.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We create an action, &quot;pushing it over to&quot;, for pushing a box around on the floor of a single location. (Calling this &quot;pushing it over to&quot; prevents clashes with the existing &quot;pushing it to&quot; action, which is for pushing things from one room to another.) Almost half of the text which defines the action is concerned with the two action variables, but they make the implementation of everything else so much easier that we end up writing less than if we hadn't used them.</p>
<!-- START CODE "c10021_160" -->
<a id="c10021_160"></a><blockquote class="code"><p class="quoted">
Understand &quot;push [box]&quot; as a mistake (&quot;You can push the box to the window, the bed or the shelf.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10022_160" -->
<a id="c10022_160"></a><blockquote class="code"><p class="quoted">
Understand &quot;push [something] to [something]&quot; as pushing it over to. Pushing it over to is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10023_160" -->
<a id="c10023_160"></a><blockquote class="code"><p class="quoted">
The pushing it over to action has an internal position called the old position.
<br />The pushing it over to action has an internal position called the new position.
<br />Setting action variables for pushing something over to something:
<br />&#160;&#160;&#160;&#160;now the old position is the current box position;
<br />&#160;&#160;&#160;&#160;now the new position is nowhere at all;
<br />&#160;&#160;&#160;&#160;if the second noun is the window, now the new position is over by the window;
<br />&#160;&#160;&#160;&#160;if the second noun is the bed, now the new position is near the bed;
<br />&#160;&#160;&#160;&#160;if the second noun is the shelf, now the new position is under the shelf.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10024_160" -->
<a id="c10024_160"></a><blockquote class="code"><p class="quoted">
Check pushing it over to:
<br />&#160;&#160;&#160;&#160;if the noun is not the box, say &quot;That's not something you can push.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player is on the bed, say &quot;You can't reach from here.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player is on the noun, say &quot;Not while you are standing on [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the new position is nowhere at all, say &quot;You can only push [the noun] to the window, the bed or the shelf.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the new position is the old position, say &quot;The [noun] is already [new position].&quot; instead.
<br />Carry out pushing it over to:
<br />&#160;&#160;&#160;&#160;now the current box position is the new position.
<br />Report pushing it over to:
<br />&#160;&#160;&#160;&#160;say &quot;With some effort, you shove [the noun] from [old position] to [new position].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Everything which remains simply provides a couple of puzzles to test this arrangement.</p>
<!-- START CODE "c10025_160" -->
<a id="c10025_160"></a><blockquote class="code"><p class="quoted">
Euclid's Elements is on the shelf. Understand &quot;euclid&quot; or &quot;book&quot; as the Elements.
<br />Instead of taking something (called the item) which is on the shelf:
<br />&#160;&#160;&#160;&#160;if the player is on the box and the current box position is under the shelf, continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;You cannot reach [the item], which is up on the shelf.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10026_160" -->
<a id="c10026_160"></a><blockquote class="code"><p class="quoted">
Instead of examining the window:
<br />&#160;&#160;&#160;&#160;say &quot;This window opens rather unpromisingly onto the chapel wall opposite, so even granted the moonlight it is dark in here. Still, surely there's a poem here somewhere?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10027_160" -->
<a id="c10027_160"></a><blockquote class="code"><p class="quoted">
Instead of examining the window when the player is on the bed:
<br />&#160;&#160;&#160;&#160;say &quot;Just a blank patch of chapel wall.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10028_160" -->
<a id="c10028_160"></a><blockquote class="code"><p class="quoted">
Instead of examining the window when the player is on the box:
<br />&#160;&#160;&#160;&#160;if the current box position is near the bed:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Tantalisingly, you are not quite able to spy the statue.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the current box position is under the shelf:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;All you can see is the antechapel wall, and the dull silver gleam of the pealing organ.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;At last! You can just, standing on tiptoes on the box right up at the window, make out the top of the statue! Of such epiphanies are Poesy born. Let's see now... oh yes...[paragraph break]And from my pillow, looking forth by light[line break]Of moon or favouring stars, I could behold[line break]The antechapel where the statue stood[line break]Of Newton with his prism and silent face,[line break]The marble index of a mind for ever[line break]Voyaging through strange seas of Thought, alone.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10029_160" -->
<a id="c10029_160"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get on bed / x window / get off / x window /get elements / get on box / x window / get elements / push box to shelf / get off / push box to shelf / get on box / get elements / x window / get off / push box to window / get on box / x window&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "7: Starry Void" "e359" -->
<a id="e359"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e359" class="eglink"><b>7</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e359" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Starry Void</span></b></a><br />Creating a booth that can be seen from the outside, opened and closed, and entered as a separate room.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e359"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example359">
<p>Sometimes we may want a room to be visible from the outside in one location, but treated as a separate location when we are inside. The simplest way to do this is to make the exterior form of the object into a door object, and to describe it differently from different vantage points. (Doors in general are described more fully in the Doors section of the Things chapter.)</p>
<!-- START CODE "c10030_359" -->
<a id="c10030_359"></a><blockquote class="code"><p class="quoted">
 &quot;Starry Void&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10031_359" -->
<a id="c10031_359"></a><blockquote class="code"><p class="quoted">
The Center Ring is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10032_359" -->
<a id="c10032_359"></a><blockquote class="code"><p class="quoted">
The magician's booth is a door. &quot;[if the player is in Center Ring]A magician's booth stands in the corner, painted dark blue with glittering gold stars.[otherwise if the magician's booth is closed]A crack of light indicates the way back out to the center ring.[otherwise]The door stands open to the outside.[end if]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Here we've arranged for the booth to be described in the initial room description in different ways depending on where the player is when viewing it. We might like to do the same if the player takes a closer look:</p>
<!-- START CODE "c10033_359" -->
<a id="c10033_359"></a><blockquote class="code"><p class="quoted">
Instead of examining the magician's booth in the Center Ring:
<br />&#160;&#160;&#160;&#160;say &quot;It is dark blue and glittering with gold stars. [if the booth is open]The door currently stands open[otherwise]It has been firmly shut[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10034_359" -->
<a id="c10034_359"></a><blockquote class="code"><p class="quoted">
Instead of examining the magician's booth in the Starry Void:
<br />&#160;&#160;&#160;&#160;say &quot;The booth door is [if the magician's booth is open]wide open[otherwise]shut, admitting only a thin crack of light[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now we put it in place:</p>
<!-- START CODE "c10035_359" -->
<a id="c10035_359"></a><blockquote class="code"><p class="quoted">
The magician's booth is inside from Center Ring and outside from Starry Void.
</p></blockquote>
<!-- END CODE -->
<p>...and make sure that the booth-and-door object responds to all the names we have used for it in different places:</p>
<!-- START CODE "c10036_359" -->
<a id="c10036_359"></a><blockquote class="code"><p class="quoted">
Understand &quot;door&quot; or &quot;of&quot; or &quot;the&quot; or &quot;light&quot; or &quot;crack&quot; or &quot;thin crack&quot; as the booth.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10037_359" -->
<a id="c10037_359"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine booth / open door of the booth / in / examine door / close door / look / examine crack of light&quot;.
</p></blockquote>
<!-- END CODE -->
<p>A final nice touch, if we're so inclined, is to borrow from the Basic Actions chapter and make the player automatically open the booth door before trying to enter:</p>
<!-- START CODE "c10038_359" -->
<a id="c10038_359"></a><blockquote class="code"><p class="quoted">
 Before going through the closed magician's booth:
<br />&#160;&#160;&#160;&#160;say &quot;(first opening the door of the booth)[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;silently try opening the booth.
</p></blockquote>
<!-- END CODE -->
<p>For the contrasting case of a space that is nested inside another place and is not its own room -- say a stall at an open-air market, or a rowboat on a lake -- see the example &quot;Tamed&quot;.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "216: Waterworld" "e414" -->
<a id="e414"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e414" class="eglink"><b>216</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e414" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Waterworld</span></b></a><br />A backdrop which the player can examine, but cannot interact with in any other way.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e414"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example414">
<p>It's tempting to handle the player's inability to interact with something with a simple instead rule:</p>
<!-- START CODE "c10039_414" -->
<a id="c10039_414"></a><blockquote class="code"><p class="quoted">
&quot;Waterworld 1&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10040_414" -->
<a id="c10040_414"></a><blockquote class="code"><p class="quoted">
A view is a kind of backdrop. Instead of doing something other than examining to a view, say &quot;You are too far from [the noun] to do anything but look.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10041_414" -->
<a id="c10041_414"></a><blockquote class="code"><p class="quoted">
The sun is a view. It is everywhere. The description is &quot;A blazing sun makes you wish you had never been born.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10042_414" -->
<a id="c10042_414"></a><blockquote class="code"><p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10043_414" -->
<a id="c10043_414"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x sun / get sun / n / x sun / n / x sun&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Unfortunately, the rule does not address the case where the object in question is the second noun; so for instance the following example reveals the difficulty:</p>
<!-- START CODE "c10044_414" -->
<a id="c10044_414"></a><blockquote class="code"><p class="quoted">
&quot;Waterworld 2&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10045_414" -->
<a id="c10045_414"></a><blockquote class="code"><p class="quoted">
A view is a kind of backdrop. Instead of doing something other than examining to a view, say &quot;You are too far from [the noun] to do anything but look.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10046_414" -->
<a id="c10046_414"></a><blockquote class="code"><p class="quoted">
The player carries a rope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10047_414" -->
<a id="c10047_414"></a><blockquote class="code"><p class="quoted">
The sun is a view. It is everywhere. The description is &quot;A blazing sun makes you wish you had never been born.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10048_414" -->
<a id="c10048_414"></a><blockquote class="code"><p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10049_414" -->
<a id="c10049_414"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x sun / get sun / n / x sun / n / x sun / tie rope to the sun&quot;.
</p></blockquote>
<!-- END CODE -->
<p>...where the response here behaves as though the sun is in reach. If we had a fully implemented tying action, the player would (even more disastrously) be allowed to lasso celestial objects.</p>
<p>We could add a second instead rule as well:</p>
<!-- START CODE "c10050_414" -->
<a id="c10050_414"></a><blockquote class="code"><p class="quoted">
&quot;Waterworld 3&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10051_414" -->
<a id="c10051_414"></a><blockquote class="code"><p class="quoted">
A view is a kind of backdrop.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10052_414" -->
<a id="c10052_414"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than examining when the noun is a view:
<br />&#160;&#160;&#160;&#160;say &quot;You are too far from [the noun] to do anything but look.&quot;
<br />Instead of doing something other than examining when the second noun is a view:
<br />&#160;&#160;&#160;&#160;say &quot;You are too far from [the second noun] to do anything but look.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10053_414" -->
<a id="c10053_414"></a><blockquote class="code"><p class="quoted">
The player carries a rope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10054_414" -->
<a id="c10054_414"></a><blockquote class="code"><p class="quoted">
The sun is a view. It is everywhere. The description is &quot;A blazing sun makes you wish you had never been born.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10055_414" -->
<a id="c10055_414"></a><blockquote class="code"><p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10056_414" -->
<a id="c10056_414"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x sun / get sun / n / x sun / n / x sun / tie rope to sun&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This produces acceptable output again, but there is a more elegant way, one that works better with Inform's existing world model. Currently the default model assumes that accessibility -- whether the player can reach something or not -- is checked between the Before... rules and the Instead... rules. We can add our own accessibility rules, including this one to govern whether views are accessible. So for instance:</p>
<!-- START CODE "c10057_414" -->
<a id="c10057_414"></a><blockquote class="code"><p class="quoted">
&quot;Waterworld 4&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10058_414" -->
<a id="c10058_414"></a><blockquote class="code"><p class="quoted">
A view is a kind of backdrop.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10059_414" -->
<a id="c10059_414"></a><blockquote class="code"><p class="quoted">
The can't touch views rule is listed before the access through barriers rule in the accessibility rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10060_414" -->
<a id="c10060_414"></a><blockquote class="code"><p class="quoted">
Accessibility rule (this is the can't touch views rule):
<br />&#160;&#160;&#160;&#160;if the action requires a touchable noun and the noun is a view:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are too far from [the noun] to do anything but look.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the action requires a touchable second noun and the second noun is a view:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are too far from [the second noun] to do anything but look.&quot; instead;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10061_414" -->
<a id="c10061_414"></a><blockquote class="code"><p class="quoted">
The player carries a rope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10062_414" -->
<a id="c10062_414"></a><blockquote class="code"><p class="quoted">
The sun is a view. It is everywhere. The description is &quot;A blazing sun makes you wish you had never been born.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10063_414" -->
<a id="c10063_414"></a><blockquote class="code"><p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10064_414" -->
<a id="c10064_414"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x sun / get sun / n / x sun / n / x sun / tie rope to sun&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now our new accessibility rule fits into its proper stage.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "62: Tiny Garden" "e220" -->
<a id="e220"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e220" class="eglink"><b>62</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e220" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tiny Garden</span></b></a><br />A lawn made up of several rooms, with part of the description written automatically.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_5.html#e220"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example220">
<p>Sometimes we want to make a list of something too complicated to express in a say list... phrase. When this happens, we can instead mark all the items we want to mention as &quot;marked for listing&quot;.</p>
<p>In this case, we have a lawn area made up of four rooms. We want each room to automatically describe the directions leading to the other parts of the lawn. To do this, we will first determine which directions are relevant and mark those for listing, then list them.</p>
<!-- START CODE "c10065_220" -->
<a id="c10065_220"></a><blockquote class="code"><p class="quoted">
&quot;Tiny Garden&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10066_220" -->
<a id="c10066_220"></a><blockquote class="code"><p class="quoted">
The Herb Garden is a room. &quot;Along this side of the house run your great-aunt's herb beds.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10067_220" -->
<a id="c10067_220"></a><blockquote class="code"><p class="quoted">
A Grassy Room is a kind of room. The printed name of a Grassy Room is usually &quot;Lawn&quot;. The description of a Grassy Room is &quot;The grass underfoot is thick and green. The lawn extends to [grassy directions] from here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The following phrase goes through all the directions in the compass and marks the ones that are interesting to us at the moment.</p>
<!-- START CODE "c10068_220" -->
<a id="c10068_220"></a><blockquote class="code"><p class="quoted">
To say grassy directions:
<br />&#160;&#160;&#160;&#160;repeat with that way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the room that way from the location is a grassy room,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now that way is marked for listing;
<br />&#160;&#160;&#160;&#160;say &quot;[a list of directions which are marked for listing]&quot;;
<br />&#160;&#160;&#160;&#160;now every direction is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10069_220" -->
<a id="c10069_220"></a><blockquote class="code"><p class="quoted">
Lawn1 is west of the Herb Garden. It contains a picnic table and a wicker basket. Lawn2 is south of Lawn1 and southeast of Lawn4. Lawn3 is southwest of Lawn1, west of Lawn2, and south of Lawn4. Lawn4 is west of Lawn1. Lawn4 contains a birdbath. The birdbath is fixed in place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10070_220" -->
<a id="c10070_220"></a><blockquote class="code"><p class="quoted">
Lawn1, Lawn2, Lawn3, and Lawn4 are Grassy Rooms.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10071_220" -->
<a id="c10071_220"></a><blockquote class="code"><p class="quoted">
Test me with &quot;w / s / w / n&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "79: Hotel Stechelberg" "e347" -->
<a id="e347"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e347" class="eglink"><b>79</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e347" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hotel Stechelberg</span></b></a><br />Signposts such as those provided on hiking paths in the Swiss Alps, which show the correct direction and hiking time to all other locations.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_6.html#e347"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example347">
<p>The following rule appends a paragraph to every room description. We need not worry about doors (despite the pass in the Bernese Oberland known figuratively as the &quot;Little Door&quot;).</p>
<!-- START CODE "c10072_347" -->
<a id="c10072_347"></a><blockquote class="code"><p class="quoted">
&quot;Hotel Stechelberg&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10073_347" -->
<a id="c10073_347"></a><blockquote class="code"><p class="quoted">
After looking:
<br />&#160;&#160;&#160;&#160;say &quot;Yellow arms on the signpost point:-[line break]&quot;;
<br />&#160;&#160;&#160;&#160;repeat with destination running through interesting rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to the destination;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is a direction, say &quot;  [way] for [the destination]: [number of moves from the location to the destination] Std.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10074_347" -->
<a id="c10074_347"></a><blockquote class="code"><p class="quoted">
Hotel Stechelberg is a room. &quot;The wooden hiking inn at the end of the road, with flowerboxes, canton flags, outdoor tables and a triangular paddock for the cows contesting the annual Miss Stechelberg competition. Otto and Marianne do cheerful innkeeper things, while the sun blazes from a gentian-blue sky.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10075_347" -->
<a id="c10075_347"></a><blockquote class="code"><p class="quoted">
A room can be dull or interesting. A room is usually dull.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10076_347" -->
<a id="c10076_347"></a><blockquote class="code"><p class="quoted">
North of Hotel Stechelberg is Trummelbachfalle. North of Trummelbachfalle is Lauterbrunnen. Lauterbrunnen is interesting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10077_347" -->
<a id="c10077_347"></a><blockquote class="code"><p class="quoted">
Southeast of Hotel Stechelberg is Trachsellauenen. Trachsellauenen is interesting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10078_347" -->
<a id="c10078_347"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>With a bit more work, the result might be:</p>
<!-- START CODE "c10079_347" -->
<a id="c10079_347"></a><blockquote class="code"><p class="quoted">
Hotel Stechelberg
<br />The wooden hiking inn at the end of the road, with flowerboxes, canton flags, outdoor tables and a triangular paddock for the cows contesting the annual Miss Stechelberg competition. Otto and Marianne do cheerful innkeeper things, while the sun blazes from a gentian-blue sky.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10080_347" -->
<a id="c10080_347"></a><blockquote class="code"><p class="quoted">
Yellow arms on the signpost point:-
<br />&#160;&#160;&#160;&#160;north for Lauterbrunnen: 2 Std.
<br />&#160;&#160;&#160;&#160;west for Sefinental: 2 Std.
<br />&#160;&#160;&#160;&#160;west for Schilthorn: 6 Std.
<br />&#160;&#160;&#160;&#160;southeast for Trachsellauenen: 1 Std.
<br />&#160;&#160;&#160;&#160;southeast for Oberhornsee: 3 Std.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "212: Carnivale" "e65" -->
<a id="e65"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e65" class="eglink"><b>212</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e65" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Carnivale</span></b></a><br />An alternative to backdrops when we want something to be visible from a distance but only touchable from one room.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e65"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example65">
<p>Suppose we want to make an object that (unlike a backdrop) is definitely located in one room, but can be seen from far off. We want to allow the player to interact with it from a distance, but only using those actions that require visibility. Other actions should be denied:</p>
<!-- START CODE "c10081_65" -->
<a id="c10081_65"></a><blockquote class="code"><p class="quoted">
&quot;Carnivale&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10082_65" -->
<a id="c10082_65"></a><blockquote class="code"><p class="quoted">
The Fairground is a region. Park Entrance, By the Wheel, and Candy Stand are in Fairground. Candy Stand is north of By the Wheel. Park Entrance is west of Candy Stand and northwest of By the Wheel.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10083_65" -->
<a id="c10083_65"></a><blockquote class="code"><p class="quoted">
The ferris wheel is scenery in By the Wheel. &quot;It is extravagantly tall and carries several dozen glass gondolas for riders.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10084_65" -->
<a id="c10084_65"></a><blockquote class="code"><p class="quoted">
The description of By the Wheel is &quot;You stand at the foot of an enormous ferris wheel, which turns far too quickly and never seems to stop for new riders.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10085_65" -->
<a id="c10085_65"></a><blockquote class="code"><p class="quoted">
The description of Park Entrance is &quot;You are now just inside the gates. Behind you snakes a triple line of fairgoers all the way down the length of the valley to the railway station. Roughly southeast of here is the ferris wheel, towering over the other attractions.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10086_65" -->
<a id="c10086_65"></a><blockquote class="code"><p class="quoted">
The description of Candy Stand is &quot;A hut in pale pink and baby blue dispenses marshmallow death's-heads, sugar-beetles, and other such treats. The giant ferris wheel is just off to the south from here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>As the descriptions make clear, the ferris wheel should be visible from everywhere in the fair, so we'll borrow a line from the Activities chapter to make that happen:</p>
<!-- START CODE "c10087_65" -->
<a id="c10087_65"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;if the location is in Fairground, place the ferris wheel in scope.
</p></blockquote>
<!-- END CODE -->
<p>&quot;Scope&quot; determines what the player can interact with; by writing this rule, we make Inform understand all commands that refer to the ferris wheel when the player is anywhere in the fairground, instead of responding with</p>
<!-- START CODE "c10088_65" -->
<a id="c10088_65"></a><blockquote class="code"><p class="quoted">
You can't see any such thing.
</p></blockquote>
<!-- END CODE -->
<p>as it normally would.</p>
<p>Now, by default, if the player were to type TOUCH FERRIS WHEEL while in another room, he would get the response</p>
<!-- START CODE "c10089_65" -->
<a id="c10089_65"></a><blockquote class="code"><p class="quoted">
You can't reach into By the Wheel.
</p></blockquote>
<!-- END CODE -->
<p>This may not be quite what we want, but we can replace this text with our own reaching inside rule:</p>
<!-- START CODE "c10090_65" -->
<a id="c10090_65"></a><blockquote class="code"><p class="quoted">
Rule for reaching inside a room:
<br />&#160;&#160;&#160;&#160;say &quot;You can only look from this distance.&quot;;
<br />&#160;&#160;&#160;&#160;deny access.
</p></blockquote>
<!-- END CODE -->
<p>And because our accessibility rules are considered before the &quot;Instead&quot; phase, we can write the following rule confident that it will apply only when the player is in fact in range to touch the ferris wheel:</p>
<!-- START CODE "c10091_65" -->
<a id="c10091_65"></a><blockquote class="code"><p class="quoted">
Instead of touching the ferris wheel:
<br />&#160;&#160;&#160;&#160;say &quot;You don't dare: it's spinning too fast.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10092_65" -->
<a id="c10092_65"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x ferris wheel / touch ferris wheel / se / x ferris wheel / touch ferris wheel&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "213: Eddystone" "e226" -->
<a id="e226"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e226" class="eglink"><b>213</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e226" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Eddystone</span></b></a><br />Creating new commands involving the standard compass directions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e226"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example226">
<p>Using the compass directions in commands is a little bit finicky because directions are forbidden to figure in any interactions involving touch. (Really, directions are more a concept than an object; this is a compromise situation.) In any case, if we want to write a new command involving these, we need to be sure to specify that the direction is a visible thing. For instance:</p>
<!-- START CODE "c10093_226" -->
<a id="c10093_226"></a><blockquote class="code"><p class="quoted">
&quot;Eddystone&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10094_226" -->
<a id="c10094_226"></a><blockquote class="code"><p class="quoted">
The Lighthouse is a room. &quot;A lonely place, but in these tense times, no one but the lighthouse keeper and a few trusted agents are allowed on the grounds at all, for fear of sabotage.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10095_226" -->
<a id="c10095_226"></a><blockquote class="code"><p class="quoted">
The light is a fixed in place thing in the Lighthouse.  &quot;At the center of the room is the light itself, a 1000-Watt tungsten halogen light powered by diesel generator, and having a visible range of twenty-six nautical miles.&quot; Understand &quot;lamp&quot; as the light. It is lit. The light has a a direction called heading. The heading of the light is north.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10096_226" -->
<a id="c10096_226"></a><blockquote class="code"><p class="quoted">
A room is usually dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10097_226" -->
<a id="c10097_226"></a><blockquote class="code"><p class="quoted">
Understand &quot;turn [something] [a direction]&quot; as reorienting it to. Reorienting it to is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<p>will give us</p>
<!-- START CODE "c10098_226" -->
<a id="c10098_226"></a><blockquote class="code"><p class="quoted">
&gt;turn light northeast
<br />You must name something more substantial.
</p></blockquote>
<!-- END CODE -->
<p>To avoid this mystifying result:</p>
<!-- START CODE "c10099_226" -->
<a id="c10099_226"></a><blockquote class="code"><p class="quoted">
&quot;Eddystone&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10100_226" -->
<a id="c10100_226"></a><blockquote class="code"><p class="quoted">
The Lighthouse is a room. &quot;A lonely place, but in these tense times, no one but the lighthouse keeper and a few trusted agents are allowed on the grounds at all, for fear of sabotage.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10101_226" -->
<a id="c10101_226"></a><blockquote class="code"><p class="quoted">
The light is a fixed in place thing in the Lighthouse.  &quot;At the center of the room is the light itself, a 1000-Watt tungsten halogen light powered by diesel generator, and having a visible range of twenty-six nautical miles.&quot; Understand &quot;lamp&quot; as the light. It is lit. The light has a direction called heading. The heading of the light is north.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10102_226" -->
<a id="c10102_226"></a><blockquote class="code"><p class="quoted">
A room is usually dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10103_226" -->
<a id="c10103_226"></a><blockquote class="code"><p class="quoted">
Understand &quot;turn [something] [a direction]&quot; as reorienting it to. Reorienting it to is an action applying to one thing and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10104_226" -->
<a id="c10104_226"></a><blockquote class="code"><p class="quoted">
Instead of turning the light, say &quot;Try turning the light to the direction of your choice.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10105_226" -->
<a id="c10105_226"></a><blockquote class="code"><p class="quoted">
Check reorienting it to: if the noun is not the light, say &quot;You couldn't do so meaningfully.&quot; instead; if the second noun is up or the second noun is down, say &quot;The light only points in compass directions.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>And now that's done, we have a little fun calculating where the beam hits:</p>
<!-- START CODE "c10106_226" -->
<a id="c10106_226"></a><blockquote class="code"><p class="quoted">
Carry out reorienting it to:
<br />&#160;&#160;&#160;&#160;now the heading of the light is the second noun;
<br />&#160;&#160;&#160;&#160;let way be the heading of the light;
<br />&#160;&#160;&#160;&#160;let place be the room way from the Lighthouse;
<br />&#160;&#160;&#160;&#160;while place is a room and place is lower than Lighthouse:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let place be the room way from the place;
<br />&#160;&#160;&#160;&#160;if place is not a room, now the beam is nowhere;
<br />&#160;&#160;&#160;&#160;otherwise move beam to the place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10107_226" -->
<a id="c10107_226"></a><blockquote class="code"><p class="quoted">
Report reorienting it to: say &quot;The light now points [heading of the light][if the beam is in a room], spotlighting [the holder of the beam][otherwise], into empty space[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10108_226" -->
<a id="c10108_226"></a><blockquote class="code"><p class="quoted">
The beam is a lit thing. Understand &quot;light&quot; or &quot;brilliant&quot; as the beam. &quot;Brilliant light from the lighthouse floods the whole area.&quot; It is fixed in place. Instead of doing something other than examining to the beam: say &quot;The light is, of course, intangible.&quot; The description is &quot;The light is coming from the lighthouse, since the lamp is apparently pointed this way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10109_226" -->
<a id="c10109_226"></a><blockquote class="code"><p class="quoted">
Altitude is a kind of value. 200 ft specifies an altitude. A room has an altitude. The altitude of a room is usually 50 ft. The altitude of the Lighthouse is 100 ft.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10110_226" -->
<a id="c10110_226"></a><blockquote class="code"><p class="quoted">
Definition: a room is low if its altitude is 20 ft or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10111_226" -->
<a id="c10111_226"></a><blockquote class="code"><p class="quoted">
The Jetty is south of the Lighthouse. &quot;During daylight hours, a fine place to catch almost unlimited supplies of crayfish. Less entertaining by night.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10112_226" -->
<a id="c10112_226"></a><blockquote class="code"><p class="quoted">
North of the Lighthouse is the Uphill Road. The altitude of Uphill Road is 75 ft. North of Uphill Road is Hilltop. The altitude of Hilltop is 110 ft. The description of Hilltop is &quot;The highest natural point around for miles; sometimes you will sit up here and watch for the lighthouse supply ship, the Lady Loch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10113_226" -->
<a id="c10113_226"></a><blockquote class="code"><p class="quoted">
Northeast of the Lighthouse is Open Field. East of the Lighthouse is Stanley Creek Valley. The description of Stanley Creek is &quot;This place used to have some other name meaning Ghost Valley in the aboriginal language, but it was piously renamed by missionaries.&quot; Train Trestle is east of the Stanley Creek Valley. &quot;The now-abandoned track of the Bush Pacific Railway runs here, above Stanley Creek.&quot; The altitude of Train Trestle is 100 ft.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10114_226" -->
<a id="c10114_226"></a><blockquote class="code"><p class="quoted">
Before going from a room (called source) to a room (called destination):
<br />&#160;&#160;&#160;&#160;if source is lower than destination:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It's an uphill climb...&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if destination is lower than source, say &quot;You're heading downhill now...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;It's a straight shot.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10115_226" -->
<a id="c10115_226"></a><blockquote class="code"><p class="quoted">
Test me with &quot;turn lamp / turn lamp down / turn lamp east / e / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>All very loosely based on the Eddystone Point lighthouse of Tasmania, built in 1889, and forbiddingly remote even today. George Isaacs, a child growing up in the lighthouse, remembers the plentiful crayfish.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "366: Rock Garden" "e329" -->
<a id="e329"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e329" class="eglink"><b>366</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e329" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Rock Garden</span></b></a><br />A simple open landscape where the player can see between rooms and will automatically move to touch things in distant rooms.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e329"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example329">
<p>A map of linked rooms works well for modeling enclosed or indoor space, and somewhat less well for modeling large open spaces, where a person should reasonably be able to see things which are much too far away to touch. With some modifications to scoping, though, we can create an environment where objects in nearby rooms are described and viewable, and where the player will automatically move towards distant items before interacting with them physically.</p>
<!-- START CODE "c10116_329" -->
<a id="c10116_329"></a><blockquote class="code"><p class="quoted">
&quot;Rock Garden&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10117_329" -->
<a id="c10117_329"></a><blockquote class="code"><p class="quoted">
Section 1 - General Rules
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10118_329" -->
<a id="c10118_329"></a><blockquote class="code"><p class="quoted">
Intervisibility relates rooms to each other in groups. The verb to be connected with means the intervisibility relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10119_329" -->
<a id="c10119_329"></a><blockquote class="code"><p class="quoted">
Definition: a room is inter-visible if it is connected with more than one room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10120_329" -->
<a id="c10120_329"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player when the location is an inter-visible room:
<br />&#160;&#160;&#160;&#160;repeat with other place running through rooms which are connected with the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the other place is the location, place the other place in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10121_329" -->
<a id="c10121_329"></a><blockquote class="code"><p class="quoted">
Rule for reaching inside a room (called target) which is connected with the location:
<br />&#160;&#160;&#160;&#160;let way be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;if the way is not a direction:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't get over to [the target] from here.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access;
<br />&#160;&#160;&#160;&#160;say &quot;(first heading [way])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;try going way;
<br />&#160;&#160;&#160;&#160;if the player is in the target, allow access;
<br />&#160;&#160;&#160;&#160;otherwise deny access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10122_329" -->
<a id="c10122_329"></a><blockquote class="code"><p class="quoted">
After looking when the location is an inter-visible room:
<br />&#160;&#160;&#160;&#160;repeat with other place running through rooms which are connected with the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the other place is not the location, describe locale for other place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10123_329" -->
<a id="c10123_329"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10124_329" -->
<a id="c10124_329"></a><blockquote class="code"><p class="quoted">
Rock Garden West is west of Rock Garden East. Rock Garden East contains a rake. Rock Garden West contains a bench and a maple leaf. The bench is an enterable supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10125_329" -->
<a id="c10125_329"></a><blockquote class="code"><p class="quoted">
Rock Garden West is connected with Rock Garden East.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10126_329" -->
<a id="c10126_329"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get rake / drop rake / sit on bench / get rake&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "80: A View of Green Hills" "e17" -->
<a id="e17"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e17" class="eglink"><b>80</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e17" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">A View of Green Hills</span></b></a><br />A LOOK [direction] command which allows the player to see descriptions of the nearby landscape.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_6.html#e17"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example17">
<p>Suppose a game in which the player is wandering an open landscape with long vistas, allowing him to LOOK in some direction, or even look at an adjacent location.</p>
<!-- START CODE "c10127_17" -->
<a id="c10127_17"></a><blockquote class="code"><p class="quoted">
&quot;A View of Green Hills&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10128_17" -->
<a id="c10128_17"></a><blockquote class="code"><p class="quoted">
Corinth is a room. Athens is east of Corinth. Epidaurus is southeast of Corinth and east of Mycenae. Mycenae is south of Corinth. Olympia is west of Mycenae. Argos is south of Mycenae. Thebes is northwest of Athens. Pylos is south of Olympia. Sparta is east of Pylos and south of Argos. Delphi is northwest of Thebes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10129_17" -->
<a id="c10129_17"></a><blockquote class="code"><p class="quoted">
Understand &quot;look [direction]&quot; as facing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10130_17" -->
<a id="c10130_17"></a><blockquote class="code"><p class="quoted">
Facing is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10131_17" -->
<a id="c10131_17"></a><blockquote class="code"><p class="quoted">
Carry out facing:
<br />&#160;&#160;&#160;&#160;let the viewed item be the room noun from the location;
<br />&#160;&#160;&#160;&#160;if the viewed item is not a room, say &quot;You can't see anything promising that way.&quot; instead;
<br />&#160;&#160;&#160;&#160;try looking toward the viewed item.
</p></blockquote>
<!-- END CODE -->
<p>In rules about action handling, &quot;noun&quot; refers to the first object that the player has mentioned in his command, so if the player typed &gt;LOOK WEST, &quot;let the viewed item be the room noun from the location&quot; would be processed as &quot;let the viewed item be the room west from the location&quot;, and so on.</p>
<p>We can at need override the default behavior, if it is not going to be appropriate for the player to see the next room over. There is only sky above at any time, so...</p>
<!-- START CODE "c10132_17" -->
<a id="c10132_17"></a><blockquote class="code"><p class="quoted">
Instead of facing up:
<br />&#160;&#160;&#160;&#160;say &quot;Above you is bright sky.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10133_17" -->
<a id="c10133_17"></a><blockquote class="code"><p class="quoted">
Understand &quot;look toward [any adjacent room]&quot; as looking toward. Understand &quot;examine [any adjacent room]&quot; as looking toward.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10134_17" -->
<a id="c10134_17"></a><blockquote class="code"><p class="quoted">
Looking toward is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10135_17" -->
<a id="c10135_17"></a><blockquote class="code"><p class="quoted">
Carry out looking toward:
<br />&#160;&#160;&#160;&#160;say &quot;You make out [the noun] that way.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This design allows us to create descriptions for rooms (as seen from the outside) which will work regardless of where we're looking from. For instance:</p>
<!-- START CODE "c10136_17" -->
<a id="c10136_17"></a><blockquote class="code"><p class="quoted">
Instead of looking toward Athens:
<br />&#160;&#160;&#160;&#160;say &quot;Even from here you can make out the silhouette of the Acropolis.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10137_17" -->
<a id="c10137_17"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look north / look south / look up / look east / east / look west&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "367: Stately Gardens" "e360" -->
<a id="e360"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e360" class="eglink"><b>367</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e360" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Stately Gardens</span></b></a><br />An open landscape where the player can see landmarks in nearby areas, with somewhat more complex room descriptions than the previous example, and in which we also account for size differences between things seen at a distance.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e360"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example360">
<p>This time we're going to assume that the player can see into any room that is on a line of sight within one or two steps of travel.</p>
<!-- START CODE "c10138_360" -->
<a id="c10138_360"></a><blockquote class="code"><p class="quoted">
&quot;Stately Gardens&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10139_360" -->
<a id="c10139_360"></a><blockquote class="code"><p class="quoted">
Chapter 1 - Laying Out Rooms
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10140_360" -->
<a id="c10140_360"></a><blockquote class="code"><p class="quoted">
A room can be indoors or outdoors.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10141_360" -->
<a id="c10141_360"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10142_360" -->
<a id="c10142_360"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;repeat with the way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let first step be the room the way from the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the first step is a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;place the first step in scope;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let second step be the room the way from the first step;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second step is a room, place the second step in scope;
<br />&#160;&#160;&#160;&#160;place the obelisk in scope.
</p></blockquote>
<!-- END CODE -->
<p>The obelisk is so large that it can be seen from every room. If we had a number of such large monuments we might want to write a systematic routine to handle them, but this will do for now.</p>
<!-- START CODE "c10143_360" -->
<a id="c10143_360"></a><blockquote class="code"><p class="quoted">
The room description heading rule is not listed in the carry out looking rules.
</p></blockquote>
<!-- END CODE -->
<p>Now, we set things up so that the surrounding areas are described automatically as part of the room description:</p>
<!-- START CODE "c10144_360" -->
<a id="c10144_360"></a><blockquote class="code"><p class="quoted">
Building description is a truth state that varies. Building description is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10145_360" -->
<a id="c10145_360"></a><blockquote class="code"><p class="quoted">
After looking when the location is an outdoors room:
<br />&#160;&#160;&#160;&#160;now count of sentences is 0;
<br />&#160;&#160;&#160;&#160;now building description is true;
<br />&#160;&#160;&#160;&#160;repeat with way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let space be the room way from the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if space is an outdoors room, silently try looking toward space;
<br />&#160;&#160;&#160;&#160;if the obelisk is not in the location and the obelisk is unmentioned:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from location to the Upper Terrace;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is a direction, say &quot;[The obelisk] is proudly visible on [the way] horizon. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the count of sentences;
<br />&#160;&#160;&#160;&#160;now building description is false;
<br />&#160;&#160;&#160;&#160;unless the count of sentences is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<p>But perhaps there are a few rooms where we do not wish that to happen, so we'll build in exceptions for those.</p>
<!-- START CODE "c10146_360" -->
<a id="c10146_360"></a><blockquote class="code"><p class="quoted">
After looking in the rose garden:
<br />&#160;&#160;&#160;&#160;say &quot;Otherwise, you are quite cut off.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10147_360" -->
<a id="c10147_360"></a><blockquote class="code"><p class="quoted">
After looking in the Ha-ha:
<br />&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<p>And suppose we want to allow the player to look in any direction:</p>
<!-- START CODE "c10148_360" -->
<a id="c10148_360"></a><blockquote class="code"><p class="quoted">
Understand &quot;look [direction]&quot; or &quot;look to/toward [direction]&quot; as facing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10149_360" -->
<a id="c10149_360"></a><blockquote class="code"><p class="quoted">
Facing is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10150_360" -->
<a id="c10150_360"></a><blockquote class="code"><p class="quoted">
Carry out facing:
<br />&#160;&#160;&#160;&#160;let the viewed item be the room noun from the location;
<br />&#160;&#160;&#160;&#160;if the viewed item is not a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the location is indoors, say &quot;Your view is restricted by the lack of doors or windows in that direction.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;You can't see anything promising that way.&quot; instead;
<br />&#160;&#160;&#160;&#160;try looking toward the viewed item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10151_360" -->
<a id="c10151_360"></a><blockquote class="code"><p class="quoted">
Instead of facing up:
<br />&#160;&#160;&#160;&#160;say &quot;Above you is bright sky.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We also need to tell distant rooms how to describe themselves.</p>
<!-- START CODE "c10152_360" -->
<a id="c10152_360"></a><blockquote class="code"><p class="quoted">
Understand &quot;look toward [any adjacent room]&quot; as looking toward.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10153_360" -->
<a id="c10153_360"></a><blockquote class="code"><p class="quoted">
Looking toward is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10154_360" -->
<a id="c10154_360"></a><blockquote class="code"><p class="quoted">
Check looking toward a room which does not contain something mentionable:
<br />&#160;&#160;&#160;&#160;if building description is false:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't make out anything of interest that way.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10155_360" -->
<a id="c10155_360"></a><blockquote class="code"><p class="quoted">
Carry out looking toward:
<br />&#160;&#160;&#160;&#160;now every thing is unmentioned;
<br />&#160;&#160;&#160;&#160;now the chosen direction is the best route from the location to the noun;
<br />&#160;&#160;&#160;&#160;now the second noun is the room the chosen direction from the noun;
<br />&#160;&#160;&#160;&#160;if the noun contains something mentionable:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through mentionable things in the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the writing a distant paragraph about activity with the item;
<br />&#160;&#160;&#160;&#160;if the noun contains something mentionable:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the count of sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row count of sentences in the Table of Distance Sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second noun is an outdoors room and the second noun contains something mentionable, say &quot;[both entry] [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[here entry] [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second noun is an outdoors room and the second noun contains something mentionable:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the count of sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row count of sentences in the Table of Distance Sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[there entry] [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;if building description is false:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<p>And again, some exception needs to be made for seeing what's in the dip in the ground:</p>
<!-- START CODE "c10156_360" -->
<a id="c10156_360"></a><blockquote class="code"><p class="quoted">
Instead of looking toward the Ha-ha:
<br />&#160;&#160;&#160;&#160;now the chosen direction is the best route from the location to the noun;
<br />&#160;&#160;&#160;&#160;now the second noun is the room the chosen direction from the noun;
<br />&#160;&#160;&#160;&#160;if the second noun is an outdoors room and the second noun contains something mentionable:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the count of sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row count of sentences in the Table of Distance Sentences;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[there entry] [run paragraph on]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The following is to account for cases where the player types &quot;look toward obelisk&quot; or similar, rather than looking toward a room:</p>
<!-- START CODE "c10157_360" -->
<a id="c10157_360"></a><blockquote class="code"><p class="quoted">
Understand &quot;look toward [something]&quot; as examining.
</p></blockquote>
<!-- END CODE -->
<p>The following is arguably an unnecessary refinement, but the listing of items in the distance gets a bit repetitive unless we vary the sentence structure.</p>
<!-- START CODE "c10158_360" -->
<a id="c10158_360"></a><blockquote class="code"><p class="quoted">
Chosen direction is a direction that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10159_360" -->
<a id="c10159_360"></a><blockquote class="code"><p class="quoted">
Count of sentences is a number that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10160_360" -->
<a id="c10160_360"></a><blockquote class="code"><p class="quoted">
Table of Distance Sentences
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">both</p></td><td class="quotedtablecell"><p class="quoted">here</p></td><td class="quotedtablecell"><p class="quoted">there</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;From here, you make out [a list of mentionable things in the noun] a little way [chosen direction], and, further on, [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;From here, you make out [a list of mentionable things in the noun] [if the noun is not adjacent to the location]some distance [end if]to [the chosen direction].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;From here, you make out [a list of mentionable things in the second noun] some distance [chosen direction].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;To [the chosen direction] there [is-are a list of mentionable things in the noun], partly obscuring your further view of [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;To [the chosen direction] there [is-are a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Quite a way [chosen direction] [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Then [chosen direction] [is-are a list of mentionable things in the noun], and beyond [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Meanwhile, to [the chosen direction] [is-are a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Meanwhile, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;When you turn [chosen direction], you see [a list of mentionable things in the noun], and somewhat further on [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;When you turn [chosen direction], you see [a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;If you turn [chosen direction], you see [a list of mentionable things in the second noun] some way off.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Somewhere generally [chosen direction] [is-are a list of mentionable things in the noun], beyond which, [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Roughly [chosen direction] [is-are a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Moreover, in the [chosen direction] distance [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;[The chosen direction] shows [a list of mentionable things in the noun] and then [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;And to [the chosen direction] [a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Meanwhile, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Then, [chosen direction], [is-are a list of mentionable things in the noun], and beyond [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Meanwhile, to [the chosen direction] [is-are a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Meanwhile, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Finally, [chosen direction], [is-are a list of mentionable things in the noun], somewhat nearer than [a list of mentionable things in the second noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Finally, to [the chosen direction] [is-are a list of mentionable things in the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Finally, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun].&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Now, our ability to view things at a distance should be determined by the size of the things we're trying to see:</p>
<!-- START CODE "c10161_360" -->
<a id="c10161_360"></a><blockquote class="code"><p class="quoted">
Chapter 2 - Height
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10162_360" -->
<a id="c10162_360"></a><blockquote class="code"><p class="quoted">
A height is a kind of value. 10 feet 11 inches specifies a height. 10 feet 11 specifies a height. The verb to stand means the height property. The verb to measure means the height property. A thing has a height. The height of a thing is usually 3 feet 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10163_360" -->
<a id="c10163_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is tiny if its height is 0 feet 6 inches or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10164_360" -->
<a id="c10164_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is short if its height is 3 feet 0 or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10165_360" -->
<a id="c10165_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is tall if its height is 6 feet 0 or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10166_360" -->
<a id="c10166_360"></a><blockquote class="code"><p class="quoted">
The height of a man is usually 5 feet 10 inches. The height of a woman is usually 5 feet 6 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10167_360" -->
<a id="c10167_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is monumental if it is taller than 25 feet 0 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10168_360" -->
<a id="c10168_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is mentionable if it stands tall enough to see.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10169_360" -->
<a id="c10169_360"></a><blockquote class="code"><p class="quoted">
To decide whether (item - a thing) stands tall enough to see:
<br />&#160;&#160;&#160;&#160;if the item is in the Rose Garden and the item is shorter than the roses, no;
<br />&#160;&#160;&#160;&#160;if the item is mentioned, no;
<br />&#160;&#160;&#160;&#160;if the item is in an adjacent room and item is taller than 2 feet 0, yes;
<br />&#160;&#160;&#160;&#160;if the item is taller than 4 feet 0, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10170_360" -->
<a id="c10170_360"></a><blockquote class="code"><p class="quoted">
Instead of examining something which is within a room (called the space) which is not the location:
<br />&#160;&#160;&#160;&#160;if the location is adjacent to the space:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is tiny, say &quot;It is too far from here for you to make out much detail about [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let way be the best route from the location to the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is a direction, say &quot;You gaze off [way] at [the noun]...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is short, say &quot;It is too far from here for you to make out much detail about [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let way be the best route from the location to the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is a direction, say &quot;You gaze off [way] into the distance at [the noun]...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<p>We might also want to be able to override, manually, the way distant things are described.</p>
<!-- START CODE "c10171_360" -->
<a id="c10171_360"></a><blockquote class="code"><p class="quoted">
Writing a distant paragraph about something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10172_360" -->
<a id="c10172_360"></a><blockquote class="code"><p class="quoted">
Rule for writing a distant paragraph about the lily pond:
<br />&#160;&#160;&#160;&#160;if the second noun is a room and something mentionable is in the second noun, say &quot;A [lily pond], [chosen direction], patchily reflects [a list of mentionable things in the second noun] on the far side. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;To [the chosen direction], [a lily pond] shimmers in the sunlight. [run paragraph on]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10173_360" -->
<a id="c10173_360"></a><blockquote class="code"><p class="quoted">
Rule for writing a distant paragraph about the roses:
<br />&#160;&#160;&#160;&#160;if something in the Rose Garden is taller than the roses,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Over the tops of [the roses], [chosen direction], you see [a list of mentionable things in the rose garden]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Immediately [chosen direction] is [the roses]. [run paragraph on]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10174_360" -->
<a id="c10174_360"></a><blockquote class="code"><p class="quoted">
Rule for writing a distant paragraph about the obelisk:
<br />&#160;&#160;&#160;&#160;if a mentionable thing in the Upper Terrace is shorter than the obelisk,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;A stupidly grand [obelisk], [chosen direction], towers over [a list of mentionable things in the Upper Terrace]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;To [the chosen direction], you can't help noticing [the obelisk], which is much larger than any object really needs to be. [run paragraph on]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10175_360" -->
<a id="c10175_360"></a><blockquote class="code"><p class="quoted">
After writing a distant paragraph about something:
<br />&#160;&#160;&#160;&#160;increment the count of sentences.
</p></blockquote>
<!-- END CODE -->
<p>Moreover, proximate things might have special descriptions too.</p>
<!-- START CODE "c10176_360" -->
<a id="c10176_360"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about something tiny when the location is outdoors:
<br />&#160;&#160;&#160;&#160;if the location is the Gravel Circle,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Abandoned in the gravel [is-are a list of unmentioned tiny things in the location]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Half trampled into the grass, and easy to miss, [is-are a list of unmentioned tiny things in the location]. [run paragraph on]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10177_360" -->
<a id="c10177_360"></a><blockquote class="code"><p class="quoted">
Before doing something other than examining or approaching to something which is not within the location:
<br />&#160;&#160;&#160;&#160;if the player has the noun, continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;(first going over to [the noun])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;try approaching the noun;
<br />&#160;&#160;&#160;&#160;if the noun is not within the location, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10178_360" -->
<a id="c10178_360"></a><blockquote class="code"><p class="quoted">
Understand &quot;go toward/to/towards/near [something]&quot; or &quot;approach [something]&quot; as approaching.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10179_360" -->
<a id="c10179_360"></a><blockquote class="code"><p class="quoted">
Approaching is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10180_360" -->
<a id="c10180_360"></a><blockquote class="code"><p class="quoted">
Check approaching:
<br />&#160;&#160;&#160;&#160;if the player is in something, say &quot;You'll have to get up.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is within the location, say &quot;You're as close to [the noun] as you can get.&quot; instead;
<br />&#160;&#160;&#160;&#160;let space be the location of the noun;
<br />&#160;&#160;&#160;&#160;if the space is not a room, say &quot;You don't quite see how to get there.&quot; instead;
<br />&#160;&#160;&#160;&#160;let way be the best route from the location to the space;
<br />&#160;&#160;&#160;&#160;unless way is a direction,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't see how to get over there from here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10181_360" -->
<a id="c10181_360"></a><blockquote class="code"><p class="quoted">
To head to (space - a room):
<br />&#160;&#160;&#160;&#160;let the way be the best route from the location to the space;
<br />&#160;&#160;&#160;&#160;if the space is adjacent to the location,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try going way;
<br />&#160;&#160;&#160;&#160;otherwise silently try going way.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10182_360" -->
<a id="c10182_360"></a><blockquote class="code"><p class="quoted">
Carry out approaching:
<br />&#160;&#160;&#160;&#160;let space be the location of the noun;
<br />&#160;&#160;&#160;&#160;while the space is not the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;head to space.
</p></blockquote>
<!-- END CODE -->
<p>This is a bit primitive, since if we had an occasion where going was blocked, we could get stuck in a loop. So we would need to be careful, but for this example it won't arise.</p>
<!-- START CODE "c10183_360" -->
<a id="c10183_360"></a><blockquote class="code"><p class="quoted">
Going state is a truth state that varies. Going state is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10184_360" -->
<a id="c10184_360"></a><blockquote class="code"><p class="quoted">
Check going:
<br />&#160;&#160;&#160;&#160;now going state is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10185_360" -->
<a id="c10185_360"></a><blockquote class="code"><p class="quoted">
The description of a room is usually &quot;[if going state is true]You drift [noun] across the open lawn[direction relative to obelisk]. [end if]An absolutely phenomenal quantity of manicured turf stretches from where you stand in almost every direction.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10186_360" -->
<a id="c10186_360"></a><blockquote class="code"><p class="quoted">
Before reading a command:
<br />&#160;&#160;&#160;&#160;now going state is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10187_360" -->
<a id="c10187_360"></a><blockquote class="code"><p class="quoted">
To say direction relative to obelisk:
<br />&#160;&#160;&#160;&#160;if obelisk is in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;, as though drawn magnetically to the foot of the monument&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let way be the best route from the location to the Upper Terrace;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if way is the noun, say &quot;, drawn towards [the obelisk]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is the opposite of the noun, say &quot;, keeping [the obelisk] more or less at your back&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10188_360" -->
<a id="c10188_360"></a><blockquote class="code"><p class="quoted">
Chapter 3 - The Grounds
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10189_360" -->
<a id="c10189_360"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;Idyllic&quot;;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot; &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10190_360" -->
<a id="c10190_360"></a><blockquote class="code"><p class="quoted">
The Gravel Circle, the Ha-ha, the Sheep Field, the Open Lawn, the Croquet Ground, the Rose Garden, the Upper Terrace, the Middle Terrace, and the Lower Terrace are outdoors.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10191_360" -->
<a id="c10191_360"></a><blockquote class="code"><p class="quoted">
The Middle Terrace is north of the Lower Terrace and south of the Upper Terrace. The lily pond is fixed in place in the Middle Terrace.&quot;You [if going state is true]come to[otherwise]are at[end if] the north edge of a perfectly round lily pond, bordered with stones. Its surface patchily reflects [the marble anteater] on the south bank.&quot; A tent peg and a wilted orchid are in the Middle Terrace. The tent peg measures 0 feet 6. The orchid measures 0 feet 4.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10192_360" -->
<a id="c10192_360"></a><blockquote class="code"><p class="quoted">
The description of the Lower Terrace is &quot;[if going state is true]You climb [noun] up a small hillock[direction relative to obelisk][otherwise]You stand on a short, round, entirely artificial hillock[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10193_360" -->
<a id="c10193_360"></a><blockquote class="code"><p class="quoted">
The marble anteater is a fixed in place thing in the Lower Terrace. The height of marble anteater is 6 feet 2 inches.&quot;A marble anteater stands on a pedestal at the top of the hill. In the bright sunlight the white marble makes a striking contrast with [the obelisk] in the distance.&quot; The description is &quot;The anteater is very much more than life-size.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10194_360" -->
<a id="c10194_360"></a><blockquote class="code"><p class="quoted">
The obelisk of black granite is a fixed in place thing in the Upper Terrace.&quot;Now that you are at the foot of it, you can properly appreciate the stupid immensity of the obelisk, pointing stonily at heaven.&quot; The height of the obelisk is 50 feet 0 inches. The description of the obelisk is &quot;It stands ridiculously tall, and has an inscription on the face.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10195_360" -->
<a id="c10195_360"></a><blockquote class="code"><p class="quoted">
The inscription is part of the obelisk. The height of the inscription is 0 feet 3 inches. The description of the inscription is &quot;You can't read the squirming, pointed letters, but they make you uneasy.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10196_360" -->
<a id="c10196_360"></a><blockquote class="code"><p class="quoted">
The Gravel Circle is west of the Upper Terrace, northwest of the Middle Terrace, and north of the Croquet Ground. The description of the Gravel Circle is &quot;[if going state is true]You head [noun] until the lawn thins and[otherwise]Here the lawn[end if] gives way to a circle of raked gravel, which crunches pleasingly beneath you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10197_360" -->
<a id="c10197_360"></a><blockquote class="code"><p class="quoted">
Instead of going northwest in the Upper Terrace, try going north.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10198_360" -->
<a id="c10198_360"></a><blockquote class="code"><p class="quoted">
The Ha-ha is north of the Gravel Circle and northwest of the Upper Terrace. The description of the Ha-ha is &quot;[if going state is true]The land dips here so suddenly that you do not know the dip is there until you're in it; but it prevents livestock from crossing barriers, and that is the important thing[otherwise]You are at the base of a steep-sided depression, so the lawn continues north and south more or less at the level of your head[end if].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10199_360" -->
<a id="c10199_360"></a><blockquote class="code"><p class="quoted">
The tip of [the obelisk] is the only thing you can make out from this depression, off to the southeast.&quot;. North of the Ha-ha is the Sheep Field. In the Sheep Field is an animal called a black sheep. The black sheep stands 4 feet 3 inches.&quot;A black sheep grazes placidly nearby.&quot; The description of the black sheep is &quot;It reminds you of your Uncle Tim.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10200_360" -->
<a id="c10200_360"></a><blockquote class="code"><p class="quoted">
Before going from the Ha-ha:
<br />&#160;&#160;&#160;&#160;say &quot;It's a bit of a scramble to get back up the side of the depression, and you keep slipping in the damp grass. But you manage at last.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10201_360" -->
<a id="c10201_360"></a><blockquote class="code"><p class="quoted">
The Rose Garden is  southwest of the Lower Terrace. The thicket of red roses is a fixed in place thing in the Rose Garden. The thicket stands 4 feet 2 inches.&quot;Heavy red roses grow over a roughly horseshoe-shaped wall around you. Over this barrier, the head of [the marble anteater] is visible to the northwest, and the tip of [the obelisk] in the distance.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10202_360" -->
<a id="c10202_360"></a><blockquote class="code"><p class="quoted">
The description of the Rose Garden is &quot;[if going state is true]You slip [noun] into the enclosure of the rose garden. [end if]The rest of the park, and the world, seems muted and quiet.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10203_360" -->
<a id="c10203_360"></a><blockquote class="code"><p class="quoted">
Instead of smelling the rose garden: try smelling the roses. Instead of smelling the roses, say &quot;The smell tickles the back of your throat and makes you want to cough.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10204_360" -->
<a id="c10204_360"></a><blockquote class="code"><p class="quoted">
Instead of listening to the rose garden:
<br />&#160;&#160;&#160;&#160;say &quot;You can't hear anything at all.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10205_360" -->
<a id="c10205_360"></a><blockquote class="code"><p class="quoted">
The Open Lawn is north of the Rose Garden, west of the Lower Terrace, and southwest of the Middle Terrace. The Croquet Ground is north of the Open Lawn, west of the Middle Terrace, southwest of the Upper Terrace, and northwest of the Lower Terrace.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10206_360" -->
<a id="c10206_360"></a><blockquote class="code"><p class="quoted">
A discarded champagne cork is in the Open Lawn. It stands 0 feet 2 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10207_360" -->
<a id="c10207_360"></a><blockquote class="code"><p class="quoted">
A stone bench is an enterable supporter in the Croquet Ground. It stands 3 feet 8 inches.&quot;There is a stone bench here -- a sort of stone sofa, really, with nymphs disporting themselves on the arms and back.&quot; The description of the bench is &quot;It used to be a Roman sarcophagus -- hence the nymphs -- but someone has thoughtfully recarved it as lawn furniture.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10208_360" -->
<a id="c10208_360"></a><blockquote class="code"><p class="quoted">
The half-size Bentley is a vehicle in the Gravel Circle.&quot;A sort of child's-toy version of a Bentley is parked [if something parkable is in the location]beside [the tallest parkable thing in the location][otherwise]close at hand[end if].&quot; The description of the half-size Bentley is &quot;Of beautiful and unambiguously luxurious lines, but sized down to hold only one or (at a stretch) two people, and powered by electricity.&quot; The half-size Bentley stands 3 feet 6 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10209_360" -->
<a id="c10209_360"></a><blockquote class="code"><p class="quoted">
Definition: a thing is parkable if it is not a person and it is not the Bentley.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10210_360" -->
<a id="c10210_360"></a><blockquote class="code"><p class="quoted">
Instead of touching the obelisk, say &quot;Though it is black stone in sunlight, the obelisk is very cold to the touch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10211_360" -->
<a id="c10211_360"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look east / look toward obelisk / s / s / e / sw / ne / n / n / w / n / n / examine obelisk / touch obelisk / read inscription&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "45: Something Narsty" "e357" -->
<a id="e357"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e357" class="eglink"><b>45</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e357" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Something Narsty</span></b></a><br />A staircase always open and never openable.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_4.html#e357"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example357">
<p>In a game with many staircases, we might want:</p>
<!-- START CODE "c10212_357" -->
<a id="c10212_357"></a><blockquote class="code"><p class="quoted">
A staircase is a kind of door. A staircase is always open. A staircase is never openable.
</p></blockquote>
<!-- END CODE -->
<p>Defining the staircase this way means that we will never be able to get away with (for instance) a folding ladder into the attic which is sometimes closed up. So alternatively we might do</p>
<!-- START CODE "c10213_357" -->
<a id="c10213_357"></a><blockquote class="code"><p class="quoted">
&quot;Something Narsty&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10214_357" -->
<a id="c10214_357"></a><blockquote class="code"><p class="quoted">
A staircase is a kind of door. A staircase is usually open. A staircase is seldom openable.
</p></blockquote>
<!-- END CODE -->
<p>We could then write a rule so that whenever the player types CLIMB [any staircase], the command is diverted to an enter command, while all other doors refuse to respond to such treatment. Still, this kind is now usable, as we see in this trivial example:</p>
<!-- START CODE "c10215_357" -->
<a id="c10215_357"></a><blockquote class="code"><p class="quoted">
The ladder is a staircase. It is above the Woodshed and below the Scary Loft.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10216_357" -->
<a id="c10216_357"></a><blockquote class="code"><p class="quoted">
Test me with &quot;up&quot;.
</p></blockquote>
<!-- END CODE -->
<p>But these are refinements for a later chapter.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "63: When?" "e107" -->
<a id="e107"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e107" class="eglink"><b>63</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e107" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">When?</span></b></a><br />A door whose description says "...leads east" in one place and "...leads west" in the other.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_5.html#e107"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example107">
<p>Very simple, but quite frequently useful:</p>
<!-- START CODE "c10217_107" -->
<a id="c10217_107"></a><blockquote class="code"><p class="quoted">
&quot;When?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10218_107" -->
<a id="c10218_107"></a><blockquote class="code"><p class="quoted">
The temporal vortex is an open door. It is west of Yesterday and east of Today. &quot;A whirling temporal vortex leads [if the player is in Yesterday]west[otherwise]east[end if].&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "89: Hayseed" "e358" -->
<a id="e358"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e358" class="eglink"><b>89</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e358" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hayseed</span></b></a><br />A refinement of our staircase kind which can be climbed.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_7.html#e358"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example358">
<p>Presumably all staircase-type connections between rooms should respond when the player says CLIMB STAIRS (or the equivalent). So</p>
<!-- START CODE "c10219_358" -->
<a id="c10219_358"></a><blockquote class="code"><p class="quoted">
&quot;Hayseed&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10220_358" -->
<a id="c10220_358"></a><blockquote class="code"><p class="quoted">
A staircase is a kind of door. A staircase is usually open. A staircase is seldom openable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10221_358" -->
<a id="c10221_358"></a><blockquote class="code"><p class="quoted">
The ladder is a staircase. It is above the Barn and below the Hayloft.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10222_358" -->
<a id="c10222_358"></a><blockquote class="code"><p class="quoted">
Instead of climbing a staircase:
<br />&#160;&#160;&#160;&#160;try entering the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10223_358" -->
<a id="c10223_358"></a><blockquote class="code"><p class="quoted">
Test me with &quot;climb ladder / g&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Attempts to climb other types of door will still be treated as useless.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "128: Higher Calling" "e108" -->
<a id="e108"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e108" class="eglink"><b>128</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e108" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Higher Calling</span></b></a><br />All doors in the game automatically attempt to open if the player approaches them when they are closed.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e108"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example108">
<p>&quot;Called&quot; is quite useful in the context of rules about going, since go rules often refer to things other than the noun the player typed. For instance, suppose we want to have doors which politely open when the player tries to pass through them:</p>
<!-- START CODE "c10224_108" -->
<a id="c10224_108"></a><blockquote class="code"><p class="quoted">
&quot;Higher Calling&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10225_108" -->
<a id="c10225_108"></a><blockquote class="code"><p class="quoted">
Before going through a closed door (called the blocking door):
<br />&#160;&#160;&#160;&#160;say &quot;(first opening [the blocking door])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;silently try opening the blocking door;
<br />&#160;&#160;&#160;&#160;if the blocking door is closed, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10226_108" -->
<a id="c10226_108"></a><blockquote class="code"><p class="quoted">
Dome is a room. North of Dome is North Chapel. South of the Dome is South Chapel. West of the Dome is Western End. Quiet Corner is northwest of the Dome, north of Western End, and west of North Chapel. Loud Corner is east of North Chapel, northeast of Dome, and north of Eastern End. Eastern End is north of Dim Corner and east of Dome. Dim Corner is southeast of Dome and east of South Chapel. Ruined Corner is southwest of Dome, west of South Chapel, and south of Western End.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10227_108" -->
<a id="c10227_108"></a><blockquote class="code"><p class="quoted">
The church door is east of Eastern End and west of the Courtyard. The church door is a door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10228_108" -->
<a id="c10228_108"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>A fuller set of such rules is included in the Locksmith extension.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "236: Wainwright Acts" "e418" -->
<a id="e418"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e418" class="eglink"><b>236</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e418" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Wainwright Acts</span></b></a><br />A technical note about checking the location of door objects when characters other than the player are interacting with them.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e418"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example418">
<p>Suppose we wanted to write rules for a character who will interact with doors in other locations even when the player is not present. This poses a little challenge: doors are actually single objects, and -- with the same shuffling of stage properties that applies to backdrops -- they are moved as needed to represent the door object in whatever room contains the player.</p>
<p>That means that it isn't safe to rely on a phrase like</p>
<!-- START CODE "c10229_418" -->
<a id="c10229_418"></a><blockquote class="code"><p class="quoted">
if an open door is in the location of Bernard
</p></blockquote>
<!-- END CODE -->
<p>because, even if Bernard's location is connected by doors to other places, the actual representation of that door may not be &quot;in&quot; Bernard's location, from the model's point of view, at this exact moment.</p>
<p>This does not, of course, mean that we can't ask this question; just that we have to be a little cleverer about how we phrase it. Every door has properties that correspond to the two locations</p>
<p>linked:</p>
<!-- START CODE "c10230_418" -->
<a id="c10230_418"></a><blockquote class="code"><p class="quoted">
the front side of the blue door (a room, which is arbitrarily one side of the door)
<br />the back side of the blue door (arbitrarily the other side)
</p></blockquote>
<!-- END CODE -->
<p>We can make this information easier to check with a conditional relation, like so:</p>
<!-- START CODE "c10231_418" -->
<a id="c10231_418"></a><blockquote class="code"><p class="quoted">
Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.
</p></blockquote>
<!-- END CODE -->
<p>And this allows us to write rules that have characters interacting with doors even in the player's absence:</p>
<!-- START CODE "c10232_418" -->
<a id="c10232_418"></a><blockquote class="code"><p class="quoted">
&quot;Wainwright Acts&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10233_418" -->
<a id="c10233_418"></a><blockquote class="code"><p class="quoted">
The Waiting Room is a room. The waiting room door is west of the Waiting Room and east of the Gents' Loo. The Waiting Room door is an open door. &quot;The waiting room door [if open]stands open[otherwise]is shut firmly[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10234_418" -->
<a id="c10234_418"></a><blockquote class="code"><p class="quoted">
Sir Humphrey is a man in the Gents' Loo.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10235_418" -->
<a id="c10235_418"></a><blockquote class="code"><p class="quoted">
Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10236_418" -->
<a id="c10236_418"></a><blockquote class="code"><p class="quoted">
Definition: a person is other if he is not the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10237_418" -->
<a id="c10237_418"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with indiscreet one running through other people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with port running through open doors that are a threshold of the location of the indiscreet one:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the port is a threshold of the location and the indiscreet one is not in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Through [the port], you overhear [the indiscreet one] discussing [one of]his hopes for your imminent resignation[or]your wife's infidelity[or]your financially straitened circumstances[or]ways to avoid attending your birthday party[or]your halitosis[as decreasingly likely outcomes].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10238_418" -->
<a id="c10238_418"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / w / z / e / close door / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "321: Whither?" "e436" -->
<a id="e436"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e436" class="eglink"><b>321</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e436" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Whither?</span></b></a><br />A door whose description says where it leads; and which automatically understands references such as "the west door" and "the east door" depending on which direction it leads from the location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e436"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example436">
<p>Here we expand on the simple examples When? and Whence?; this time we want the player to be able to refer to doors by their directions, as in &quot;the west door&quot; when the door in question does in fact lead west.</p>
<!-- START CODE "c10239_436" -->
<a id="c10239_436"></a><blockquote class="code"><p class="quoted">
&quot;Whither?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10240_436" -->
<a id="c10240_436"></a><blockquote class="code"><p class="quoted">
The temporal vortex is an open door. It is west of Yesterday and east of Today.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10241_436" -->
<a id="c10241_436"></a><blockquote class="code"><p class="quoted">
The initial appearance of a door is usually &quot;Nearby [an item described] leads [if the other side of the item described is visited][direction of the item described from the location] to [the other side][otherwise][direction of the item described from the location][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10242_436" -->
<a id="c10242_436"></a><blockquote class="code"><p class="quoted">
Direction-relevance relates a door (called X) to a direction (called Y) when the direction of X from the location is Y. The verb to be directionally-relevant to means the direction-relevance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10243_436" -->
<a id="c10243_436"></a><blockquote class="code"><p class="quoted">
Understand &quot;[something related by direction-relevance] door&quot; as a door.
</p></blockquote>
<!-- END CODE -->
<p>As an added touch, we respond also to the case where the player postulates a door in some direction when there is no such thing at the moment:</p>
<!-- START CODE "c10244_436" -->
<a id="c10244_436"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error when the player's command includes &quot;[non-door direction] door&quot;:
<br />&#160;&#160;&#160;&#160;say &quot;There is no door in that direction.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10245_436" -->
<a id="c10245_436"></a><blockquote class="code"><p class="quoted">
Definition: a direction (called direction D) is non-door:
<br />&#160;&#160;&#160;&#160;let the target be the room-or-door direction D from the location;
<br />&#160;&#160;&#160;&#160;if the target is a door:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;no;
<br />&#160;&#160;&#160;&#160;yes;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10246_436" -->
<a id="c10246_436"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine west door / x east door / w / x w door / x e door / tie me to the west door / tie the west door to me / push the west door east / push the east door west&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "24: Neighborhood Watch" "e101" -->
<a id="e101"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e101" class="eglink"><b>24</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e101" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Neighborhood Watch</span></b></a><br />A locked door that can be locked or unlocked without a key from one side, but not from the other.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e101"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example101">
<p>Suppose we want a locked door that can be opened with a key, but is also openable by hand without a key from one side only. We start by defining an ordinary lockable door and the key that controls it:</p>
<!-- START CODE "c10247_101" -->
<a id="c10247_101"></a><blockquote class="code"><p class="quoted">
&quot;Neighborhood Watch&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10248_101" -->
<a id="c10248_101"></a><blockquote class="code"><p class="quoted">
The shabby door is a door. It is outside from the Studio Apartment and inside from the Rickety Stairwell. The shabby door is locked.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10249_101" -->
<a id="c10249_101"></a><blockquote class="code"><p class="quoted">
The brass key is carried by the player. It unlocks the shabby door.
</p></blockquote>
<!-- END CODE -->
<p>The next part is going to require that we modify the normal operation of the &quot;lock&quot; command. &quot;Lock&quot; ordinarily requires that the player supply two objects: a thing he wants to unlock, and the key he wants to use on it. The full command is LOCK DOOR WITH THE KEY, and Inform will not accept simply LOCK DOOR as locking.</p>
<p>Therefore, we're going to need to create our own new variant on the lock verb (and the unlock verb, while we're at it). The full procedure for this is laid out in the chapters on Action and Understanding, but here is an example:</p>
<!-- START CODE "c10250_101" -->
<a id="c10250_101"></a><blockquote class="code"><p class="quoted">
Understand &quot;lock [something]&quot; as locking keylessly. Locking keylessly is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<p>Here we've created a new action -- locking something without a key -- and we've told Inform to understand LOCK DOOR as this action, rather than an incomplete command to LOCK DOOR WITH SOMETHING.</p>
<p>Now we add some instructions so that the game will not let us use this keyless unlocking command unless we're in the right place or are properly equipped:</p>
<!-- START CODE "c10251_101" -->
<a id="c10251_101"></a><blockquote class="code"><p class="quoted">
Check locking keylessly:
<br />&#160;&#160;&#160;&#160;if the noun is not a door, say &quot;[The noun] is not something you can lock.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is locked, say &quot;[The noun] is already locked.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player carries the brass key and the player is in the Stairwell, try locking the noun with the brass key instead;
<br />&#160;&#160;&#160;&#160;if the player is in the Stairwell, say &quot;You can't lock the door from this side without the key.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>This check rule is performed before the keyless locking action succeeds. The first thing we do is try to use the key if the player is outside and has the key: this way, LOCK DOOR will turn automatically into LOCK DOOR WITH THE KEY, under circumstances where that is both possible and necessary.</p>
<p>The second thing is to check whether the player is outside but keyless, and, if so stop the action from being performed successfully. Here we print a failure message followed by the word &quot;instead&quot;, which tells Inform that we've substituted some other outcome for the usual performance of the action.</p>
<p>Now we're reasonably sure that the player is only locking keylessly in the case that he is inside the Studio. (We might have to do a more thorough check for this if there were more than two rooms, but as it is, the player can only be in the Stairwell or in the Studio, so if we have ruled out the Stairwell, we are safe.) So now we want to add what happens when locking-without-a-key command succeeds:</p>
<!-- START CODE "c10252_101" -->
<a id="c10252_101"></a><blockquote class="code"><p class="quoted">
Carry out locking keylessly:
<br />&#160;&#160;&#160;&#160;now the noun is locked.
</p></blockquote>
<!-- END CODE -->
<p>That's it. We've just told Inform to make the door be locked. &quot;Now...&quot; syntax will be explained more thoroughly in the chapter on change. But we still haven't described to the player what just happened, so let's provide a description of that, too:</p>
<!-- START CODE "c10253_101" -->
<a id="c10253_101"></a><blockquote class="code"><p class="quoted">
Report locking keylessly:
<br />&#160;&#160;&#160;&#160;say &quot;You flip over the deadbolt to lock [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now we have to do a similar set of things for unlocking:</p>
<!-- START CODE "c10254_101" -->
<a id="c10254_101"></a><blockquote class="code"><p class="quoted">
Understand &quot;unlock [something]&quot; as unlocking keylessly. Unlocking keylessly is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10255_101" -->
<a id="c10255_101"></a><blockquote class="code"><p class="quoted">
Check unlocking keylessly:
<br />&#160;&#160;&#160;&#160;if the noun is not a door, say &quot;[The noun] is not something you can lock.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is unlocked, say &quot;[The noun] is already unlocked.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player carries the brass key and the player is in the Stairwell, try unlocking the noun with the brass key instead;
<br />&#160;&#160;&#160;&#160;if the player is in the Stairwell, say &quot;You can't unlock the door from this side without the key.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10256_101" -->
<a id="c10256_101"></a><blockquote class="code"><p class="quoted">
Carry out unlocking keylessly:
<br />&#160;&#160;&#160;&#160;now the noun is unlocked.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10257_101" -->
<a id="c10257_101"></a><blockquote class="code"><p class="quoted">
Report unlocking keylessly:
<br />&#160;&#160;&#160;&#160;say &quot;You flip over the deadbolt to unlock [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10258_101" -->
<a id="c10258_101"></a><blockquote class="code"><p class="quoted">
Test me with &quot;unlock door / drop key / open door / out / close door / lock door / open door / in / get key / out / close door / lock door / unlock door&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Some (but not all) of this work is done for you if you like by the Locksmith extension. If you prefer, you can include that extension, then follow the documentation in order to implement the remainder of the scenario. Locksmith takes care of implementing the additional locking and unlocking actions, and provides some other conveniences.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "106: One Short Plank" "e294" -->
<a id="e294"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e294" class="eglink"><b>106</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e294" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">One Short Plank</span></b></a><br />A plank bridge which breaks if the player is carrying something when he goes across it. Pushing anything over the bridge is forbidden outright.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_7.html#e294"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example294">
<!-- START CODE "c10259_294" -->
<a id="c10259_294"></a><blockquote class="code"><p class="quoted">
&quot;One Short Plank&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10260_294" -->
<a id="c10260_294"></a><blockquote class="code"><p class="quoted">
The East Jungle is a room. The plank bridge is west of the East Jungle and east of the West Jungle. The plank is an open unopenable door. &quot;A precarious plank bridge extends [if the location is West Jungle]east[otherwise]west[end if] across the chasm.&quot; The description of the plank is &quot;Extremely fragile and precarious.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10261_294" -->
<a id="c10261_294"></a><blockquote class="code"><p class="quoted">
Instead of going through the plank when the player is carrying something:
<br />&#160;&#160;&#160;&#160;say &quot;You step gingerly across the plank, which bows under your weight. But your meagre possessions are the straw which breaks the camel's back!&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10262_294" -->
<a id="c10262_294"></a><blockquote class="code"><p class="quoted">
After going through the plank:
<br />&#160;&#160;&#160;&#160;say &quot;You step gingerly across the plank, grateful that you're not burdened.&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10263_294" -->
<a id="c10263_294"></a><blockquote class="code"><p class="quoted">
There is a feather in the East Jungle.
</p></blockquote>
<!-- END CODE -->
<p>But indeed, why stop there?</p>
<!-- START CODE "c10264_294" -->
<a id="c10264_294"></a><blockquote class="code"><p class="quoted">
The gigantic stone ball is a thing in the West Jungle. It is pushable between rooms.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10265_294" -->
<a id="c10265_294"></a><blockquote class="code"><p class="quoted">
Before going through the plank with something:
<br />&#160;&#160;&#160;&#160;say &quot;Surely you jest.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10266_294" -->
<a id="c10266_294"></a><blockquote class="code"><p class="quoted">
Test me with &quot;w / e / w / push ball e / e / get feather / w&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "151: Elsie" "e119" -->
<a id="e119"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e119" class="eglink"><b>151</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e119" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Elsie</span></b></a><br />A door that closes automatically one turn after the player opens it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_9.html#e119"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example119">
<p>Suppose we want to create an automated door of the sort that closes when it isn't in use. A convenient way is to write a rule that fires &quot;every turn when the sliding door was open&quot;. This will be true only if the door was open at the beginning of the turn: if the player just opened it this turn, it stays open, and if it was already closed, it stays closed. Thus:</p>
<!-- START CODE "c10267_119" -->
<a id="c10267_119"></a><blockquote class="code"><p class="quoted">
&quot;Elsie&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10268_119" -->
<a id="c10268_119"></a><blockquote class="code"><p class="quoted">
The axis-ward is a direction. The opposite of axis-ward is hub-ward. Understand &quot;aw&quot; or &quot;axisward&quot; as axis-ward.
<br />The hub-ward is a direction. The opposite of hub-ward is axis-ward. Understand &quot;hw&quot; or &quot;hubward&quot; as hub-ward.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10269_119" -->
<a id="c10269_119"></a><blockquote class="code"><p class="quoted">
The Ship's Bridge is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10270_119" -->
<a id="c10270_119"></a><blockquote class="code"><p class="quoted">
The sliding door is a door. It is axis-ward from Bridge and hub-ward from C Deck. The initial appearance is &quot;There is a door in this wall[if closed] -- or at least, the potential for a door, since currently it is sealed, distinguishable from the rest of the wall only by the warning stripes on its surface[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10271_119" -->
<a id="c10271_119"></a><blockquote class="code"><p class="quoted">
Every turn when the sliding door was open:
<br />&#160;&#160;&#160;&#160;now the sliding door is closed;
<br />&#160;&#160;&#160;&#160;if the player can see the sliding door:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The sliding door slips back into place, sealing the wall as though there had never been a breach.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10272_119" -->
<a id="c10272_119"></a><blockquote class="code"><p class="quoted">
After opening the sliding door:
<br />&#160;&#160;&#160;&#160;say &quot;You press the appropriate buttons, and a section of wall slides away.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10273_119" -->
<a id="c10273_119"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open door / look / enter door / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "22: Garibaldi 1" "e163" -->
<a id="e163"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e163" class="eglink"><b>22</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e163" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Garibaldi 1</span></b></a><br />Providing a security readout device by which the player can check on the status of all doors in the game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e163"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example163">
<p>Suppose we would like to allow the player to view the status of all the doors functioning in the game; and we want to identify those doors by mentioning which two rooms they connect. The following uses some techniques that will be covered in later chapters, but the basic idea may be obvious:</p>
<!-- START CODE "c10274_163" -->
<a id="c10274_163"></a><blockquote class="code"><p class="quoted">
&quot;Garibaldi&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10275_163" -->
<a id="c10275_163"></a><blockquote class="code"><p class="quoted">
The security readout is a device. The description of the readout is &quot;The screen is blank.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10276_163" -->
<a id="c10276_163"></a><blockquote class="code"><p class="quoted">
Instead of examining the switched on security readout:
<br />&#160;&#160;&#160;&#160;say &quot;The screen reads: [fixed letter spacing]&quot;;
<br />&#160;&#160;&#160;&#160;say line break;
<br />&#160;&#160;&#160;&#160;repeat with item running through doors:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say line break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;  [item] ([front side of the item]/[back side of the item]): [if the item is locked]LOCKED[otherwise]UNLOCKED[end if]&quot;;
<br />&#160;&#160;&#160;&#160;say variable letter spacing;
<br />&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<p>It is more or less arbitrary which room winds up as the &quot;front side&quot; and which as the &quot;back&quot;, but in this case it hardly matters.</p>
<!-- START CODE "c10277_163" -->
<a id="c10277_163"></a><blockquote class="code"><p class="quoted">
The player carries the security readout.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10278_163" -->
<a id="c10278_163"></a><blockquote class="code"><p class="quoted">
The Docking Bay is a room. The inner airlock is a door. It is north of the Docking Bay and south of the Zocalo. The inner airlock is lockable and unlocked.  The outer airlock is lockable and locked. It is a door. It is south of the Docking Bay and north of Space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10279_163" -->
<a id="c10279_163"></a><blockquote class="code"><p class="quoted">
The quarantine seal is a door. It is west of the Zocalo and east of Medlab. Quarantine seal is locked.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10280_163" -->
<a id="c10280_163"></a><blockquote class="code"><p class="quoted">
The security pass unlocks the inner airlock. The player carries the security pass.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10281_163" -->
<a id="c10281_163"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x readout / turn on readout / x readout / lock inner airlock with security pass / x readout&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "64: Whence?" "e18" -->
<a id="e18"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e18" class="eglink"><b>64</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e18" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Whence?</span></b></a><br />A kind of door that always automatically describes the direction it opens and what lies on the far side (if that other room has been visited).</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_5.html#e18"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example18">
<p>It would be fairly tedious reading to have a large game full of doors that describe themselves this way. Nonetheless, if we insisted we could use our knowledge of the map as leverage to make every door in the game describe itself automatically.</p>
<p>To do this, we make use of the phrase &quot;direction of (the door) from (a room)&quot; -- in this case, the direction of the door we're looking at when viewed from the player's location. Thus:</p>
<!-- START CODE "c10282_18" -->
<a id="c10282_18"></a><blockquote class="code"><p class="quoted">
&quot;Whence?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10283_18" -->
<a id="c10283_18"></a><blockquote class="code"><p class="quoted">
The temporal vortex is an open door. It is west of Yesterday and east of Today.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10284_18" -->
<a id="c10284_18"></a><blockquote class="code"><p class="quoted">
The initial appearance of a door is usually &quot;Nearby [an item described] leads [if the other side of the item described is visited][direction of the item described from the location] to [the other side][otherwise][direction of the item described from the location][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10285_18" -->
<a id="c10285_18"></a><blockquote class="code"><p class="quoted">
Test me with &quot;w / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Yet a further variation on this, which can automatically understand &quot;the east door&quot; and &quot;the west door&quot; when appropriate, may be found in the example &quot;Whither?&quot;.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "116: Vitrine" "e117" -->
<a id="e117"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e117" class="eglink"><b>116</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e117" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Vitrine</span></b></a><br />An electrochromic window that becomes transparent or opaque depending on whether it is currently turned on.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e117"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example117">
<!-- START CODE "c10286_117" -->
<a id="c10286_117"></a><blockquote class="code"><p class="quoted">
&quot;Vitrine&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10287_117" -->
<a id="c10287_117"></a><blockquote class="code"><p class="quoted">
Plaza View is a room. &quot;Your uncle's apartment, on loan to you for viewing the parade and celebrations today. This would be more of a sacrifice on his part if he weren't currently yachting around Corfu.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10288_117" -->
<a id="c10288_117"></a><blockquote class="code"><p class="quoted">
The smart window is a device in Plaza View. It is fixed in place. &quot;A vast smart window [if transparent]overlooks the park[otherwise]has turned to a sheet of hazy blue[end if].&quot; The smart window can be transparent. The smart window is transparent. The description is &quot;An electrochromic device which changes shade and transparency in response to the application of current.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10289_117" -->
<a id="c10289_117"></a><blockquote class="code"><p class="quoted">
Curtains are so last year.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note the &quot;can be transparent&quot; line. Devices ordinarily are not allowed to have transparency or opaqueness, but we can make an exception in this case. Without that line, attempts to change the transparency of the window will fail.</p>
<!-- START CODE "c10290_117" -->
<a id="c10290_117"></a><blockquote class="code"><p class="quoted">
Carry out switching off the window: now the window is transparent.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10291_117" -->
<a id="c10291_117"></a><blockquote class="code"><p class="quoted">
Carry out switching on the window: now the window is opaque.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10292_117" -->
<a id="c10292_117"></a><blockquote class="code"><p class="quoted">
Instead of searching a transparent window: say &quot;Isn't it lovely out there?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10293_117" -->
<a id="c10293_117"></a><blockquote class="code"><p class="quoted">
Instead of searching an opaque window: say &quot;The window is currently darkened.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10294_117" -->
<a id="c10294_117"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look through window / switch window / look through window / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "21: Escape" "e23" -->
<a id="e23"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e23" class="eglink"><b>21</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e23" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Escape</span></b></a><br />Window that can be climbed through or looked through.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e23"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example23">
<p>Suppose we want to offer the player a window he can climb through, instead of a boring ordinary door. Our window will be like a door in that it connects two rooms, appears in both places, and impedes movement when it is shut. But we also want to add that we can look through it and see what lies on the other side; and we further want to understand &quot;climb through window&quot; or &quot;jump through window&quot; as attempts to pass through it.</p>
<p>We'll start by defining a couple of rooms and making the window a door between them.</p>
<!-- START CODE "c10295_23" -->
<a id="c10295_23"></a><blockquote class="code"><p class="quoted">
&quot;Escape&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10296_23" -->
<a id="c10296_23"></a><blockquote class="code"><p class="quoted">
Your Bedroom is a room. The bedroom window is a door. It is west of Your Bedroom and east of the Grassy Slope.
</p></blockquote>
<!-- END CODE -->
<p>Now we have a &quot;bedroom window&quot; object which can be entered. Now, to catch the case where the player types &quot;LOOK THROUGH WINDOW&quot;:</p>
<!-- START CODE "c10297_23" -->
<a id="c10297_23"></a><blockquote class="code"><p class="quoted">
Instead of searching the window:
<br />&#160;&#160;&#160;&#160;say &quot;Through the window, you make out [the other side of the window].&quot;
</p></blockquote>
<!-- END CODE -->
<p>The other side of a door is always defined to be the room that we are not currently in when doing the check. When we are in the bedrooom, the other side will be the grassy slope, and vice versa. &quot;Searching&quot; is the action that occurs when the player attempts to LOOK THROUGH something. (To review what grammar gives rise to what actions, we can always consult the Actions portion of the Index.)</p>
<p>Next we want to cover the case where we climb through the window:</p>
<!-- START CODE "c10298_23" -->
<a id="c10298_23"></a><blockquote class="code"><p class="quoted">
Instead of climbing the window:
<br />&#160;&#160;&#160;&#160;try entering the window.
</p></blockquote>
<!-- END CODE -->
<p>And because &quot;climb window&quot; is understood but &quot;climb THROUGH window&quot; is not, we will have to borrow from the chapter on Understanding to add some new vocabulary to the game (and we'll add Jump too, while we're at it):</p>
<!-- START CODE "c10299_23" -->
<a id="c10299_23"></a><blockquote class="code"><p class="quoted">
Understand &quot;climb through [something]&quot; as climbing. Understand &quot;jump through [something]&quot; as climbing.
</p></blockquote>
<!-- END CODE -->
<p>Now the final piece: Inform will already keep the player from going through a closed window, but it will say &quot;You can't, since the bedroom window is in the way.&quot; This is probably not ideal, so we can replace the instruction thus:</p>
<!-- START CODE "c10300_23" -->
<a id="c10300_23"></a><blockquote class="code"><p class="quoted">
Instead of going through the closed window:
<br />&#160;&#160;&#160;&#160;say &quot;The window is shut: you'd break the glass.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10301_23" -->
<a id="c10301_23"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look through window / climb through window / open window / climb through window / look through window / close window / e / open window / e&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "217: Dinner is Served" "e439" -->
<a id="e439"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e439" class="eglink"><b>217</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e439" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Dinner is Served</span></b></a><br />A window between two locations. When the window is open, the player can reach through into the other location; when it isn't, access is barred.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e439"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example439">
<!-- START CODE "c10302_439" -->
<a id="c10302_439"></a><blockquote class="code"><p class="quoted">
&quot;Dinner is Served&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10303_439" -->
<a id="c10303_439"></a><blockquote class="code"><p class="quoted">
Street in Kolonaki is a room. &quot;There is a single round table out on the street here, and a window more or less at knee level looks down into the Olive Tree Gyro Shop, which is partly basement.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10304_439" -->
<a id="c10304_439"></a><blockquote class="code"><p class="quoted">
The Street contains a round table. The table is scenery. On the round table is a plate. On the plate are a gyro and a mound of fresh potates. The plate is portable. The potates and the gyro are edible. The description of potates is &quot;They'd be called french fries, at home, but these are steak-cut and fried in olive oil.&quot; The description of the gyro is &quot;Dripping garlic-yogurt sauce.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10305_439" -->
<a id="c10305_439"></a><blockquote class="code"><p class="quoted">
Olive Tree Gyro Shop is inside from Street in Kolonaki. Kostis is a man in the Gyro Shop. In the Shop is a stand. On the stand is a rotating column of cooking lamb flesh. In the shop is a closed, openable container called a drinks refrigerator. The refrigerator contains a can of Mythos beer and a can of Coke Light.
</p></blockquote>
<!-- END CODE -->
<p>Here's the part that allows reaching through the window.</p>
<p>We replace the usual rule that says the player can never reach into a room with one that more specifically checks whether we are trying to reach through the window. If we aren't, we return the usual refusal. If we are, we return a custom refusal if the window is closed (&quot;You can't reach through the closed window&quot;), but allow access if the window is open.</p>
<!-- START CODE "c10306_439" -->
<a id="c10306_439"></a><blockquote class="code"><p class="quoted">
The can't reach through closed window rule is listed instead of the can't reach inside rooms rule in the reaching inside rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10307_439" -->
<a id="c10307_439"></a><blockquote class="code"><p class="quoted">
This is the can't reach through closed window rule:
<br />&#160;&#160;&#160;&#160;let reaching through the window be false;
<br />&#160;&#160;&#160;&#160;if the container in question is a room and the container in question is not the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the container in question is the Street and the location is the Olive Tree Gyro Shop:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now reaching through the window is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the container in question is the Gyro Shop and the location is the Street:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now reaching through the window is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if reaching through the window is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the window is closed:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach through the closed window.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;allow access;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach into [the container in question] from here.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access.
</p></blockquote>
<!-- END CODE -->
<p>And the rest is window-dressing.</p>
<!-- START CODE "c10308_439" -->
<a id="c10308_439"></a><blockquote class="code"><p class="quoted">
After looking when a room (called the next room) is adjacent:
<br />&#160;&#160;&#160;&#160;try examining the next room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10309_439" -->
<a id="c10309_439"></a><blockquote class="code"><p class="quoted">
Instead of examining a supporter, say &quot;On [the noun] [is-are a list of things on the noun].&quot; Instead of examining an open container, say &quot;In [the noun] [is-are a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10310_439" -->
<a id="c10310_439"></a><blockquote class="code"><p class="quoted">
The window is a backdrop. It is in the Street and the Shop. The window can be openable. The window can be open. The window is openable and closed. Instead of searching the window in the Street: try examining the shop. Instead of searching the window in the Shop: try examining the street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10311_439" -->
<a id="c10311_439"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [any adjacent room]&quot; as examining.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10312_439" -->
<a id="c10312_439"></a><blockquote class="code"><p class="quoted">
Instead of examining a room:
<br />&#160;&#160;&#160;&#160;say &quot;Over in [the noun], you can see [a list of visible things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10313_439" -->
<a id="c10313_439"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;if the player is in the Street, place the Shop in scope;
<br />&#160;&#160;&#160;&#160;if the player is in the Shop, place the Street in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10314_439" -->
<a id="c10314_439"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine shop / open refrigerator / open window / examine shop / open refrigerator / get beer / in / examine street / out / get gyro / close window / put gyro in refrigerator / open window / put gyro in refrigerator&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "272: Port Royal 4" "e260" -->
<a id="e260"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e260" class="eglink"><b>272</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e260" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 4</span></b></a><br />A cell window through which the player can see people who were in Port Royal in the current year of game-time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_16.html#e260"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example260">
<p>Our protagonist is imprisoned in Port Royal, waiting out his years, and sometimes through the window of his cell he is able to see someone.</p>
<p>We are, however, obsessive about historical accuracy, so we provide a table of people who really lived in the city, together with the year in which their existence is attested. We want these people to appear in the description only in the year when they are known to have been present. (After all, mortality was high in Port Royal and new people were constantly arriving, so someone's presence one year is no guarantee of their continued existence the next.)</p>
<!-- START CODE "c10315_260" -->
<a id="c10315_260"></a><blockquote class="code"><p class="quoted">
&quot;Waiting for Godot, Chyrurgeon&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10316_260" -->
<a id="c10316_260"></a><blockquote class="code"><p class="quoted">
New New Prison is a room. &quot;You have a not very interesting room. Through the window you see passing [current denizen].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10317_260" -->
<a id="c10317_260"></a><blockquote class="code"><p class="quoted">
Instead of waiting:
<br />&#160;&#160;&#160;&#160;increment the current year;
<br />&#160;&#160;&#160;&#160;say &quot;It is now the year [the current year].&quot;;
<br />&#160;&#160;&#160;&#160;try looking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10318_260" -->
<a id="c10318_260"></a><blockquote class="code"><p class="quoted">
When play begins: now the right hand status line is &quot;[current year]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10319_260" -->
<a id="c10319_260"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the current year is 1692:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It turns out you have remained imprisoned until the great earthquake of 1692! Oops.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10320_260" -->
<a id="c10320_260"></a><blockquote class="code"><p class="quoted">
Current year is a number that varies. The current year is 1664.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10321_260" -->
<a id="c10321_260"></a><blockquote class="code"><p class="quoted">
To say current denizen:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Occupations and People:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the date attested entry is the current year:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[nickname entry] [family entry], [trade entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;absolutely no one&quot;.
</p></blockquote>
<!-- END CODE -->
<p>It is possible to look up a row corresponding to, say, a specific year value using &quot;listed in&quot;, but repeat through is convenient here because we know that we will never wind up trying to print entries when no row can be successfully selected.</p>
<!-- START CODE "c10322_260" -->
<a id="c10322_260"></a><blockquote class="code"><p class="quoted">
Table of Occupations and People
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">Trade</p></td><td class="quotedtablecell"><p class="quoted">nickname</p></td><td class="quotedtablecell"><p class="quoted">family</p></td><td class="quotedtablecell"><p class="quoted">Date attested</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;architect&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Robert&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Snead&quot;</p></td><td class="quotedtablecell"><p class="quoted">1684</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;baker&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;William&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Wingar&quot;</p></td><td class="quotedtablecell"><p class="quoted">1683</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;barber&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;William&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Alcocke&quot;</p></td><td class="quotedtablecell"><p class="quoted">1676</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;blacksmith&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;William&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Davidson&quot;</p></td><td class="quotedtablecell"><p class="quoted">1679</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;bricklayer&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Samuel&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Richardson&quot;</p></td><td class="quotedtablecell"><p class="quoted">1683</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;butcher&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Dennis&quot;</p></td><td class="quotedtablecell"><p class="quoted">1676</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;carpenter&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Albert&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;cabinet-maker&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Robert&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Avis&quot;</p></td><td class="quotedtablecell"><p class="quoted">1666</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;joiner&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Peter&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Bartaboa&quot;</p></td><td class="quotedtablecell"><p class="quoted">1666</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;chandler&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;William&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Bates&quot;</p></td><td class="quotedtablecell"><p class="quoted">1674</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;chyrurgeon&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;William&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Axtell&quot;</p></td><td class="quotedtablecell"><p class="quoted">1674</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;chyrurgeon&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Thomas&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Trapham&quot;</p></td><td class="quotedtablecell"><p class="quoted">1678</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;combmaker&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Paul&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Bennett&quot;</p></td><td class="quotedtablecell"><p class="quoted">1673</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;cooper&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;James&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Hall&quot;</p></td><td class="quotedtablecell"><p class="quoted">1676</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;cooper&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Henry&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Pullein&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;cordwainer&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;George&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Barnard&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;cordwainer&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Edward&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Skannon&quot;</p></td><td class="quotedtablecell"><p class="quoted">1680</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;cordwainer&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Wilmott&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;drugster&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;William&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Mathews&quot;</p></td><td class="quotedtablecell"><p class="quoted">1682</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;fisherman&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Richard&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Collingwood&quot;</p></td><td class="quotedtablecell"><p class="quoted">1674</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;glazier&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Thomas&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Hudson&quot;</p></td><td class="quotedtablecell"><p class="quoted">1684</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;goldsmith&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Richard&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Lord&quot;</p></td><td class="quotedtablecell"><p class="quoted">1677</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;gunsmith&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Stephen&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Massey&quot;</p></td><td class="quotedtablecell"><p class="quoted">1664</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;hatmaker&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Rosewell&quot;</p></td><td class="quotedtablecell"><p class="quoted">1683</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ivory turner&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;William&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Clifton&quot;</p></td><td class="quotedtablecell"><p class="quoted">1691</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;labourer&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Dennis&quot;</p></td><td class="quotedtablecell"><p class="quoted">1674</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;limeburner&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Hardwick&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;mariner&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Alexander&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Bailing&quot;</p></td><td class="quotedtablecell"><p class="quoted">1680</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;mariner&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Thomas&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Bowtell&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;mariner&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Peter&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Claiton&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;mariner&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Joseph&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Cupid&quot;</p></td><td class="quotedtablecell"><p class="quoted">1672</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;mariner&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Michael&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Dunn&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;mason&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Stone&quot;</p></td><td class="quotedtablecell"><p class="quoted">1673</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;merchant&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Agard&quot;</p></td><td class="quotedtablecell"><p class="quoted">1680</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;merchant&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;David Lopez&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Narbona&quot;</p></td><td class="quotedtablecell"><p class="quoted">1674</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;merchant&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Abraham&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Langford&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;merchant&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Sweeting&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;merchant&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Charles&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Knight&quot;</p></td><td class="quotedtablecell"><p class="quoted">1680</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;merchant&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Cornelius&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Vandananker&quot;</p></td><td class="quotedtablecell"><p class="quoted">1670</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;merchant&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Moses Jesurum&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Cordova&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;pewterer&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Simon&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Benning&quot;</p></td><td class="quotedtablecell"><p class="quoted">1667</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;pipemaker&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Pope&quot;</p></td><td class="quotedtablecell"><p class="quoted">1680</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;porter&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;George&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Paul&quot;</p></td><td class="quotedtablecell"><p class="quoted">1670</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;poulterer&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Richard&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Jeffreys&quot;</p></td><td class="quotedtablecell"><p class="quoted">1677</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;sailmaker&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Adam&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Brewer&quot;</p></td><td class="quotedtablecell"><p class="quoted">1671</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;schoolmaster&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Peter&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Bird&quot;</p></td><td class="quotedtablecell"><p class="quoted">1677</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;shipwright&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;William&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Cavell&quot;</p></td><td class="quotedtablecell"><p class="quoted">1676</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;tailor&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;William&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Case&quot;</p></td><td class="quotedtablecell"><p class="quoted">1676</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;tailor&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Pewter&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Ebden&quot;</p></td><td class="quotedtablecell"><p class="quoted">1683</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;waterman&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;William&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Brocke&quot;</p></td><td class="quotedtablecell"><p class="quoted">1674</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;waterman&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Joel&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Clements&quot;</p></td><td class="quotedtablecell"><p class="quoted">1668</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;wherryman&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Grant&quot;</p></td><td class="quotedtablecell"><p class="quoted">1669</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;victualler&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Barnaby&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Adams&quot;</p></td><td class="quotedtablecell"><p class="quoted">1675</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;vintner&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Gabriel&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Adkins&quot;</p></td><td class="quotedtablecell"><p class="quoted">1668</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;tavern-keeper&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;John&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Baldwin&quot;</p></td><td class="quotedtablecell"><p class="quoted">1670</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;tavern-keeper&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Mary&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Dayton&quot;</p></td><td class="quotedtablecell"><p class="quoted">1664</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;tavern-keeper&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;James&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Turpin&quot;</p></td><td class="quotedtablecell"><p class="quoted">1679</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;tavern-keeper&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Christopher&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Mayham&quot;</p></td><td class="quotedtablecell"><p class="quoted">1664</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10323_260" -->
<a id="c10323_260"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wait / wait / wait / wait / wait / wait / wait / wait / wait / wait&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "181: A Haughty Spirit" "e388" -->
<a id="e388"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e388" class="eglink"><b>181</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e388" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">A Haughty Spirit</span></b></a><br />Windows overlooking lower spaces which will prevent the player from climbing through if the lower space is too far below.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_11.html#e388"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example388">
<p>Suppose we have a game in which the player can climb through windows which overlook rooms below. We want him to be allowed to climb out windows to reach a room on the same level or at most one level lower than the one he's on; otherwise, he should get a refusal, saying that he would break his neck.</p>
<p>To figure out the height distance between the start room and the destination room, we might have a repeat loop look at all the directions one has to follow along the &quot;best route&quot; path between the two rooms, and record any ups and downs; then subtract the number of &quot;up&quot; steps from the number of &quot;down&quot; steps, and report what remains.</p>
<!-- START CODE "c10324_388" -->
<a id="c10324_388"></a><blockquote class="code"><p class="quoted">
&quot;A Haughty Spirit&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10325_388" -->
<a id="c10325_388"></a><blockquote class="code"><p class="quoted">
To decide what number is the distance (first place - a room) rises above (second place - a room):
<br />&#160;&#160;&#160;&#160;let the total distance be the number of moves from the first place to the second place;
<br />&#160;&#160;&#160;&#160;if the total distance is less than 1, decide on 0;
<br />&#160;&#160;&#160;&#160;let count of down moves be 0;
<br />&#160;&#160;&#160;&#160;let count of up moves be 0;
<br />&#160;&#160;&#160;&#160;let next place be the first place;
<br />&#160;&#160;&#160;&#160;repeat with counter running from 1 to the total distance:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the next place to the second place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is down, let count of down moves be the count of down moves plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is up, let the count of up moves be the count of up moves plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let next place be the room the way from next place;
<br />&#160;&#160;&#160;&#160;let the decision be the count of down moves minus the count of up moves;
<br />&#160;&#160;&#160;&#160;decide on the decision.
</p></blockquote>
<!-- END CODE -->
<p>Now we just have to create windows and some action rules for interacting with them...</p>
<!-- START CODE "c10326_388" -->
<a id="c10326_388"></a><blockquote class="code"><p class="quoted">
A window is a kind of thing. A window is always fixed in place. A window can be open or closed. A window is usually closed. A window can be openable or unopenable. A window is usually openable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10327_388" -->
<a id="c10327_388"></a><blockquote class="code"><p class="quoted">
Understand &quot;climb through [something]&quot; as entering. Understand &quot;jump through/out [something]&quot; as entering.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10328_388" -->
<a id="c10328_388"></a><blockquote class="code"><p class="quoted">
Before entering a closed window:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] would have to be opened first.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10329_388" -->
<a id="c10329_388"></a><blockquote class="code"><p class="quoted">
Instead of entering a window:
<br />&#160;&#160;&#160;&#160;if the noun overlooks a room (called the far side):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let fall be the distance the location rises above the far side;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if fall is greater than 1, say &quot;You'd break your neck.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You tumble into [the far side].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the player to the far side;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There's nowhere to go.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10330_388" -->
<a id="c10330_388"></a><blockquote class="code"><p class="quoted">
Instead of examining a window:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] [if the noun is open]opens over[otherwise]gives a view of[end if] [the list of rooms overlooked by the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here we must anticipate a little from the chapter on Relations, and provide ourselves with a way of keeping track of how windows and rooms relate to one another:</p>
<!-- START CODE "c10331_388" -->
<a id="c10331_388"></a><blockquote class="code"><p class="quoted">
Overlooking relates various windows to various rooms. The verb to overlook means the overlooking relation. The initial appearance of a window is usually &quot;[The item described] overlooks [the list of rooms overlooked by the item described].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10332_388" -->
<a id="c10332_388"></a><blockquote class="code"><p class="quoted">
The Square Keep is above the Winding Staircase. The Winding Staircase is above the Motte. A crown and a broken sword are in the Motte. The Bailey is west of the Motte.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10333_388" -->
<a id="c10333_388"></a><blockquote class="code"><p class="quoted">
The long window is in the Keep. The long window overlooks the Bailey and the Motte. The narrow window is in the Winding Staircase. The narrow window overlooks the Bailey.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10334_388" -->
<a id="c10334_388"></a><blockquote class="code"><p class="quoted">
Test me with &quot;jump through window / open window / jump through window / d / x narrow window / open window / climb through window / e / up / down&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We could then add rules to allow the player to look through windows and see things in the rooms below, but that would require more material from later chapters.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "194: The Dark Ages Revisited" "e115" -->
<a id="e115"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e115" class="eglink"><b>194</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e115" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Dark Ages Revisited</span></b></a><br />An electric light kind of device which becomes lit when switched on and dark when switched off.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e115"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example115">
<p>This will be explored more in subsequent examples, but one of the things we can do with carry out rules is extend the function of existing commands so that they do more, or have special effects in specific situations. For instance, suppose we want to have a class of electric light:</p>
<!-- START CODE "c10335_115" -->
<a id="c10335_115"></a><blockquote class="code"><p class="quoted">
&quot;The Dark Ages Revisited&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10336_115" -->
<a id="c10336_115"></a><blockquote class="code"><p class="quoted">
An electric light is a kind of device. Carry out switching on an electric light: now the noun is lit. Carry out switching off an electric light: now the noun is unlit.
</p></blockquote>
<!-- END CODE -->
<p>This will not affect the behavior of any other devices when switched; it will also not change the way in which switching lights on and off is reported. The player will still see &quot;You switch the sodium lamp on.&quot; or the like. In this case that is probably what we want. If we wanted a special way of describing turning on electric lights as opposed to all other devices, we could also add an after rule for the electric light class. Adding this rule to the carry out train does guarantee, though, that in no case will we manage to make the lamp lit without actually making it switched on (or vice versa).</p>
<!-- START CODE "c10337_115" -->
<a id="c10337_115"></a><blockquote class="code"><p class="quoted">
The Stooped Corridor is a room. &quot;A low, square-cut corridor, running north to south, stooping you over.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10338_115" -->
<a id="c10338_115"></a><blockquote class="code"><p class="quoted">
The sodium lamp is an electric light in the Stooped Corridor. &quot;[if switched on]The sodium lamp squats on the ground, burning away.[otherwise]The sodium lamp squats heavily on the ground.[end if]&quot;. The description is &quot;It is a heavy-duty archaeologist's lamp, [if switched off]currently off.[otherwise]blazing with brilliant yellow light.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10339_115" -->
<a id="c10339_115"></a><blockquote class="code"><p class="quoted">
Instead of burning the sodium lamp, try switching on the lamp.
</p></blockquote>
<!-- END CODE -->
<p>So far so easy. Since we've built the description of its light or darkness into the lamp's description, though, we may want to get rid of the &quot;...is switched on&quot; line that automatically follows when we look at something. For this we do need to borrow from a later chapter:</p>
<!-- START CODE "c10340_115" -->
<a id="c10340_115"></a><blockquote class="code"><p class="quoted">
The examine devices rule is not listed in the carry out examining rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10341_115" -->
<a id="c10341_115"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x lamp / switch lamp on / look / x lamp&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "312: Hymenaeus" "e195" -->
<a id="e195"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e195" class="eglink"><b>312</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e195" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hymenaeus</span></b></a><br />Understanding "flaming torch" and "extinguished torch" to refer to torches when lit and unlit.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e195"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example195">
<!-- START CODE "c10342_195" -->
<a id="c10342_195"></a><blockquote class="code"><p class="quoted">
&quot;Hymenaeus&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10343_195" -->
<a id="c10343_195"></a><blockquote class="code"><p class="quoted">
A torch is kind of thing. Understand the lit property as describing a torch. Understand &quot;lighted&quot; or &quot;flaming&quot; or &quot;burning&quot; as lit. Understand &quot;extinguished&quot; as unlit. A torch is usually lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10344_195" -->
<a id="c10344_195"></a><blockquote class="code"><p class="quoted">
Before printing the name of a lit torch, say &quot;flaming &quot;.
<br />Before printing the name of an unlit torch, say &quot;extinguished &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10345_195" -->
<a id="c10345_195"></a><blockquote class="code"><p class="quoted">
The Wedding Procession is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10346_195" -->
<a id="c10346_195"></a><blockquote class="code"><p class="quoted">
Orpheus is a man in the Wedding Procession. Orpheus carries a torch.
<br />Eurydice is a woman in the Wedding Procession. Eurydice carries a torch.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10347_195" -->
<a id="c10347_195"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about someone (called target):
<br />&#160;&#160;&#160;&#160;say &quot;[The target] carries [a list of things carried by the target].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10348_195" -->
<a id="c10348_195"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 2 succeeds and a torch is lit:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let target torch be a random lit torch;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the target torch is unlit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Aquilo blows down from the north, extinguishing the torch carried by [the holder of the target torch].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10349_195" -->
<a id="c10349_195"></a><blockquote class="code"><p class="quoted">
Instead of examining a lit torch:
<br />&#160;&#160;&#160;&#160;say &quot;It casts a bright glow over [the holder of the noun].&quot;
<br />Instead of examining an unlit torch:
<br />&#160;&#160;&#160;&#160;say &quot;[The holder of the noun] is looking at it disconsolately, obviously worried about the omens.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10350_195" -->
<a id="c10350_195"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / look / x flaming torch / x extinguished torch&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "352: Reflections" "e344" -->
<a id="e344"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e344" class="eglink"><b>352</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e344" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Reflections</span></b></a><br />Emphasizing the reflective quality of shiny objects whenever they are described in the presence of the torch.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e344"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example344">
<!-- START CODE "c10351_344" -->
<a id="c10351_344"></a><blockquote class="code"><p class="quoted">
&quot;Reflections&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10352_344" -->
<a id="c10352_344"></a><blockquote class="code"><p class="quoted">
Behind the Waterfall is a room. &quot;Though one wall of the cave is open to the waterfall, the quantity of water is so great that barely any light comes through from the outside.&quot; Behind the Waterfall is dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10353_344" -->
<a id="c10353_344"></a><blockquote class="code"><p class="quoted">
Surface is a kind of value. The surfaces are shiny and dull. A thing has a surface. A thing is usually dull.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10354_344" -->
<a id="c10354_344"></a><blockquote class="code"><p class="quoted">
The player carries a reflecting ball, a canopic jar, an abacus, a plumbline, a piece of chalk, and a torch. The reflecting ball is shiny.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10355_344" -->
<a id="c10355_344"></a><blockquote class="code"><p class="quoted">
Aladdin's lamp is a shiny thing in Behind the Waterfall.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10356_344" -->
<a id="c10356_344"></a><blockquote class="code"><p class="quoted">
Brightness is a kind of value. The brightnesses are guttering, weak, radiant and blazing. The torch has a brightness. The torch is blazing. The torch is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10357_344" -->
<a id="c10357_344"></a><blockquote class="code"><p class="quoted">
Understand &quot;blow out [something]&quot; or &quot;blow [something]&quot; or &quot;extinguish [something]&quot; as blowing out. Blowing out is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10358_344" -->
<a id="c10358_344"></a><blockquote class="code"><p class="quoted">
Carry out blowing out: say &quot;Futile.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10359_344" -->
<a id="c10359_344"></a><blockquote class="code"><p class="quoted">
Instead of blowing out the torch:
<br />&#160;&#160;&#160;&#160;now brightness of torch is the brightness before the brightness of the torch;
<br />&#160;&#160;&#160;&#160;say &quot;The light of the torch dies to [brightness of torch].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10360_344" -->
<a id="c10360_344"></a><blockquote class="code"><p class="quoted">
Instead of blowing out the guttering torch:
<br />&#160;&#160;&#160;&#160;say &quot;Fool! Do you want to put it out entirely?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10361_344" -->
<a id="c10361_344"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a shiny thing:
<br />&#160;&#160;&#160;&#160;say &quot;The [brightness of the torch] light of [the torch] reflects in the surface[if the number of shiny things in the location &gt; 1]s[end if] of [the list of shiny things in the location].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10362_344" -->
<a id="c10362_344"></a><blockquote class="code"><p class="quoted">
Before printing the name of the torch while writing a paragraph about something:
<br />&#160;&#160;&#160;&#160;if the torch is in the location, say &quot;fallen &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10363_344" -->
<a id="c10363_344"></a><blockquote class="code"><p class="quoted">
Test me with &quot;drop ball / look / blow torch / look / drop torch / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "363: Peeled" "e176" -->
<a id="e176"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e176" class="eglink"><b>363</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e176" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Peeled</span></b></a><br />Two different approaches to adjusting what the player can interact with, compared.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e176"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example176">
<p>Suppose we have a situation where the player is in darkness, but is allowed to feel and interact with (except for examining) any large objects. In that case, we write a scope rule that puts those large objects into scope all the time, and trust the &quot;requires light&quot; aspect of verbs like examining to prevent the player from doing any actions that he shouldn't:</p>
<!-- START CODE "c10364_176" -->
<a id="c10364_176"></a><blockquote class="code"><p class="quoted">
&quot;Peeled&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10365_176" -->
<a id="c10365_176"></a><blockquote class="code"><p class="quoted">
A thing can be large or small.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10366_176" -->
<a id="c10366_176"></a><blockquote class="code"><p class="quoted">
Before touching a large thing when in darkness: say &quot;You grope for [the noun]...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10367_176" -->
<a id="c10367_176"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;repeat with item running through large things in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;place item in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10368_176" -->
<a id="c10368_176"></a><blockquote class="code"><p class="quoted">
Some generic surroundings are backdrop. They are everywhere. Understand &quot;walls&quot; or &quot;wall&quot; or &quot;ceiling&quot; or &quot;ground&quot; or &quot;floor&quot; or &quot;area&quot; or &quot;room&quot; or &quot;here&quot; as the generic surroundings. Instead of touching the generic surroundings: say &quot;You encounter nothing extraordinary.&quot; Instead of touching the generic surroundings when in darkness: say &quot;You try feeling your way around and reach [a list of large things in the location].&quot; After deciding the scope of the player when in darkness: place the surroundings in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10369_176" -->
<a id="c10369_176"></a><blockquote class="code"><p class="quoted">
The Room of Mystery is a dark room. The bearskin rug is a large thing in the Room of Mystery. Instead of touching the rug: say &quot;It feels furry!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10370_176" -->
<a id="c10370_176"></a><blockquote class="code"><p class="quoted">
The peeled grape is a small thing in the Room of Mystery. Instead of touching the peeled grape: say &quot;Gosh, is that an eyeball?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10371_176" -->
<a id="c10371_176"></a><blockquote class="code"><p class="quoted">
Test me with &quot;feel floor / feel rug / eat rug / examine rug / get grape&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Sadly, because the grape is small, the player will never encounter this horror.</p>
<p>Alternatively, suppose we have a situation in which the player can use one command to interact with a kind of thing that isn't normally in scope. It's usually most convenient to write the &quot;understand&quot; rule appropriately rather than use the scope activity.</p>
<p>(Note that we define &quot;inquiring about&quot; as applying to one *visible* thing; otherwise we would be required to be able to touch the catsuit in order to inquire about it. More on this restriction may be found in the Advanced Actions chapter on the topic of visible, touchable, and carried things.)</p>
<!-- START CODE "c10372_176" -->
<a id="c10372_176"></a><blockquote class="code"><p class="quoted">
&quot;Peeled&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10373_176" -->
<a id="c10373_176"></a><blockquote class="code"><p class="quoted">
Mr Steed's Flat is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10374_176" -->
<a id="c10374_176"></a><blockquote class="code"><p class="quoted">
Understand &quot;ask about [any subject]&quot; as inquiring about. A subject is a kind of thing. The skintight catsuit is a subject. Inquiring about is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10375_176" -->
<a id="c10375_176"></a><blockquote class="code"><p class="quoted">
Carry out inquiring about something:
<br />&#160;&#160;&#160;&#160;say &quot;'What can you tell me about [the noun]?' you demand. Mr Steed raises his eyebrows, but does not reply.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10376_176" -->
<a id="c10376_176"></a><blockquote class="code"><p class="quoted">
Test me with &quot;ask about catsuit / x catsuit&quot;.
</p></blockquote>
<!-- END CODE -->
<p>All this said, there do arise certain complex situations when we want an activity-specific scoping.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "26: Down Below" "e29" -->
<a id="e29"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e29" class="eglink"><b>26</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e29" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Down Below</span></b></a><br />A light switch which makes the room it is in dark or light.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e29"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example29">
<p>Suppose we want to have a room with a light switch. Turning the switch off makes the room go dark; turning it on restores the light. This kind of switch is an obvious candidate as a device.</p>
<!-- START CODE "c10377_29" -->
<a id="c10377_29"></a><blockquote class="code"><p class="quoted">
&quot;Down Below&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10378_29" -->
<a id="c10378_29"></a><blockquote class="code"><p class="quoted">
Terrifying Basement is a room. The light switch is a switched on device in the Terrifying Basement. It is fixed in place.
</p></blockquote>
<!-- END CODE -->
<p>Here we define our light switch, and we also make it start out as &quot;switched on&quot;. The Terrifying Basement will also start out lit (as all rooms do, by default, unless we specifically say that they are dark). We further say that it is fixed in place to avoid the ludicrous possibility of the player picking it up and carrying it away.</p>
<p>Next we add some instructions to control how turning the light switch on and off affects the room light. These borrow from later chapters on actions, but the gist may be obvious anyway:</p>
<!-- START CODE "c10379_29" -->
<a id="c10379_29"></a><blockquote class="code"><p class="quoted">
Carry out switching off the light switch: now the Terrifying Basement is dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10380_29" -->
<a id="c10380_29"></a><blockquote class="code"><p class="quoted">
Carry out switching on the light switch: now the Terrifying Basement is lighted.
</p></blockquote>
<!-- END CODE -->
<p>Inform already has the idea of light and darkness built in; we will see more about this later, and the Phrasebook (in the Index tab) also contains a list of all the adjectives (lighted, dark, etc) which are important to use here.</p>
<p>Speaking of the Index, the Actions tab contains a list of all the grammar that can be used to activate a given command: for instance, the switching action responds to &quot;switch [something]&quot; or &quot;turn on [something]&quot;. In this case, we may want to give the player an extra option or two. It would be pretty natural for a player to try &gt;FLIP SWITCH, so let's add that in:</p>
<!-- START CODE "c10381_29" -->
<a id="c10381_29"></a><blockquote class="code"><p class="quoted">
Understand &quot;flip [something switched off]&quot; as switching on. Understand &quot;flip [something switched on]&quot; as switching off. Understand &quot;flip [something]&quot; as switching on.
</p></blockquote>
<!-- END CODE -->
<p>The nuances of this will be explored in the chapter on Understanding. What is useful to know here is that we have taught Inform to understand that &gt;FLIP LIGHT SWITCH means to turn it on when the switch is already off; if the switch is already on, FLIP SWITCH means to turn the switch off. Depending on the kind of device we are modeling (button? lever? dial?), we might want to write similar lines for commands such as PUSH, PRESS, PULL, TURN, and so on.</p>
<p>Finally, we need to deal with a special case. In general, the player cannot interact with other things in a dark room because he can't see them, but if we adhered strictly to this it would be impossible for him to find the light switch to turn it back on. So we need something from the chapter on Activities to change this:</p>
<!-- START CODE "c10382_29" -->
<a id="c10382_29"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player when the location is the Terrifying Basement:
<br />&#160;&#160;&#160;&#160;place the light switch in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10383_29" -->
<a id="c10383_29"></a><blockquote class="code"><p class="quoted">
Upstairs is above the Terrifying Basement.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10384_29" -->
<a id="c10384_29"></a><blockquote class="code"><p class="quoted">
Test me with &quot;turn off light / look / flip light switch&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "51: The Undertomb 2" "e402" -->
<a id="e402"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e402" class="eglink"><b>51</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e402" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Undertomb 2</span></b></a><br />Flickering lantern-light effects added to the Undertomb.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_4.html#e402"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example402">
<!-- START CODE "c10385_402" -->
<a id="c10385_402"></a><blockquote class="code"><p class="quoted">
&quot;Undertomb 2&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10386_402" -->
<a id="c10386_402"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10387_402" -->
<a id="c10387_402"></a><blockquote class="code"><p class="quoted">
Brightness is a kind of value. The brightnesses are guttering, weak, radiant and blazing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10388_402" -->
<a id="c10388_402"></a><blockquote class="code"><p class="quoted">
A brightness can be adequate or inadequate. A brightness is usually adequate. Guttering is inadequate.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10389_402" -->
<a id="c10389_402"></a><blockquote class="code"><p class="quoted">
Temperature is a kind of value. 100C specifies a temperature.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10390_402" -->
<a id="c10390_402"></a><blockquote class="code"><p class="quoted">
A brightness has a temperature. The temperature of a brightness is usually 700C. The temperature of blazing is 1400C. The temperature of radiant is 1100C.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10391_402" -->
<a id="c10391_402"></a><blockquote class="code"><p class="quoted">
A dead end is a kind of room with printed name &quot;Dead End&quot; and description &quot;This is a dead end, where crags in the uneven rock are caught by the [brightness of the lantern] flame you hold aloft. Despite [river sound] there is no sign of the stream.&quot; A dead end is usually dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10392_402" -->
<a id="c10392_402"></a><blockquote class="code"><p class="quoted">
A dead end has some text called river sound. The river sound of a dead end is usually &quot;a faint whispering of running water&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10393_402" -->
<a id="c10393_402"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10394_402" -->
<a id="c10394_402"></a><blockquote class="code"><p class="quoted">
The Undertomb is a dark room. &quot;From this dim cross-groined room, exits depart east, south, and northwest.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10395_402" -->
<a id="c10395_402"></a><blockquote class="code"><p class="quoted">
East is a dead end. South is a dead end with printed name &quot;Collapsed Dead End&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10396_402" -->
<a id="c10396_402"></a><blockquote class="code"><p class="quoted">
Northwest is a dead end called the Tortuous Alcove.  The Tortuous Alcove has river sound &quot;a gurgle of running water&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10397_402" -->
<a id="c10397_402"></a><blockquote class="code"><p class="quoted">
The player carries a book. The description of the book is &quot;[if the brightness of the lantern is adequate]Many secrets are now yours.[otherwise]No, the print's too tiny by this awful light.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10398_402" -->
<a id="c10398_402"></a><blockquote class="code"><p class="quoted">
In the Undertomb is a lantern. It is lit. The lantern has a brightness. The lantern is blazing. The description of the lantern is &quot;The lantern shines with a flame at [temperature of the brightness of the lantern].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10399_402" -->
<a id="c10399_402"></a><blockquote class="code"><p class="quoted">
After waiting in the Tortuous Alcove when the brightness of the lantern is not guttering:
<br />&#160;&#160;&#160;&#160;now the lantern is the brightness before the brightness of the lantern;
<br />&#160;&#160;&#160;&#160;say &quot;You wait so long that your lantern dims a bit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10400_402" -->
<a id="c10400_402"></a><blockquote class="code"><p class="quoted">
Test me with &quot;east / west / get lantern / east / west / south / north / northwest / read book / x lantern / z / x lantern / read book / look / z / x lantern / read book / look / z / x lantern / read book / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "348: Hohmann Transfer" "e190" -->
<a id="e190"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e190" class="eglink"><b>348</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e190" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hohmann Transfer</span></b></a><br />Changing the way dark rooms are described to avoid the standard Inform phrasing.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e190"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example190">
<p>Inform automatically keeps track of light and darkness, handling such questions as whether a room is lit, whether the player can see any light sources, etc., and then managing the descriptions accordingly. When the room is dark and no light sources are visible, the player is said to be &quot;in darkness&quot;.</p>
<p>If we don't specify otherwise, Inform will describe our surroundings in a dark room thus:</p>
<!-- START CODE "c10401_190" -->
<a id="c10401_190"></a><blockquote class="code"><p class="quoted">
Darkness
<br />It is pitch dark, and you can't see a thing.
</p></blockquote>
<!-- END CODE -->
<p>This is fine in many situations, but we may sometimes want to replace this phrase with something else.</p>
<!-- START CODE "c10402_190" -->
<a id="c10402_190"></a><blockquote class="code"><p class="quoted">
&quot;Hohmann Transfer&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10403_190" -->
<a id="c10403_190"></a><blockquote class="code"><p class="quoted">
The Western Hemisphere is a dark room. &quot;The cloud mass covers much of the land on this side of the planet, and a particularly nasty storm is brewing off to the south.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10404_190" -->
<a id="c10404_190"></a><blockquote class="code"><p class="quoted">
The Eastern Hemisphere is west of the Western Hemisphere. The Eastern Hemisphere is east of the Western Hemisphere. The Eastern Hemisphere is north of the Western Hemisphere. The Eastern Hemisphere is south of the Western Hemisphere. &quot;This side of the planet is more ocean than land, with only two continents worthy of the name, and a volcanic archipelago in the north seas.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10405_190" -->
<a id="c10405_190"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10406_190" -->
<a id="c10406_190"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of a dark room:
<br />&#160;&#160;&#160;&#160;say &quot;It's night on this side of the planet, so you can make out only the glow of urbanized areas along the seacoasts.&quot;  instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10407_190" -->
<a id="c10407_190"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a dark room:
<br />&#160;&#160;&#160;&#160;say &quot;Dark Side&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>And now a few minor refinements so that we can see what happens when one room becomes dark and the other light:</p>
<!-- START CODE "c10408_190" -->
<a id="c10408_190"></a><blockquote class="code"><p class="quoted">
Carry out going:
<br />&#160;&#160;&#160;&#160;say &quot;You fire the thrusters and loop around to the other side of the planet before settling into a new geosynchronous orbit. Six months and one minute later...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10409_190" -->
<a id="c10409_190"></a><blockquote class="code"><p class="quoted">
The time of day is 4:55 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10410_190" -->
<a id="c10410_190"></a><blockquote class="code"><p class="quoted">
At 5 PM:
<br />&#160;&#160;&#160;&#160;now the Eastern Hemisphere is dark;
<br />&#160;&#160;&#160;&#160;now the Western Hemisphere is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10411_190" -->
<a id="c10411_190"></a><blockquote class="code"><p class="quoted">
Rule for printing the announcement of darkness:
<br />&#160;&#160;&#160;&#160;say &quot;The planet abruptly spins itself over, exposing its cool underbelly to the sun.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10412_190" -->
<a id="c10412_190"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / z / z / w / z / z / e&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "81: Unblinking" "e396" -->
<a id="e396"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e396" class="eglink"><b>81</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e396" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Unblinking</span></b></a><br />Finding a best route through light-filled rooms only, leaving aside any that might be dark.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_6.html#e396"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example396">
<p>Suppose we're simulating a situation where the player needs to travel through lit areas only, but we want to give him some hints about which way might be safe. Here we'll find our best route through light-filled rooms.</p>
<p>The slightly tricky part is that it's not necessarily easy to tell whether a room has a lamp in it. We may say &quot;if the Crypt is lighted&quot;, but that only tells us whether it has been declared to be inherently lighted or dark, not whether it happens to contain a light source that the player would be able to see if he went in.</p>
<p>The easiest way to get around this is to create an object -- the light-meter; place it in the target location; and check whether it &quot;can see&quot; a lit object. This preserves all the usual rules about open and closed containers, transparency, etc.</p>
<!-- START CODE "c10413_396" -->
<a id="c10413_396"></a><blockquote class="code"><p class="quoted">
&quot;Unblinking&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10414_396" -->
<a id="c10414_396"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10415_396" -->
<a id="c10415_396"></a><blockquote class="code"><p class="quoted">
The light-meter is a privately-named scenery thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10416_396" -->
<a id="c10416_396"></a><blockquote class="code"><p class="quoted">
Definition: a room (called the target room) is light-filled:
<br />&#160;&#160;&#160;&#160;if the target room is lighted:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yes;
<br />&#160;&#160;&#160;&#160;move the light-meter to the target room;
<br />&#160;&#160;&#160;&#160;let the answer be false;
<br />&#160;&#160;&#160;&#160;if the light-meter can see a lit thing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the answer is true;
<br />&#160;&#160;&#160;&#160;now the light-meter is nowhere;
<br />&#160;&#160;&#160;&#160;decide on the answer.
</p></blockquote>
<!-- END CODE -->
<p>That done, we're free to use our best-route phrases to choose a particular route.</p>
<!-- START CODE "c10417_396" -->
<a id="c10417_396"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10418_396" -->
<a id="c10418_396"></a><blockquote class="code"><p class="quoted">
The Tomb of Angels is a room. &quot;This ancient underground tomb is lightless but for a few shafts from the surface. Everywhere in the shadows are carved angels, their faces worn away by water and pollution, their wings little more than nubs.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10419_396" -->
<a id="c10419_396"></a><blockquote class="code"><p class="quoted">
The Upward Path is above the Tomb of Angels. It is dark. &quot;The staircase switches back on itself many times as it ascends towards the Crash Site.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10420_396" -->
<a id="c10420_396"></a><blockquote class="code"><p class="quoted">
A container called the sarcophagus is in the Upward Path. It is closed and openable. &quot;A sarcophagus rests in the niche here, [if open]the lid pushed aside[otherwise]the lid firmly in place[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10421_396" -->
<a id="c10421_396"></a><blockquote class="code"><p class="quoted">
The Crash Site is above the Upward Path. &quot;The ceiling has wholly caved in here, and the belly of the spaceship above you is visible -- including the escape hatch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10422_396" -->
<a id="c10422_396"></a><blockquote class="code"><p class="quoted">
A candle is a kind of thing. A candle is usually lit. The player carries four candles.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10423_396" -->
<a id="c10423_396"></a><blockquote class="code"><p class="quoted">
After looking when the location is not the Crash Site:
<br />&#160;&#160;&#160;&#160;if the best route from the location to the Crash Site through light-filled rooms is a direction (called next way):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It looks like there's a safe, lit path [if the number of moves from the location to the Crash Site through light-filled rooms is 1]straight[otherwise]if you go[end if] [next way].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It looks like there is no fully lit path from here to the Crash Site.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10424_396" -->
<a id="c10424_396"></a><blockquote class="code"><p class="quoted">
Test me with &quot;up / drop candle / down / up / take the candle / open sarcophagus / put candle in sarcophagus / down / up / close sarcophagus / d&quot;.
</p></blockquote>
<!-- END CODE -->
<p>An important word of caution: this method would give false negatives if there were a backdrop lightsource, such as the moon, providing light to the Upward Path. This is because backdrops are actually moved around the map by Inform during play, following the player around. So if the moon backdrop is in the Crash Site with the player, it will not be in the Upward Path as well -- even if it's scheduled to move there as soon as the player does.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "347: Zorn of Zorna" "e453" -->
<a id="e453"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e453" class="eglink"><b>347</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e453" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zorn of Zorna</span></b></a><br />Light levels vary depending on the number of candles the player has lit, and this determines whether or not he is able to examine detailed objects successfully.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e453"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example453">
<!-- START CODE "c10425_453" -->
<a id="c10425_453"></a><blockquote class="code"><p class="quoted">
&quot;Zorn of Zorna&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10426_453" -->
<a id="c10426_453"></a><blockquote class="code"><p class="quoted">
Visibility rule:
<br />&#160;&#160;&#160;&#160;if examining:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the detail of the noun is fine and the number of visible lit candles is less than 5, there is insufficient light;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the detail of the noun is ordinary and the number of visible lit candles is less than 3, there is insufficient light;
<br />&#160;&#160;&#160;&#160;there is sufficient light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10427_453" -->
<a id="c10427_453"></a><blockquote class="code"><p class="quoted">
Detail is a kind of value. The details are fine, ordinary, and gross. A thing has detail.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10428_453" -->
<a id="c10428_453"></a><blockquote class="code"><p class="quoted">
A candle is a kind of thing. Before printing the name of a candle while not burning or blowing out: say &quot;[if lit]lit [otherwise]unlit [end if]&quot;. A candle is usually lit. Before printing the plural name of a candle while not burning or blowing out: say &quot;[if lit]lit [otherwise]unlit [end if]&quot;. A candle is usually lit. Understand the lit property as describing a candle. A candle is usually gross.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10429_453" -->
<a id="c10429_453"></a><blockquote class="code"><p class="quoted">
Instead of burning a candle: now the noun is lit; say &quot;You light [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10430_453" -->
<a id="c10430_453"></a><blockquote class="code"><p class="quoted">
Understand &quot;blow out [something]&quot; or &quot;extinguish [something]&quot; or &quot;put out [something]&quot; as blowing out. Understand the command &quot;snuff&quot; as &quot;extinguish&quot;. Blowing out is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10431_453" -->
<a id="c10431_453"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [unlit candle]&quot; as burning.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10432_453" -->
<a id="c10432_453"></a><blockquote class="code"><p class="quoted">
Instead of blowing out a candle:
<br />&#160;&#160;&#160;&#160;now the noun is unlit;
<br />&#160;&#160;&#160;&#160;say &quot;You put out [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10433_453" -->
<a id="c10433_453"></a><blockquote class="code"><p class="quoted">
Rule for printing a refusal to act in the dark:
<br />&#160;&#160;&#160;&#160;if we are examining something, say &quot;The details of [the noun] are too fine to make out in the light of only [the number of visible lit candles in words] candle[s].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10434_453" -->
<a id="c10434_453"></a><blockquote class="code"><p class="quoted">
Every turn when the Todal is visible:
<br />&#160;&#160;&#160;&#160;if the number of visible lit candles is greater than 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The brightness of the room wakens the Todal from slumber, and with you unarmed...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Todal sleeps fitfully, troubled by even that faint light.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10435_453" -->
<a id="c10435_453"></a><blockquote class="code"><p class="quoted">
A room is usually dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10436_453" -->
<a id="c10436_453"></a><blockquote class="code"><p class="quoted">
The Palace is a room. &quot;The Duke is out; the way is clear. East is Saralinda's Chamber; north, a hallway zigs and zags down to the gate that leads out.&quot; A finely-written placard is in the Palace. &quot;A finely-written placard is on the wall next to this exit.&quot; The placard is fine. The description of the placard is &quot;You read: 'Beware the Todal: its bite is worse than its gleep.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10437_453" -->
<a id="c10437_453"></a><blockquote class="code"><p class="quoted">
No more than one candle!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10438_453" -->
<a id="c10438_453"></a><blockquote class="code"><p class="quoted">
The candle-stand is a supporter in the Palace. Understand &quot;stand&quot; as the candle-stand. The description of the candle-stand is &quot;The candle-stand is a tall metal branch for holding lights, but someone has quite practically added casters to the bottom.&quot; It is pushable between rooms. Three candles are on the candle-stand. Instead of removing something from the candle-stand: say &quot;[The noun] is fixed quite firmly in place.&quot; Instead of taking something which is on the candle-stand: say &quot;[The noun] won't come out of the holder.&quot; Instead of putting something on the candle-stand: say &quot;[The candle-stand] is full.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10439_453" -->
<a id="c10439_453"></a><blockquote class="code"><p class="quoted">
Saralinda's Chamber is east of the Palace. &quot;Now that Saralinda herself is gone, there is no real radiance in this place.&quot; Two unlit candles are in Saralinda's Chamber.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10440_453" -->
<a id="c10440_453"></a><blockquote class="code"><p class="quoted">
A large-print romantic novel is in Saralinda's Chamber. The novel is ordinary. The description of the novel is &quot;'She Was Only The Chimney-Sweep's Daughter', by Marie Swelldon.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10441_453" -->
<a id="c10441_453"></a><blockquote class="code"><p class="quoted">
The Zig-Zag Hallway is north of the Palace. &quot;The Hallway goes left, then right, then left again...&quot; Two unlit candles are in the Hallway.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10442_453" -->
<a id="c10442_453"></a><blockquote class="code"><p class="quoted">
Todal is an animal in the Zig-Zag Hallway.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10443_453" -->
<a id="c10443_453"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of a dark room when the Todal is in the location:
<br />&#160;&#160;&#160;&#160;try listening.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10444_453" -->
<a id="c10444_453"></a><blockquote class="code"><p class="quoted">
Instead of listening when in darkness and the Todal is in the location:
<br />&#160;&#160;&#160;&#160;say &quot;In the darkness something softly gleeps.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10445_453" -->
<a id="c10445_453"></a><blockquote class="code"><p class="quoted">
Instead of going north from the Hallway when in darkness:
<br />&#160;&#160;&#160;&#160;say &quot;You stumble and cannot find your way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10446_453" -->
<a id="c10446_453"></a><blockquote class="code"><p class="quoted">
North of the Hallway is Freedom. Instead of going to Freedom: say &quot;You make it out into the cool night air at last!&quot;; end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10447_453" -->
<a id="c10447_453"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine placard / get placard / n / listen / n / s / examine candle-stand / push candle-stand east / examine novel / get unlit candle / light it / light unlit candle / examine placard / push candle-stand west / e / examine novel / w / n / n&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "349: Four Stars 1" "e425" -->
<a id="e425"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e425" class="eglink"><b>349</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e425" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Four Stars 1</span></b></a><br />An elaboration of the idea that when light is absent, the player should be given a description of what he can smell and hear, instead.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e425"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example425">
<!-- START CODE "c10448_425" -->
<a id="c10448_425"></a><blockquote class="code"><p class="quoted">
&quot;Four Stars&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10449_425" -->
<a id="c10449_425"></a><blockquote class="code"><p class="quoted">
A thing has some text called sound. The sound of a thing is usually &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10450_425" -->
<a id="c10450_425"></a><blockquote class="code"><p class="quoted">
The report listening rule is not listed in the report listening to rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10451_425" -->
<a id="c10451_425"></a><blockquote class="code"><p class="quoted">
Carry out listening to something:
<br />&#160;&#160;&#160;&#160;say &quot;From [the noun] you hear [the sound of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10452_425" -->
<a id="c10452_425"></a><blockquote class="code"><p class="quoted">
Instead of listening to a room:
<br />&#160;&#160;&#160;&#160;if an audible thing can be touched by the player, say &quot;You hear [the list of audible things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;A merciful peace prevails.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10453_425" -->
<a id="c10453_425"></a><blockquote class="code"><p class="quoted">
Definition: a thing is audible if the sound of it is not &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10454_425" -->
<a id="c10454_425"></a><blockquote class="code"><p class="quoted">
Before printing the name of something audible while listening to a room:
<br />&#160;&#160;&#160;&#160;say &quot;[sound] from the &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10455_425" -->
<a id="c10455_425"></a><blockquote class="code"><p class="quoted">
A thing has some text called scent. The scent of a thing is usually &quot;nothing&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10456_425" -->
<a id="c10456_425"></a><blockquote class="code"><p class="quoted">
The report smelling rule is not listed in the report smelling rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10457_425" -->
<a id="c10457_425"></a><blockquote class="code"><p class="quoted">
Carry out smelling something:
<br />&#160;&#160;&#160;&#160;say &quot;From [the noun] you smell [scent of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10458_425" -->
<a id="c10458_425"></a><blockquote class="code"><p class="quoted">
Instead of smelling a room:
<br />&#160;&#160;&#160;&#160;if a scented thing can be touched by the player, say &quot;You smell [the list of scented things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;The place is blissfully odorless.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10459_425" -->
<a id="c10459_425"></a><blockquote class="code"><p class="quoted">
Definition: a thing is scented if the scent of it is not &quot;nothing&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10460_425" -->
<a id="c10460_425"></a><blockquote class="code"><p class="quoted">
Before printing the name of something scented while smelling a room: say &quot;[scent] from the &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10461_425" -->
<a id="c10461_425"></a><blockquote class="code"><p class="quoted">
The Waning Moon Resort is a dark room. &quot;A spacious room with a flagstone floor, and a dreamcatcher hung over the king-size bed.&quot; The dreamcatcher is scenery in the Resort. The description is &quot;The usual web of threads and crystals, feathers and beads.&quot; Instead of taking the dreamcatcher, say &quot;Ah, ah -- you might be tempted to take it as a souvenir, except that the price list in the minibar clearly states they charge $65 apiece if you walk off with one. Cheaper than stealing the Frette bathrobes, but still probably not a good idea.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10462_425" -->
<a id="c10462_425"></a><blockquote class="code"><p class="quoted">
The king-size bed is an enterable supporter in the Resort. The description is &quot;200-thread-count Egyptian cotton sheets, according to the website. You would make fun, only they really are extraordinarily comfortable.&quot; The player is on the bed. A Lindt chocolate is on the bed. It is edible. The scent of the chocolate is &quot;chocolate-hazelnut smell&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10463_425" -->
<a id="c10463_425"></a><blockquote class="code"><p class="quoted">
Instead of exiting: say &quot;You are too weary to move.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10464_425" -->
<a id="c10464_425"></a><blockquote class="code"><p class="quoted">
The suitcase is an openable closed container in the Resort.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10465_425" -->
<a id="c10465_425"></a><blockquote class="code"><p class="quoted">
An electric light is a kind of device. Carry out switching on an electric light: now the noun is lit. Carry out switching off an electric light: now the noun is unlit. Understand &quot;light&quot; as an electric light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10466_425" -->
<a id="c10466_425"></a><blockquote class="code"><p class="quoted">
The solar lamp is an electric light in Waning Moon Resort. The description is &quot;Specially designed to give light in a spectrum resembling sunlight, to improve the mood and make a person energetic.&quot; The lamp is switched on and lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10467_425" -->
<a id="c10467_425"></a><blockquote class="code"><p class="quoted">
An electric noisemaker is a kind of device. An electric noisemaker has some text called usual sound. The usual sound of an electric noisemaker is usually &quot;beepbeepbeep&quot;. Carry out switching on an electric noisemaker: now the sound of the noun is the usual sound of the noun. Report switching on an electric noisemaker: say &quot;[The noun] goes [usual sound of the noun]!&quot; instead. Report switching off an electric noisemaker: say &quot;You switch off [the noun], silencing the [usual sound of the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10468_425" -->
<a id="c10468_425"></a><blockquote class="code"><p class="quoted">
Carry out switching off an electric noisemaker: now the sound of the noun is &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10469_425" -->
<a id="c10469_425"></a><blockquote class="code"><p class="quoted">
The bedside table is in the Resort. The table supports a potted plant and a Bose speaker. The scent of the potted plant is &quot;rosemary&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10470_425" -->
<a id="c10470_425"></a><blockquote class="code"><p class="quoted">
The Bose speaker is an electric noisemaker. The usual sound of the speaker is &quot;soothing whalesong&quot;. The sound of the speaker is &quot;soothing whalesong&quot;. The speaker is switched on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10471_425" -->
<a id="c10471_425"></a><blockquote class="code"><p class="quoted">
Instead of touching a device: say &quot;You feel the surface of [the noun] and discover the switch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10472_425" -->
<a id="c10472_425"></a><blockquote class="code"><p class="quoted">
Instead of touching a scented thing: say &quot;The brush of your fingers stirs loose a fresh cloud of [scent of the noun] smell.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10473_425" -->
<a id="c10473_425"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of a dark room: try listening; try smelling; rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10474_425" -->
<a id="c10474_425"></a><blockquote class="code"><p class="quoted">
Instead of examining an audible thing while in darkness: try listening to the noun. Instead of examining something while in darkness: try touching the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10475_425" -->
<a id="c10475_425"></a><blockquote class="code"><p class="quoted">
Before touching something when in darkness:
<br />&#160;&#160;&#160;&#160;say &quot;You grope about...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10476_425" -->
<a id="c10476_425"></a><blockquote class="code"><p class="quoted">
After inserting the plant into something:
<br />&#160;&#160;&#160;&#160;say &quot;You unceremoniously dump [the noun] into [the second noun], hoping it sustains no important damage thereby.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10477_425" -->
<a id="c10477_425"></a><blockquote class="code"><p class="quoted">
Before printing the name of a dark room: if the player can touch an audible thing, say &quot;Noisy &quot;; if the player can touch a scented thing, say &quot;Perfumed &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10478_425" -->
<a id="c10478_425"></a><blockquote class="code"><p class="quoted">
Visibility rule when in darkness:
<br />&#160;&#160;&#160;&#160;if examining something, there is sufficient light;
<br />&#160;&#160;&#160;&#160;there is insufficient light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10479_425" -->
<a id="c10479_425"></a><blockquote class="code"><p class="quoted">
Rule for printing the announcement of darkness: say &quot;It is now pleasantly lightless in here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10480_425" -->
<a id="c10480_425"></a><blockquote class="code"><p class="quoted">
Rule for deciding the scope of the player while in darkness: place the location in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10481_425" -->
<a id="c10481_425"></a><blockquote class="code"><p class="quoted">
To decide whether in daylight:
<br />&#160;&#160;&#160;&#160;if in darkness, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10482_425" -->
<a id="c10482_425"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when in daylight:
<br />&#160;&#160;&#160;&#160;say &quot;You've never been able to sleep with the light on.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10483_425" -->
<a id="c10483_425"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when the player can touch an audible thing (called the irritant):
<br />&#160;&#160;&#160;&#160;say &quot;The steady [sound of the irritant] from [the irritant] prevents your slumber.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10484_425" -->
<a id="c10484_425"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when the player can touch a scented thing (called the irritant):
<br />&#160;&#160;&#160;&#160;if the irritant is chocolate, say &quot;The smell of chocolate continues to tantalize you, keeping you from sleep.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You sniffle. [The irritant] is probably acting on your allergies.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10485_425" -->
<a id="c10485_425"></a><blockquote class="code"><p class="quoted">
Instead of sleeping:
<br />&#160;&#160;&#160;&#160;say &quot;You slip easily into the arms of Morpheus.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally saying &quot;At last...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10486_425" -->
<a id="c10486_425"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;You have at last escaped from the airport and gotten through customs; survived an unnerving taxi ride over icy highways; stared down the impertinent concierge; endured the bellhop's catalog of features in your room; and achieved, finally, a moment of peace. Time for a good night's slumber!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10487_425" -->
<a id="c10487_425"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x dreamcatcher / switch lamp off / look / sleep / eat chocolate / sleep / get plant / examine plant / open suitcase / put plant in suitcase / close suitcase / sleep / look / examine bose / switch bose off / sleep&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "291: Cloak of Darkness" "e87" -->
<a id="e87"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e87" class="eglink"><b>291</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e87" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Cloak of Darkness</span></b></a><br />Implementation of "Cloak of Darkness", a simple example game that for years has been used to demonstrate the features of IF languages.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e87"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example87">
<p>&quot;Cloak of Darkness&quot; is a brief example game that has been implemented in nearly every IF system currently used. It hasn't got much claim to complexity or richness, but it does exemplify many of the standard things one might want an IF language to be able to do: define descriptions and the results of actions, assign synonyms to nouns, create new verbs, handle darkness, track repeated acts, and so on.</p>
<p>Here is what the game looks like in Inform:</p>
<!-- START CODE "c10488_87" -->
<a id="c10488_87"></a><blockquote class="code"><p class="quoted">
&quot;Cloak of Darkness&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10489_87" -->
<a id="c10489_87"></a><blockquote class="code"><p class="quoted">
The story headline is &quot;A basic IF demonstration.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10490_87" -->
<a id="c10490_87"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10491_87" -->
<a id="c10491_87"></a><blockquote class="code"><p class="quoted">
The maximum score is 2.
</p></blockquote>
<!-- END CODE -->
<p>Whatever room we define first becomes the starting room of the game, in the absence of other instructions:</p>
<!-- START CODE "c10492_87" -->
<a id="c10492_87"></a><blockquote class="code"><p class="quoted">
Foyer of the Opera House is a room.  &quot;You are standing in a spacious hall, splendidly decorated in red and gold, with glittering chandeliers overhead. The entrance from the street is to the north, and there are doorways south and west.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10493_87" -->
<a id="c10493_87"></a><blockquote class="code"><p class="quoted">
Instead of going north in the Foyer, say &quot;You've only just arrived, and besides, the weather outside seems to be getting worse.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We can add more rooms by specifying their relation to the first room. Unless we say otherwise, the connection will automatically be bidirectional, so &quot;The Cloakroom is west of the Foyer&quot; will also mean &quot;The Foyer is east of the Cloakroom&quot;:</p>
<!-- START CODE "c10494_87" -->
<a id="c10494_87"></a><blockquote class="code"><p class="quoted">
The Cloakroom is west of the Foyer. &quot;The walls of this small room were clearly once lined with hooks, though now only one remains. The exit is a door to the east.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10495_87" -->
<a id="c10495_87"></a><blockquote class="code"><p class="quoted">
In the Cloakroom is a supporter called the small brass hook. The hook is scenery. Understand &quot;peg&quot; as the hook.
</p></blockquote>
<!-- END CODE -->
<p>Inform will automatically understand any words in the object definition (&quot;small&quot;, &quot;brass&quot;, and &quot;hook&quot;, in this case), but we can add extra synonyms with this sort of Understand command.</p>
<!-- START CODE "c10496_87" -->
<a id="c10496_87"></a><blockquote class="code"><p class="quoted">
The description of the hook is &quot;It's just a small brass hook, [if something is on the hook]with [a list of things on the hook] hanging on it[otherwise]screwed to the wall[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This description is general enough that, if we were to add other hangable items to the game, they would automatically be described correctly as well.</p>
<!-- START CODE "c10497_87" -->
<a id="c10497_87"></a><blockquote class="code"><p class="quoted">
The Bar is south of the Foyer. The printed name of the bar is &quot;Foyer Bar&quot;. The Bar is dark.  &quot;The bar, much rougher than you'd have guessed after the opulence of the foyer to the north, is completely empty. There seems to be some sort of message scrawled in the sawdust on the floor.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10498_87" -->
<a id="c10498_87"></a><blockquote class="code"><p class="quoted">
The scrawled message is scenery in the Bar. Understand &quot;floor&quot; or &quot;sawdust&quot; as the message.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10499_87" -->
<a id="c10499_87"></a><blockquote class="code"><p class="quoted">
Neatness is a kind of value. The neatnesses are neat, scuffed, and trampled. The message has a neatness. The message is neat.
</p></blockquote>
<!-- END CODE -->
<p>We could if we wished use a number to indicate how many times the player has stepped on the message, but Inform also makes it easy to add descriptive properties of this sort, so that the code remains readable even when the reader does not know what &quot;the number of the message&quot; might mean.</p>
<!-- START CODE "c10500_87" -->
<a id="c10500_87"></a><blockquote class="code"><p class="quoted">
Instead of examining the message:
<br />&#160;&#160;&#160;&#160;increment score;
<br />&#160;&#160;&#160;&#160;say &quot;The message, neatly marked in the sawdust, reads...&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<p>This second rule takes precedence over the first one whenever the message is trampled. Inform automatically applies whichever rule is most specific:</p>
<!-- START CODE "c10501_87" -->
<a id="c10501_87"></a><blockquote class="code"><p class="quoted">
Instead of examining the trampled message:
<br />&#160;&#160;&#160;&#160;say &quot;The message has been carelessly trampled, making it difficult to read. You can just distinguish the words...&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;You have lost&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This command advances the state of the message from neat to scuffed and from scuffed to trampled. We can define any kinds of value we like and advance or decrease them in this way:</p>
<!-- START CODE "c10502_87" -->
<a id="c10502_87"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than going in the bar when in darkness:
<br />&#160;&#160;&#160;&#160;if the message is not trampled, now the neatness of the message is the neatness after the neatness of the message;
<br />&#160;&#160;&#160;&#160;say &quot;In the dark? You could easily disturb something.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10503_87" -->
<a id="c10503_87"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere from the bar when in darkness:
<br />&#160;&#160;&#160;&#160;now the message is trampled;
<br />&#160;&#160;&#160;&#160;say &quot;Blundering around in the dark isn't a good idea!&quot;
</p></blockquote>
<!-- END CODE -->
<p>This defines an object which is worn at the start of play. Because we have said the player is wearing the item, Inform infers that it is clothing and can be taken off and put on again at will.</p>
<!-- START CODE "c10504_87" -->
<a id="c10504_87"></a><blockquote class="code"><p class="quoted">
The player wears a velvet cloak. The cloak can be hung or unhung. Understand &quot;dark&quot; or &quot;black&quot; or &quot;satin&quot; as the cloak. The description of the cloak is &quot;A handsome cloak, of velvet trimmed with satin, and slightly splattered with raindrops. Its blackness is so deep that it almost seems to suck light from the room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10505_87" -->
<a id="c10505_87"></a><blockquote class="code"><p class="quoted">
Carry out taking the cloak:
<br />&#160;&#160;&#160;&#160;now the bar is dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10506_87" -->
<a id="c10506_87"></a><blockquote class="code"><p class="quoted">
Carry out putting the unhung cloak on something in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the cloak is hung;
<br />&#160;&#160;&#160;&#160;increment score.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10507_87" -->
<a id="c10507_87"></a><blockquote class="code"><p class="quoted">
Carry out putting the cloak on something in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the bar is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10508_87" -->
<a id="c10508_87"></a><blockquote class="code"><p class="quoted">
Carry out dropping the cloak in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the bar is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10509_87" -->
<a id="c10509_87"></a><blockquote class="code"><p class="quoted">
Instead of dropping or putting the cloak on when the player is not in the cloakroom:
<br />&#160;&#160;&#160;&#160;say &quot;This isn't the best place to leave a smart cloak lying around.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10510_87" -->
<a id="c10510_87"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;[paragraph break]Hurrying through the rainswept November night, you're glad to see the bright lights of the Opera House. It's surprising that there aren't more people about but, hey, what do you expect in a cheap demo game...?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10511_87" -->
<a id="c10511_87"></a><blockquote class="code"><p class="quoted">
Understand &quot;hang [something preferably held] on [something]&quot; as putting it on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10512_87" -->
<a id="c10512_87"></a><blockquote class="code"><p class="quoted">
Test me with &quot;s / n / w / inventory / hang cloak on hook / e / s / read message&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And that's all. As always, type TEST ME to watch the scenario play itself out.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "50: The Undertomb 1" "e401" -->
<a id="e401"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e401" class="eglink"><b>50</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e401" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Undertomb 1</span></b></a><br />A small map of dead ends, in which the sound of an underground river has different strengths in different caves.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_4.html#e401"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example401">
<p>This example creates a kind of room, &quot;dead end&quot;, and gives each a textual description called its &quot;river sound&quot;. Note the use of a text substitution to fill in the appropriate river sound text in each dead end.</p>
<!-- START CODE "c10513_401" -->
<a id="c10513_401"></a><blockquote class="code"><p class="quoted">
&quot;The Undertomb&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10514_401" -->
<a id="c10514_401"></a><blockquote class="code"><p class="quoted">
A dead end is a kind of room with printed name &quot;Dead End&quot; and description &quot;This is a dead end. You'll have to go back the way you came, consoled only by [river sound].&quot; A dead end is usually dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10515_401" -->
<a id="c10515_401"></a><blockquote class="code"><p class="quoted">
The Undertomb is a dark room. East is a dead end. South is a dead end with printed name &quot;Collapsed Dead End&quot;. Northwest is a dead end called the Tortuous Alcove. In the Undertomb is the lantern. It is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10516_401" -->
<a id="c10516_401"></a><blockquote class="code"><p class="quoted">
A dead end has some text called river sound. The river sound of a dead end is usually &quot;a faint whispering of running water&quot;. The Tortuous Alcove has river sound &quot;a gurgle of running water&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10517_401" -->
<a id="c10517_401"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get lantern / e / w / s / n / nw / se&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "364: Four Stars 2" "e426" -->
<a id="e426"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e426" class="eglink"><b>364</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e426" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Four Stars 2</span></b></a><br />Using "deciding the scope" to change the content of lists such as "the list of audible things which can be touched by the player".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e426"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example426">
<p>As we have seen, a well-written understand rule will often solve the problem of allowing the player to apply specific actions to objects not normally in scope. When we need to adjust scope for some other reason than reading the player's command, though, &quot;deciding the scope of...&quot; may come in handy.</p>
<p>For instance, suppose we wanted to extend Four Stars 1 to add a tomcat on the balcony that will be heard whenever the player listens from the next room, as in:</p>
<!-- START CODE "c10518_426" -->
<a id="c10518_426"></a><blockquote class="code"><p class="quoted">
&gt;listen
<br />You hear the soothing whalesong from the Bose speaker and the yowling from the tomcat.
</p></blockquote>
<!-- END CODE -->
<p>To do this, we need to make sure that in the rule that assembles our listening description,</p>
<!-- START CODE "c10519_426" -->
<a id="c10519_426"></a><blockquote class="code"><p class="quoted">
Instead of listening to a room:
<br />&#160;&#160;&#160;&#160;if an audible thing can be touched by the player, say &quot;You hear [the list of audible things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;A merciful peace prevails.&quot;
</p></blockquote>
<!-- END CODE -->
<p>now includes the tomcat in the &quot;list of audible things which can be touched by the player&quot;.</p>
<p>To this end, we're going to change the way we assess scope, but only during the listening action. Otherwise the tomcat remains in the other room and off-limits. The new source text is marked out below:</p>
<!-- START CODE "c10520_426" -->
<a id="c10520_426"></a><blockquote class="code"><p class="quoted">
&quot;Four Stars&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10521_426" -->
<a id="c10521_426"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10522_426" -->
<a id="c10522_426"></a><blockquote class="code"><p class="quoted">
A thing has some text called sound. The sound of a thing is usually &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10523_426" -->
<a id="c10523_426"></a><blockquote class="code"><p class="quoted">
The report listening rule is not listed in the report listening to rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10524_426" -->
<a id="c10524_426"></a><blockquote class="code"><p class="quoted">
Carry out listening to something:
<br />&#160;&#160;&#160;&#160;say &quot;From [the noun] you hear [the sound of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10525_426" -->
<a id="c10525_426"></a><blockquote class="code"><p class="quoted">
Instead of listening to a room:
<br />&#160;&#160;&#160;&#160;if an audible thing can be touched by the player, say &quot;You hear [the list of audible things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;A merciful peace prevails.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10526_426" -->
<a id="c10526_426"></a><blockquote class="code"><p class="quoted">
Definition: a thing is audible if the sound of it is not &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10527_426" -->
<a id="c10527_426"></a><blockquote class="code"><p class="quoted">
Before printing the name of something audible while listening to a room:
<br />&#160;&#160;&#160;&#160;say &quot;[sound] from the &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10528_426" -->
<a id="c10528_426"></a><blockquote class="code"><p class="quoted">
A thing has some text called scent. The scent of a thing is usually &quot;nothing&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10529_426" -->
<a id="c10529_426"></a><blockquote class="code"><p class="quoted">
The report smelling rule is not listed in the report smelling rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10530_426" -->
<a id="c10530_426"></a><blockquote class="code"><p class="quoted">
Carry out smelling something:
<br />&#160;&#160;&#160;&#160;say &quot;From [the noun] you smell [scent of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10531_426" -->
<a id="c10531_426"></a><blockquote class="code"><p class="quoted">
Instead of smelling a room:
<br />&#160;&#160;&#160;&#160;if a scented thing can be touched by the player, say &quot;You smell [the list of scented things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;The place is blissfully odorless.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10532_426" -->
<a id="c10532_426"></a><blockquote class="code"><p class="quoted">
Definition: a thing is scented if the scent of it is not &quot;nothing&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10533_426" -->
<a id="c10533_426"></a><blockquote class="code"><p class="quoted">
Before printing the name of something scented while smelling a room: say &quot;[scent] from the &quot;
</p></blockquote>
<!-- END CODE -->
<p>Here is our addition:</p>
<!-- START CODE "c10534_426" -->
<a id="c10534_426"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while listening or sleeping or looking:
<br />&#160;&#160;&#160;&#160;if in darkness:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with locale running through adjacent rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;place locale in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10535_426" -->
<a id="c10535_426"></a><blockquote class="code"><p class="quoted">
A reaching inside rule while listening or sleeping or looking:
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10536_426" -->
<a id="c10536_426"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10537_426" -->
<a id="c10537_426"></a><blockquote class="code"><p class="quoted">
The Waning Moon Resort is a dark room. &quot;A spacious room with a flagstone floor, and a dreamcatcher hung over the king-size bed.&quot; The dreamcatcher is scenery in the Resort. The description is &quot;The usual web of threads and crystals, feathers and beads.&quot; Instead of taking the dreamcatcher, say &quot;Ah, ah -- you might be tempted to take it as a souvenir, except that the price list in the minibar clearly states they charge $65 apiece if you walk off with one. Cheaper than stealing the Frette bathrobes, but still probably not a good idea.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now our threat to the player's peace:</p>
<!-- START CODE "c10538_426" -->
<a id="c10538_426"></a><blockquote class="code"><p class="quoted">
The Balcony is outside from the Resort. In the Balcony is a tomcat. The sound of the tomcat is &quot;yowling&quot;. After printing the name of the tomcat when the tomcat is not visible: say &quot; outside on the balcony&quot;.
</p></blockquote>
<!-- END CODE -->
<p>From here we continue with the same scenario as before:</p>
<!-- START CODE "c10539_426" -->
<a id="c10539_426"></a><blockquote class="code"><p class="quoted">
The king-size bed is an enterable supporter in the Resort. The description is &quot;200-thread-count Egyptian cotton sheets, according to the website. You would make fun, only they really are extraordinarily comfortable.&quot; The player is on the bed. A Lindt chocolate is on the bed. It is edible. The scent of the chocolate is &quot;chocolate-hazelnut smell&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10540_426" -->
<a id="c10540_426"></a><blockquote class="code"><p class="quoted">
Instead of exiting: say &quot;You are too weary to move.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10541_426" -->
<a id="c10541_426"></a><blockquote class="code"><p class="quoted">
The suitcase is an openable closed container in the Resort.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10542_426" -->
<a id="c10542_426"></a><blockquote class="code"><p class="quoted">
An electric light is a kind of device. Carry out switching on an electric light: now the noun is lit. Carry out switching off an electric light: now the noun is unlit. Understand &quot;light&quot; as an electric light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10543_426" -->
<a id="c10543_426"></a><blockquote class="code"><p class="quoted">
The solar lamp is an electric light in Waning Moon Resort. The description is &quot;Specially designed to give light in a spectrum resembling sunlight, to improve the mood and make a person energetic.&quot; The lamp is switched on and lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10544_426" -->
<a id="c10544_426"></a><blockquote class="code"><p class="quoted">
An electric noisemaker is a kind of device. An electric noisemaker has some text called usual sound. The usual sound of an electric noisemaker is usually &quot;beepbeepbeep&quot;. Carry out switching on an electric noisemaker: now the sound of the noun is the usual sound of the noun. Report switching on an electric noisemaker: say &quot;[The noun] goes [usual sound of the noun]!&quot; instead. Report switching off an electric noisemaker: say &quot;You switch off [the noun], silencing the [usual sound of the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10545_426" -->
<a id="c10545_426"></a><blockquote class="code"><p class="quoted">
Carry out switching off an electric noisemaker: now the sound of the noun is &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10546_426" -->
<a id="c10546_426"></a><blockquote class="code"><p class="quoted">
The bedside table is in the Resort. The table supports a potted plant and a Bose speaker. The scent of the potted plant is &quot;rosemary&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10547_426" -->
<a id="c10547_426"></a><blockquote class="code"><p class="quoted">
The Bose speaker is an electric noisemaker. The usual sound of the speaker is &quot;soothing whalesong&quot;. The sound of the speaker is &quot;soothing whalesong&quot;. The speaker is switched on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10548_426" -->
<a id="c10548_426"></a><blockquote class="code"><p class="quoted">
Instead of touching a device: say &quot;You feel the surface of [the noun] and discover the switch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10549_426" -->
<a id="c10549_426"></a><blockquote class="code"><p class="quoted">
Instead of touching a scented thing: say &quot;The brush of your fingers stirs loose a fresh cloud of [scent of the noun] smell.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10550_426" -->
<a id="c10550_426"></a><blockquote class="code"><p class="quoted">
Rule for printing the description of a dark room: try listening; try smelling; rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10551_426" -->
<a id="c10551_426"></a><blockquote class="code"><p class="quoted">
Instead of examining an audible thing while in darkness: try listening to the noun. Instead of examining something while in darkness: try touching the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10552_426" -->
<a id="c10552_426"></a><blockquote class="code"><p class="quoted">
Before touching something when in darkness:
<br />&#160;&#160;&#160;&#160;say &quot;You grope about...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10553_426" -->
<a id="c10553_426"></a><blockquote class="code"><p class="quoted">
After inserting the plant into something:
<br />&#160;&#160;&#160;&#160;say &quot;You unceremoniously dump [the noun] into [the second noun], hoping it sustains no important damage thereby.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10554_426" -->
<a id="c10554_426"></a><blockquote class="code"><p class="quoted">
Before printing the name of a dark room: if the player can touch an audible thing, say &quot;Noisy &quot;; if the player can touch a scented thing, say &quot;Perfumed &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10555_426" -->
<a id="c10555_426"></a><blockquote class="code"><p class="quoted">
Visibility rule when in darkness:
<br />&#160;&#160;&#160;&#160;if examining something, there is sufficient light;
<br />&#160;&#160;&#160;&#160;there is insufficient light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10556_426" -->
<a id="c10556_426"></a><blockquote class="code"><p class="quoted">
Rule for printing the announcement of darkness: say &quot;It is now pleasantly lightless in here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10557_426" -->
<a id="c10557_426"></a><blockquote class="code"><p class="quoted">
Rule for deciding the scope of the player while in darkness: place the location in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10558_426" -->
<a id="c10558_426"></a><blockquote class="code"><p class="quoted">
To decide whether in daylight:
<br />&#160;&#160;&#160;&#160;if in darkness, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10559_426" -->
<a id="c10559_426"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when in daylight:
<br />&#160;&#160;&#160;&#160;say &quot;You've never been able to sleep with the light on.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10560_426" -->
<a id="c10560_426"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when the player can touch an audible thing (called the irritant):
<br />&#160;&#160;&#160;&#160;say &quot;The steady [sound of the irritant] from [the irritant] prevents your slumber.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10561_426" -->
<a id="c10561_426"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when the player can touch a scented thing (called the irritant):
<br />&#160;&#160;&#160;&#160;if the irritant is chocolate, say &quot;The smell of chocolate continues to tantalize you, keeping you from sleep.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You sniffle. [The irritant] is probably acting on your allergies.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10562_426" -->
<a id="c10562_426"></a><blockquote class="code"><p class="quoted">
Instead of sleeping:
<br />&#160;&#160;&#160;&#160;say &quot;You slip easily into the arms of Morpheus.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally saying &quot;At last...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10563_426" -->
<a id="c10563_426"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;You have at last escaped from the airport and gotten through customs; survived an unnerving taxi ride over icy highways; stared down the impertinent concierge; endured the bellhop's catalog of features in your room; and achieved, finally, a moment of peace. Time for a good night's slumber!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10564_426" -->
<a id="c10564_426"></a><blockquote class="code"><p class="quoted">
Test me with &quot;listen / x dreamcatcher / switch lamp off / look / sleep / eat chocolate / sleep / get plant / examine plant / open suitcase / put plant in suitcase / close suitcase / sleep / look / examine bose / switch bose off / sleep&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Of course, this new version is less happy for the player, as we haven't included any way to silence the cat.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "95: The Art of Noise" "e264" -->
<a id="e264"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e264" class="eglink"><b>95</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e264" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Art of Noise</span></b></a><br />Things are all assigned their own noise (or silence). Listening to the room in general reports on all the things that are currently audible.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_7.html#e264"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example264">
<p>This example involves redesigning the LISTEN command, removing its built-in function and replacing that with something more ambitious. We will learn more about how to do this later on.</p>
<!-- START CODE "c10565_264" -->
<a id="c10565_264"></a><blockquote class="code"><p class="quoted">
&quot;The Art of Noise&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10566_264" -->
<a id="c10566_264"></a><blockquote class="code"><p class="quoted">
A thing has some text called sound. The sound of a thing is usually &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10567_264" -->
<a id="c10567_264"></a><blockquote class="code"><p class="quoted">
The report listening rule is not listed in the report listening to rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10568_264" -->
<a id="c10568_264"></a><blockquote class="code"><p class="quoted">
Carry out listening to something:
<br />&#160;&#160;&#160;&#160;say &quot;From [the noun] you hear [the sound of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10569_264" -->
<a id="c10569_264"></a><blockquote class="code"><p class="quoted">
Instead of listening to a room:
<br />&#160;&#160;&#160;&#160;if an audible thing can be touched by the player, say &quot;You hear [the list of audible things which can be touched by the player].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Nothing of note.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10570_264" -->
<a id="c10570_264"></a><blockquote class="code"><p class="quoted">
Definition: a thing is audible if the sound of it is not &quot;silence&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10571_264" -->
<a id="c10571_264"></a><blockquote class="code"><p class="quoted">
Before printing the name of something audible while listening to a room:
<br />&#160;&#160;&#160;&#160;say &quot;[sound] from the &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10572_264" -->
<a id="c10572_264"></a><blockquote class="code"><p class="quoted">
The Sharper Image is a room. The pet rock is a thing in the Sharper Image. The toy car is a thing in the Sharper Image. The sound of the car is &quot;whirring and zooming&quot;. The plastic widget is a thing in the Sharper Image. The sound of the plastic widget is &quot;bleeps and bloops&quot;. The pointless gadget is a thing in Sharper Image. The sound of the pointless gadget is &quot;buzzbuzzbuzz&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10573_264" -->
<a id="c10573_264"></a><blockquote class="code"><p class="quoted">
The soundproof case is a transparent openable container in the Sharper Image. It is closed and fixed in place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10574_264" -->
<a id="c10574_264"></a><blockquote class="code"><p class="quoted">
Test me with &quot;listen / listen to rock / listen to car / get all / open case / put all in case / listen / close case / listen / listen to car&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "131: Weathering" "e430" -->
<a id="e430"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e430" class="eglink"><b>131</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e430" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Weathering</span></b></a><br />The automatic weather station atop Mt. Pisgah shows randomly fluctuating temperature, pressure and cloud cover.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e430"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example430">
<!-- START CODE "c10575_430" -->
<a id="c10575_430"></a><blockquote class="code"><p class="quoted">
&quot;Weathering&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10576_430" -->
<a id="c10576_430"></a><blockquote class="code"><p class="quoted">
A cloud pattern is a kind of value. The cloud patterns are cumulus, altocumulus, cumulonimbus, stratus, cirrus, nimbus, nimbostratus.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10577_430" -->
<a id="c10577_430"></a><blockquote class="code"><p class="quoted">
The Mount Pisgah Station is a room. &quot;The rocky peak of Mt. Pisgah (altitude 872m) is graced only by an automatic weather station. The clouds, close enough almost to touch, are [a random cloud pattern]. Temperature: [a random number from 7 to 17] degrees, barometric pressure: [950 + a random number from 0 to 15] millibars.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10578_430" -->
<a id="c10578_430"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / look / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "157: Full Moon" "e442" -->
<a id="e442"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e442" class="eglink"><b>157</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e442" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Full Moon</span></b></a><br />Random atmospheric events which last the duration of a scene.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_10.html#e442"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example442">
<!-- START CODE "c10579_442" -->
<a id="c10579_442"></a><blockquote class="code"><p class="quoted">
&quot;Full Moon&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10580_442" -->
<a id="c10580_442"></a><blockquote class="code"><p class="quoted">
Wolf Pursuit is a scene. Wolf Pursuit begins when play begins.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10581_442" -->
<a id="c10581_442"></a><blockquote class="code"><p class="quoted">
Every turn during Wolf Pursuit, say &quot;[one of]A twig snaps behind you![or]The wind howls in your ears.[or]You feel chilly.[at random]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10582_442" -->
<a id="c10582_442"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;You have lost your spectacles, and the lamp, and can see barely further than the next tree. Roots keep trying to trip you, too...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10583_442" -->
<a id="c10583_442"></a><blockquote class="code"><p class="quoted">
The Dark Forest is a room. &quot;You are mostly aware that you are not as alone here as you would like, and that the ground is uneven.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10584_442" -->
<a id="c10584_442"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "164: Night and Day" "e262" -->
<a id="e262"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e262" class="eglink"><b>164</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e262" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Night and Day</span></b></a><br />Cycling through a sequence of scenes to represent day and night following one another during a game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_10.html#e262"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example262">
<p>Suppose we want to have a sequence of nights and days in our game, with one scene to govern each daylight condition.</p>
<!-- START CODE "c10585_262" -->
<a id="c10585_262"></a><blockquote class="code"><p class="quoted">
&quot;Night and Day&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10586_262" -->
<a id="c10586_262"></a><blockquote class="code"><p class="quoted">
The sun is a backdrop. It is everywhere. The description is &quot;Currently out of sight.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10587_262" -->
<a id="c10587_262"></a><blockquote class="code"><p class="quoted">
Night is a recurring scene. Night begins when play begins. Night begins when Dusk ends. Night ends when the time since Night began is 3 minutes.
</p></blockquote>
<!-- END CODE -->
<p>Notice that our two conditions for the beginning of Night are not in conflict: it will be night-time when the game begins, and then night will also recur every time the Dusk scene ends.</p>
<!-- START CODE "c10588_262" -->
<a id="c10588_262"></a><blockquote class="code"><p class="quoted">
When Night begins:
<br />&#160;&#160;&#160;&#160;say &quot;The sun falls below the horizon and the temperature drops abruptly to well below zero.&quot;;
<br />&#160;&#160;&#160;&#160;now the description of the sun is &quot;Currently out of sight.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10589_262" -->
<a id="c10589_262"></a><blockquote class="code"><p class="quoted">
Dawn is a recurring scene. Dawn begins when Night ends. Dawn ends when the time since Dawn began is 1 minute.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10590_262" -->
<a id="c10590_262"></a><blockquote class="code"><p class="quoted">
When Dawn begins:
<br />&#160;&#160;&#160;&#160;say &quot;The sun appears on the horizon.&quot;;
<br />&#160;&#160;&#160;&#160;now the description of the sun is &quot;It is tiny and weak.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10591_262" -->
<a id="c10591_262"></a><blockquote class="code"><p class="quoted">
Day is a recurring scene. Day begins when Dawn ends. Day ends when the time since Day began is 3 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10592_262" -->
<a id="c10592_262"></a><blockquote class="code"><p class="quoted">
When Day begins:
<br />&#160;&#160;&#160;&#160;say &quot;The sun is now properly up.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10593_262" -->
<a id="c10593_262"></a><blockquote class="code"><p class="quoted">
Dusk is a recurring scene. Dusk begins when Day ends. Dusk ends when the time since Dusk began is 1 minute.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10594_262" -->
<a id="c10594_262"></a><blockquote class="code"><p class="quoted">
When Dusk begins:
<br />&#160;&#160;&#160;&#160;say &quot;The sun has passed across the sky and is on the verge of setting.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10595_262" -->
<a id="c10595_262"></a><blockquote class="code"><p class="quoted">
Cratered Landscape is a room. &quot;The ground here is [if Night is happening]dim silver, with the craters visible as darker splotches[otherwise]the color of dried blood; here and there it is also rippled by impact craters[end if]. The horizon curves visibly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10596_262" -->
<a id="c10596_262"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / look / x sun / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we run this example and then have a look at the scenes index, we'll see that the cycle is listed through thus:</p>
<!-- START CODE "c10597_262" -->
<a id="c10597_262"></a><blockquote class="code"><p class="quoted">
Night (recurring)
<br />&#160;&#160;&#160;&#160;Dawn (recurring)
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Day (recurring)
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Dusk (recurring)
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Night
</p></blockquote>
<!-- END CODE -->
<p>with the second &quot;Night&quot; in italics, to indicate that it is a repetition of the same scene that has already been listed above.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "144: Totality" "e113" -->
<a id="e113"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e113" class="eglink"><b>144</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e113" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Totality</span></b></a><br />To schedule an eclipse of the sun, which involves a number of related events.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_9.html#e113"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example113">
<p>First we define the events, and then we create a phrase to schedule them:</p>
<!-- START CODE "c10598_113" -->
<a id="c10598_113"></a><blockquote class="code"><p class="quoted">
&quot;Totality&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10599_113" -->
<a id="c10599_113"></a><blockquote class="code"><p class="quoted">
At the time when the penumbra appears:
<br />&#160;&#160;&#160;&#160;say &quot;The sunlight dies away to an eerie, brownish penumbra.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10600_113" -->
<a id="c10600_113"></a><blockquote class="code"><p class="quoted">
At the time when the eclipse begins:
<br />&#160;&#160;&#160;&#160;say &quot;The moon passes across the disc of the sun, plunging the world into darkness.&quot;;
<br />&#160;&#160;&#160;&#160;now the Chamber is dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10601_113" -->
<a id="c10601_113"></a><blockquote class="code"><p class="quoted">
At the time when the eclipse ends:
<br />&#160;&#160;&#160;&#160;say &quot;The moon passes away from the sun, and a gloomy penumbral light returns.&quot;;
<br />&#160;&#160;&#160;&#160;now the Chamber is lighted.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10602_113" -->
<a id="c10602_113"></a><blockquote class="code"><p class="quoted">
At the time when normal sunlight returns:
<br />&#160;&#160;&#160;&#160;say &quot;The sun shines once more bright in the sky, not to be eclipsed again on this spot for another thirty-seven years.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10603_113" -->
<a id="c10603_113"></a><blockquote class="code"><p class="quoted">
To schedule an eclipse for (totality - a time):
<br />&#160;&#160;&#160;&#160;the penumbra appears at two minutes before totality;
<br />&#160;&#160;&#160;&#160;the eclipse begins at totality;
<br />&#160;&#160;&#160;&#160;the eclipse ends at three minutes after totality;
<br />&#160;&#160;&#160;&#160;normal sunlight returns at five minutes after totality.
</p></blockquote>
<!-- END CODE -->
<p>Now we make use of the new phrase:</p>
<!-- START CODE "c10604_113" -->
<a id="c10604_113"></a><blockquote class="code"><p class="quoted">
When play begins, schedule an eclipse for 3:27 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10605_113" -->
<a id="c10605_113"></a><blockquote class="code"><p class="quoted">
The Chamber is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10606_113" -->
<a id="c10606_113"></a><blockquote class="code"><p class="quoted">
The time of day is 3:25 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10607_113" -->
<a id="c10607_113"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We shall see much more about creating phrases later. Their advantage is that they enable a complicated sequence of operations to be given a meaningful name, and that they can be re-used many times as needed.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "120: Orange Cones" "e276" -->
<a id="e276"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e276" class="eglink"><b>120</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e276" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Orange Cones</span></b></a><br />Creating a traffic backdrop that appears in all road rooms except the one in which the player has laid down orange cones.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e276"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example276">
<p>Because we can invent our own adjectives (see the chapter on Phrases), we can make the conditions for a backdrop as simple or as complicated as we like.</p>
<p>In this scenario, we want the player to be able to take, move, and drop orange traffic cones to seal off one street or another. So we create our own &quot;accessible&quot; adjective as follows:</p>
<!-- START CODE "c10608_276" -->
<a id="c10608_276"></a><blockquote class="code"><p class="quoted">
Definition: a road is accessible if the orange cones are not in it.
</p></blockquote>
<!-- END CODE -->
<p>...and now</p>
<!-- START CODE "c10609_276" -->
<a id="c10609_276"></a><blockquote class="code"><p class="quoted">
move the traffic backdrop to all accessible roads.
</p></blockquote>
<!-- END CODE -->
<p>will tell the traffic backdrop where to appear.</p>
<!-- START CODE "c10610_276" -->
<a id="c10610_276"></a><blockquote class="code"><p class="quoted">
&quot;Orange Cones&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10611_276" -->
<a id="c10611_276"></a><blockquote class="code"><p class="quoted">
A road is a kind of room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10612_276" -->
<a id="c10612_276"></a><blockquote class="code"><p class="quoted">
The traffic is a backdrop. It is not scenery. The initial appearance is &quot;Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.&quot; The description is &quot;It is more or less as usual for this time of day. It's a wonder it ever dissipates, really.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10613_276" -->
<a id="c10613_276"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;move the traffic backdrop to all accessible roads.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10614_276" -->
<a id="c10614_276"></a><blockquote class="code"><p class="quoted">
A line of orange cones are a thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10615_276" -->
<a id="c10615_276"></a><blockquote class="code"><p class="quoted">
Definition: a road is accessible if the orange cones are not in it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10616_276" -->
<a id="c10616_276"></a><blockquote class="code"><p class="quoted">
After dropping the orange cones in a road:
<br />&#160;&#160;&#160;&#160;say &quot;With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.&quot;;
<br />&#160;&#160;&#160;&#160;update backdrop positions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10617_276" -->
<a id="c10617_276"></a><blockquote class="code"><p class="quoted">
After taking the orange cones:
<br />&#160;&#160;&#160;&#160;say &quot;You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.&quot;;
<br />&#160;&#160;&#160;&#160;update backdrop positions.
</p></blockquote>
<!-- END CODE -->
<p>That accomplishes everything we set out to do, but let's add a very simple puzzle to test it out with:</p>
<!-- START CODE "c10618_276" -->
<a id="c10618_276"></a><blockquote class="code"><p class="quoted">
The Town Square is a road. North of the Town Square is Candle Street. Candle Street is a road. East of Town Square is Mortar Street. Mortar Street is a road.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10619_276" -->
<a id="c10619_276"></a><blockquote class="code"><p class="quoted">
The line of orange cones are in Mortar Street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10620_276" -->
<a id="c10620_276"></a><blockquote class="code"><p class="quoted">
The player wears a reflective vest and a hard hat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10621_276" -->
<a id="c10621_276"></a><blockquote class="code"><p class="quoted">
The manhole cover is a door. &quot;[if location is accessible]Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.[otherwise]There's a promising manhole in the middle of the street.[end if]&quot;. It is closed and openable. It is below the Town Square and above the Access Tunnel.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10622_276" -->
<a id="c10622_276"></a><blockquote class="code"><p class="quoted">
Instead of opening the manhole cover when the location is an accessible road:
<br />&#160;&#160;&#160;&#160;say &quot;You can't get anywhere near the manhole cover with all these cars above it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10623_276" -->
<a id="c10623_276"></a><blockquote class="code"><p class="quoted">
Instead of taking the orange cones in Town Square:
<br />&#160;&#160;&#160;&#160;if the manhole cover is closed or Town Square is accessible, continue the action;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You'd better not let the traffic back in until you've closed the manhole. There'll be accidents otherwise.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10624_276" -->
<a id="c10624_276"></a><blockquote class="code"><p class="quoted">
After going to the Access Tunnel:
<br />&#160;&#160;&#160;&#160;say &quot;With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<p>And finally, a couple of features from the Activities chapter to make the output more elegant:</p>
<!-- START CODE "c10625_276" -->
<a id="c10625_276"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the orange cones: say &quot;A line of orange cones holds back the traffic from entering here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10626_276" -->
<a id="c10626_276"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the orange cones when the cones are carried by the player:
<br />&#160;&#160;&#160;&#160;say &quot;stack of orange cones&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10627_276" -->
<a id="c10627_276"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "132: Uptown Girls" "e171" -->
<a id="e171"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_3.html#e171" class="eglink"><b>132</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3.html#e171" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Uptown Girls</span></b></a><br />A stream of random pedestrians who go by the player.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e171"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example171">
<p>Suppose we have an urban space we want to populate with random passers-by. These should have a range of characteristics and not always be described in the same way; and once the player has noticed one, he should be able to look at her further, until another pedestrian crosses his path.</p>
<!-- START CODE "c10628_171" -->
<a id="c10628_171"></a><blockquote class="code"><p class="quoted">
&quot;Uptown Girls&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10629_171" -->
<a id="c10629_171"></a><blockquote class="code"><p class="quoted">
Riverside Drive is a room. &quot;There's a pleasant late-afternoon view of the Hudson, and a snap in the air, and you would rather be here than anywhere.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10630_171" -->
<a id="c10630_171"></a><blockquote class="code"><p class="quoted">
Instead of going a direction, say &quot;Oh, you know where you're going; no need to deviate from the usual path.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10631_171" -->
<a id="c10631_171"></a><blockquote class="code"><p class="quoted">
Instead of waiting, say &quot;You stroll along enjoying the November crispness.&quot;
</p></blockquote>
<!-- END CODE -->
<p>It gets a little annoying to have a random event occurring every single turn of play, so let's introduce some randomness to determine how often the message appears:</p>
<!-- START CODE "c10632_171" -->
<a id="c10632_171"></a><blockquote class="code"><p class="quoted">
Every turn when a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;reset passerby;
<br />&#160;&#160;&#160;&#160;choose a random row in the Table of Atmospheric Events;
<br />&#160;&#160;&#160;&#160;say &quot;[event entry][paragraph break]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10633_171" -->
<a id="c10633_171"></a><blockquote class="code"><p class="quoted">
Table of Atmospheric Events
<br />event
<br />&quot;Slowly [a passerby] strolls by, turning to look at you as she passes.&quot;
<br />&quot;Some [passerby] nearly bumps into you.&quot;
<br />&quot;You dodge to avoid [a passerby].&quot;
<br />&quot;You weave around [a passerby], who has stalled to look into a window.&quot;
<br />&quot;There's a ruckus as one of the ubiquitous taxis nearly collides with [a passerby] crossing the street.&quot;
<br />&quot;[The passerby] beside you waves to a friend across the street.&quot;
<br />&quot;To your left, [a passerby] drops her purse, and swears as she retrieves it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10634_171" -->
<a id="c10634_171"></a><blockquote class="code"><p class="quoted">
Hair color is a kind of value. A person has hair color. the hair colors are red-headed, brunette, blonde.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10635_171" -->
<a id="c10635_171"></a><blockquote class="code"><p class="quoted">
Height is a kind of value. A person has height. The heights are tall, medium-height, short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10636_171" -->
<a id="c10636_171"></a><blockquote class="code"><p class="quoted">
Grooming is a kind of value. A person has grooming. The groomings are messy and tidy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10637_171" -->
<a id="c10637_171"></a><blockquote class="code"><p class="quoted">
To reset passerby:
<br />&#160;&#160;&#160;&#160;now the hair color of the passerby is a random hair color;
<br />&#160;&#160;&#160;&#160;now the height of the passerby is a random height;
<br />&#160;&#160;&#160;&#160;now the grooming of the passerby is a random grooming.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10638_171" -->
<a id="c10638_171"></a><blockquote class="code"><p class="quoted">
The passerby is a woman in Riverside Drive. The passerby is scenery. Understand &quot;woman&quot; or &quot;lady&quot; as the passerby. The printed name of the passerby is &quot;[one of]woman[or]lady[purely at random]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>At this point we borrow some techniques from later to describe the woman with a random combination of characteristics, and to let the player refer to her by those traits:</p>
<!-- START CODE "c10639_171" -->
<a id="c10639_171"></a><blockquote class="code"><p class="quoted">
Before printing the name of the passerby:
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 4 succeeds, say &quot;[height] &quot;;
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 4 succeeds, say &quot;[grooming] &quot;;
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 4 succeeds, say &quot;[hair color] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10640_171" -->
<a id="c10640_171"></a><blockquote class="code"><p class="quoted">
Understand the hair color property as describing the passerby. Understand the height property as describing the passerby. Understand the grooming property as describing the passerby.
</p></blockquote>
<!-- END CODE -->
<p>If we also wanted each of those combinations to mean some more specifically-described woman:</p>
<!-- START CODE "c10641_171" -->
<a id="c10641_171"></a><blockquote class="code"><p class="quoted">
Instead of examining a passerby:
<br />&#160;&#160;&#160;&#160;repeat through Table of Passerby Descriptions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if hair entry is the hair color of the passerby and height entry is the height of the passerby and grooming entry is the grooming of the passerby, say &quot;[description entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10642_171" -->
<a id="c10642_171"></a><blockquote class="code"><p class="quoted">
Table of Passerby Descriptions
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">hair</p></td><td class="quotedtablecell"><p class="quoted">height</p></td><td class="quotedtablecell"><p class="quoted">grooming</p></td><td class="quotedtablecell"><p class="quoted">description</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">red-headed</p></td><td class="quotedtablecell"><p class="quoted">tall</p></td><td class="quotedtablecell"><p class="quoted">messy</p></td><td class="quotedtablecell"><p class="quoted">&quot;An older woman with long red hippie-hair poking out of a ponytail in straggles, and bent to hide how tall she is.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">red-headed</p></td><td class="quotedtablecell"><p class="quoted">medium-height</p></td><td class="quotedtablecell"><p class="quoted">messy</p></td><td class="quotedtablecell"><p class="quoted">&quot;A shaggy red-head with shingled hair.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">red-headed</p></td><td class="quotedtablecell"><p class="quoted">short</p></td><td class="quotedtablecell"><p class="quoted">messy</p></td><td class="quotedtablecell"><p class="quoted">&quot;Almost an urchin, and very young, with ginger hair and a smudged nose and far too many freckles.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">red-headed</p></td><td class="quotedtablecell"><p class="quoted">tall</p></td><td class="quotedtablecell"><p class="quoted">tidy</p></td><td class="quotedtablecell"><p class="quoted">&quot;A precise career woman with henna-red hair.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">red-headed</p></td><td class="quotedtablecell"><p class="quoted">medium-height</p></td><td class="quotedtablecell"><p class="quoted">tidy</p></td><td class="quotedtablecell"><p class="quoted">&quot;Her hair is red in the way that lollipops and fire trucks are red: not by nature but by art. The rest of her clothing is pretty ordinary, though.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">red-headed</p></td><td class="quotedtablecell"><p class="quoted">short</p></td><td class="quotedtablecell"><p class="quoted">tidy</p></td><td class="quotedtablecell"><p class="quoted">&quot;Thin and small in every sense, with chin-length red-hair. Even high heels do not bring her head much above your shoulder.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">brunette</p></td><td class="quotedtablecell"><p class="quoted">tall</p></td><td class="quotedtablecell"><p class="quoted">messy</p></td><td class="quotedtablecell"><p class="quoted">&quot;A Juno-esque woman with dark hair, wearing something resembling a tent.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">brunette</p></td><td class="quotedtablecell"><p class="quoted">medium-height</p></td><td class="quotedtablecell"><p class="quoted">messy</p></td><td class="quotedtablecell"><p class="quoted">&quot;An unremarkable woman with dark brown hair and the aura of needing a wash.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">brunette</p></td><td class="quotedtablecell"><p class="quoted">short</p></td><td class="quotedtablecell"><p class="quoted">messy</p></td><td class="quotedtablecell"><p class="quoted">&quot;There are mustard stains on the t-shirt of this short brown-haired woman. Estimated age ca. 40. Possibly homeless.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">brunette</p></td><td class="quotedtablecell"><p class="quoted">tall</p></td><td class="quotedtablecell"><p class="quoted">tidy</p></td><td class="quotedtablecell"><p class="quoted">&quot;A leggy brunette in business attire.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">brunette</p></td><td class="quotedtablecell"><p class="quoted">medium-height</p></td><td class="quotedtablecell"><p class="quoted">tidy</p></td><td class="quotedtablecell"><p class="quoted">&quot;Medium-height, brown-haired, generally nondescript.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">brunette</p></td><td class="quotedtablecell"><p class="quoted">short</p></td><td class="quotedtablecell"><p class="quoted">tidy </p></td><td class="quotedtablecell"><p class="quoted">&quot;A neat little dark-haired girl.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">blonde</p></td><td class="quotedtablecell"><p class="quoted">tall</p></td><td class="quotedtablecell"><p class="quoted">messy</p></td><td class="quotedtablecell"><p class="quoted">&quot;A tall blonde of about thirteen who looks as though she has not yet figured out how to get her wardrobe to catch up with her rate of growth. Her t-shirt and her pants are too short.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">blonde</p></td><td class="quotedtablecell"><p class="quoted">medium-height</p></td><td class="quotedtablecell"><p class="quoted">messy</p></td><td class="quotedtablecell"><p class="quoted">&quot;Black leather pants and the wall-o-hair look.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">blonde</p></td><td class="quotedtablecell"><p class="quoted">short</p></td><td class="quotedtablecell"><p class="quoted">messy</p></td><td class="quotedtablecell"><p class="quoted">&quot;One of those shocking platinum blonde types, with a tiger-patterned skirt. Reeally trashy.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">blonde</p></td><td class="quotedtablecell"><p class="quoted">tall</p></td><td class="quotedtablecell"><p class="quoted">tidy</p></td><td class="quotedtablecell"><p class="quoted">&quot;Elfin and severe, with perfectly straight hair falling to the middle of the back.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">blonde</p></td><td class="quotedtablecell"><p class="quoted">medium-height</p></td><td class="quotedtablecell"><p class="quoted">tidy</p></td><td class="quotedtablecell"><p class="quoted">&quot;A rounded, Marilyn-esque blonde.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">blonde</p></td><td class="quotedtablecell"><p class="quoted">short</p></td><td class="quotedtablecell"><p class="quoted">tidy</p></td><td class="quotedtablecell"><p class="quoted"> &quot;Pin-precise in a blue-and-white striped suit and a boyish haircut.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10643_171" -->
<a id="c10643_171"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / x passerby / z / z / x passerby&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
