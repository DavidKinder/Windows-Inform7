<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</p>
<p class="chaptercontents"><a href="RB_9.html#s1" class="standardlink"><span class="chaptercontentsitem">§9.1. Food</span></a>; <a href="RB_9.html#s2" class="standardlink"><span class="chaptercontentsitem">§9.2. Bags, Bottles, Boxes and Safes</span></a>; <a href="RB_9.html#s3" class="standardlink"><span class="chaptercontentsitem">§9.3. Clothing</span></a>; <a href="RB_9.html#s4" class="standardlink"><span class="chaptercontentsitem">§9.4. Money</span></a>; <a href="RB_9.html#s5" class="standardlink"><span class="chaptercontentsitem">§9.5. Dice and Playing Cards</span></a>; <a href="RB_9.html#s6" class="standardlink"><span class="chaptercontentsitem">§9.6. Reading Matter</span></a>; <a href="RB_9.html#s7" class="standardlink"><span class="chaptercontentsitem">§9.7. Painting and Labeling Devices</span></a>; <a href="RB_9.html#s8" class="standardlink"><span class="chaptercontentsitem">§9.8. Simple Machines</span></a>; <a href="RB_9.html#s9" class="standardlink"><span class="chaptercontentsitem">§9.9. Televisions and Radios</span></a>; <a href="RB_9.html#s10" class="standardlink"><span class="chaptercontentsitem">§9.10. Telephones</span></a>; <a href="RB_9.html#s11" class="standardlink"><span class="chaptercontentsitem">§9.11. Clocks and Scientific Instruments</span></a>; <a href="RB_9.html#s12" class="standardlink"><span class="chaptercontentsitem">§9.12. Cameras and Recording Devices</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="RB_1.html" class="standardlink">Contents of <i>The Inform Recipe Book</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_8.html" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_8.html" class="standardlink">Chapter 8: Vehicles, Animals and Furniture</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html" class="standardlink">Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§9.1. Food</p>
<p>Inform provides an either/or property called &quot;edible&quot; and an action, &quot;eating&quot;, for consuming edible things:</p>
<!-- START CODE "c13943" -->
<a id="c13943"></a><blockquote class="code"><p class="quoted">
The lardy cake is edible. After eating the lardy cake, say &quot;Sticky but delicious.&quot;
</p></blockquote>
<!-- END CODE -->
<p>For eating something not immediately to hand, see <span class="boldface">Lollipop Guild</span>. <span class="boldface">Delicious, Delicious Rocks</span>, conversely, adds a sanity check which prevents the player from automatically taking inedible things only to be told they can't be eaten.</p>
<p>Inform does not normally simulate taste or digestion, but to provide foods with a range of flavours, see <span class="boldface">Would you...?</span>; to make eating different foods affect the player differently, see <span class="boldface">Stone</span>, or for the extreme case of poisoning foods, <span class="boldface">Candy</span>. In <span class="boldface">MRE</span>, hunger causes the player problems unless he regularly finds and eats food.</p>
<p class="crossreference"><a href="RB_10.html#s2" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Liquids</b></a><i> for things to drink</i></p><p class="crossreference"><a href="RB_10.html#s3" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Dispensers and Supplies of Small Objects</b></a><i> for a pizza buffet table from which the player may take all the slices he wants</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_8.html#s5" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_8.html#s5" class="standardlink">Back to Chapter 8: Vehicles, Animals and Furniture: §8.5. Kitchen and Bathroom</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s2" class="standardlink">Onward to §9.2. Bags, Bottles, Boxes and Safes</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e178" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e178" class="standardlink">Example 48: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Would you...?</b>&#160;&#160;&#160; Adding new properties to objects, and checking for their presence.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e62" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e62" class="standardlink">Example 133: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Candy</b>&#160;&#160;&#160; One of several identical candies chosen at the start of play to be poisonous.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e254" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e254" class="standardlink">Example 143: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>MRE</b>&#160;&#160;&#160; Hunger that eventually kills the player, and foodstuffs that can delay the inevitable by different amounts of time.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e363" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e363" class="standardlink">Example 391: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Stone</b>&#160;&#160;&#160; A soup to which the player can add ingredients, which will have different effects when the player eats.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e103" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e103" class="standardlink">Example 196: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Delicious, Delicious Rocks</b>&#160;&#160;&#160; Adding a "sanity-check" stage to decide whether an action makes any sense, which occurs before any before rules, implicit taking, or check rules.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§9.2. Bags, Bottles, Boxes and Safes</p>
<p>The kind &quot;container&quot; allows one thing to contain others. Things are sometimes containers automatically, sometimes by instruction:</p>
<!-- START CODE "c13944" -->
<a id="c13944"></a><blockquote class="code"><p class="quoted">
The match is in the matchbox. The bucket is a container.
</p></blockquote>
<!-- END CODE -->
<p>The matchbox, like the bucket, is a container. Containers come in all sizes and have a variety of behaviours, mainly controlled by the properties we give them: they can be &quot;open&quot; or &quot;closed&quot;, &quot;opaque&quot; or &quot;transparent&quot; (when closed), &quot;openable&quot; or not, &quot;lockable&quot; or not, &quot;enterable&quot; or not. The basic ideas of containment are to do with carrying and sometimes hiding the contents, and Inform makes this easy. Allowing for locking and unlocking is again straightforward:</p>
<!-- START CODE "c13945" -->
<a id="c13945"></a><blockquote class="code"><p class="quoted">
The strongbox is a locked container. The little steel key unlocks the strongbox.
</p></blockquote>
<!-- END CODE -->
<p>Two built-in extensions enhance and modify the behavior of locks and keys: Locksmith automates a number of steps, automatically unlocking doors when trying to open them (for instance). Skeleton Keys allows us to define multiple keys that unlock the same object, rather than being restricted to one matching key per item.</p>
<p>For a container with a combination lock, rather than a key, see <span class="boldface">Safety</span>; for a more sophisticated safe requiring digits dialed over multiple turns, see <span class="boldface">Eyes, Fingers, Toes</span>.</p>
<p><span class="boldface">Trachypachidae Maturin 1803</span> provides a bottle that is stoppered with a cork: when it is closed, the cork is part of the bottle, but otherwise the cork becomes a separate object we can carry around.</p>
<p>The normal assumption is that there is no problem with any two portable items being carried together, but in reality they may affect each other. (For effects like magnetism, or getting each other wet, or setting each other on fire, see the Physics chapter.) Here is a cat which, if boxed up with one or more items of food, will eat something each turn until all is gone:</p>
<!-- START CODE "c13946" -->
<a id="c13946"></a><blockquote class="code"><p class="quoted">
The player carries a wicker basket and a scarlet fish. The cat is an animal in the wicker basket. The fish is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13947" -->
<a id="c13947"></a><blockquote class="code"><p class="quoted">
Every turn when the cat is in a container (called the bag) and something edible (called the foodstuff) is in the bag:
<br />&#160;&#160;&#160;&#160;remove the foodstuff from play;
<br />&#160;&#160;&#160;&#160;say &quot;With mingled sounds of mewing and chomping, the cat nibbles up [the foodstuff].&quot;
</p></blockquote>
<!-- END CODE -->
<p>The examples below provide subtler effects, adapting text to the current situation. In <span class="boldface">Cinco</span>, the container's name changes depending on what it contains: putting beef in a taco allows the player to call it a SHREDDED BEEF TACO. In <span class="boldface">Unpeeled</span> and <span class="boldface">Shipping Trunk</span>, the description of something inside a container changes according to other things are alongside it. This is taken further in <span class="boldface">Hudsucker Industries</span>, which describes the contents of a container as a group.</p>
<p>Finally, any action that destroys a container has to consider what to do with the things inside. <span class="boldface">Fallout Enclosure</span> demonstrates a zapping action that destroys cash registers and shelves but leaves their contents tidily behind.</p>
<p class="crossreference"><a href="RB_10.html#s2" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Liquids</b></a><i> for a SHAKE command that makes containers rattle when there are contents</i></p><p class="crossreference"><a href="RB_10.html#s4" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Glass and Other Damage-Prone Substances</b></a><i> for opening containers by cutting into them</i></p><p class="crossreference"><a href="RB_10.html#s8" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Fire</b></a><i> for fire damage that spreads between containers and their contents, leaving fireproof objects intact</i></p><p class="crossreference"><a href="RB_10.html#s5" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Volume, Height, Weight</b></a><i> for containers breaking under the weight of their contents</i></p><p class="crossreference"><a href="RB_10.html#s9" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Heat</b></a><i> for keeping things warm in insulated containers</i></p><p class="crossreference"><a href="RB_8.html#s4" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Furniture</b></a><i> for chests with lids that can support other objects</i></p><p class="crossreference"><a href="RB_6.html#s3" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Modifying Existing Commands</b></a><i> for ways to allow the player to unlock with a key he isn't currently holding</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s1" class="standardlink">Back to §9.1. Food</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s3" class="standardlink">Onward to §9.3. Clothing</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e336" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e336" class="standardlink">Example 298: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Safety</b>&#160;&#160;&#160; A safe whose dial can be turned with SPIN SAFE TO 1131, and which will open only with the correct combination.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e79" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e79" class="standardlink">Example 319: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Cinco</b>&#160;&#160;&#160; A taco shell that can be referred to (when it contains things) in terms of its contents.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e351" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e351" class="standardlink">Example 339: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Shipping Trunk</b>&#160;&#160;&#160; A box of baking soda whose name changes to "completely ineffective baking soda" when it is in a container with something that smells funny.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e275" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e275" class="standardlink">Example 344: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Unpeeled</b>&#160;&#160;&#160; Calling an onion "a single yellow onion" when (and only when) it is being listed as the sole content of a room or container.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e133" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e133" class="standardlink">Example 433: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Eyes, Fingers, Toes</b>&#160;&#160;&#160; A safe with a multi-number combination, meant to be dialed over multiple turns, is implemented using a log of the last three numbers dialed. The log can then be compared to the safe's correct combination.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e364" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e364" class="standardlink">Example 340: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Trachypachidae Maturin 1803</b>&#160;&#160;&#160; Bottles with removable stoppers: when the stopper is in the bottle, the bottle is functionally closed, but the stopper can also be removed and used elsewhere. Descriptions of the bottle reflect its state intelligently.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e194" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e194" class="standardlink">Example 342: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hudsucker Industries</b>&#160;&#160;&#160; Letters which are described differently as a group, depending on whether the player has read none, some, or all of them, and on whether they are alike or unlike.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e136" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e136" class="standardlink">Example 35: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Fallout Enclosure</b>&#160;&#160;&#160; Adding an enclosure kind that includes both containers and supporters in order to simplify text that would apply to both.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§9.3. Clothing</p>
<p>A person can wear any (portable) thing which has the &quot;wearable&quot; property. (This property seldom needs to be quoted because it is deduced automatically from sentences like &quot;Trevor wears a red hat.&quot;)</p>
<p>In most traditional IF, clothing is only used when it is exceptional in some way. That is, we ignore the three to eight different garments most people are wearing at any given time - the everyday clothes which people wear without thinking about them - and only simulate the unexpected extras: a borrowed jaunty red hat, a radiation-proof space suit, and so on.</p>
<p>These unusual garments turn up only occasionally in play and usually one at a time, so Inform does not normally provide rules to restrict how much or little is worn, or in what unlikely combinations. <span class="boldface">Get Me to the Church on Time</span> categorises clothing by body area (trousers for lower body, shirts for upper); <span class="boldface">Bogart</span> by layer, distinguishing underwear from outer garments. <span class="boldface">What Not To Wear</span> combines both into a general-purpose system adequate for most kinds of clothing situations.</p>
<p class="crossreference"><a href="RB_8.html#s5" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Kitchen and Bathroom</b></a><i> for a simple mirror implementation, which could be adapted to reflect what the player is currently wearing</i></p><p><span class="boldface">Hays Code</span> is a somewhat stripped down version.</p>
<p>Clothes are normally single things which have no function other than display and concealment, but <span class="boldface">Being Prepared</span> gives them pockets which act as containers, and <span class="boldface">Some Assembly Required</span> allows clothes to be stitched together from pieces of cloth.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s2" class="standardlink">Back to §9.2. Bags, Bottles, Boxes and Safes</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s4" class="standardlink">Onward to §9.4. Money</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e300" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e300" class="standardlink">Example 56: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Being Prepared</b>&#160;&#160;&#160; A kind for jackets, which always includes a container called a pocket.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e345" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e345" class="standardlink">Example 332: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Some Assembly Required</b>&#160;&#160;&#160; Building different styles of shirt from component sleeves and collars.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e185" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e185" class="standardlink">Example 338: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hays Code</b>&#160;&#160;&#160; Clark Gable in a pin-striped suit and a pink thong.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e435" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e435" class="standardlink">Example 242: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>What Not To Wear</b>&#160;&#160;&#160; A general-purpose clothing system that handles a variety of different clothing items layered in different combinations over different areas of the body.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e112" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e112" class="standardlink">Example 46: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Get Me to the Church on Time</b>&#160;&#160;&#160; Using kinds of clothing to prevent the player from wearing several pairs of trousers at the same time.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e85" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e85" class="standardlink">Example 234: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Bogart</b>&#160;&#160;&#160; Clothing for the player that layers, so that items cannot be taken off in the wrong order, and the player's inventory lists only the clothing that is currently visible.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§9.4. Money</p>
<p>Money could be anything which the two people in a bargain both agree is valuable. Here, the player and an ogre agree on a copper coin as money:</p>
<!-- START CODE "c13948" -->
<a id="c13948"></a><blockquote class="code"><p class="quoted">
The player carries a copper coin. The ogre carries a rock cake. The cake is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13949" -->
<a id="c13949"></a><blockquote class="code"><p class="quoted">
Instead of giving the coin to the ogre:
<br />&#160;&#160;&#160;&#160;now the ogre carries the coin;
<br />&#160;&#160;&#160;&#160;now the player carries the cake;
<br />&#160;&#160;&#160;&#160;say &quot;The ogre grunts and hands you a rock cake.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now Inform does provide an action, &quot;buying&quot;, and a command for it, BUY, but they ordinarily respond simply &quot;Nothing is on sale.&quot; This is no longer true, so we should make BUY CAKE work. The difficulty here is that a command like BUY CAKE does not specify what should be handed over in exchange. Here we just check that the player has the coin, but in principle we could check for any of a range of monetary tokens - coins, notes, cheque book, debit card, and so on.</p>
<!-- START CODE "c13950" -->
<a id="c13950"></a><blockquote class="code"><p class="quoted">
Instead of buying the cake:
<br />&#160;&#160;&#160;&#160;if the player has the coin, try giving the coin to the ogre;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You have no money.&quot;
</p></blockquote>
<!-- END CODE -->
<p>In more advanced economies, where shopping replaces barter, the seller will stock a wide range of differently priced goods. For a tabulated catalogue of wares, see <span class="boldface">Introduction to Juggling</span>: to allow the player to negotiate prices, see <span class="boldface">Money for Nothing</span>. In both of those examples, the player's current financial worth is simulated only as a current total amount of money carried - say, $2.50. This is typical, because in most situations what matters is how much money is in the pocket, not how it is made up. Money behaves more like a liquid than a set of items: hence terms like &quot;liquidity&quot;, &quot;cash flow&quot; or <span class="boldface">Frozen Assets</span> - the name of the simplest example demonstrating this. If we really need a comprehensive simulation down to pieces of currency - where it makes a difference carrying four quarters rather than a dollar bill, because the quarters can be fed into a vending machine - see <span class="boldface">Nickel and Dimed</span>.</p>
<p><span class="boldface">Fabrication</span> takes the problem in a different direction, making calculations about the cost of a new garment based on the price of the pattern, the quantity of fabric required, and the value of the fabric type chosen -- showing off what we can do with unit multiplication in Inform.</p>
<p><span class="boldface">Widget Enterprises</span> explores the challenge of pricing widgets for maximum profit, given certain necessary costs and customers with varying willingness to pay.</p>
<p class="crossreference"><a href="RB_6.html#s15" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Actions on Multiple Objects</b></a><i> for an implementation of giving that allows the player to offer multiple objects at once, where their combined value determines whether they are accepted</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s3" class="standardlink">Back to §9.3. Clothing</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s5" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s5" class="standardlink">Onward to §9.5. Dice and Playing Cards</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e437" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e437" class="standardlink">Example 263: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Widget Enterprises</b>&#160;&#160;&#160; Allowing the player to set a price for a widget on sale, then determining the resulting sales based on consumer demand, and the resulting profit and loss.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e67" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e67" class="standardlink">Example 264: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Frozen Assets</b>&#160;&#160;&#160; A treatment of money which keeps track of how much the player has on him, and a BUY command which lets him go shopping.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e20" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e20" class="standardlink">Example 265: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Money for Nothing</b>&#160;&#160;&#160; An OFFER price FOR command, allowing the player to bargain with a flexible seller.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e134" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e134" class="standardlink">Example 269: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Fabrication</b>&#160;&#160;&#160; A system of assembling clothing from a pattern and materials; both the pattern and the different fabrics have associated prices.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e382" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e382" class="standardlink">Example 262: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Nickel and Dimed</b>&#160;&#160;&#160; A more intricate system of money, this time keeping track of the individual denominations of coins and bills, specifying what gets spent at each transaction, and calculating appropriate change.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e207" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e207" class="standardlink">Example 283: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Introduction to Juggling</b>&#160;&#160;&#160; Assortment of equipment defined with price and description, in a table.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§9.5. Dice and Playing Cards</p>
<p>Most toys are single things, and no harder to create than any other small items, but games often require a multitude of tokens to be combined, and this can be logistically tricky.</p>
<p>The classic example is a pack of playing cards, where the player must individually control 52 items but without fussy commands or verbose text being printed back. <span class="boldface">Jokers Wild</span> provides a simple &quot;one card at a time&quot; approach; <span class="boldface">Tilt 1</span> is more sophisticated, with 52 independently accessible cards; <span class="boldface">Tilt 2</span> can further judge the value of a selection of cards - the ranking of a poker hand.</p>
<p>Drawing cards from a shuffled pack is only one source of randomness. Games of chance also involve items drawn from a bag: <span class="boldface">Wonka's Revenge</span> provides just such a lottery. More often, dice are thrown. A single die is easy enough:</p>
<!-- START CODE "c13951" -->
<a id="c13951"></a><blockquote class="code"><p class="quoted">
The die is carried by the player. After dropping the die: say &quot;It lands with [a random number from 1 to 6] uppermost.&quot; Understand &quot;roll [something]&quot; as dropping.
</p></blockquote>
<!-- END CODE -->
<p>Quick, but not very good. Most dice games involve rolling more than one die at a time, to get a more interesting distribution of outcomes: they may also involve special rules applying to doubles, for instance. See <span class="boldface">Do Pass Go</span>.</p>
<p class="crossreference"><a href="RB_12.html#s1" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Typography</b></a><i> for on-screen notations for chess and card games</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s4" class="standardlink">Back to §9.4. Money</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s6" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s6" class="standardlink">Onward to §9.6. Reading Matter</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e109" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e109" class="standardlink">Example 129: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Do Pass Go</b>&#160;&#160;&#160; A pair of dice which can be rolled, and are described with their current total when not carried, and have individual scores when examined.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e230" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e230" class="standardlink">Example 175: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Wonka's Revenge</b>&#160;&#160;&#160; A lottery drum which redistributes the tickets inside whenever the player spins it.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e206" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e206" class="standardlink">Example 275: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Jokers Wild</b>&#160;&#160;&#160; A deck of cards which can be shuffled and dealt from.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e383" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e383" class="standardlink">Example 318: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Tilt 1</b>&#160;&#160;&#160; A deck of cards with fully implemented individual cards, which can be separately drawn and discarded, and referred to by name.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e384" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e384" class="standardlink">Example 407: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Tilt 2</b>&#160;&#160;&#160; A deck of cards with fully implemented individual cards; when the player has a full poker hand, the inventory listing describes the resulting hand accordingly.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s6"></a>§9.6. Reading Matter</p>
<p>Many things can be read, from warning notices to encyclopaedias, and a range of techniques is needed to provide them because the quantity of text, and how it presents itself, can vary so much. With a small amount of very large type, the player should not need any command at all to read the text:</p>
<!-- START CODE "c13952" -->
<a id="c13952"></a><blockquote class="code"><p class="quoted">
The road sign is in the Junction. The road sign is fixed in place. &quot;A road sign points north: 'Weston on the Green - 6'.&quot;
</p></blockquote>
<!-- END CODE -->
<p>If the print is smaller, or the object portable, the player will expect to use the EXAMINE command:</p>
<!-- START CODE "c13953" -->
<a id="c13953"></a><blockquote class="code"><p class="quoted">
The business card is in the Junction. The description is &quot;'Peter de Sèvres: consultant mnemonicist.'&quot;
</p></blockquote>
<!-- END CODE -->
<p>But if the object is a leaflet, say, EXAMINE should only describe the cover: READ would be the command a player would expect to use to get at the text itself. Inform normally defines READ to be the same command as EXAMINE, which is good for things like the business card, but counter-productive here. <span class="boldface">The Trouble with Printing</span> shows how to separate these two commands, allowing any thing to have a property called its &quot;printing&quot; for text produced by READ, which will be different from its &quot;description&quot;, the text produced by EXAMINE.</p>
<p>If the object is a lengthy diary, say, nobody would read it from cover to cover in a single IF turn. We might then want to allow the player to turn the pages one by one, with commands like READ PAGE 4 IN DIARY or READ THE NEXT PAGE: see <span class="boldface">Pages</span>.</p>
<p>If the object is an encyclopaedic reference work, the player would consult named entries: see <span class="boldface">Costa Rican Ornithology</span>, which allows commands like LOOK UP QUETZAL IN GUIDE.</p>
<p>Still larger sources of text often occur in IF: libraries or bookshelves, where many books are found together, and it is clumsy to write them as many individual items. One approach is to simulate an entire bookshelf with a single thing: see <span class="boldface">Bibliophilia</span>. (This is much like looking up topics in a single book, except that each topic is a book in itself.) Another is to provide each book as an individual item, but have them automatically join together into a single portable collection: see <span class="boldface">AARP-Gnosis</span>.</p>
<p>Signs, leaflets and encyclopaedias, being printed, have a wording which will never change during play. But sometimes the player reads something which acts of its own accord. Text substitutions are usually all that is needed to achieve this:</p>
<!-- START CODE "c13954" -->
<a id="c13954"></a><blockquote class="code"><p class="quoted">
The computer display is on the desk. The description is &quot;Giant green digits read: [the time of day].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is easy because we know all the variations we want. But what if we want the player to write his own text, for instance, adding to a diary? This is trickier, because it means storing text as the player typed it, and replaying it later. (And suppose the player types reams and reams of text, not just a few words as we might have hoped?) <span class="boldface">The Fourth Body</span> and <span class="boldface">The Fifth Body</span> show how to use an external file - a multimedia trick requiring features only available if the project is set to the Glulx story file format - to handle even the most difficult cases.</p>
<p>Should we want a computer that responds to vocal commands, as in ASK COMPUTER ABOUT KLINGONS, the built-in extension Inanimate Listeners will allow the player to talk to inanimate objects as well as people.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s5" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s5" class="standardlink">Back to §9.5. Dice and Playing Cards</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s7" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s7" class="standardlink">Onward to §9.7. Painting and Labeling Devices</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e316" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e316" class="standardlink">Example 292: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Trouble with Printing</b>&#160;&#160;&#160; Making a READ command, distinct from EXAMINE, for legible objects.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e269" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e269" class="standardlink">Example 303: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Pages</b>&#160;&#160;&#160; A book with pages that can be read by number (as in "read page 3 in...") and which accepts relative page references as well (such as "read the last page of...", "read the next page", and so on).</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e157" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e157" class="standardlink">Example 443: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Fourth Body</b>&#160;&#160;&#160; Notebooks in which the player can record assorted notes throughout play.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e32" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e32" class="standardlink">Example 324: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Bibliophilia</b>&#160;&#160;&#160; A bookshelf with a number of books, where the player's command to examine something will be interpreted as an attempt to look up titles if the bookshelf is present, but otherwise given the usual response.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e121" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e121" class="standardlink">Example 335: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>AARP-Gnosis</b>&#160;&#160;&#160; An Encyclopedia set which treats volumes in the same place as a single object, but can also be split up.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e142" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e142" class="standardlink">Example 444: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Fifth Body</b>&#160;&#160;&#160; An expansion on the notebook, allowing the player somewhat more room in which to type his recorded remark.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e94" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e94" class="standardlink">Example 94: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Costa Rican Ornithology</b>&#160;&#160;&#160; A fully-implemented book, answering questions from a table of data, and responding to failed consultation with a custom message such as "You flip through the Guide to Central American Birds, but find no reference to penguins."</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s7"></a>§9.7. Painting and Labeling Devices</p>
<p>Writing on something is only one way a player can change its visual appearance. IF authors have long been wary of paint brushes, because a sufficiently motivated player could go through a whole landscape like a graffiti artist with a railway bridge. We want to give the player the illusion of freedom of action, while avoiding a situation where unlimited numbers of different decorations might be needed - that would need a table of potentially unlimited size.</p>
<p>One approach is to limit the number of items which can be decorated. In <span class="boldface">Palette</span>, only the canvas can be painted, and each image overlays the last. <span class="boldface">Early Childhood</span> increases the range to allow a whole kind (&quot;block&quot;) to be painted, and also shows how the changing colours can be used to distinguish between otherwise identical objects.</p>
<p><span class="boldface">Brown</span> finds a different way to limit the number of simultaneous decorations: almost anything can have a red sticky label attached, but there is only one red sticky label. (So to decorate a new item, the player must first un-decorate an old one.)</p>
<p class="crossreference"><a href="RB_10.html#s7" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Electricity and Magnetism</b></a><i> for another form of stickiness</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s6" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s6" class="standardlink">Back to §9.6. Reading Matter</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s8" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s8" class="standardlink">Onward to §9.8. Simple Machines</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e282" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e282" class="standardlink">Example 308: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Palette</b>&#160;&#160;&#160; An artist's workshop in which the canvas can be painted in any colour, and where painterly names for pigments ("cerulean") are accepted alongside everyday ones ("blue").</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e318" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e318" class="standardlink">Example 36: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Brown</b>&#160;&#160;&#160; A red sticky label which can be attached to anything in the game, or removed again.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e41" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e41" class="standardlink">Example 55: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Early Childhood</b>&#160;&#160;&#160; A child's set of building blocks, which come in three different colours - red, green and blue - but which can be repainted during play.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s8"></a>§9.8. Simple Machines</p>
<p>The &quot;device&quot; kind provides for the simplest form of machine: one which is, at any given moment, switched on or switched off. Inform looks after this state, but leaves it to us to make the machine actually do something:</p>
<!-- START CODE "c13955" -->
<a id="c13955"></a><blockquote class="code"><p class="quoted">
The air-conditioning unit is a device in the Florist's Shop. The air-conditioning is fixed in place and switched on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13956" -->
<a id="c13956"></a><blockquote class="code"><p class="quoted">
Every turn when the location is the Florist's Shop:
<br />&#160;&#160;&#160;&#160;if the air-conditioning is switched off, say &quot;You worry about the cut flowers in this jungle-hot air.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;There is an low susurration from the air-conditioning unit.&quot;
</p></blockquote>
<!-- END CODE -->
<p>One primary dictionary definition for a machine is &quot;an apparatus using or applying mechanical power and having several parts&quot;, and we often use the &quot;part of&quot; relationship to build machinery. <span class="boldface">Control Center</span> provides a neat way to display the component parts of a machine to the player who examines it.</p>
<p>One component almost always part of an electrical machine is the (literal) switch, lever or button to control whether it is switched on or off. In <span class="boldface">Model Shop</span> just such an on/off button is automatically made part of every device.</p>
<p>While an electrical device has only two states, a mechanical machine might have many, and for these the best approach is to define a kind of value naming the possibilities: see <span class="boldface">Signs and Portents</span>, where the states are the possible destinations pointed towards.</p>
<p>Perhaps stretching the definition of &quot;machine&quot;, <span class="boldface">What Makes You Tick</span> demonstrates a fishing pole which the player can put together from several pieces.</p>
<p class="crossreference"><a href="RB_9.html#s2" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Bags, Bottles, Boxes and Safes</b></a><i> for a safe that can be dialed to different combinations</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s7" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s7" class="standardlink">Back to §9.7. Painting and Labeling Devices</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s9" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s9" class="standardlink">Onward to §9.9. Televisions and Radios</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e343" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e343" class="standardlink">Example 61: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Control Center</b>&#160;&#160;&#160; Objects which automatically include a description of their component parts whenever they are examined.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e434" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e434" class="standardlink">Example 427: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>What Makes You Tick</b>&#160;&#160;&#160; Building a fishing pole from several component parts that the player might put together in any order.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e90" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e90" class="standardlink">Example 57: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Model Shop</b>&#160;&#160;&#160; An "on/off button" which controls whatever device it is part of.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e433" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e433" class="standardlink">Example 53: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Signs and Portents</b>&#160;&#160;&#160; Signpost that points to various destinations, depending on how the player has turned it.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s9"></a>§9.9. Televisions and Radios</p>
<p>IF authors often provide clues or background information to the player by means of radio broadcasts, TV shows or video tapes because they can talk to the player without needing to listen back, or to react to what the player does. The simplest radio set, like the one in <span class="boldface">Aftershock</span>, really only has one thing to say: which is serendipitously being broadcast just at the moment the player tunes in (regardless of when that is). The next simplest approach is to spool a broadcast on an endless loop taking several turns to play through, as in <span class="boldface">Radio Daze</span>.</p>
<p>Televisions come in all shapes and sizes, and <span class="boldface">Aspect</span> allows their shape (&quot;aspect ratio&quot;) to be described by the player.</p>
<p>In <span class="boldface">Channel 1</span>, we can also refer to the television by what it is currently showing: thus WATCH CHANNEL 4 will work if the set is indeed tuned to 4. In <span class="boldface">Channel 2</span>, numbered channel changing is taken further: we can now TUNE TV TO CHANNEL 3, as well. <span class="boldface">Channel 2</span> is a reasonable base implementation of a television for many purposes.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s8" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s8" class="standardlink">Back to §9.8. Simple Machines</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s10" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s10" class="standardlink">Onward to §9.10. Telephones</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e313" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e313" class="standardlink">Example 66: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Radio Daze</b>&#160;&#160;&#160; A radio that produces a cycle of output using varying text.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e16" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e16" class="standardlink">Example 311: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Aspect</b>&#160;&#160;&#160; Understanding aspect ratios (a unit) in the names of televisions.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e72" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e72" class="standardlink">Example 313: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Channel 1</b>&#160;&#160;&#160; Understanding channels (a number) in the names of televisions.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e73" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e73" class="standardlink">Example 316: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Channel 2</b>&#160;&#160;&#160; Understanding channels (a number) in the names of televisions, with more sophisticated parsing of the change channel action.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e2" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e2" class="standardlink">Example 336: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Aftershock</b>&#160;&#160;&#160; Modifying the rules for examining a device so that all devices have some specific behavior when switched on, which is described at various times.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s10"></a>§9.10. Telephones</p>
<p>Telephones are much harder to achieve than televisions and in some ways as difficult to make convincing as a human character is - though of course there are corners which can be cut: we could have the reception drop off, or the other party hang up in a misunderstanding, and so on.</p>
<p>A single telephone line is tricky enough to provide that one might just as well have a general solution providing a whole network. <span class="boldface">Four Cheeses</span> demonstrates a system where we can dial either people or numbers: CALL JANET ON TELEPHONE, or CALL 7103, for instance.</p>
<p>While <span class="boldface">Four Cheeses</span> provides only four-digit phone numbers, like internal company extensions, <span class="boldface">Alias</span> shows how to manage US-style seven digit numbers.</p>
<p>Finally, we might occasionally want the player to be able to address a microphone or telephone receiver directly when the identity of the person on the other end is unknown, in the form TELL MICROPHONE ABOUT CRIME. Ordinarily Inform will disallow this because we're not allowed to talk to inanimate objects, but the extension Inanimate Listeners provides more options.</p>
<p class="crossreference"><a href="RB_7.html#s8" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Saying Complicated Things</b></a><i> for more approaches to conversation</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s9" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s9" class="standardlink">Back to §9.9. Televisions and Radios</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s11" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s11" class="standardlink">Onward to §9.11. Clocks and Scientific Instruments</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e376" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e376" class="standardlink">Example 226: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Four Cheeses</b>&#160;&#160;&#160; A system of telephones on which the player can call distant persons and have conversations.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e4" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e4" class="standardlink">Example 253: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Alias</b>&#160;&#160;&#160; A telephone with phone numbers of the standard American seven-digit length.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s11"></a>§9.11. Clocks and Scientific Instruments</p>
<p>The simplest form of clock is a wrist watch. Here is a choice of analogue or digital:</p>
<!-- START CODE "c13957" -->
<a id="c13957"></a><blockquote class="code"><p class="quoted">
The player wears a wrist watch. The description of the wrist watch is &quot;It is [the time of day in words].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13958" -->
<a id="c13958"></a><blockquote class="code"><p class="quoted">
The player wears a digital watch. The description of the digital watch is &quot;It is [the time of day].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Better clocks would allow us also to set the time, and to stop and start them: see <span class="boldface">Tom's Midnight Garden</span>.</p>
<p>Scientific instruments provide sharper versions of our own senses. In the case of vision, they allow us to see closer up, or further away. It's a convention of IF that people can normally see only the current location, that is, they cannot see from one location into another. The boundary of the current room is like a horizon, even out of doors (though it's true that there are ways to disguise that with a continuous outdoor landscape). <span class="boldface">Ginger Beer</span> provides a telescope able to see into other rooms.</p>
<p><span class="boldface">Witnessed 2</span> provides a meter which measures how close a ghost is to the player.</p>
<p class="crossreference"><a href="RB_3.html#s4" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Continuous Spaces and The Outdoors</b></a><i> for more on seeing into adjacent locations</i></p><p class="crossreference"><a href="RB_10.html#s9" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Heat</b></a><i> for infrared goggles</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s10" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s10" class="standardlink">Back to §9.10. Telephones</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s12" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_9.html#s12" class="standardlink">Onward to §9.12. Cameras and Recording Devices</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e440" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e440" class="standardlink">Example 180: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Witnessed 2</b>&#160;&#160;&#160; A piece of ghost-hunting equipment that responds depending on whether or not the meter is on and a ghost is visible or touchable from the current location.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e386" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e386" class="standardlink">Example 299: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Tom's Midnight Garden</b>&#160;&#160;&#160; A clock kind that can be set to any time using "the time understood"; may be turned on and off; and will advance itself only when running. Time on the face is also reported differently depending on whether the clock is analog or digital.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e26" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e26" class="standardlink">Example 365: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ginger Beer</b>&#160;&#160;&#160; A portable magic telescope which allows the player to view items in another room of his choice.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s12"></a>§9.12. Cameras and Recording Devices</p>
<p>Recording what is going on, for later playing back or examination, is difficult because the range of situations is very complex. Exactly how much information should we store when we make a recording, and will this require problematically large tables? Will it be difficult even to do at all?</p>
<p>The usual approach is to record only basic details of events or situations. In <span class="boldface">If It Hadn't Been For...</span> the tape recorder preserves only a few different sounds - footsteps, creaking, rustling - rather than capturing exactly the sound of every action taking place in earshot. In <span class="boldface">Claims Adjustment</span>, we can take up to 36 Polaroid-style photographs, but each is described only by saying what it is a photo of. Thus we can have a photograph of a vase, or even a photograph of a photograph of a vase (because that too is a thing), but not a photograph of a still life in which several items have been gathered together by the player. That would ordinarily require too much storage.</p>
<p>A similar trick, though involving impromptu sculpture rather than photography, can be found in <span class="boldface">Originals</span>. (The artist magically &quot;manifests&quot; these models rather than sculpting the conventional way in order to avoid the nuisance of carrying around raw materials - wax maquettes and so forth - which would clutter up the example.)</p>
<p>Text, of course, can store arbitrary descriptions. <span class="boldface">Mirror, Mirror</span> provides a perfect visual recorder: it remembers a room description exactly as the player saw it at the time.</p>
<p><span class="boldface">Actor's Studio</span> provides a video camera that records and time stamps all actions performed in its presence while it is set to record.</p>
<p class="crossreference"><a href="RB_9.html#s10" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Telephones</b></a><i> for ways to speak to inanimate objects, which might be appropriate when, say, tape-recording a confession</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#s11" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_9.html#s11" class="standardlink">Back to §9.11. Clocks and Scientific Instruments</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html#s1" class="standardlink">Onward to Chapter 10: Physics: Substances, Ropes, Energy and Weight: §10.1. Gases</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e340" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e340" class="standardlink">Example 273: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>If It Hadn't Been For...</b>&#160;&#160;&#160; A sound recording device that records the noises made by player and non-player actions, then plays them back on demand.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e277" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e277" class="standardlink">Example 369: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Originals</b>&#160;&#160;&#160; Allowing the player to create models of anything in the game world; parsing the name "model [thing]" or even just "[thing]" to refer to these newly-created models; asking "which do you mean, the model [thing] or the actual [thing]" when there is ambiguity.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e250" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e250" class="standardlink">Example 417: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Mirror, Mirror</b>&#160;&#160;&#160; The sorcerer's mirror can, when held up high, form an impression of its surroundings which it then preserves.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e1" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e1" class="standardlink">Example 221: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Actor's Studio</b>&#160;&#160;&#160; A video camera that records actions performed in its presence, and plays them back with time-stamps.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9.html#e82" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_9.html#e82" class="standardlink">Example 322: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Claims Adjustment</b>&#160;&#160;&#160; An instant camera that spits out photographs of anything the player chooses to take a picture of.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_9.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_10.html" class="standardlink">Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "48: Would you...?" "e178" -->
<a id="e178"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e178" class="eglink"><b>48</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e178" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Would you...?</span></b></a><br />Adding new properties to objects, and checking for their presence.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_4.html#e178"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example178">
<p>For instance, if we want to give some objects a flavor:</p>
<!-- START CODE "c13959_178" -->
<a id="c13959_178"></a><blockquote class="code"><p class="quoted">
&quot;Would you...?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13960_178" -->
<a id="c13960_178"></a><blockquote class="code"><p class="quoted">
The House is a room. The mouse is an animal in the House.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13961_178" -->
<a id="c13961_178"></a><blockquote class="code"><p class="quoted">
The player carries some green eggs and a ham.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13962_178" -->
<a id="c13962_178"></a><blockquote class="code"><p class="quoted">
A food is a kind of thing that is edible. Food has some text called flavor. The flavor of food is usually &quot;Tolerable.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Things are, in general, not edible by default, so we have to make them edible specifically in order to allow them to be eaten by the player. Here we've defined food to be edible by default, and we have given it a standard piece of flavor text.</p>
<!-- START CODE "c13963_178" -->
<a id="c13963_178"></a><blockquote class="code"><p class="quoted">
The ham and the green eggs are food. The flavor of the green eggs is &quot;Delicious!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13964_178" -->
<a id="c13964_178"></a><blockquote class="code"><p class="quoted">
After eating something:
<br />&#160;&#160;&#160;&#160;if the noun provides the property flavor, say &quot;[the flavor of the noun][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;It's [noun]-flavored.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that we use &quot;if the noun provides a flavor...&quot; to make sure that the property exists before attempting to use it. Otherwise, there is the risk that we will try to print a property that does not exist, resulting in errors in the game.</p>
<p>We will only get the &quot;It's [noun]-flavored.&quot; response if we successfully eat something that is not a food and does not have flavor text. To test this feature, let's suppose something that isn't exactly food but can theoretically be chewed on:</p>
<!-- START CODE "c13965_178" -->
<a id="c13965_178"></a><blockquote class="code"><p class="quoted">
The player carries some paper. The paper is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13966_178" -->
<a id="c13966_178"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat ham / eat green eggs / eat paper&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "133: Candy" "e62" -->
<a id="e62"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e62" class="eglink"><b>133</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e62" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Candy</span></b></a><br />One of several identical candies chosen at the start of play to be poisonous.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e62"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example62">
<p>Suppose we want to give the player a bag of candies, of which a random one is poisonous. We can pick which one should be poisoned at the start of play, like this:</p>
<!-- START CODE "c13967_62" -->
<a id="c13967_62"></a><blockquote class="code"><p class="quoted">
&quot;Candy&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13968_62" -->
<a id="c13968_62"></a><blockquote class="code"><p class="quoted">
The plural of piece of candy is pieces of candy. A piece of candy is a kind of thing. A piece of candy is always edible. Four pieces of candy are in the Halloween bag.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13969_62" -->
<a id="c13969_62"></a><blockquote class="code"><p class="quoted">
Toxicity is a kind of value. The toxicities are safe and poisonous. A piece of candy has a toxicity. A piece of candy is usually safe.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13970_62" -->
<a id="c13970_62"></a><blockquote class="code"><p class="quoted">
The Porch is a room. The player carries the Halloween bag.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13971_62" -->
<a id="c13971_62"></a><blockquote class="code"><p class="quoted">
After eating a poisonous piece of candy:
<br />&#160;&#160;&#160;&#160;say &quot;Oh, that didn't taste right at all. Oh well!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13972_62" -->
<a id="c13972_62"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now a random piece of candy is poisonous.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13973_62" -->
<a id="c13973_62"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat candy / g / g / g&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "143: MRE" "e254" -->
<a id="e254"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e254" class="eglink"><b>143</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e254" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">MRE</span></b></a><br />Hunger that eventually kills the player, and foodstuffs that can delay the inevitable by different amounts of time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_9.html#e254"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example254">
<p>Many older interactive fiction games required the player to find food and eat on a regular basis in order to avoid death. This effect was often unrealistic (since most people can survive much longer than a few hours without eating) and is often seen as an annoyance. However, for the sake of argument, suppose that we do want to construct a hunger-and-death system.</p>
<p>To make things a little more interesting, we will postulate that different foods are differently filling, so that if the player manages to find something really caloric, he is off the hook on his hunger search for a while.</p>
<p>We will also implement the system so that the player gets messages when he is hungry, then dies a short time later. (The times involved are ludicrously short, but this allows us to see the effects within a simple example. In a real game we would want to allow a considerably longer timer for the hunger to play out.)</p>
<p>First, a little scene-setting:</p>
<!-- START CODE "c13974_254" -->
<a id="c13974_254"></a><blockquote class="code"><p class="quoted">
&quot;MRE&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13975_254" -->
<a id="c13975_254"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13976_254" -->
<a id="c13976_254"></a><blockquote class="code"><p class="quoted">
They were wrong.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13977_254" -->
<a id="c13977_254"></a><blockquote class="code"><p class="quoted">
The Base Camp Larder is a room. &quot;This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you're inside now.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:</p>
<!-- START CODE "c13978_254" -->
<a id="c13978_254"></a><blockquote class="code"><p class="quoted">
Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13979_254" -->
<a id="c13979_254"></a><blockquote class="code"><p class="quoted">
A person can be hungry or replete. The player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13980_254" -->
<a id="c13980_254"></a><blockquote class="code"><p class="quoted">
The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13981_254" -->
<a id="c13981_254"></a><blockquote class="code"><p class="quoted">
Check eating something which is not food:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] might be edible, but it's not what you'd consider really food.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13982_254" -->
<a id="c13982_254"></a><blockquote class="code"><p class="quoted">
Check eating something when the player is not hungry:
<br />&#160;&#160;&#160;&#160;say &quot;You're not hungry right now.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13983_254" -->
<a id="c13983_254"></a><blockquote class="code"><p class="quoted">
Carry out eating something:
<br />&#160;&#160;&#160;&#160;now the player is replete;
<br />&#160;&#160;&#160;&#160;hunger resumes in the satisfaction period of the noun from now.
</p></blockquote>
<!-- END CODE -->
<p>The first of those two phrases, &quot;now the player is replete&quot;, causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:</p>
<!-- START CODE "c13984_254" -->
<a id="c13984_254"></a><blockquote class="code"><p class="quoted">
At the time when hunger resumes:
<br />&#160;&#160;&#160;&#160;starvation occurs in three minutes from now;
<br />&#160;&#160;&#160;&#160;now the player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13985_254" -->
<a id="c13985_254"></a><blockquote class="code"><p class="quoted">
At the time when starvation occurs:
<br />&#160;&#160;&#160;&#160;if the player is hungry, end the story saying &quot;You have starved&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note &quot;if the player is hungry&quot;: it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.</p>
<p>And now, since we really ought to give the player some warning of what is happening to him:</p>
<!-- START CODE "c13986_254" -->
<a id="c13986_254"></a><blockquote class="code"><p class="quoted">
Every turn when the player is hungry:
<br />&#160;&#160;&#160;&#160;choose a random row in the Table of Hunger Complaints;
<br />&#160;&#160;&#160;&#160;say &quot;[hunger entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13987_254" -->
<a id="c13987_254"></a><blockquote class="code"><p class="quoted">
Table of Hunger Complaints
<br />hunger
<br />&quot;Gosh, you're starving.&quot;
<br />&quot;It feels as though you haven't eaten in days. Weeks, almost.&quot;
<br />&quot;The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs.&quot;
<br />&quot;You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13988_254" -->
<a id="c13988_254"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "391: Stone" "e363" -->
<a id="e363"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e363" class="eglink"><b>391</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e363" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Stone</span></b></a><br />A soup to which the player can add ingredients, which will have different effects when the player eats.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_19.html#e363"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example363">
<p>A thing can have a rule as a property, if we like. Here we are going to allow the player to make a soup whose effects will depend on its ingredients. Each ingredient will have its own &quot;food effect&quot; rule, to be followed when the food is eaten.</p>
<p>Note that there are other, slightly less cumbersome ways to do the same thing -- we will see in the chapter on Rulebooks that we could make a &quot;food effects rulebook&quot; and then write a number of rules such as &quot;food effects rule for carrots&quot; or &quot;food effects rule for the stone&quot;. Nonetheless, we demonstrate rules-as-properties here for the sake of thoroughness.</p>
<p>So:</p>
<!-- START CODE "c13989_363" -->
<a id="c13989_363"></a><blockquote class="code"><p class="quoted">
&quot;Stone&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13990_363" -->
<a id="c13990_363"></a><blockquote class="code"><p class="quoted">
A food is a kind of thing that is edible. A food has a rule called the food effect.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13991_363" -->
<a id="c13991_363"></a><blockquote class="code"><p class="quoted">
Carry out eating a food:
<br />&#160;&#160;&#160;&#160;if a food is part of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through things which are part of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if item is a food, follow the food effect of the item;
<br />&#160;&#160;&#160;&#160;follow the food effect of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13992_363" -->
<a id="c13992_363"></a><blockquote class="code"><p class="quoted">
Report eating a food:
<br />&#160;&#160;&#160;&#160;say &quot;You eat [the noun]. [diagnosis of the player]&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13993_363" -->
<a id="c13993_363"></a><blockquote class="code"><p class="quoted">
To say diagnosis of (victim - a person):
<br />&#160;&#160;&#160;&#160;if the victim is ill:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are ill.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are healthy. &quot;;
<br />&#160;&#160;&#160;&#160;if the victim is awake, say &quot;You are wide awake. &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You are sleepy. &quot;;
<br />&#160;&#160;&#160;&#160;if the victim is bright-eyed, say &quot;Your eyesight is clear. &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Your eyesight is dim. &quot;;
<br />&#160;&#160;&#160;&#160;if the victim is weak, say &quot;You are weak. &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You are strong. &quot;;
<br />&#160;&#160;&#160;&#160;if the victim is hungry, say &quot;You are hungry.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You are well-fed.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now to provide some particular foods:</p>
<!-- START CODE "c13994_363" -->
<a id="c13994_363"></a><blockquote class="code"><p class="quoted">
Some carrots are a food. The food effect of carrots is the bright-eye rule. This is the bright-eye rule: now the player is bright-eyed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13995_363" -->
<a id="c13995_363"></a><blockquote class="code"><p class="quoted">
Some potatoes are a food. The food effect of the potatoes is the sleepiness rule. This is the sleepiness rule: now the player is sleepy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13996_363" -->
<a id="c13996_363"></a><blockquote class="code"><p class="quoted">
The broth is a food. The indefinite article of the broth is &quot;some&quot;. The food effect of broth is the filling rule. This is the filling rule: now the player is full.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13997_363" -->
<a id="c13997_363"></a><blockquote class="code"><p class="quoted">
The hambone is a food. The food effect of the hambone is the heartiness rule. This is the heartiness rule: now the player is strong. Instead of eating the hambone: say &quot;You cannot just eat a bone!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13998_363" -->
<a id="c13998_363"></a><blockquote class="code"><p class="quoted">
The poison ivy is a food. &quot;Poison ivy grows nearby.&quot; The food effect of poison is the illness rule. This is the illness rule: now the player is ill.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13999_363" -->
<a id="c13999_363"></a><blockquote class="code"><p class="quoted">
A person can be bright-eyed or blind. The player is blind.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14000_363" -->
<a id="c14000_363"></a><blockquote class="code"><p class="quoted">
A person can be well or ill. The player is well.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14001_363" -->
<a id="c14001_363"></a><blockquote class="code"><p class="quoted">
A person can be hungry or full. The player is full.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14002_363" -->
<a id="c14002_363"></a><blockquote class="code"><p class="quoted">
A person can be strong or weak. The player is weak.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14003_363" -->
<a id="c14003_363"></a><blockquote class="code"><p class="quoted">
A person can be awake or sleepy. The player is sleepy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14004_363" -->
<a id="c14004_363"></a><blockquote class="code"><p class="quoted">
The broth is in the kettle. The kettle is on the fire. The fire is in the Clearing. The Clearing is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14005_363" -->
<a id="c14005_363"></a><blockquote class="code"><p class="quoted">
The player carries the hambone, the potatoes, and the carrots. The ivy is in the clearing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14006_363" -->
<a id="c14006_363"></a><blockquote class="code"><p class="quoted">
Instead of examining the broth:
<br />&#160;&#160;&#160;&#160;if something is part of the broth, say &quot;In the broth, [a list of things that are part of the broth] float[if exactly one thing is part of the broth]s[end if].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;It is just a thin broth with no other ingredients.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14007_363" -->
<a id="c14007_363"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into the broth: try inserting the noun into the holder of the broth.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14008_363" -->
<a id="c14008_363"></a><blockquote class="code"><p class="quoted">
Instead of taking the broth: say &quot;You cannot take the broth in your bare hands.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And the following is a relatively unimportant nicety:</p>
<!-- START CODE "c14009_363" -->
<a id="c14009_363"></a><blockquote class="code"><p class="quoted">
To sink is a verb.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14010_363" -->
<a id="c14010_363"></a><blockquote class="code"><p class="quoted">
After inserting a food which is not the broth into a container which contains the broth:
<br />&#160;&#160;&#160;&#160;now the noun is part of the broth;
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] [sink] into [the second noun], making the broth richer.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14011_363" -->
<a id="c14011_363"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x broth / eat hambone / put hambone in kettle / x broth / put potatoes in broth / x broth / eat carrots / eat broth / put ivy in kettle / eat ivy&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "196: Delicious, Delicious Rocks" "e103" -->
<a id="e103"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e103" class="eglink"><b>196</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e103" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Delicious, Delicious Rocks</span></b></a><br />Adding a "sanity-check" stage to decide whether an action makes any sense, which occurs before any before rules, implicit taking, or check rules.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e103"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example103">
<p>In some cases, we may want to add new stages to action processing. One possibility is a stage where we check the sanity of what the player is trying to do before executing any of the other commands; so that we avoid, for instance</p>
<!-- START CODE "c14012_103" -->
<a id="c14012_103"></a><blockquote class="code"><p class="quoted">
&gt;EAT ROCK
<br />(first taking the rock)
<br />That's plainly inedible.
</p></blockquote>
<!-- END CODE -->
<p>Here is how we might insert such a stage in our action processing, using rulebook manipulation.</p>
<!-- START CODE "c14013_103" -->
<a id="c14013_103"></a><blockquote class="code"><p class="quoted">
 &quot;Delicious, Delicious Rocks&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14014_103" -->
<a id="c14014_103"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14015_103" -->
<a id="c14015_103"></a><blockquote class="code"><p class="quoted">
The sanity-check rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14016_103" -->
<a id="c14016_103"></a><blockquote class="code"><p class="quoted">
This is the sanity-check stage rule:
<br />&#160;&#160;&#160;&#160;abide by the sanity-check rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14017_103" -->
<a id="c14017_103"></a><blockquote class="code"><p class="quoted">
The sanity-check stage rule is listed after the before stage rule  in the action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14018_103" -->
<a id="c14018_103"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14019_103" -->
<a id="c14019_103"></a><blockquote class="code"><p class="quoted">
Candyland is a room. The lollipop tree is an edible thing in Candyland. The genuine rock is a thing in Candyland.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14020_103" -->
<a id="c14020_103"></a><blockquote class="code"><p class="quoted">
Sanity-check eating an inedible thing:
<br />&#160;&#160;&#160;&#160;say &quot;Your digestion is so delicate -- you're sure [the noun] wouldn't agree with you.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14021_103" -->
<a id="c14021_103"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat lollipop / eat rock&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that now Inform does not try taking the rock before rejecting the player's attempt to eat it.</p>
<p>It is of course possible to get the same effect with</p>
<!-- START CODE "c14022_103" -->
<a id="c14022_103"></a><blockquote class="code"><p class="quoted">
Before eating an inedible thing:
<br />&#160;&#160;&#160;&#160;say &quot;Your digestion is so delicate -- you're sure [the noun] wouldn't agree with you.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>...and in a small game with few rules, there's not much reason to add an extra stage. The ability to modify the stages of action processing becomes useful when we have a fairly large game with sophisticated modeling and want to be sure that some kinds of message (such as the sanity-check) are always handled before other things that we might be doing at the before stage (such as generating implicit actions like opening doors before going through them).</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "298: Safety" "e336" -->
<a id="e336"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e336" class="eglink"><b>298</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e336" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Safety</span></b></a><br />A safe whose dial can be turned with SPIN SAFE TO 1131, and which will open only with the correct combination.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e336"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example336">
<!-- START CODE "c14023_336" -->
<a id="c14023_336"></a><blockquote class="code"><p class="quoted">
&quot;Safety&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14024_336" -->
<a id="c14024_336"></a><blockquote class="code"><p class="quoted">
The Vault is a room. &quot;Snug yet paranoid, this represents the state of the art in cheerless security.&quot; The Safe is here. &quot;A mammoth safe, with a dial which can spin to any number, has pride of place. It must weigh about the same as a small car, so don't get any ideas.&quot; Instead of opening the safe, say &quot;The safe opens only when turned to the correct combination.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14025_336" -->
<a id="c14025_336"></a><blockquote class="code"><p class="quoted">
In the Safe is a silver florin. The Safe is closed and fixed in place. Understand &quot;dial&quot; as the Safe.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14026_336" -->
<a id="c14026_336"></a><blockquote class="code"><p class="quoted">
Spinning it to is an action applying to one thing and one number. Check spinning it to: if the noun is not the Safe, say &quot;[The noun] does not spin.&quot; instead. Report spinning it to: say &quot;Click! and nothing else happens.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14027_336" -->
<a id="c14027_336"></a><blockquote class="code"><p class="quoted">
Understand &quot;spin [something] to [a number]&quot; as spinning it to.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14028_336" -->
<a id="c14028_336"></a><blockquote class="code"><p class="quoted">
After spinning the closed Safe to 1384: now the Safe is open; say &quot;Clonk! and the safe door swings slowly open, revealing [a list of things in the Safe].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14029_336" -->
<a id="c14029_336"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open safe / spin safe to 1131 / open safe / spin safe to 1384 / x safe / get florin&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "319: Cinco" "e79" -->
<a id="e79"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e79" class="eglink"><b>319</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e79" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Cinco</span></b></a><br />A taco shell that can be referred to (when it contains things) in terms of its contents.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e79"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example79">
<p>It's fairly common that we want to be able to refer to a container in terms of what it has in it: a bottle of wine, a salt shaker, a chicken sandwich. The player is free to remove the contents again, and the object will go back to using its usual name:</p>
<!-- START CODE "c14030_79" -->
<a id="c14030_79"></a><blockquote class="code"><p class="quoted">
&quot;Cinco&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14031_79" -->
<a id="c14031_79"></a><blockquote class="code"><p class="quoted">
Cinco de Mayo Fundraiser is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14032_79" -->
<a id="c14032_79"></a><blockquote class="code"><p class="quoted">
The taco shell is an edible thing in the Fundraiser. It is a portable container. It has carrying capacity 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14033_79" -->
<a id="c14033_79"></a><blockquote class="code"><p class="quoted">
Understand &quot;[something related by containment] taco&quot; as the taco.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14034_79" -->
<a id="c14034_79"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the taco shell while not inserting or removing:
<br />&#160;&#160;&#160;&#160;if the taco contains something (called filling), say &quot;[filling] taco&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;taco shell&quot;;
<br />&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14035_79" -->
<a id="c14035_79"></a><blockquote class="code"><p class="quoted">
The player carries shredded beef. It is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14036_79" -->
<a id="c14036_79"></a><blockquote class="code"><p class="quoted">
The taking action has an object called source (matched as &quot;from&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14037_79" -->
<a id="c14037_79"></a><blockquote class="code"><p class="quoted">
Setting action variables for taking:
<br />&#160;&#160;&#160;&#160;now source is the holder of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14038_79" -->
<a id="c14038_79"></a><blockquote class="code"><p class="quoted">
Report taking something from the taco shell:
<br />&#160;&#160;&#160;&#160;say &quot;You gingerly pick [the noun] out of the taco shell.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14039_79" -->
<a id="c14039_79"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x taco / put shredded beef in taco / get taco / i / x shredded beef taco / get shredded beef / x shredded beef taco&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "339: Shipping Trunk" "e351" -->
<a id="e351"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e351" class="eglink"><b>339</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e351" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Shipping Trunk</span></b></a><br />A box of baking soda whose name changes to "completely ineffective baking soda" when it is in a container with something that smells funny.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e351"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example351">
<p>First to lay some groundwork:</p>
<!-- START CODE "c14040_351" -->
<a id="c14040_351"></a><blockquote class="code"><p class="quoted">
&quot;Shipping Trunk&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14041_351" -->
<a id="c14041_351"></a><blockquote class="code"><p class="quoted">
A chest is a kind of container. A chest is always openable. A lid is a kind of supporter. A lid is part of every chest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14042_351" -->
<a id="c14042_351"></a><blockquote class="code"><p class="quoted">
Before opening a chest when something (called the obstruction) is on a lid which is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;Better remove [the obstruction].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14043_351" -->
<a id="c14043_351"></a><blockquote class="code"><p class="quoted">
A thing can be innocent or smelly.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14044_351" -->
<a id="c14044_351"></a><blockquote class="code"><p class="quoted">
The Storage Unit is a room. The shipping trunk is a closed chest in the Storage Unit. The trunk contains some garlic, a loaf of moldy sourdough, a mildewy bathtowel, a pair of unwashed socks, two dead trout, and a box of baking powder. The garlic, trout, sourdough, bathtowel, and socks are smelly. The baking powder is innocent.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14045_351" -->
<a id="c14045_351"></a><blockquote class="code"><p class="quoted">
The shipping trunk's lid supports a small card. The description of the small card is &quot;'Please, please do not open this trunk.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14046_351" -->
<a id="c14046_351"></a><blockquote class="code"><p class="quoted">
After opening the trunk:
<br />&#160;&#160;&#160;&#160;if the trunk had been open:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You steel yourself...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There roils up from inside an indescribable funk, which, when you can see straight, you have no trouble attributing to the presence of [a list of smelly things in the trunk]. You also note [a list of innocent things in the trunk] in the corner.&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And now, with that preparation:</p>
<!-- START CODE "c14047_351" -->
<a id="c14047_351"></a><blockquote class="code"><p class="quoted">
Before printing the name of the baking powder when the powder is in a container which contains a smelly thing: say &quot;completely ineffective &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14048_351" -->
<a id="c14048_351"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open trunk / examine card / get card / open trunk / get powder / inventory&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "344: Unpeeled" "e275" -->
<a id="e275"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e275" class="eglink"><b>344</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e275" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Unpeeled</span></b></a><br />Calling an onion "a single yellow onion" when (and only when) it is being listed as the sole content of a room or container.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e275"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example275">
<!-- START CODE "c14049_275" -->
<a id="c14049_275"></a><blockquote class="code"><p class="quoted">
&quot;Unpeeled&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14050_275" -->
<a id="c14050_275"></a><blockquote class="code"><p class="quoted">
Scullery is a room. A sack is carried by the player. The sack contains a yellow onion. The player carries a cork.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14051_275" -->
<a id="c14051_275"></a><blockquote class="code"><p class="quoted">
Before printing the name of the onion while listing contents:
<br />&#160;&#160;&#160;&#160;if the holder of the onion contains exactly 1 thing, say &quot;single &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14052_275" -->
<a id="c14052_275"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / put cork in sack / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "433: Eyes, Fingers, Toes" "e133" -->
<a id="e133"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e133" class="eglink"><b>433</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e133" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Eyes, Fingers, Toes</span></b></a><br />A safe with a multi-number combination, meant to be dialed over multiple turns, is implemented using a log of the last three numbers dialed. The log can then be compared to the safe's correct combination.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_21.html#e133"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example133">
<p>It is not difficult to implement a safe which can be set to a single number to open; but a more common scenario in the real world is for the safe to open on a sequence of numbers when they have been dialed in the right order.</p>
<p>For IF, this means that we have to keep running track of the last N digits the player has dialed, dropping the first digit and adding a new one to the end each time the player re-dials the safe. This is a perfect occasion for lists:</p>
<!-- START CODE "c14053_133" -->
<a id="c14053_133"></a><blockquote class="code"><p class="quoted">
&quot;Eyes, Fingers, Toes&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14054_133" -->
<a id="c14054_133"></a><blockquote class="code"><p class="quoted">
The Addams Wine Cellar is a room. It contains a closed lockable locked container called a safe.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14055_133" -->
<a id="c14055_133"></a><blockquote class="code"><p class="quoted">
The safe has a list of numbers called the current combination.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14056_133" -->
<a id="c14056_133"></a><blockquote class="code"><p class="quoted">
The safe has a list of numbers called the true combination. The true combination of the safe is {2, 10, 11}.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14057_133" -->
<a id="c14057_133"></a><blockquote class="code"><p class="quoted">
Understand &quot;set [something] to [a number]&quot; as setting it numerically to. Setting it numerically to is an action applying to one thing and one number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14058_133" -->
<a id="c14058_133"></a><blockquote class="code"><p class="quoted">
Instead of examining the safe:
<br />&#160;&#160;&#160;&#160;if the number of entries in the current combination of the safe is 0,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You haven't dialed the safe to any combination yet.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You have dialed the safe to [the current combination of the safe].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14059_133" -->
<a id="c14059_133"></a><blockquote class="code"><p class="quoted">
Check setting something numerically to (this is the block setting numerically rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] cannot be set.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14060_133" -->
<a id="c14060_133"></a><blockquote class="code"><p class="quoted">
Instead of setting the safe numerically to the number understood:
<br />&#160;&#160;&#160;&#160;truncate the current combination of the safe to the last 2 entries;
<br />&#160;&#160;&#160;&#160;add the number understood to the current combination of the safe;
<br />&#160;&#160;&#160;&#160;if the safe is locked and the current combination of the safe is the true combination of the safe:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You dial [the number understood], and [the safe] gives a joyous CLICK.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the safe is unlocked;
<br />&#160;&#160;&#160;&#160;otherwise if safe is unlocked and the safe is closed and the current combination of the safe is not the true combination of the safe:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You spin the dial, and [the safe] snicks locked.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the safe is locked;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You dial [the number understood] on the safe.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14061_133" -->
<a id="c14061_133"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x safe / set safe to 10 / x safe / set safe to 29 / x safe / set safe to 2 / x safe / set safe to 10 / x safe / set safe to 11 / open safe / set safe to 14 / close safe / set safe to 15 / open safe&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "340: Trachypachidae Maturin 1803" "e364" -->
<a id="e364"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e364" class="eglink"><b>340</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e364" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Trachypachidae Maturin 1803</span></b></a><br />Bottles with removable stoppers: when the stopper is in the bottle, the bottle is functionally closed, but the stopper can also be removed and used elsewhere. Descriptions of the bottle reflect its state intelligently.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e364"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example364">
<!-- START CODE "c14062_364" -->
<a id="c14062_364"></a><blockquote class="code"><p class="quoted">
&quot;Trachypachidae Maturin 1803&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14063_364" -->
<a id="c14063_364"></a><blockquote class="code"><p class="quoted">
A bottle is a kind of container. Bottles are usually openable, transparent, and closed. A cork is a kind of thing. A cork is in every bottle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14064_364" -->
<a id="c14064_364"></a><blockquote class="code"><p class="quoted">
Understand &quot;cork [something]&quot; as corking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14065_364" -->
<a id="c14065_364"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;stopper&quot; as &quot;cork&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14066_364" -->
<a id="c14066_364"></a><blockquote class="code"><p class="quoted">
Understand &quot;uncork [something]&quot; as uncorking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14067_364" -->
<a id="c14067_364"></a><blockquote class="code"><p class="quoted">
Corking is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14068_364" -->
<a id="c14068_364"></a><blockquote class="code"><p class="quoted">
Check corking:
<br />&#160;&#160;&#160;&#160;if the noun is not a bottle, say &quot;[The noun] cannot be corked.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14069_364" -->
<a id="c14069_364"></a><blockquote class="code"><p class="quoted">
Carry out corking:
<br />&#160;&#160;&#160;&#160;try closing the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14070_364" -->
<a id="c14070_364"></a><blockquote class="code"><p class="quoted">
Uncorking is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14071_364" -->
<a id="c14071_364"></a><blockquote class="code"><p class="quoted">
Check uncorking:
<br />&#160;&#160;&#160;&#160;if the noun is not a bottle, say &quot;[The noun] cannot be uncorked.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14072_364" -->
<a id="c14072_364"></a><blockquote class="code"><p class="quoted">
Carry out uncorking:
<br />&#160;&#160;&#160;&#160;try opening the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14073_364" -->
<a id="c14073_364"></a><blockquote class="code"><p class="quoted">
Understand &quot;close [something] with [something preferably held]&quot; as corking it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14074_364" -->
<a id="c14074_364"></a><blockquote class="code"><p class="quoted">
Understand &quot;cork [something] with [something preferably held]&quot; as corking it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14075_364" -->
<a id="c14075_364"></a><blockquote class="code"><p class="quoted">
Corking it with is an action applying to one thing and one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14076_364" -->
<a id="c14076_364"></a><blockquote class="code"><p class="quoted">
Check corking it with:
<br />&#160;&#160;&#160;&#160;if the noun is not a bottle, say &quot;[The noun] cannot be corked.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a cork, say &quot;[The second noun] will not fit in [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14077_364" -->
<a id="c14077_364"></a><blockquote class="code"><p class="quoted">
Carry out corking it with:
<br />&#160;&#160;&#160;&#160;try inserting the second noun into the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14078_364" -->
<a id="c14078_364"></a><blockquote class="code"><p class="quoted">
Instead of closing a bottle:
<br />&#160;&#160;&#160;&#160;if a cork (called the item) is carried by the player, try inserting the item into the noun instead;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You need a stopper of some kind.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14079_364" -->
<a id="c14079_364"></a><blockquote class="code"><p class="quoted">
Instead of opening a bottle:
<br />&#160;&#160;&#160;&#160;if a cork (called the item) is in the noun, try taking the item instead;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The noun] has no stopper.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14080_364" -->
<a id="c14080_364"></a><blockquote class="code"><p class="quoted">
Carry out inserting a cork into a bottle:
<br />&#160;&#160;&#160;&#160;now the second noun is closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14081_364" -->
<a id="c14081_364"></a><blockquote class="code"><p class="quoted">
After inserting a cork into a bottle:
<br />&#160;&#160;&#160;&#160;say &quot;You stopper [the second noun] with [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14082_364" -->
<a id="c14082_364"></a><blockquote class="code"><p class="quoted">
Before taking a cork when the noun is in a closed bottle (called the item):
<br />&#160;&#160;&#160;&#160;now the item is open.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14083_364" -->
<a id="c14083_364"></a><blockquote class="code"><p class="quoted">
Instead of taking a cork when the noun is in a bottle (called the item):
<br />&#160;&#160;&#160;&#160;move the noun to the player;
<br />&#160;&#160;&#160;&#160;say &quot;You pull [the noun] from [the item].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14084_364" -->
<a id="c14084_364"></a><blockquote class="code"><p class="quoted">
Before printing the name of a bottle (called target) while not inserting, taking, searching, or removing:
<br />&#160;&#160;&#160;&#160;if the target is closed, say &quot;sealed &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;now open &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14085_364" -->
<a id="c14085_364"></a><blockquote class="code"><p class="quoted">
After printing the name of a bottle (called target) while not inserting, searching, examining, or removing:
<br />&#160;&#160;&#160;&#160;if the target contains a noncork thing, say &quot; containing [a list of noncork things in the target]&quot;;
<br />&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14086_364" -->
<a id="c14086_364"></a><blockquote class="code"><p class="quoted">
Instead of examining a bottle:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] contains [a list of noncork things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14087_364" -->
<a id="c14087_364"></a><blockquote class="code"><p class="quoted">
Definition: a thing is noncork if it is not a cork.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14088_364" -->
<a id="c14088_364"></a><blockquote class="code"><p class="quoted">
The Doctor's Cabin is a room. &quot;A dark, cramped triangle, like a slice of cake, except that its sharp end has been cut off: and so low that a moderately tall man would strike his head on the deck above if he were to stand upright. Every free surface is covered with sheets of best Venetian looking-glass, to increase the light filtering in. Long use and the carpenter's ingenuity have packed in a folding cot and table, and lockers are built into unlikely places: lockers filled with specimens, skeletons, sketches, drafts and serial letters.&quot; The jug is a bottle in the Doctor's Cabin. The jug contains a beetle. The description of the beetle is &quot;The doctor assures you that it is a nondescript.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14089_364" -->
<a id="c14089_364"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get jug / x jug / open jug / x jug / i / x cork / cork jug / i / uncork jug / i / x jug / get beetle / i / close jug / i / x jug&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "342: Hudsucker Industries" "e194" -->
<a id="e194"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e194" class="eglink"><b>342</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e194" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hudsucker Industries</span></b></a><br />Letters which are described differently as a group, depending on whether the player has read none, some, or all of them, and on whether they are alike or unlike.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e194"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example194">
<p>In this scenario, the player starts with a bag full of unsorted letters. These can be polite or rude, but he won't know which until he has examined them. What's more, he is allowed to sort the letters, in which case a group of letters will be shown as (for instance) &quot;two polite letters&quot;; but a group of mixed letters, even if they have all been read, will be called &quot;unsorted letters&quot;.</p>
<p>Further, the player should be allowed to refer to sorted letters by tone, but not unsorted letters.</p>
<p>To do this, we'll need printing the name... and printing the plural name..., as well as some special understanding rules.</p>
<!-- START CODE "c14090_194" -->
<a id="c14090_194"></a><blockquote class="code"><p class="quoted">
&quot;Hudsucker Industries&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14091_194" -->
<a id="c14091_194"></a><blockquote class="code"><p class="quoted">
Tone is a kind of value. The tones are effusive, affectionate, polite, curt, and flamingly rude.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14092_194" -->
<a id="c14092_194"></a><blockquote class="code"><p class="quoted">
A letter is a kind of thing. The description of a letter is usually &quot;On inspection, it turns out to be quite [tone].&quot; A letter has a tone. The tone of a letter is usually polite.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14093_194" -->
<a id="c14093_194"></a><blockquote class="code"><p class="quoted">
A letter can be read or unread. A letter is usually unread. Carry out examining a letter: now the noun is read.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14094_194" -->
<a id="c14094_194"></a><blockquote class="code"><p class="quoted">
Before printing the name of a read letter: say &quot;[tone] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14095_194" -->
<a id="c14095_194"></a><blockquote class="code"><p class="quoted">
Before printing the name of an ungrouped letter: say &quot;random &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14096_194" -->
<a id="c14096_194"></a><blockquote class="code"><p class="quoted">
Before printing the plural name of a letter (called the subject):
<br />&#160;&#160;&#160;&#160;if the subject is grouped:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[tone] &quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the number of unread letters which are next to the subject is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;unsorted &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14097_194" -->
<a id="c14097_194"></a><blockquote class="code"><p class="quoted">
After printing the plural name of a letter (called the subject):
<br />&#160;&#160;&#160;&#160;if the number of read letters which are next to the subject is 0, say &quot; (all unread, at the moment)&quot; instead;
<br />&#160;&#160;&#160;&#160;if the number of unread letters which are next to the subject is greater than 0, say &quot; (some as yet unread)&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14098_194" -->
<a id="c14098_194"></a><blockquote class="code"><p class="quoted">
Proximity relates a thing (called X) to a thing (called Y) when the holder of X is the holder of Y. The verb to be next to means the proximity relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14099_194" -->
<a id="c14099_194"></a><blockquote class="code"><p class="quoted">
Definition: a letter is grouped:
<br />&#160;&#160;&#160;&#160;if it is unread, no;
<br />&#160;&#160;&#160;&#160;if the number of unread letters next to it is greater than 0, no;
<br />&#160;&#160;&#160;&#160;repeat with item running through letters which are next to it:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the tone of item is not the tone of it, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14100_194" -->
<a id="c14100_194"></a><blockquote class="code"><p class="quoted">
Definition: a letter is ungrouped if it is not grouped.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14101_194" -->
<a id="c14101_194"></a><blockquote class="code"><p class="quoted">
The Mailroom is a room. &quot;Usually a thrumming hive of bee-like workers, but you got in early to get a jump on the day's work.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14102_194" -->
<a id="c14102_194"></a><blockquote class="code"><p class="quoted">
The satchel is carried by the player. Two flamingly rude letters are in the satchel. Five polite letters are in the satchel.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14103_194" -->
<a id="c14103_194"></a><blockquote class="code"><p class="quoted">
The mail wall are fixed in place in the mailroom. &quot;Before you is a wall of mailboxes, including [a list of mailboxes which are part of the mail wall].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14104_194" -->
<a id="c14104_194"></a><blockquote class="code"><p class="quoted">
The plural of mailbox is mailboxes. A mailbox is a kind of container. The CEO box is a mailbox. The Hold box is a mailbox. The Trash box is a mailbox. Understand &quot;mailbox&quot; as a mailbox.
</p></blockquote>
<!-- END CODE -->
<p>Now, there's a good bit of interaction to streamline. We intend that the player will be taking letters from the satchel, reading them, and putting them (perhaps grouped) into boxes. Our interaction rules should assist in this process as much as possible. To start with, the player will be most likely to examine letters he hasn't read yet:</p>
<!-- START CODE "c14105_194" -->
<a id="c14105_194"></a><blockquote class="code"><p class="quoted">
Does the player mean examining a letter (called the subject):
<br />&#160;&#160;&#160;&#160;if we have examined the subject, it is very unlikely;
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<p>The rules about taking are more subtle: the player is more likely to want to take an ungrouped letter than a grouped one; he is more likely to want one from the satchel than not; and he is most unlikely to want to take a letter (grouped or ungrouped) that he is already holding.</p>
<!-- START CODE "c14106_194" -->
<a id="c14106_194"></a><blockquote class="code"><p class="quoted">
Does the player mean taking a letter (called subject) which is grouped:
<br />&#160;&#160;&#160;&#160;if the player carries the subject, it is very unlikely;
<br />&#160;&#160;&#160;&#160;if the subject is in the satchel, it is possible;
<br />&#160;&#160;&#160;&#160;it is unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14107_194" -->
<a id="c14107_194"></a><blockquote class="code"><p class="quoted">
Does the player mean taking a letter (called subject) which is ungrouped:
<br />&#160;&#160;&#160;&#160;if the player carries the subject, it is very unlikely;
<br />&#160;&#160;&#160;&#160;if the subject is in the satchel, it is very likely;
<br />&#160;&#160;&#160;&#160;it is possible.
</p></blockquote>
<!-- END CODE -->
<p>And finally, we will assume by default that anything other than examining or taking is most likely to apply to a letter he's already identified:</p>
<!-- START CODE "c14108_194" -->
<a id="c14108_194"></a><blockquote class="code"><p class="quoted">
Does the player mean doing something other than examining or taking with a letter (called the subject):
<br />&#160;&#160;&#160;&#160;if we have examined the subject, it is likely;
<br />&#160;&#160;&#160;&#160;it is unlikely.
</p></blockquote>
<!-- END CODE -->
<p>And we would also like to understand properties under the same circumstances as printing -- a letter will be identifiable as &quot;polite&quot; if it's already been read and it is either by itself or in a sorted stack of polite letters, but otherwise not. What's more, to make it possible to disambiguate commands in the other direction, we'll call any unsorted letter &quot;random&quot;, to represent that the player doesn't know what it is.</p>
<!-- START CODE "c14109_194" -->
<a id="c14109_194"></a><blockquote class="code"><p class="quoted">
Understand the tone property as referring to a letter when the item described is grouped. Understand &quot;random&quot; as a letter when the item described is ungrouped.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14110_194" -->
<a id="c14110_194"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every mailbox is part of the mail wall;
<br />&#160;&#160;&#160;&#160;repeat with switch count running from 1 to 5:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move a random letter to the satchel.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14111_194" -->
<a id="c14111_194"></a><blockquote class="code"><p class="quoted">
Test me with &quot;inventory / examine letter / get letter / i / put letter in ceo box / inventory / get letter / x letter / g / g / i / x letter / g / g / i / put letter in hold box / get letter / g / g / i&quot;.
</p></blockquote>
<!-- END CODE -->
<p>That last &quot;repeat&quot; is merely a device to shuffle the order of items in the satchel so that the player will not always encounter the letters in a neatly presorted order, despite our defining them that way. (Of course, that means that the test produced by TEST ME cannot be very exciting...)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "35: Fallout Enclosure" "e136" -->
<a id="e136"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e136" class="eglink"><b>35</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e136" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fallout Enclosure</span></b></a><br />Adding an enclosure kind that includes both containers and supporters in order to simplify text that would apply to both.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e136"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example136">
<p>It may not be immediately obvious why we might want to create new intermediate categories of the kinds hierarchy. But there may be times, for instance, where we would like to make an action that applies in the same way to both containers and supporters, but to nothing else in the game. To avoid creating two nearly-identical rules, we would instead roll the two categories together into one, on the principle that duplicating source text is usually a sign of bad design.</p>
<p>So for instance let's say the player is able to zap objects to make them go away, but any contents -- things inside a container or on top of a supporter -- should always be left as residue. Here's one way we might do this:</p>
<!-- START CODE "c14112_136" -->
<a id="c14112_136"></a><blockquote class="code"><p class="quoted">
&quot;Fallout Enclosure&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14113_136" -->
<a id="c14113_136"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14114_136" -->
<a id="c14114_136"></a><blockquote class="code"><p class="quoted">
An enclosure is a kind of thing. A container is a kind of enclosure. A supporter is a kind of enclosure.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14115_136" -->
<a id="c14115_136"></a><blockquote class="code"><p class="quoted">
Understand &quot;zap [something]&quot; as zapping. Zapping is an action applying to one thing. The Zapping action has a list of things called the remnants.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14116_136" -->
<a id="c14116_136"></a><blockquote class="code"><p class="quoted">
Carry out zapping an enclosure:
<br />&#160;&#160;&#160;&#160;if the noun holds something:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the remnants is the list of things held by the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with N running through the remnants:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move N to the holder of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14117_136" -->
<a id="c14117_136"></a><blockquote class="code"><p class="quoted">
Carry out zapping:
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14118_136" -->
<a id="c14118_136"></a><blockquote class="code"><p class="quoted">
Report zapping:
<br />&#160;&#160;&#160;&#160;say &quot;You zap [the noun], destroying [them][if the remnants is not empty] and leaving [the remnants with indefinite articles] behind[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14119_136" -->
<a id="c14119_136"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14120_136" -->
<a id="c14120_136"></a><blockquote class="code"><p class="quoted">
SuperDuperMart is a room. SuperDuperMart contains some shelves and a cash register.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14121_136" -->
<a id="c14121_136"></a><blockquote class="code"><p class="quoted">
The shelves support a bottle of Buffout and a container of Jet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14122_136" -->
<a id="c14122_136"></a><blockquote class="code"><p class="quoted">
The cash register contains some prewar money, a coin purse, and a bottle cap.  The coin purse contains a prewar nickel. It is closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14123_136" -->
<a id="c14123_136"></a><blockquote class="code"><p class="quoted">
The cash register is closed and locked.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14124_136" -->
<a id="c14124_136"></a><blockquote class="code"><p class="quoted">
Test me with &quot;zap shelves / zap buffout / zap register / zap purse&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "56: Being Prepared" "e300" -->
<a id="e300"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e300" class="eglink"><b>56</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e300" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Being Prepared</span></b></a><br />A kind for jackets, which always includes a container called a pocket.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_4.html#e300"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example300">
<!-- START CODE "c14125_300" -->
<a id="c14125_300"></a><blockquote class="code"><p class="quoted">
&quot;Being Prepared&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14126_300" -->
<a id="c14126_300"></a><blockquote class="code"><p class="quoted">
A jacket is a kind of thing. A jacket is always wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14127_300" -->
<a id="c14127_300"></a><blockquote class="code"><p class="quoted">
A pocket is a kind of container. A pocket is part of every jacket. The carrying capacity of a pocket is always 2.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14128_300" -->
<a id="c14128_300"></a><blockquote class="code"><p class="quoted">
After examining a jacket:
<br />&#160;&#160;&#160;&#160;let target be a random pocket which is part of the noun;
<br />&#160;&#160;&#160;&#160;say &quot;[The target] contains [a list of things in the target].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we've created the rules that will govern any specific jackets we might happen to put in our game: each one will always have one pocket, which will be able to contain no more than two things. The description of &quot;a list of things&quot; is text with a list, which we will learn about further in a few sections.</p>
<p>Next we might want to create the environment and an actual example of the jacket kind:</p>
<!-- START CODE "c14129_300" -->
<a id="c14129_300"></a><blockquote class="code"><p class="quoted">
Tent is a room. &quot;A dome made of two flexible rods and a lot of bright green ripstop nylon. It bills itself as a one-man tent, but you'd call it a two-dwarf tent: there is no way to arrange yourself on its square floor so that you can stretch out completely.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14130_300" -->
<a id="c14130_300"></a><blockquote class="code"><p class="quoted">
The hoodie is a jacket. &quot;Your hoodie is balled up in the corner.&quot; The description of the hoodie is &quot;Both elbows are stained from yesterday's entrenching project.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14131_300" -->
<a id="c14131_300"></a><blockquote class="code"><p class="quoted">
The hoodie's pocket contains a Swiss army knife and a folded map. The hoodie is in the Tent.
</p></blockquote>
<!-- END CODE -->
<p>Notice that, since Inform has created a pocket for the hoodie, we can now refer to it by name in our source, giving it any additional properties we need to define. Here we simply put a few items into it.</p>
<!-- START CODE "c14132_300" -->
<a id="c14132_300"></a><blockquote class="code"><p class="quoted">
The player wears a whistle. The description of the whistle is &quot;To frighten bears.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14133_300" -->
<a id="c14133_300"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x hoodie / get hoodie / get knife / get map / i / put hoodie in pocket / put whistle in pocket / put map in pocket / put knife in pocket / i&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that Inform automatically refuses to put the hoodie into its own pocket: as a default, a container cannot contain something of which it is itself a part.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "332: Some Assembly Required" "e345" -->
<a id="e345"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e345" class="eglink"><b>332</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e345" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Some Assembly Required</span></b></a><br />Building different styles of shirt from component sleeves and collars.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e345"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example345">
<p>We now have the mechanisms in place to do some fairly sophisticated renaming of objects. For instance:</p>
<!-- START CODE "c14134_345" -->
<a id="c14134_345"></a><blockquote class="code"><p class="quoted">
&quot;Some Assembly Required&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14135_345" -->
<a id="c14135_345"></a><blockquote class="code"><p class="quoted">
Garment type is a kind of value. The garment types are vest, t-shirt, polo shirt, mandarin blouse, button-down, shell, experiment.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14136_345" -->
<a id="c14136_345"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;assign identities.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14137_345" -->
<a id="c14137_345"></a><blockquote class="code"><p class="quoted">
When play begins: assign identities.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14138_345" -->
<a id="c14138_345"></a><blockquote class="code"><p class="quoted">
To assign identities:
<br />&#160;&#160;&#160;&#160;repeat with item running through torsos:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reassess item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14139_345" -->
<a id="c14139_345"></a><blockquote class="code"><p class="quoted">
To reassess (item - a torso):
<br />&#160;&#160;&#160;&#160;if the number of things which are part of the item is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now garment type of the item is vest;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if exactly two short sleeves are part of the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a collar is part of the item,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now garment type of the item is polo shirt;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now garment type of the item is t-shirt;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if exactly two long sleeves are part of the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a collar is part of the item,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now garment type of the item is button-down;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now garment type of the item is mandarin blouse;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if a collar is part of the item and the number of sleeves which are part of the item is 0, now garment type of the item is shell;
<br />&#160;&#160;&#160;&#160;otherwise now garment type of the item is experiment.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14140_345" -->
<a id="c14140_345"></a><blockquote class="code"><p class="quoted">
Before cutting something which is worn by the player:
<br />&#160;&#160;&#160;&#160;try taking off the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14141_345" -->
<a id="c14141_345"></a><blockquote class="code"><p class="quoted">
Instead of cutting something when something is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;You cut up [the noun], snipping off [a list of things which are part of the noun].&quot;;
<br />&#160;&#160;&#160;&#160;now every thing which is part of the noun is in the holder of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14142_345" -->
<a id="c14142_345"></a><blockquote class="code"><p class="quoted">
Instead of cutting something which is part of something:
<br />&#160;&#160;&#160;&#160;say &quot;You carefully snip [the noun] free.&quot;;
<br />&#160;&#160;&#160;&#160;now the player carries the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14143_345" -->
<a id="c14143_345"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a torso: say &quot;[garment type]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14144_345" -->
<a id="c14144_345"></a><blockquote class="code"><p class="quoted">
A torso is a kind of thing. A torso is always wearable. Understand &quot;shirt&quot; or &quot;blouse&quot; as a torso. A torso has a garment type. Understand the garment type property as describing a torso. A sleeve is a kind of thing. A short sleeve is a kind of sleeve. A long sleeve is a kind of sleeve. A collar is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14145_345" -->
<a id="c14145_345"></a><blockquote class="code"><p class="quoted">
Understand &quot;sew [something] to [something]&quot; as affixing it to. Affixing it to is an action applying to two things. Carry out affixing something to something: now the noun is part of the second noun. Report affixing something to something: assign identities; say &quot;You sew [the noun] on, creating [a second noun].&quot; Understand the command &quot;stitch&quot; as &quot;sew&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14146_345" -->
<a id="c14146_345"></a><blockquote class="code"><p class="quoted">
Instead of affixing something to something when the second noun is worn: say &quot;You're wearing [the second noun]!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14147_345" -->
<a id="c14147_345"></a><blockquote class="code"><p class="quoted">
Instead of affixing a torso to something:
<br />&#160;&#160;&#160;&#160;if the second noun is a torso, say &quot;Couture for Siamese twins is a daring field, but a bit of a niche market.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise try affixing the second noun to the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14148_345" -->
<a id="c14148_345"></a><blockquote class="code"><p class="quoted">
Instead of affixing a sleeve to something when at least two sleeves are part of the second noun: say &quot;[The second noun] already sports [a list of sleeves that are part of the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14149_345" -->
<a id="c14149_345"></a><blockquote class="code"><p class="quoted">
Instead of affixing a collar to something when a collar is part of the second noun: say &quot;[The second noun] already sports [a list of collars that are part of the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14150_345" -->
<a id="c14150_345"></a><blockquote class="code"><p class="quoted">
Instead of examining something when something is part of the noun: say &quot;Stitched to [the noun] [is-are a list of things which are part of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here is where the issue of precedence arises. We want to encourage Inform to select a cuttable object that is part of something else, rather than one of the spares:</p>
<!-- START CODE "c14151_345" -->
<a id="c14151_345"></a><blockquote class="code"><p class="quoted">
Definition: a thing is removable if it is part of something. Understand &quot;cut [removable thing]&quot; as cutting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14152_345" -->
<a id="c14152_345"></a><blockquote class="code"><p class="quoted">
The Boutique is a room. &quot;Still festively strewn with the confetti and streamers of the Grand Opening party, and still almost totally customer-free.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14153_345" -->
<a id="c14153_345"></a><blockquote class="code"><p class="quoted">
The player carries a torso. The player carries three short sleeves. The player carries two long sleeves. The player carries two collars.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14154_345" -->
<a id="c14154_345"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sew collar to shirt / i / sew short sleeve to shirt / g / i / x polo shirt / cut collar / i / cut shirt / sew long sleeve to shirt / i / sew long sleeve to shirt / i / sew collar to shirt / g / i / wear button-down&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "338: Hays Code" "e185" -->
<a id="e185"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e185" class="eglink"><b>338</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e185" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hays Code</span></b></a><br />Clark Gable in a pin-striped suit and a pink thong.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e185"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example185">
<p>The following burlesque was considered too much for the tender readers of Chapter 3, since it involved explicit use of listing and persuasion:</p>
<!-- START CODE "c14155_185" -->
<a id="c14155_185"></a><blockquote class="code"><p class="quoted">
&quot;Hays Code&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14156_185" -->
<a id="c14156_185"></a><blockquote class="code"><p class="quoted">
The Movie Set is a room. Clark Gable is a man in the Movie Set. &quot;Clark leans on a polystyrene pillar, wearing [a list of unconcealed things worn by Clark] with his usual aplomb.&quot; Persuasion rule for asking Clark to try doing something: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14157_185" -->
<a id="c14157_185"></a><blockquote class="code"><p class="quoted">
Clark is wearing a pin-striped suit and a pink thong. Rule for deciding the concealed possessions of Clark: if the particular possession is the thong and Clark is wearing the suit, yes; otherwise no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14158_185" -->
<a id="c14158_185"></a><blockquote class="code"><p class="quoted">
Test me with &quot;clark, remove suit / look / clark, remove thong / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "242: What Not To Wear" "e435" -->
<a id="e435"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e435" class="eglink"><b>242</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e435" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">What Not To Wear</span></b></a><br />A general-purpose clothing system that handles a variety of different clothing items layered in different combinations over different areas of the body.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e435"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example435">
<!-- START CODE "c14159_435" -->
<a id="c14159_435"></a><blockquote class="code"><p class="quoted">
&quot;What Not To Wear&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14160_435" -->
<a id="c14160_435"></a><blockquote class="code"><p class="quoted">
Section 1 - Overlying and Underlying
</p></blockquote>
<!-- END CODE -->
<p>We start by borrowing some of the same ideas from the Bogart example, but we're also going to make a kind called &quot;garment-element&quot;. This kind will include both garments (objects of clothing) and body parts (things that can be covered by clothing); using it allows us to restrict the way our underlying and overlying relations apply, which will make them a bit faster at run-time.</p>
<!-- START CODE "c14161_435" -->
<a id="c14161_435"></a><blockquote class="code"><p class="quoted">
A garment-element is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14162_435" -->
<a id="c14162_435"></a><blockquote class="code"><p class="quoted">
Underlying relates various garment-elements to various garment-elements with fast route-finding. The verb to underlie means the underlying relation. The verb to be under implies the underlying relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14163_435" -->
<a id="c14163_435"></a><blockquote class="code"><p class="quoted">
Check taking off:
<br />&#160;&#160;&#160;&#160;if the noun underlies something (called the impediment) which is worn by the player, say &quot;[The impediment] [are] in the way.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14164_435" -->
<a id="c14164_435"></a><blockquote class="code"><p class="quoted">
Carry out taking off:
<br />&#160;&#160;&#160;&#160;now the noun is not underlaid by anything.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14165_435" -->
<a id="c14165_435"></a><blockquote class="code"><p class="quoted">
Report taking off something:
<br />&#160;&#160;&#160;&#160;say &quot;[We] [are] now wearing [a list of uppermost things worn by the player].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14166_435" -->
<a id="c14166_435"></a><blockquote class="code"><p class="quoted">
Definition: a garment-element is uppermost if it is not under something opaque.
</p></blockquote>
<!-- END CODE -->
<p>Here we've expanded on the previous ideas of 'uppermost' because it is possible for an upper layer to reveal what lies beneath: a tie, a clear plastic trenchcoat, an open-knit sweater, etc. We'll make such items transparent.</p>
<!-- START CODE "c14167_435" -->
<a id="c14167_435"></a><blockquote class="code"><p class="quoted">
Before taking off something which underlies something which is worn by the player:
<br />&#160;&#160;&#160;&#160;while the noun underlies something (called the impediment) which is worn by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first removing [the impediment])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try taking off the impediment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun underlies the impediment, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14168_435" -->
<a id="c14168_435"></a><blockquote class="code"><p class="quoted">
Overlying relates various garment-elements to various garment-elements. The verb to overlie means the overlying relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14169_435" -->
<a id="c14169_435"></a><blockquote class="code"><p class="quoted">
Covering relates a garment-element (called A) to a garment-element (called B) when the number of steps via the overlying relation from A to B is greater than 0. The verb to cover means the covering relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14170_435" -->
<a id="c14170_435"></a><blockquote class="code"><p class="quoted">
Before wearing something when a garment which covers the noun is worn by the player:
<br />&#160;&#160;&#160;&#160;while the player wears a garment (called the impediment) which covers the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first removing [the impediment])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try taking off the impediment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player is wearing the impediment, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14171_435" -->
<a id="c14171_435"></a><blockquote class="code"><p class="quoted">
Carry out wearing:
<br />&#160;&#160;&#160;&#160;repeat with hidden item running through things worn by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun covers the hidden item, now the hidden item underlies the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14172_435" -->
<a id="c14172_435"></a><blockquote class="code"><p class="quoted">
Instead of looking under something which is worn by the player:
<br />&#160;&#160;&#160;&#160;if something (called the underwear) underlies the noun, say &quot;[We] [peek] at [the underwear]. Yup, still there.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Just [us] in there.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14173_435" -->
<a id="c14173_435"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;[if the player carries something][We]['re] carrying [a list of things carried by the player][else][We]['re] empty-handed[end if][if the player wears something]. [We] [are] wearing [a list of uppermost garments worn by the player][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14174_435" -->
<a id="c14174_435"></a><blockquote class="code"><p class="quoted">
To peek is a verb.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14175_435" -->
<a id="c14175_435"></a><blockquote class="code"><p class="quoted">
Section 2 - Regional Coverage
</p></blockquote>
<!-- END CODE -->
<p>Here we draw in the idea that different clothes go over different areas of the body, and that they should be in competition with each other only if both sets of clothes belong at the same level over the same body area.</p>
<!-- START CODE "c14176_435" -->
<a id="c14176_435"></a><blockquote class="code"><p class="quoted">
Before wearing something:
<br />&#160;&#160;&#160;&#160;let N be the layering depth of the noun;
<br />&#160;&#160;&#160;&#160;repeat with item running through things worn by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the layering depth of the item is N and the item covers a body-part which is covered by the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first taking off [the item])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try taking off the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player wears the item, stop the action.
</p></blockquote>
<!-- END CODE -->
<p>This may seem like overkill, but it allows us to create garments that cover different subsets of the body -- pants and shirt vs. a dress, for instance.</p>
<!-- START CODE "c14177_435" -->
<a id="c14177_435"></a><blockquote class="code"><p class="quoted">
To decide what number is the layering depth of (chosen garment - a thing):
<br />&#160;&#160;&#160;&#160;let N be 0;
<br />&#160;&#160;&#160;&#160;if the chosen garment covers a body-part (called base):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let N be the number of steps via the overlying relation from the chosen garment to the base;
<br />&#160;&#160;&#160;&#160;decide on N.
</p></blockquote>
<!-- END CODE -->
<p>To help with modeling, we'll give everyone body parts, broken down according to their relevance to clothing:</p>
<!-- START CODE "c14178_435" -->
<a id="c14178_435"></a><blockquote class="code"><p class="quoted">
A body-part is a kind of garment-element. A torso, a seat, a head, pair of legs, and pair of feet are kinds of body-part.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted to allow gloves, we might put in hands as well; but this is enough for now.</p>
<!-- START CODE "c14179_435" -->
<a id="c14179_435"></a><blockquote class="code"><p class="quoted">
One head is part of every person. One torso is part of every person. One pair of legs is part of every person. One pair of feet is part of every person. One seat is part of every person.
</p></blockquote>
<!-- END CODE -->
<p>And now we make some categories of clothing:</p>
<!-- START CODE "c14180_435" -->
<a id="c14180_435"></a><blockquote class="code"><p class="quoted">
A garment is a kind of garment-element. A garment can be transparent. A pair of pants, a pair of underpants, a foundation garment, a pair of socks, a pair of shoes, a jacket, a hat, a dress, and a shirt are kinds of garment.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14181_435" -->
<a id="c14181_435"></a><blockquote class="code"><p class="quoted">
The plural of pair of pants is pairs of pants. The plural of pair of underpants is pairs of underpants. The plural of pair of socks is pairs of socks. The plural of pair of shoes is pairs of shoes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14182_435" -->
<a id="c14182_435"></a><blockquote class="code"><p class="quoted">
A pair of pants, a pair of underpants, a foundation garment, a pair of socks, a pair of shoes, a jacket, a hat, a dress, and a shirt are usually wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14183_435" -->
<a id="c14183_435"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every pair of socks overlies every pair of feet;
<br />&#160;&#160;&#160;&#160;now every pair of shoes overlies every pair of socks;
<br />&#160;&#160;&#160;&#160;now every pair of underpants overlies every seat;
<br />&#160;&#160;&#160;&#160;now every pair of pants overlies every pair of underpants;
<br />&#160;&#160;&#160;&#160;now every foundation garment overlies every torso;
<br />&#160;&#160;&#160;&#160;now every jacket overlies every shirt;
<br />&#160;&#160;&#160;&#160;now every jacket overlies every dress;
<br />&#160;&#160;&#160;&#160;now every hat overlies every head;
<br />&#160;&#160;&#160;&#160;now every dress overlies every pair of underpants;
<br />&#160;&#160;&#160;&#160;now every dress overlies every foundation garment.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14184_435" -->
<a id="c14184_435"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14185_435" -->
<a id="c14185_435"></a><blockquote class="code"><p class="quoted">
The Dressing Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14186_435" -->
<a id="c14186_435"></a><blockquote class="code"><p class="quoted">
The player carries some capris, some jeans, a corset, a plunge bra, a thong, boy-shorts, black satin D'Orsay pumps, brown leather boots, a camisole, a cocktail dress, a bolero, a cashmere shrug, a sheer wrap, and a linen tunic.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14187_435" -->
<a id="c14187_435"></a><blockquote class="code"><p class="quoted">
The woolly socks are a pair of socks.
<br />The D'Orsay pumps and the brown leather boots are pairs of shoes.
<br />The thong and the boy-shorts are pairs of underpants.
<br />The capris and the jeans are pairs of pants.
<br />The tunic is a shirt.
<br />The camisole, the corset, and the plunge bra are foundation garments.
<br />The cocktail dress is a dress.
<br />The bolero, the cashmere shrug, and the sheer wrap are jackets. The shrug and the wrap are transparent.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14188_435" -->
<a id="c14188_435"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wear capris / wear jeans / i / wear thong / i / wear dress / wear corset / wear dress / i / wear wrap / i / wear boots / wear pumps / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "46: Get Me to the Church on Time" "e112" -->
<a id="e112"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e112" class="eglink"><b>46</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e112" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Get Me to the Church on Time</span></b></a><br />Using kinds of clothing to prevent the player from wearing several pairs of trousers at the same time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_4.html#e112"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example112">
<p>Inform's default handling of wearable things does not make any rules about what can be worn together. Suppose, however, we have a game in which there are a large number of different garments, and we want to keep the player from wearing (say) more than one pair of pants at once:</p>
<!-- START CODE "c14189_112" -->
<a id="c14189_112"></a><blockquote class="code"><p class="quoted">
&quot;Get Me to the Church on Time&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14190_112" -->
<a id="c14190_112"></a><blockquote class="code"><p class="quoted">
A pair of pants and a shirt are kinds of thing. A pair of pants and a shirt are usually wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14191_112" -->
<a id="c14191_112"></a><blockquote class="code"><p class="quoted">
Some golf pants are a pair of pants. The description is &quot;Checked in red and green, with tiny frolicking gophers every few inches.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14192_112" -->
<a id="c14192_112"></a><blockquote class="code"><p class="quoted">
Some tuxedo trousers are a pair of pants. The description is &quot;Black, pressed, and slimming.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14193_112" -->
<a id="c14193_112"></a><blockquote class="code"><p class="quoted">
The frilly shirt is a shirt. The description of the frilly shirt is &quot;She insisted.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14194_112" -->
<a id="c14194_112"></a><blockquote class="code"><p class="quoted">
The polo shirt is a shirt. The description is &quot;Turquoise and bright yellow, the colors selected by your golfing buddies.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14195_112" -->
<a id="c14195_112"></a><blockquote class="code"><p class="quoted">
The player wears the golf pants and the polo shirt. The player carries the tuxedo trousers and the frilly shirt.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14196_112" -->
<a id="c14196_112"></a><blockquote class="code"><p class="quoted">
The Wedding Chapel Dressing Room is a room. &quot;The bride's dressing room is a lavish suite with closets, hangers, dressmaker's dummies, boxes of straight pins and sewing notions, combs, lotions, brushes, and hair fixatives, plus room for  fifteen female attendants and a photographer. Before they shoved you out of the room you even got a glimpse of a small reference library including '1001 French Braids' and 'Corset-Lacing For Beginners.'
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14197_112" -->
<a id="c14197_112"></a><blockquote class="code"><p class="quoted">
This is the groom's dressing room. You get a framed photograph of Elvis, a dusty mirror, and the floor space of an average toilet stall.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14198_112" -->
<a id="c14198_112"></a><blockquote class="code"><p class="quoted">
The dusty mirror and the photograph of Elvis are scenery in the Dressing Room. The description of the mirror is &quot;You can't really get more than a silhouette impression of yourself.&quot; The description of Elvis is &quot;He reminds you that you'd better get out there before the organist switches to Hound Dog.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now the rule itself, borrowed from a later chapter:</p>
<!-- START CODE "c14199_112" -->
<a id="c14199_112"></a><blockquote class="code"><p class="quoted">
Instead of wearing a pair of pants when the player is wearing a pair of pants (called the wrong trousers):
<br />&#160;&#160;&#160;&#160;say &quot;You'll have to take off [the wrong trousers] first.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14200_112" -->
<a id="c14200_112"></a><blockquote class="code"><p class="quoted">
Instead of wearing a shirt when the player is wearing a shirt (called the wrong top):
<br />&#160;&#160;&#160;&#160;say &quot;You'll have to take off [the wrong top] first.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14201_112" -->
<a id="c14201_112"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;From the other side of the door, you hear the organist move on from his instrumental interpretation of 'I Wanna Hold Your Hand' to a somewhat more spirited rendition of 'Help! I Need Somebody!'. Okay, okay, but you've been rushing things along since the 16th fairway, and you can't be more than a half-hour late... Surely that mother of hers can't blame you for that?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14202_112" -->
<a id="c14202_112"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / x trousers / wear trousers / x golf pants / take off golf pants / wear trousers / x frilly shirt / x polo shirt / wear frilly shirt / doff polo shirt / wear frilly shirt&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted to, we could make similar kinds for hats, shoes, and so on, and have a simple but effective system of clothing. A more complicated treatment might keep track of layering and describe the player's outfit differently depending on which clothes were outermost -- an example for a later chapter.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "234: Bogart" "e85" -->
<a id="e85"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e85" class="eglink"><b>234</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e85" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bogart</span></b></a><br />Clothing for the player that layers, so that items cannot be taken off in the wrong order, and the player's inventory lists only the clothing that is currently visible.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e85"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example85">
<p>We have two things to keep track of with our layering clothing: what currently is covering something else; and what <span class="italic">can</span> cover something else. This implementation goes for a fairly simple treatment, assuming that each item of clothing will completely conceal those beneath it, and that we are not implementing entire sets of shirts, jackets, etc. But it will do for a demonstration.</p>
<!-- START CODE "c14203_85" -->
<a id="c14203_85"></a><blockquote class="code"><p class="quoted">
&quot;Bogart&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14204_85" -->
<a id="c14204_85"></a><blockquote class="code"><p class="quoted">
Section 1 - Clothing Behavior
</p></blockquote>
<!-- END CODE -->
<p>First we make our relation to represent what *is* underneath another item:</p>
<!-- START CODE "c14205_85" -->
<a id="c14205_85"></a><blockquote class="code"><p class="quoted">
Underlying relates one thing to various things. The verb to underlie means the underlying relation. The verb to be under implies the underlying relation.
</p></blockquote>
<!-- END CODE -->
<p>And now we prevent taking a lower layer off before the thing that is worn over it:</p>
<!-- START CODE "c14206_85" -->
<a id="c14206_85"></a><blockquote class="code"><p class="quoted">
Before taking off something which underlies something (called the impediment) which is worn by the player:
<br />say &quot;(first removing [the impediment])[command clarification break]&quot;;
<br />silently try taking off the impediment;
<br />if the noun underlies something which is worn by the player, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14207_85" -->
<a id="c14207_85"></a><blockquote class="code"><p class="quoted">
Check taking off:
<br />&#160;&#160;&#160;&#160;if the noun underlies something (called the impediment) which is worn by the player, say &quot;[The impediment] [are] in the way.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14208_85" -->
<a id="c14208_85"></a><blockquote class="code"><p class="quoted">
Carry out taking off:
<br />&#160;&#160;&#160;&#160;now the noun is not underlaid by anything.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14209_85" -->
<a id="c14209_85"></a><blockquote class="code"><p class="quoted">
Report taking off something:
<br />&#160;&#160;&#160;&#160;say &quot;[We] [are] now wearing [a list of uppermost things worn by the player].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14210_85" -->
<a id="c14210_85"></a><blockquote class="code"><p class="quoted">
Definition: a thing is uppermost if it is not under something.
</p></blockquote>
<!-- END CODE -->
<p>That covers order of clothing removal, but we also want to restrict what can be worn on top of what else. This time we need Inform to have some idea of what customarily can be layered on top of what other clothing:</p>
<!-- START CODE "c14211_85" -->
<a id="c14211_85"></a><blockquote class="code"><p class="quoted">
Overlying relates one thing to various things. The verb to overlie means the overlying relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14212_85" -->
<a id="c14212_85"></a><blockquote class="code"><p class="quoted">
Covering relates a thing (called A) to a thing (called B) when the number of steps via the overlying relation from A to B is greater than 0. The verb to cover means the covering relation.
</p></blockquote>
<!-- END CODE -->
<p>With these definitions, we can say that a jacket should go over a shirt and a shirt over an undershirt (say), and then Inform will know that a jacket will cover both shirt and undershirt.</p>
<!-- START CODE "c14213_85" -->
<a id="c14213_85"></a><blockquote class="code"><p class="quoted">
Before wearing something when something (called the impediment) which covers the noun is worn by the player:
<br />&#160;&#160;&#160;&#160;while the player wears something which covers the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first removing [the impediment])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try taking off the impediment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player is wearing the impediment, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14214_85" -->
<a id="c14214_85"></a><blockquote class="code"><p class="quoted">
Carry out wearing:
<br />&#160;&#160;&#160;&#160;if the noun covers something (called the hidden item) worn by the player, now the hidden item underlies the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14215_85" -->
<a id="c14215_85"></a><blockquote class="code"><p class="quoted">
Instead of looking under something which is worn by the player:
<br />&#160;&#160;&#160;&#160;if something (called the underwear) underlies the noun, say &quot;[We] [peek] at [the underwear]. Yup, still there.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Just [us] in there.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14216_85" -->
<a id="c14216_85"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;[if the player carries something][We]['re] carrying [a list of things carried by the player][else][We]['re] empty-handed[end if][if the player wears something]. [We] [are] wearing [a list of uppermost things worn by the player][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14217_85" -->
<a id="c14217_85"></a><blockquote class="code"><p class="quoted">
To peek is a verb.
</p></blockquote>
<!-- END CODE -->
<p>Notice that our inventory only describes the things that the player can see as the upper layer of clothing.</p>
<!-- START CODE "c14218_85" -->
<a id="c14218_85"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14219_85" -->
<a id="c14219_85"></a><blockquote class="code"><p class="quoted">
The Trailer is a room. &quot;A full-length mirror is the main amenity in here, and that suits you just fine.&quot;  The full-length mirror is scenery in the Trailer. Instead of examining or searching the mirror, try taking inventory.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14220_85" -->
<a id="c14220_85"></a><blockquote class="code"><p class="quoted">
The player wears a fedora, a jacket, a shirt, some undershorts, an undershirt, some slacks, a pair of socks, and a pair of shoes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14221_85" -->
<a id="c14221_85"></a><blockquote class="code"><p class="quoted">
The shirt underlies the jacket. The pair of socks underlies the pair of shoes. The undershorts underlie the slacks. The undershirt underlies the shirt.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14222_85" -->
<a id="c14222_85"></a><blockquote class="code"><p class="quoted">
The jacket overlies the shirt. The shoes overlie the socks. The slacks overlie the undershorts. The shirt overlies the undershirt.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14223_85" -->
<a id="c14223_85"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x mirror / remove fedora / remove jacket / remove shirt / remove slacks / remove undershirt / remove shoes / remove socks / remove shorts / remove undershorts&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we further wanted to prevent the player from taking off clothes in inappropriate places, we might add something like this:</p>
<!-- START CODE "c14224_85" -->
<a id="c14224_85"></a><blockquote class="code"><p class="quoted">
Instead of taking off something in the presence of someone who is not the player:
<br />&#160;&#160;&#160;&#160;say &quot;[We] [are] far too modest to strip in public.&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "263: Widget Enterprises" "e437" -->
<a id="e437"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e437" class="eglink"><b>263</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e437" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Widget Enterprises</span></b></a><br />Allowing the player to set a price for a widget on sale, then determining the resulting sales based on consumer demand, and the resulting profit and loss.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e437"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example437">
<p>Suppose the player is responsible for pricing at Widget Enterprises. Widget production entails a certain fixed cost as well as a cost per unit; and somewhere out in the world there are a number of customers interested in purchasing widgets, but the player starts without knowing what this distribution looks like.</p>
<p>We can express the profits as an equation: the total made by selling widgets, minus the cost thereof.</p>
<p>The Table of Customers holds the data about customer preferences, and whenever the player selects a widget price, we consult it to determine how many customers in total would be willing to buy at that price.</p>
<!-- START CODE "c14225_437" -->
<a id="c14225_437"></a><blockquote class="code"><p class="quoted">
&quot;Widget Enterprises&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14226_437" -->
<a id="c14226_437"></a><blockquote class="code"><p class="quoted">
Widget Stand is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14227_437" -->
<a id="c14227_437"></a><blockquote class="code"><p class="quoted">
A monetary value is a kind of value. $1.99 specifies a monetary value with parts dollars and cents.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14228_437" -->
<a id="c14228_437"></a><blockquote class="code"><p class="quoted">
Equation - Profit Equation
<br />&#160;&#160;&#160;&#160;P = nV - (F + nC)
<br />where P is a monetary value, F is the fixed cost, C is the unit cost, V is a monetary value, and n is a number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14229_437" -->
<a id="c14229_437"></a><blockquote class="code"><p class="quoted">
The fixed cost is a monetary value that varies. The fixed cost is $5.00.
<br />The unit cost is a monetary value that varies. The unit cost is $10.66.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14230_437" -->
<a id="c14230_437"></a><blockquote class="code"><p class="quoted">
Table of Customers
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">base</p></td><td class="quotedtablecell"><p class="quoted">maximum value</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">$26.00</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">$20.00</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8 </p></td><td class="quotedtablecell"><p class="quoted">$15.00</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">$13.50</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">$9.00</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14231_437" -->
<a id="c14231_437"></a><blockquote class="code"><p class="quoted">
To decide what number is the units sold at (V - a monetary value):
<br />&#160;&#160;&#160;&#160;let total units be 0;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Customers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if V is less than the maximum value entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase total units by the base entry;
<br />&#160;&#160;&#160;&#160;decide on total units.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14232_437" -->
<a id="c14232_437"></a><blockquote class="code"><p class="quoted">
Understand &quot;set price to [monetary value]&quot; as setting price to. Setting price to is an action applying to one monetary value.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14233_437" -->
<a id="c14233_437"></a><blockquote class="code"><p class="quoted">
Carry out setting price to:
<br />&#160;&#160;&#160;&#160;let V be the monetary value understood;
<br />&#160;&#160;&#160;&#160;let n be the units sold at the monetary value understood;
<br />&#160;&#160;&#160;&#160;let P be given by the Profit Equation;
<br />&#160;&#160;&#160;&#160;say &quot;You set the price of your widgets to [V], resulting in sales of [n] unit[s] and &quot;;
<br />&#160;&#160;&#160;&#160;if P is less than $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let L be $0.00 - P;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a loss of [L].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if P is $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;break even.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a profit of [P].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14234_437" -->
<a id="c14234_437"></a><blockquote class="code"><p class="quoted">
Test me with &quot;set price to $0.00 / set price to $100.00 / set price to $15.00 / set price to $8.00 / set price to $25.00 / set price to $14.99&quot;.
</p></blockquote>
<!-- END CODE -->
<p>As written this will be a rather dull guessing game for the player; more interesting would be to enhance it into a fuller economic simulator with more control over fixed costs and customer price points.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "264: Frozen Assets" "e67" -->
<a id="e67"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e67" class="eglink"><b>264</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e67" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Frozen Assets</span></b></a><br />A treatment of money which keeps track of how much the player has on him, and a BUY command which lets him go shopping.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e67"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example67">
<p>In our brave new world, everything will have a price, so we had better spell this out.</p>
<!-- START CODE "c14235_67" -->
<a id="c14235_67"></a><blockquote class="code"><p class="quoted">
&quot;Frozen Assets&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14236_67" -->
<a id="c14236_67"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price. A thing has a price. The price of a thing is usually $0.00. After examining something for sale, say &quot;It can be yours for [the price of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we assume a simple shopping model in which the player can't take anything without paying for it.</p>
<!-- START CODE "c14237_67" -->
<a id="c14237_67"></a><blockquote class="code"><p class="quoted">
Definition: a thing is free if the price of it is $0.00.
<br />Definition: a thing is for sale if it is not free.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14238_67" -->
<a id="c14238_67"></a><blockquote class="code"><p class="quoted">
Instead of taking something for sale:
<br />&#160;&#160;&#160;&#160;say &quot;You'll have to pay for that.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14239_67" -->
<a id="c14239_67"></a><blockquote class="code"><p class="quoted">
Before buying something for sale when the money is not in the wallet:
<br />&#160;&#160;&#160;&#160;say &quot;You're broke.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14240_67" -->
<a id="c14240_67"></a><blockquote class="code"><p class="quoted">
Before buying something for sale when the money is free:
<br />&#160;&#160;&#160;&#160;say &quot;You're broke.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14241_67" -->
<a id="c14241_67"></a><blockquote class="code"><p class="quoted">
Before buying something for sale when the price of the money is less than the price of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;Your funds do not run to the price of [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14242_67" -->
<a id="c14242_67"></a><blockquote class="code"><p class="quoted">
Instead of buying something:
<br />&#160;&#160;&#160;&#160;decrease the price of the money by the price of the noun;
<br />&#160;&#160;&#160;&#160;say &quot;You fork over [the price of the noun] for [the noun], leaving yourself with [the price of the money].&quot;;
<br />&#160;&#160;&#160;&#160;if the money is free:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the money is nowhere;
<br />&#160;&#160;&#160;&#160;now the price of the noun is $0.00;
<br />&#160;&#160;&#160;&#160;now the player is carrying the noun.
</p></blockquote>
<!-- END CODE -->
<p>The player's money object is going to be a bit unusual, because it has value but cannot itself be bought.</p>
<!-- START CODE "c14243_67" -->
<a id="c14243_67"></a><blockquote class="code"><p class="quoted">
The player carries a wallet. The wallet contains money. The price of the money is $4.50. The printed name of the money is &quot;[price of the money] in cash&quot;. Understand &quot;cash&quot; as the money.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14244_67" -->
<a id="c14244_67"></a><blockquote class="code"><p class="quoted">
Instead of taking the money:
<br />&#160;&#160;&#160;&#160;say &quot;Best to leave it alone until you need to buy something.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14245_67" -->
<a id="c14245_67"></a><blockquote class="code"><p class="quoted">
Instead of buying something free:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is yours already.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14246_67" -->
<a id="c14246_67"></a><blockquote class="code"><p class="quoted">
Instead of buying the money:
<br />&#160;&#160;&#160;&#160;say &quot;The money belongs to you; you buy things with it.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we just need something to buy.</p>
<!-- START CODE "c14247_67" -->
<a id="c14247_67"></a><blockquote class="code"><p class="quoted">
The Dessert Parlor is a room. &quot;An underlit, over-crowded room campily furnished with a lot of gilt-frame mirrors and twinkle lights: it is essentially a brothel of food. The service is slow at best, and on Saturday nights glacial. However. The wares on display more than make up for these trivial inconveniences.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14248_67" -->
<a id="c14248_67"></a><blockquote class="code"><p class="quoted">
The vanilla ice cream is an edible thing in the Parlor. The price of the ice cream is $2.45. The description is &quot;In the scale of ice creams, you recognize this as a very inferior vanilla because it has no adjectives in the title.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14249_67" -->
<a id="c14249_67"></a><blockquote class="code"><p class="quoted">
The raspberry tart is an edible thing in the Parlor. The price of the tart is $4.50. The description is &quot;An almond-laced shell packed with raspberries-under-glaze.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14250_67" -->
<a id="c14250_67"></a><blockquote class="code"><p class="quoted">
The syllabub is an edible thing in the Parlor. The price of the syllabub is $4.25. The description is &quot;Whipped cream, alcohol, and lime juice, a substance without any redeeming food value whatever.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14251_67" -->
<a id="c14251_67"></a><blockquote class="code"><p class="quoted">
The espresso cake is an edible thing in the Parlor. The price of the espresso cake is $5.50. The description is &quot;A lethal wedge of purest blackness.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14252_67" -->
<a id="c14252_67"></a><blockquote class="code"><p class="quoted">
Test me with &quot;inventory / examine syllabub / get syllabub / buy syllabub / drop it / get it / buy raspberry tart&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Implementing caloric units for this scenario is left as an exercise for the reader.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "265: Money for Nothing" "e20" -->
<a id="e20"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e20" class="eglink"><b>265</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e20" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Money for Nothing</span></b></a><br />An OFFER price FOR command, allowing the player to bargain with a flexible seller.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e20"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example20">
<!-- START CODE "c14253_20" -->
<a id="c14253_20"></a><blockquote class="code"><p class="quoted">
&quot;Money for Nothing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14254_20" -->
<a id="c14254_20"></a><blockquote class="code"><p class="quoted">
Section 1 - Prices and Bargaining
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14255_20" -->
<a id="c14255_20"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14256_20" -->
<a id="c14256_20"></a><blockquote class="code"><p class="quoted">
A person has a price called wealth. The wealth of the player is $15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14257_20" -->
<a id="c14257_20"></a><blockquote class="code"><p class="quoted">
A thing has a price called minimum value. The minimum value of a thing is usually $0.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14258_20" -->
<a id="c14258_20"></a><blockquote class="code"><p class="quoted">
A thing has a price called desired value. The desired value of a thing is usually $5.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14259_20" -->
<a id="c14259_20"></a><blockquote class="code"><p class="quoted">
Offering it for is an action applying to one price and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14260_20" -->
<a id="c14260_20"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] for [something]&quot; as offering it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14261_20" -->
<a id="c14261_20"></a><blockquote class="code"><p class="quoted">
After taking inventory, say &quot;You have [the wealth of the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14262_20" -->
<a id="c14262_20"></a><blockquote class="code"><p class="quoted">
Check offering it for:
<br />&#160;&#160;&#160;&#160;if the price understood is greater than the wealth of the player, say &quot;You don't have that kind of cash.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not carried by someone, say &quot;There's no one in a position to sell you [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is carried by the player, say &quot;[The second noun] is already yours.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the minimum value of the second noun is greater than the price understood, say &quot;[The holder of the second noun] cackles disdainfully. 'If yer just here to insult me you can take your business elsewhere!' he says.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the desired value of the second noun is greater than the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be the desired value of the second noun minus the price understood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be difference divided by two;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the desired value of the second noun by difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'How about [desired value of the second noun]?' suggests [the holder of the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the desired value of the second noun is the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From the avaricious gleam in the eye of [the holder of the second noun], you guess you could've gotten this purchase for less...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14263_20" -->
<a id="c14263_20"></a><blockquote class="code"><p class="quoted">
Carry out offering it for:
<br />&#160;&#160;&#160;&#160;increase the wealth of the holder of the second noun by the price understood;
<br />&#160;&#160;&#160;&#160;decrease the wealth of the player by the price understood;
<br />&#160;&#160;&#160;&#160;move the second noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14264_20" -->
<a id="c14264_20"></a><blockquote class="code"><p class="quoted">
Report offering it for:
<br />&#160;&#160;&#160;&#160;say &quot;You spend [the price understood], and now you possess [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14265_20" -->
<a id="c14265_20"></a><blockquote class="code"><p class="quoted">
When play begins: now right hand status line is &quot;Your funds: [wealth of the player]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:</p>
<!-- START CODE "c14266_20" -->
<a id="c14266_20"></a><blockquote class="code"><p class="quoted">
The last object offered is a thing that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14267_20" -->
<a id="c14267_20"></a><blockquote class="code"><p class="quoted">
Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the price understood is the desired value of the last object offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try offering the desired value of the last object offered for the last object offered.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14268_20" -->
<a id="c14268_20"></a><blockquote class="code"><p class="quoted">
Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You reject the offer firmly.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:</p>
<!-- START CODE "c14269_20" -->
<a id="c14269_20"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] to [someone]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;). Understand &quot;offer [someone] [price]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14270_20" -->
<a id="c14270_20"></a><blockquote class="code"><p class="quoted">
Understand &quot;buy [something]&quot; as a mistake (&quot;You'll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14271_20" -->
<a id="c14271_20"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14272_20" -->
<a id="c14272_20"></a><blockquote class="code"><p class="quoted">
The Flea Market is a room. The crotchety man is a man in the Market. &quot;A crotchety man here is selling [the list of things carried by the crotchety man].&quot; The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14273_20" -->
<a id="c14273_20"></a><blockquote class="code"><p class="quoted">
The minimum value of the brooch is $2.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14274_20" -->
<a id="c14274_20"></a><blockquote class="code"><p class="quoted">
Test me with &quot;offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "269: Fabrication" "e134" -->
<a id="e134"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e134" class="eglink"><b>269</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e134" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fabrication</span></b></a><br />A system of assembling clothing from a pattern and materials; both the pattern and the different fabrics have associated prices.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e134"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example134">
<p>When we make a new kind of value, the new named values can themselves have properties. That is convenient because, for instance, we might want to associate a material (itself the property of an object) with certain features, such as price.</p>
<!-- START CODE "c14275_134" -->
<a id="c14275_134"></a><blockquote class="code"><p class="quoted">
&quot;Fabrication&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14276_134" -->
<a id="c14276_134"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14277_134" -->
<a id="c14277_134"></a><blockquote class="code"><p class="quoted">
A material is a kind of value. The materials are silk, velvet, cotton, and wool.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14278_134" -->
<a id="c14278_134"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $1.99 specifies a price.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14279_134" -->
<a id="c14279_134"></a><blockquote class="code"><p class="quoted">
Area is a kind of value. 5 sq yards specifies an area.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14280_134" -->
<a id="c14280_134"></a><blockquote class="code"><p class="quoted">
Cost is a kind of value.. $1.99 per sq yard specifies a cost.  A cost times an area specifies a price.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14281_134" -->
<a id="c14281_134"></a><blockquote class="code"><p class="quoted">
A material has a cost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14282_134" -->
<a id="c14282_134"></a><blockquote class="code"><p class="quoted">
The cost of silk is usually $5.75 per sq yard. The cost of velvet is usually $9.50 per sq yard. The cost of cotton is usually $2.29 per sq yard. The cost of wool is usually $4.75 per sq yard.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14283_134" -->
<a id="c14283_134"></a><blockquote class="code"><p class="quoted">
A pattern is a kind of thing. A pattern has a material. A pattern has an area. A pattern has a price. The price of a pattern is usually $9.99. Understand &quot;pattern&quot; as a pattern. Understand &quot;patterns&quot; as the plural of a pattern.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14284_134" -->
<a id="c14284_134"></a><blockquote class="code"><p class="quoted">
After printing the name of a pattern:
<br />&#160;&#160;&#160;&#160;if planning:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; pattern&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14285_134" -->
<a id="c14285_134"></a><blockquote class="code"><p class="quoted">
To decide what price is the material price of (chosen item - pattern):
<br />&#160;&#160;&#160;&#160;let C be the cost of the material of the chosen item;
<br />&#160;&#160;&#160;&#160;let A be the area of the chosen item;
<br />&#160;&#160;&#160;&#160;decide on C * A.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14286_134" -->
<a id="c14286_134"></a><blockquote class="code"><p class="quoted">
To decide what price is the overall price of (chosen item - pattern):
<br />&#160;&#160;&#160;&#160;let P be the price of the chosen item;
<br />&#160;&#160;&#160;&#160;let M be the material price of the chosen item;
<br />&#160;&#160;&#160;&#160;decide on P + M.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14287_134" -->
<a id="c14287_134"></a><blockquote class="code"><p class="quoted">
Understand &quot;plan [material] [pattern]&quot; as planning it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14288_134" -->
<a id="c14288_134"></a><blockquote class="code"><p class="quoted">
Planning it for is an action applying to one material and one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14289_134" -->
<a id="c14289_134"></a><blockquote class="code"><p class="quoted">
Carry out planning it for:
<br />&#160;&#160;&#160;&#160;now the material of the second noun is the material understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14290_134" -->
<a id="c14290_134"></a><blockquote class="code"><p class="quoted">
Report planning it for:
<br />&#160;&#160;&#160;&#160;say &quot;You lay plans for a [material understood] [second noun], running [material price of the second noun] for materials and [price of the second noun] for the pattern itself, for a total of [overall price of the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14291_134" -->
<a id="c14291_134"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14292_134" -->
<a id="c14292_134"></a><blockquote class="code"><p class="quoted">
Joanne's Fabrics is a room. Joanne's Fabrics contains a pattern bin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14293_134" -->
<a id="c14293_134"></a><blockquote class="code"><p class="quoted">
The cape is a pattern. The material of the cape is velvet. The area of the cape is 9 sq yards.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14294_134" -->
<a id="c14294_134"></a><blockquote class="code"><p class="quoted">
The bodice is a pattern. The material of the bodice is silk. The area of the bodice is 2 sq yards. The price of the bodice is $11.99.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14295_134" -->
<a id="c14295_134"></a><blockquote class="code"><p class="quoted">
The cape and the bodice are in the pattern bin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14296_134" -->
<a id="c14296_134"></a><blockquote class="code"><p class="quoted">
Test me with &quot;plan silk bodice / plan velvet bodice / plan velvet cape / plan wool cape&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "262: Nickel and Dimed" "e382" -->
<a id="e382"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e382" class="eglink"><b>262</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e382" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Nickel and Dimed</span></b></a><br />A more intricate system of money, this time keeping track of the individual denominations of coins and bills, specifying what gets spent at each transaction, and calculating appropriate change.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e382"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example382">
<p>Typically games which keep track of the player's wealth need only do so as an abstract number, but occasionally it becomes useful to represent money as physical coins and bills. Here is an example that does exactly that:</p>
<!-- START CODE "c14297_382" -->
<a id="c14297_382"></a><blockquote class="code"><p class="quoted">
&quot;Nickel and Dimed&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14298_382" -->
<a id="c14298_382"></a><blockquote class="code"><p class="quoted">
Section 1 - Currency
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14299_382" -->
<a id="c14299_382"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents. A thing has a price. The price of a thing is usually $0.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14300_382" -->
<a id="c14300_382"></a><blockquote class="code"><p class="quoted">
Money is a kind of thing. Coin is a kind of money.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14301_382" -->
<a id="c14301_382"></a><blockquote class="code"><p class="quoted">
A dollar bill is a kind of money. The price of a dollar bill is $1.00. The printed name of a dollar bill is &quot;dollar bill&quot;. Rule for printing the plural name of a dollar bill: say &quot;dollar bills&quot;. The description of a dollar bill is &quot;It has George Washington's head on the front, which with a bit of creative folding can be scrunched to look like a mushroom. All important things really are learned in kindergarten.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14302_382" -->
<a id="c14302_382"></a><blockquote class="code"><p class="quoted">
A five-dollar bill is a kind of money. The price of a five-dollar bill is $5.00. Understand &quot;five&quot; or &quot;five dollar&quot; as the five-dollar bill. The description of a five-dollar bill is &quot;Abraham Lincoln. He looks slightly less dignified here than he does on the penny.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14303_382" -->
<a id="c14303_382"></a><blockquote class="code"><p class="quoted">
A hundred-dollar bill is a kind of money. The price of the hundred-dollar bill is $100.00. Understand &quot;hundred&quot; or &quot;hundred dollar&quot; as the hundred-dollar bill. Understand &quot;dollar&quot; as the dollar bill. The description of a hundred-dollar bill is &quot;It's got Benjamin Franklin, who always gets shafted: a denomination too large for anyone to carry conveniently, and a lot of local fame in Philadelphia.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Our choice of understand rules guarantees that &quot;five dollar&quot; will be understood as the five, but &quot;dollar&quot; alone as the single. We will learn more about &quot;understand&quot; in later chapters, but here is a test to check the functionality:</p>
<!-- START CODE "c14304_382" -->
<a id="c14304_382"></a><blockquote class="code"><p class="quoted">
Test bills with &quot;x hundred dollar bill / x five dollar bill / x hundred / x five / x dollar / x dollar bill&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14305_382" -->
<a id="c14305_382"></a><blockquote class="code"><p class="quoted">
A quarter is a kind of coin. The price of a quarter is $0.25. The description of a quarter is &quot;One of the old-fashioned variety, not a state quarter.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14306_382" -->
<a id="c14306_382"></a><blockquote class="code"><p class="quoted">
A dime is a kind of coin. The price of a dime is $0.10. The description of a dime is &quot;Franklin Roosevelt, trying not to look too annoyed that his coin is so small and thin.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14307_382" -->
<a id="c14307_382"></a><blockquote class="code"><p class="quoted">
A nickel is a kind of coin. The price of a nickel is $0.05. The description of a nickel is &quot;A chubby coin, but you've always liked Thomas Jefferson, and the Monticello on the back is a nice touch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14308_382" -->
<a id="c14308_382"></a><blockquote class="code"><p class="quoted">
A penny is a kind of coin. The price of a penny is $0.01. The description of the penny is &quot;A profile of Abe Lincoln. Sometime soon they'll stop minting these, you're sure of it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14309_382" -->
<a id="c14309_382"></a><blockquote class="code"><p class="quoted">
Section 2 - Ownership
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14310_382" -->
<a id="c14310_382"></a><blockquote class="code"><p class="quoted">
Ownership relates one person (called the owner) to various things. The verb to own means the ownership relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14311_382" -->
<a id="c14311_382"></a><blockquote class="code"><p class="quoted">
Definition: a thing is owned if the player owns it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14312_382" -->
<a id="c14312_382"></a><blockquote class="code"><p class="quoted">
Instead of buying something which is owned by the player:
<br />&#160;&#160;&#160;&#160;say &quot;You already own [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14313_382" -->
<a id="c14313_382"></a><blockquote class="code"><p class="quoted">
Instead of going somewhere when the player encloses something (called the stolen goods) which is not owned by the player:
<br />&#160;&#160;&#160;&#160;if the owner of the stolen goods is not a person:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the player owns the stolen goods;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;if the owner of the stolen goods can see the player,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Hey there buddy, not so fast,' says [the owner of the stolen goods]. 'You going to buy [the stolen goods] first, or am I gonna call the cops?'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14314_382" -->
<a id="c14314_382"></a><blockquote class="code"><p class="quoted">
After taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;Altogether, you've got [the player's cash] on your person.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14315_382" -->
<a id="c14315_382"></a><blockquote class="code"><p class="quoted">
To decide what price is the player's cash:
<br />&#160;&#160;&#160;&#160;let sum be the total price of money enclosed by the player;
<br />&#160;&#160;&#160;&#160;decide on sum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14316_382" -->
<a id="c14316_382"></a><blockquote class="code"><p class="quoted">
To decide what price is the sum in (item - a container):
<br />&#160;&#160;&#160;&#160;let sum be the total price of the money in the item;
<br />&#160;&#160;&#160;&#160;decide on sum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14317_382" -->
<a id="c14317_382"></a><blockquote class="code"><p class="quoted">
When play begins: now every thing carried by the player is owned by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14318_382" -->
<a id="c14318_382"></a><blockquote class="code"><p class="quoted">
Section 3 - Purchasing and Sales
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14319_382" -->
<a id="c14319_382"></a><blockquote class="code"><p class="quoted">
Definition: a thing is worthless if the price of it is $0.00. Definition: a thing is valuable if it is not worthless.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14320_382" -->
<a id="c14320_382"></a><blockquote class="code"><p class="quoted">
A thing can be for sale.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14321_382" -->
<a id="c14321_382"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of something (called target) which is for sale (this is the disclose prices in room description rule): say &quot; ([price of the target])&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14322_382" -->
<a id="c14322_382"></a><blockquote class="code"><p class="quoted">
Before listing contents: group money together giving articles.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14323_382" -->
<a id="c14323_382"></a><blockquote class="code"><p class="quoted">
Instead of examining a for sale thing (this is the describe things by price rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] costs [the price of the noun], payable to [the owner of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>The cashbox is a theoretical construct, not something the player will ever encounter in the course of the game. It contains all the money that is available for non-player characters to use in making change. If we wanted, we could give each character his own stash of change, but this would increase the likelihood that any given person would run out of cash to make change with. (And in this example there is only one vendor anyway.)</p>
<!-- START CODE "c14324_382" -->
<a id="c14324_382"></a><blockquote class="code"><p class="quoted">
The cashbox is a container. The cashbox contains 10 pennies. The cashbox contains 10 nickels.  The cashbox contains 10 dimes.  The cashbox contains 10 quarters.  The cashbox contains 10 dollar bills.  The cashbox contains 10 five-dollar bills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14325_382" -->
<a id="c14325_382"></a><blockquote class="code"><p class="quoted">
The block buying rule is not listed in the check buying rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14326_382" -->
<a id="c14326_382"></a><blockquote class="code"><p class="quoted">
Check buying something:
<br />&#160;&#160;&#160;&#160;if the noun is not for sale, say &quot;[The owner of the noun] does not want to sell you [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player's cash is less than the price of the noun, say &quot;You can't afford the asking price of [the price of the noun] for [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14327_382" -->
<a id="c14327_382"></a><blockquote class="code"><p class="quoted">
Carry out buying something:
<br />&#160;&#160;&#160;&#160;let sum paid be $0.00;
<br />&#160;&#160;&#160;&#160;while sum paid is less than the price of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let current target be the price of the noun minus the sum paid;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let bill offered be the best money from the player for the current target;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the bill offered is money:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the bill offered to the owner of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the bill offered is spent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the sum paid by the price of the bill offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let current target be the price of the noun minus the sum paid;
<br />&#160;&#160;&#160;&#160;say &quot;You hand [the owner of the noun] [a list of spent money]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;let change be $0.00;
<br />&#160;&#160;&#160;&#160;if the sum paid is greater than the price of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the change is the sum paid minus the price of the noun;
<br />&#160;&#160;&#160;&#160;if change is greater than the sum in the cashbox:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the player carries every spent money;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every spent thing is fresh;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Whoa,' says [the owner of the noun], handing the cash back to you. 'I can't make change for that, man, sorry.'&quot; instead;
<br />&#160;&#160;&#160;&#160;now every spent thing is in the cashbox;
<br />&#160;&#160;&#160;&#160;now every spent thing is fresh;
<br />&#160;&#160;&#160;&#160;while change is greater than $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let change bill be the best money from the cashbox for change;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease change by the price of the change bill;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now change bill is spent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move change bill to player;
<br />&#160;&#160;&#160;&#160;if money is spent, say &quot;[The owner of the noun] makes change with [a list of spent money]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;now every spent thing is fresh;
<br />&#160;&#160;&#160;&#160;if the noun is not enclosed by the player and the owner of the noun can touch the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Here ya go,' says [the owner of the noun], handing [the noun] to you. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the player;
<br />&#160;&#160;&#160;&#160;now the player owns the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14328_382" -->
<a id="c14328_382"></a><blockquote class="code"><p class="quoted">
Money can be spent or fresh.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14329_382" -->
<a id="c14329_382"></a><blockquote class="code"><p class="quoted">
Report buying something:
<br />&#160;&#160;&#160;&#160;if the player owns the noun,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Your transaction is now complete, leaving you with [the player's cash].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We've skipped over defining what makes a denomination the best for a given transaction, so we'd better do that now. Our goal is to avoid ever having the player gratuitously overpay -- he should always offer the smallest amount of money that will meet the price of what he's buying.</p>
<p>We also assume that all money &quot;enclosed by the buyer&quot; -- that is, somewhere in the buyer's possession -- is available for use. This might not be true in a game where the player could pick up, say, a sealed lucite container with a ten-dollar bill inside; in that case we would have to define our terms more rigorously, perhaps by requiring that the bills be both enclosed and touchable by the buyer. The touchability check adds an extra layer of calculation, however, and since it is not necessary in this example (and probably not in most other cases either), we'll leave it out:</p>
<!-- START CODE "c14330_382" -->
<a id="c14330_382"></a><blockquote class="code"><p class="quoted">
Definition: money is costly if its price is $2.50 or more. Definition: money is cheap if its price is $0.99 or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14331_382" -->
<a id="c14331_382"></a><blockquote class="code"><p class="quoted">
Functional relation is a kind of value. The functional relations are overpayment, underpayment and irrelevant. Money has a functional relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14332_382" -->
<a id="c14332_382"></a><blockquote class="code"><p class="quoted">
To decide what money is the best money from (buyer - a thing) for (cost - a price):
<br />&#160;&#160;&#160;&#160;repeat with bill offered running through money:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the bill offered is enclosed by the buyer:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the price of the bill offered is the cost, decide on the bill offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the price of the bill offered is greater than the cost, now the functional relation of bill offered is overpayment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now the functional relation of the bill offered is underpayment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the functional relation of the bill offered is irrelevant;
<br />&#160;&#160;&#160;&#160;[say &quot;underpayment: [a list of underpayment money]
<br />&#160;&#160;&#160;&#160;overpayment: [a list of overpayment money]&quot;;]
<br />&#160;&#160;&#160;&#160;if the total price of underpayment money is less than the cost:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decide on the cheapest money which is overpayment;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decide on the costliest money which is underpayment.
</p></blockquote>
<!-- END CODE -->
<p>Notice the &quot;say underpayment/overpayment section...&quot; noted out, above. This is for debugging purposes: when writing complex code, it is sometimes useful to put in lines that will say explicitly what is going on. We can enclose them in brackets and Inform will ignore them as though they were comments; if we run into any problems with the code later, we can erase the brackets and see the diagnostic printed to the screen as we play.</p>
<!-- START CODE "c14333_382" -->
<a id="c14333_382"></a><blockquote class="code"><p class="quoted">
Instead of giving money to someone:
<br />&#160;&#160;&#160;&#160;say &quot;Best to keep the transaction simple by buying whatever you want.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14334_382" -->
<a id="c14334_382"></a><blockquote class="code"><p class="quoted">
Section 4 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14335_382" -->
<a id="c14335_382"></a><blockquote class="code"><p class="quoted">
The player carries 2 dollar bills. The player carries a nickel. The player carries 2 pennies. The player carries a five-dollar bill. The player carries 1 hundred-dollar bill.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14336_382" -->
<a id="c14336_382"></a><blockquote class="code"><p class="quoted">
The Subway Station is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14337_382" -->
<a id="c14337_382"></a><blockquote class="code"><p class="quoted">
The Bitterly Cold Street is north of the Subway Station. &quot;Even though there is no actual snow or ice, the street is about as cold as you can stand, for which reason walking the twenty blocks uptown is not an acceptable option.&quot; The Bitterly Cold Street contains a dollar bill.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14338_382" -->
<a id="c14338_382"></a><blockquote class="code"><p class="quoted">
The newspaper man is a man in the Subway Station. &quot;A newspaper man in a knit cap and fingerless gloves is hopping up and down behind his stand[if the turn count is 1]. Cold weather, caffeine overdose, or mental illness? You may never know. Welcome to New York[end if].&quot; The description is &quot;Eye contact with strangers is something to avoid around here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14339_382" -->
<a id="c14339_382"></a><blockquote class="code"><p class="quoted">
The stand is a supporter in the Station. The stand is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14340_382" -->
<a id="c14340_382"></a><blockquote class="code"><p class="quoted">
A copy of the New York Times is on the stand. The price of the New York Times is $1.25.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14341_382" -->
<a id="c14341_382"></a><blockquote class="code"><p class="quoted">
A pack of gum is on the stand. The price of the gum is $0.40.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14342_382" -->
<a id="c14342_382"></a><blockquote class="code"><p class="quoted">
A paperback novel is on the stand. The price of the paperback novel is $7.99.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14343_382" -->
<a id="c14343_382"></a><blockquote class="code"><p class="quoted">
A packet of trading cards is on the stand. The price of the packet is $0.99.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14344_382" -->
<a id="c14344_382"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every thing on the stand is owned by the newspaper man;
<br />&#160;&#160;&#160;&#160;now every thing on the stand is for sale.
</p></blockquote>
<!-- END CODE -->
<p>We could have done all that by hand, but the initialization requires a little less work.</p>
<!-- START CODE "c14345_382" -->
<a id="c14345_382"></a><blockquote class="code"><p class="quoted">
The ticket machine is a container in the Subway Station. It is fixed in place. The description of the ticket machine is &quot;An LED screen on the front instructs you to insert [remaining ticket total] to complete your purchase. You also notice that the NO CHANGE light is lit up.&quot; The light is part of the ticket machine. The printed name of the light is &quot;no change light&quot;. Understand &quot;no change&quot; or &quot;no change light&quot; as the light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14346_382" -->
<a id="c14346_382"></a><blockquote class="code"><p class="quoted">
The description of the light is &quot;In the whole of your recollection, the ticket machine has actually had change a total of twice. Usually, as now, the no-change light gleams angrily, daring you to put in more than you owe.&quot; A cash return button is part of the ticket machine. Instead of pushing the cash return button: say &quot;The ticket machine regurgitates [the list of things in the ticket machine].&quot;; now every thing in the ticket machine is carried by the player. Instead of taking something which is in the ticket machine: say &quot;The ticket machine has swallowed your money, but it can be retrieved (you hope) with the cash return button.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14347_382" -->
<a id="c14347_382"></a><blockquote class="code"><p class="quoted">
Instead of inserting a hundred-dollar bill into the ticket machine:
<br />&#160;&#160;&#160;&#160;say &quot;What, are you nuts?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14348_382" -->
<a id="c14348_382"></a><blockquote class="code"><p class="quoted">
To decide what price is the remaining ticket total:
<br />&#160;&#160;&#160;&#160;let absolute cost be $2.25;
<br />&#160;&#160;&#160;&#160;let remaining cost be absolute cost minus the total price of things in the ticket machine;
<br />&#160;&#160;&#160;&#160;if remaining cost is less than $0.00, decide on $0.00;
<br />&#160;&#160;&#160;&#160;decide on remaining cost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14349_382" -->
<a id="c14349_382"></a><blockquote class="code"><p class="quoted">
Instead of inserting something which is not money into the ticket machine: say &quot;The ticket machine only accepts money, not other tokens of your esteem and regard.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14350_382" -->
<a id="c14350_382"></a><blockquote class="code"><p class="quoted">
Instead of inserting a penny into the ticket machine:
<br />&#160;&#160;&#160;&#160;say &quot;The penny rattles out again mockingly: not even the ticket machine thinks these are worth anything.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14351_382" -->
<a id="c14351_382"></a><blockquote class="code"><p class="quoted">
A subway pass is a kind of thing. 15 subway passes are in the cashbox. The description of a subway pass is usually &quot;A rectangle of thick lavender paper with a black magnetic stripe running up the back side. It is good for one trip on the subway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14352_382" -->
<a id="c14352_382"></a><blockquote class="code"><p class="quoted">
After inserting something into the ticket machine:
<br />&#160;&#160;&#160;&#160;if the remaining ticket total is $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let purchased ticket be a random subway pass in the cashbox;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if purchased ticket is not a subway pass, say &quot;The ticket machine grunts disobligingly and then the unwelcome word MALFUNCTION parades across the LED screen, three letters at a time.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through things in the machine:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is nowhere;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move purchased ticket to player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The ticket machine beeps obligingly and disgorges a single subway pass.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The ticket machine beeps obligingly and adjusts its price down to [remaining ticket total].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And because even though the ticket machine is a container, we don't want to say (empty) after it in the room description:</p>
<!-- START CODE "c14353_382" -->
<a id="c14353_382"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of the ticket machine:
<br />&#160;&#160;&#160;&#160;do nothing instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14354_382" -->
<a id="c14354_382"></a><blockquote class="code"><p class="quoted">
Test me with &quot;buy novel / n / get dollar / s / buy novel&quot;.
</p></blockquote>
<!-- END CODE -->
<p>After all that, we should probably give the player a chance to win, as well:</p>
<!-- START CODE "c14355_382" -->
<a id="c14355_382"></a><blockquote class="code"><p class="quoted">
The turnstile is south of the Subway Station. &quot;A turnstile is all that separates you from the subway platform stairs.&quot; The turnstile is north of the Platform. The turnstile is a door. Before going down in the presence of the turnstile, try going south instead. The turnstile is openable. The turnstile is open.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14356_382" -->
<a id="c14356_382"></a><blockquote class="code"><p class="quoted">
Instead of going through the turnstile when the player carries a subway pass: say &quot;You enter the turnstile and begin your journey uptown...&quot;; end the story finally saying &quot;At last&quot;. Instead of going through the turnstile: say &quot;You can't go through the turnstile without a subway pass. They're very strict about this.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14357_382" -->
<a id="c14357_382"></a><blockquote class="code"><p class="quoted">
Instead of inserting money into the turnstile: say &quot;The turnstile takes passes, not money.&quot; Instead of inserting a subway pass into the turnstile, try entering the turnstile.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14358_382" -->
<a id="c14358_382"></a><blockquote class="code"><p class="quoted">
Test more with &quot;buy times / put all but five-dollar bill in machine / press button / buy gum / buy cards / i / put dollar in machine / g / put quarter in machine / i / d&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In fairness to the Metropolitan Transit Authority, we should admit that most of the ticketing machines in the real New York subway are better than this, and will accept, say, a debit card. But that would be so much less exciting to implement.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "283: Introduction to Juggling" "e207" -->
<a id="e207"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e207" class="eglink"><b>283</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e207" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Introduction to Juggling</span></b></a><br />Assortment of equipment defined with price and description, in a table.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_16.html#e207"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example207">
<p>Suppose we have a whole catalog-full of equipment that the player might want to purchase and use. We'll start by defining our purchasing rules:</p>
<!-- START CODE "c14359_207" -->
<a id="c14359_207"></a><blockquote class="code"><p class="quoted">
&quot;Introduction to Juggling&quot;
</p></blockquote>
<!-- END CODE -->
<p>We allow things to have prices, and the player's price to indicate how much money the player has:</p>
<!-- START CODE "c14360_207" -->
<a id="c14360_207"></a><blockquote class="code"><p class="quoted">
Section 1 - Mail-ordering defined
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14361_207" -->
<a id="c14361_207"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $100.99 specifies a price.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14362_207" -->
<a id="c14362_207"></a><blockquote class="code"><p class="quoted">
The player has a price. The price of the player is $60.00.
</p></blockquote>
<!-- END CODE -->
<p>Because we're allowing the player to order things that he can't currently see, we need to borrow a special kind of grammar from the Understanding chapter. All our orderable items in this example are toys, so &quot;any toy&quot; means any object of the toy kind, whether or not it is in view at the moment:</p>
<!-- START CODE "c14363_207" -->
<a id="c14363_207"></a><blockquote class="code"><p class="quoted">
Understand &quot;buy [any toy]&quot; as ordering. Understand the command &quot;order&quot; as something new. Understand the command &quot;order&quot; as &quot;buy&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14364_207" -->
<a id="c14364_207"></a><blockquote class="code"><p class="quoted">
Ordering is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14365_207" -->
<a id="c14365_207"></a><blockquote class="code"><p class="quoted">
Check ordering:
<br />&#160;&#160;&#160;&#160;if the cost of the noun is greater than the price of the player, say &quot;You only have [price of the player], while [the noun] would cost [cost of the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14366_207" -->
<a id="c14366_207"></a><blockquote class="code"><p class="quoted">
Carry out ordering:
<br />&#160;&#160;&#160;&#160;move the noun to the player;
<br />&#160;&#160;&#160;&#160;decrease the price of the player by the cost of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14367_207" -->
<a id="c14367_207"></a><blockquote class="code"><p class="quoted">
Report ordering:
<br />&#160;&#160;&#160;&#160;say &quot;You order [a noun], which is delivered instantly.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We should also handle the situation where the player orders another of something he has already bought and which is right in front of him:</p>
<!-- START CODE "c14368_207" -->
<a id="c14368_207"></a><blockquote class="code"><p class="quoted">
Instead of buying something:
<br />&#160;&#160;&#160;&#160;say &quot;You already have [a noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>So much for the general rules for this scenario. Now we move on to particulars: the actual items the player is allowed to order. Each item will have a description, a price, and a difficulty representing how skilled the player must be in order to make use of that item.</p>
<p>Since we are going to use price and difficulty in the table that defines our juggling equipment, we need to mention these kinds of value before the line that says how toys are defined.</p>
<!-- START CODE "c14369_207" -->
<a id="c14369_207"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14370_207" -->
<a id="c14370_207"></a><blockquote class="code"><p class="quoted">
Difficulty is a kind of value. The difficulties are easy, moderate, hard. The player has a difficulty. The difficulty of the player is easy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14371_207" -->
<a id="c14371_207"></a><blockquote class="code"><p class="quoted">
The plural of toy is toys. A toy is a kind of thing. Some toys are defined by the Table of Juggling Equipment.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14372_207" -->
<a id="c14372_207"></a><blockquote class="code"><p class="quoted">
Table of Juggling Equipment
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">toy</p></td><td class="quotedtablecell"><p class="quoted">cost</p></td><td class="quotedtablecell"><p class="quoted">restriction</p></td><td class="quotedtablecell"><p class="quoted">description</p></td><td class="quotedtablecell"><p class="quoted">difficulty</p></td><td class="quotedtablecell"><p class="quoted">outcome</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">an economy bounce ball set</p></td><td class="quotedtablecell"><p class="quoted">$10.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;comes in set of three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A fairly ordinary rubber ball, solid color.&quot;</p></td><td class="quotedtablecell"><p class="quoted">moderate</p></td><td class="quotedtablecell"><p class="quoted">&quot;You create of the balls a cascade of moving color.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">an acrylic contact ball</p></td><td class="quotedtablecell"><p class="quoted">$14.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;should be bought with ball polish&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A large clear ball, not for throwing but for using in various hand tricks.&quot;</p></td><td class="quotedtablecell"><p class="quoted">hard</p></td><td class="quotedtablecell"><p class="quoted">&quot;You rotate the ball between your fingers and pass it over the backs of your hands.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a UV-reactive contact ball</p></td><td class="quotedtablecell"><p class="quoted">$55.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;appears to glow in dark rooms&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Similar to the ordinary acrylic contact ball, but UV-reactive.&quot;</p></td><td class="quotedtablecell"><p class="quoted">hard</p></td><td class="quotedtablecell"><p class="quoted">&quot;The ball glows as it passes between your fingers and over the backs of your hands, rolls up to your wrist, snaps through the air-- all apparently of its own accord.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a ball polish set</p></td><td class="quotedtablecell"><p class="quoted">$10.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;useful only with acrylic contact balls&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Three bottles of polish and a rag for keeping acrylic contact balls scratch-free.&quot;</p></td><td class="quotedtablecell"><p class="quoted">hard</p></td><td class="quotedtablecell"><p class="quoted">&quot;You juggle the polish bottles with difficulty, since they are full of sloshing liquid.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a teaching beanbag set</p></td><td class="quotedtablecell"><p class="quoted">$8.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;set of three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Soft, easily-juggled bag.&quot;</p></td><td class="quotedtablecell"><p class="quoted">easy</p></td><td class="quotedtablecell"><p class="quoted">&quot;You juggle the beanbags with basic competence.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a stage ball set</p></td><td class="quotedtablecell"><p class="quoted">$13.50</p></td><td class="quotedtablecell"><p class="quoted">&quot;comes in set of three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Not much different in appearance from the economy bounce ball, but larger so as to be visible from a stage.&quot;</p></td><td class="quotedtablecell"><p class="quoted">moderate</p></td><td class="quotedtablecell"><p class="quoted">&quot;You create of the balls a cascade of moving color, visible from quite a distance.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a fireball set</p></td><td class="quotedtablecell"><p class="quoted">$33.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;will not be sold to minors&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A ball has wicking and a fuel-source inside so that it will burn while being juggled.&quot;</p></td><td class="quotedtablecell"><p class="quoted">hard</p></td><td class="quotedtablecell"><p class="quoted">&quot;You juggle the fireballs rapidly, careful never to hold any of them a moment longer than necessary.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Notice that we are allowed to define &quot;description&quot; and other already-known properties in the table as well.</p>
<!-- START CODE "c14373_207" -->
<a id="c14373_207"></a><blockquote class="code"><p class="quoted">
Backstage is a room. &quot;A muffled black room with felt on the floors and walls. A glowing sign over the stage door says SHOW IN PROGRESS.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14374_207" -->
<a id="c14374_207"></a><blockquote class="code"><p class="quoted">
The Juggling Equipment Catalog is a thing in Backstage.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14375_207" -->
<a id="c14375_207"></a><blockquote class="code"><p class="quoted">
Instead of examining the Catalog:
<br />&#160;&#160;&#160;&#160;say &quot;You read through the offerings, including: [paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;repeat through Table of Juggling Equipment:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[bold type][toy entry][roman type]: [description entry] [cost entry], [restriction entry]. [paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14376_207" -->
<a id="c14376_207"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;Budget: [price of the player]&quot;;
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;[location], feeling [if the difficulty of player is easy]incompetent[end if][if the difficulty of player is moderate]moderately skilled[end if][if the difficulty of player is hard]highly skilled[end if]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And of course this will be no fun unless the player is allowed to use the equipment:</p>
<!-- START CODE "c14377_207" -->
<a id="c14377_207"></a><blockquote class="code"><p class="quoted">
Understand &quot;juggle [something]&quot; as juggling.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14378_207" -->
<a id="c14378_207"></a><blockquote class="code"><p class="quoted">
Juggling is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14379_207" -->
<a id="c14379_207"></a><blockquote class="code"><p class="quoted">
Check juggling:
<br />&#160;&#160;&#160;&#160;if the noun is not a toy listed in the Table of Juggling Equipment, say &quot;You can't juggle [a noun]!&quot; instead;
<br />&#160;&#160;&#160;&#160;if the difficulty of the noun is greater than the difficulty of the player, say &quot;You're not quite ready to juggle something like [the noun]. Better to start with an easier toy.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14380_207" -->
<a id="c14380_207"></a><blockquote class="code"><p class="quoted">
Carry out juggling:
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the difficulty of the player is less than hard and the difficulty of the player is the difficulty of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the difficulty of the player is the difficulty after the difficulty of the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14381_207" -->
<a id="c14381_207"></a><blockquote class="code"><p class="quoted">
Report juggling:
<br />&#160;&#160;&#160;&#160;say &quot;[outcome of the noun][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14382_207" -->
<a id="c14382_207"></a><blockquote class="code"><p class="quoted">
Instead of burning the fireball set:
<br />&#160;&#160;&#160;&#160;say &quot;It will flame by itself when you use it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14383_207" -->
<a id="c14383_207"></a><blockquote class="code"><p class="quoted">
Test me with &quot;read catalog / buy economy / buy beanbag / juggle economy / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle economy / juggle economy / juggle economy / buy fireball set / juggle fireball&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "129: Do Pass Go" "e109" -->
<a id="e109"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e109" class="eglink"><b>129</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e109" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Do Pass Go</span></b></a><br />A pair of dice which can be rolled, and are described with their current total when not carried, and have individual scores when examined.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e109"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example109">
<!-- START CODE "c14384_109" -->
<a id="c14384_109"></a><blockquote class="code"><p class="quoted">
&quot;Do Pass Go&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14385_109" -->
<a id="c14385_109"></a><blockquote class="code"><p class="quoted">
Go is a room. &quot;A giant square area, where you and your other pewter ornament friends gather before setting out to purchase London.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14386_109" -->
<a id="c14386_109"></a><blockquote class="code"><p class="quoted">
The pair of dice is carried by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14387_109" -->
<a id="c14387_109"></a><blockquote class="code"><p class="quoted">
The pair of dice has a number called first die. The pair of dice has a number called second die. The first die of the pair is 6. The second die of the pair is 6. Rule for printing the name of the pair of dice while taking inventory: say &quot;pair of dice&quot;.
<br />Rule for printing the name of the pair of dice: say &quot;pair of dice showing [first die of the pair plus second die of the pair]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14388_109" -->
<a id="c14388_109"></a><blockquote class="code"><p class="quoted">
To say detailed state of the dice:
<br />&#160;&#160;&#160;&#160;if the first die of the pair is the second die of the pair, say &quot;double [first die of the pair]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[first die of the pair] and [second die of the pair]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14389_109" -->
<a id="c14389_109"></a><blockquote class="code"><p class="quoted">
The description of the pair of dice is &quot;The pair of dice are [if the dice are carried]itching to be rolled[otherwise]showing [detailed state of the dice][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14390_109" -->
<a id="c14390_109"></a><blockquote class="code"><p class="quoted">
Rolling is an action applying to one carried thing. Understand &quot;roll [something preferably held]&quot; as rolling.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14391_109" -->
<a id="c14391_109"></a><blockquote class="code"><p class="quoted">
Check rolling when the noun is not the pair of dice: say &quot;Not something you can roll.&quot; instead.
<br />Carry out rolling:
<br />&#160;&#160;&#160;&#160;now the pair of dice is in the holder of the actor;
<br />&#160;&#160;&#160;&#160;now the first die of the pair of dice is a random number from 1 to 6;
<br />&#160;&#160;&#160;&#160;now the second die of the pair of dice is a random number from 1 to 6.
<br />Report rolling:
<br />&#160;&#160;&#160;&#160;say &quot;You roll [detailed state of the dice].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14392_109" -->
<a id="c14392_109"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / roll dice / look / x dice / get dice / x dice / roll dice / roll dice / roll dice / roll dice / roll dice / roll dice / roll dice&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Because we remember the states of the individual dice, not just a total, we can make use of the combination rolled.</p>
<!-- START CODE "c14393_109" -->
<a id="c14393_109"></a><blockquote class="code"><p class="quoted">
The doubles count is a number that varies.
<br />After rolling:
<br />&#160;&#160;&#160;&#160;if the first die of the pair is the second die of the pair, increment the doubles count;
<br />&#160;&#160;&#160;&#160;otherwise now the doubles count is 0;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14394_109" -->
<a id="c14394_109"></a><blockquote class="code"><p class="quoted">
Jail is a room. &quot;This is Jail, and not the Just Visiting periphery, either.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14395_109" -->
<a id="c14395_109"></a><blockquote class="code"><p class="quoted">
Every turn when the doubles count is 3:
<br />&#160;&#160;&#160;&#160;say &quot;The blue-uniformed policemen blows his whistle and beckons you sternly...&quot;;
<br />&#160;&#160;&#160;&#160;now the player carries the pair of dice;
<br />&#160;&#160;&#160;&#160;now the player is in Jail;
<br />&#160;&#160;&#160;&#160;now the doubles count is 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14396_109" -->
<a id="c14396_109"></a><blockquote class="code"><p class="quoted">
Every turn when the doubles count is 1 and the player is in Jail:
<br />&#160;&#160;&#160;&#160;say &quot;The warden gruffly releases you.&quot;;
<br />&#160;&#160;&#160;&#160;now the player carries the pair of dice;
<br />&#160;&#160;&#160;&#160;now the player is in Go.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "175: Wonka's Revenge" "e230" -->
<a id="e230"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e230" class="eglink"><b>175</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e230" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Wonka's Revenge</span></b></a><br />A lottery drum which redistributes the tickets inside whenever the player spins it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_11.html#e230"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example230">
<!-- START CODE "c14397_230" -->
<a id="c14397_230"></a><blockquote class="code"><p class="quoted">
&quot;Wonka's Revenge&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14398_230" -->
<a id="c14398_230"></a><blockquote class="code"><p class="quoted">
The Caribou Lodge is a room. &quot;Hundreds of expectant faces are turned your way from every table.&quot; A lottery drum is in the Lodge. &quot;Before you is the lottery drum[if we have spun the drum], ready to disgorge a ticket[otherwise], waiting to be spun[end if].&quot; In the drum are a red ticket, an orange ticket, a yellow ticket, a green ticket, a blue ticket, a purple ticket, and a ticket of pure gold. The drum is closed and openable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14399_230" -->
<a id="c14399_230"></a><blockquote class="code"><p class="quoted">
Understand &quot;spin [something]&quot; as spinning.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14400_230" -->
<a id="c14400_230"></a><blockquote class="code"><p class="quoted">
Spinning is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14401_230" -->
<a id="c14401_230"></a><blockquote class="code"><p class="quoted">
Check spinning: if the noun is an open container which contains something, say &quot;[The list of things in the noun] would fly out.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14402_230" -->
<a id="c14402_230"></a><blockquote class="code"><p class="quoted">
Carry out spinning a container:
<br />&#160;&#160;&#160;&#160;shuffle the contents of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14403_230" -->
<a id="c14403_230"></a><blockquote class="code"><p class="quoted">
Report spinning:
<br />&#160;&#160;&#160;&#160;if the noun contains something, say &quot;You rattle [if the noun is transparent][the list of things in the noun][otherwise]the stuff[end if] in [the noun].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Nothing results of your shaking [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Inform keeps track of the order in which things have been put into a container. If we want to change that order without the player's intervention, we can move the things ourselves.</p>
<!-- START CODE "c14404_230" -->
<a id="c14404_230"></a><blockquote class="code"><p class="quoted">
To shuffle the contents of (basket - a container):
<br />&#160;&#160;&#160;&#160;let moves be the number of things in the basket;
<br />&#160;&#160;&#160;&#160;repeat with counter running from 1 to moves:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move a random thing in the basket to the basket.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14405_230" -->
<a id="c14405_230"></a><blockquote class="code"><p class="quoted">
After opening the drum when we have spun the drum for the first time:
<br />&#160;&#160;&#160;&#160;if something (called the pick) is in the drum:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try searching the drum;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The pick] it is, then.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try taking the pick;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the pick is the ticket of pure gold, end the story finally;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise end the story saying &quot;Oh well, better luck next time.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14406_230" -->
<a id="c14406_230"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open drum / look in drum / close drum / spin drum / open drum&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "275: Jokers Wild" "e206" -->
<a id="e206"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e206" class="eglink"><b>275</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e206" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Jokers Wild</span></b></a><br />A deck of cards which can be shuffled and dealt from.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_16.html#e206"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example206">
<p>Suppose we want a deck of cards which the player can shuffle and draw from. Our first (rather tedious) task is merely to set up the deck as a table:</p>
<!-- START CODE "c14407_206" -->
<a id="c14407_206"></a><blockquote class="code"><p class="quoted">
&quot;Jokers Wild&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14408_206" -->
<a id="c14408_206"></a><blockquote class="code"><p class="quoted">
Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14409_206" -->
<a id="c14409_206"></a><blockquote class="code"><p class="quoted">
Table of Cards
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">suit</p></td><td class="quotedtablecell"><p class="quoted">value</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">6</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">13</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">6</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">13</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">6</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">13</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">6</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">13</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>We're going to describe the higher numbers as face cards, so it helps to write a new &quot;to say&quot; phrase.</p>
<!-- START CODE "c14410_206" -->
<a id="c14410_206"></a><blockquote class="code"><p class="quoted">
To say (count - a number) as a card value:
<br />&#160;&#160;&#160;&#160;choose row with a value of count in the Table of Value Names;
<br />&#160;&#160;&#160;&#160;say &quot;[term entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14411_206" -->
<a id="c14411_206"></a><blockquote class="code"><p class="quoted">
Table of Value Names
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">value</p></td><td class="quotedtablecell"><p class="quoted">term</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">&quot;ace&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">&quot;deuce&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">4</p></td><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">7</p></td><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8</p></td><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">9</p></td><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">10</p></td><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11</p></td><td class="quotedtablecell"><p class="quoted">&quot;jack&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">&quot;queen&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">&quot;king&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Now we get the shuffling of the deck from &quot;sort in random order&quot;, so:</p>
<!-- START CODE "c14412_206" -->
<a id="c14412_206"></a><blockquote class="code"><p class="quoted">
Understand &quot;shuffle&quot; as shuffling. Shuffling is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14413_206" -->
<a id="c14413_206"></a><blockquote class="code"><p class="quoted">
Carry out shuffling:
<br />&#160;&#160;&#160;&#160;sort the Table of Cards in random order;
<br />&#160;&#160;&#160;&#160;say &quot;You expertly rearrange the cards.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14414_206" -->
<a id="c14414_206"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;sort the Table of Cards in random order.
</p></blockquote>
<!-- END CODE -->
<p>This will continue to work properly even as the deck is partially depleted. Speaking of which, suppose we want the player to be able to toss the cards one-by-one into a hat. They are going to need to be removed from the deck, so:</p>
<!-- START CODE "c14415_206" -->
<a id="c14415_206"></a><blockquote class="code"><p class="quoted">
Understand &quot;toss&quot; or &quot;toss a card&quot; or &quot;toss card&quot; as tossing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14416_206" -->
<a id="c14416_206"></a><blockquote class="code"><p class="quoted">
Tossing is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14417_206" -->
<a id="c14417_206"></a><blockquote class="code"><p class="quoted">
Check tossing:
<br />&#160;&#160;&#160;&#160;if the number of filled rows in the Table of Cards is 0, say &quot;The deck is empty.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14418_206" -->
<a id="c14418_206"></a><blockquote class="code"><p class="quoted">
Carry out tossing:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Cards:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let new value be value entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let new suit be suit entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You throw the [value entry as a card value] of [suit entry] at the top hat, and [if a random chance of 1 in 3 succeeds]hit[otherwise]miss[end if].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted to simulate a slightly more stimulating game, we could instead have a second table to represent the player's hand of cards and record each card drawn. That would get long for the purposes of example, however, so instead we will just admit that the player's life is an empty husk of existence:</p>
<!-- START CODE "c14419_206" -->
<a id="c14419_206"></a><blockquote class="code"><p class="quoted">
The Empty Room is a room. &quot;It has come to this: sitting on the bare floor of Lulu's apartment with nothing to amuse you but a deck of cards and the top hat from last year's act. You reckon [the number of filled rows in the Table of Cards in words] cardtosses are all that stand between you and the utter pointlessness of existence.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14420_206" -->
<a id="c14420_206"></a><blockquote class="code"><p class="quoted">
Once again you curse Lulu for running off with that joker.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14421_206" -->
<a id="c14421_206"></a><blockquote class="code"><p class="quoted">
The player is carrying the deck of cards. The top hat is an open container in the Empty Room. It is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14422_206" -->
<a id="c14422_206"></a><blockquote class="code"><p class="quoted">
Test me with &quot;toss / again / again / again / again / again / again / again&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "318: Tilt 1" "e383" -->
<a id="e383"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e383" class="eglink"><b>318</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e383" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tilt 1</span></b></a><br />A deck of cards with fully implemented individual cards, which can be separately drawn and discarded, and referred to by name.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e383"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example383">
<p>We've simulated a deck of cards before, but only as entries in a table. This time we're going to do it more completely, with card objects that can be drawn and discarded, and referred to by name. The tedious way to do this would be to make 52 objects by hand and laboriously write out their names and understand rules.</p>
<p>A more sensible way is to make 52 identical card objects, assign them ranks and suits, and allow Inform to generate and parse their names automatically.</p>
<p>So:</p>
<!-- START CODE "c14423_383" -->
<a id="c14423_383"></a><blockquote class="code"><p class="quoted">
&quot;Tilt&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14424_383" -->
<a id="c14424_383"></a><blockquote class="code"><p class="quoted">
Section 1 - Cards
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14425_383" -->
<a id="c14425_383"></a><blockquote class="code"><p class="quoted">
Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand &quot;heart&quot; as hearts. Understand &quot;club&quot; as clubs. Understand &quot;diamond&quot; as diamonds. Understand &quot;spade&quot; as spades. [Providing the singular forms means that Inform will also understand &gt;EXAMINE SPADE, &gt;DISCARD CLUB, and so on.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14426_383" -->
<a id="c14426_383"></a><blockquote class="code"><p class="quoted">
A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14427_383" -->
<a id="c14427_383"></a><blockquote class="code"><p class="quoted">
52 cards are in the card repository.
</p></blockquote>
<!-- END CODE -->
<p>Now, we're going to describe the higher numbers as face cards, so it helps to write a new &quot;to say&quot; phrase, just as we did in Jokers Wild. (A subsequent version of this example shows how to print card values with red and black symbols representing the different suits; see &quot;Tilt 3&quot;.)</p>
<!-- START CODE "c14428_383" -->
<a id="c14428_383"></a><blockquote class="code"><p class="quoted">
To say (count - a number) as a card value:
<br />&#160;&#160;&#160;&#160;choose row count in the Table of Value Names;
<br />&#160;&#160;&#160;&#160;say &quot;[term entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14429_383" -->
<a id="c14429_383"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a card (called target):
<br />&#160;&#160;&#160;&#160;say &quot;[rank of the target as a card value] of [suit of the target]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14430_383" -->
<a id="c14430_383"></a><blockquote class="code"><p class="quoted">
Table of Value Names
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">term</p></td><td class="quotedtablecell"><p class="quoted">value</p></td><td class="quotedtablecell"><p class="quoted">topic</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ace&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;ace/A/one&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;deuce&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;deuce/two&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;3&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;4&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;5&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;6&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;7&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;8&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;9&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;10&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;jack&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;11&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;jack/knave/J&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;queen&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;12&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;queen/Q&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;king&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;13&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;king/K&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>This is enough already to let inform understand things like &quot;ten clubs&quot;, but we want to add a couple of refinements. For one thing, we'd like to accept &quot;of&quot; when it appears in phrases such as &quot;ten of clubs&quot; (but not generically otherwise); for another, we'd like the player to be able to use various names for ranks. To this end, we need to borrow from the Activities chapter and modify the player's command before attempting to understand it:</p>
<!-- START CODE "c14431_383" -->
<a id="c14431_383"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;of [suit]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while the player's command includes &quot;of&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cut the matched text;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Value Names:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while the player's command includes topic entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;replace the matched text with value entry.
<br />&#160;&#160;&#160;&#160;[This allows Inform to understand &quot;ace&quot;, &quot;deuce&quot;, &quot;king&quot;, etc., as numerical ranks.]
</p></blockquote>
<!-- END CODE -->
<p>It may be a bit confusing that the Table of Value Names has both a topic column and a term column, to all appearances essentially identical. But items in the topic column can be matched against the player's input, whereas items in other kinds of text column can be printed out; the two kinds of text are not treated identically by Inform, so we need to have both. Notice that the topic column contains entries like &quot;jack/knave,&quot; which will match either &quot;jack&quot; or &quot;knave&quot; in the player's input.</p>
<p>Now to set up the deck at the outset. With some intelligent looping, we avoid having to declare every combination of suit and number individually:</p>
<!-- START CODE "c14432_383" -->
<a id="c14432_383"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;reconstitute deck.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14433_383" -->
<a id="c14433_383"></a><blockquote class="code"><p class="quoted">
To reconstitute deck:
<br />&#160;&#160;&#160;&#160;let current suit be hearts;
<br />&#160;&#160;&#160;&#160;now every card is in the card repository;
<br />&#160;&#160;&#160;&#160;while a card is in the card repository:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with current rank running from 1 to 13:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let item be a random card in card repository;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now rank of item is current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now suit of item is current suit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now item is in the deck of cards;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current suit is the suit after the current suit.
</p></blockquote>
<!-- END CODE -->
<p>And now we need a simple setting and some actions to manipulate the deck with:</p>
<!-- START CODE "c14434_383" -->
<a id="c14434_383"></a><blockquote class="code"><p class="quoted">
Section 2 - The Deck and the Discard Pile
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14435_383" -->
<a id="c14435_383"></a><blockquote class="code"><p class="quoted">
The Empty Room is a room. &quot;Nothing to see here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14436_383" -->
<a id="c14436_383"></a><blockquote class="code"><p class="quoted">
The deck of cards is in the Empty Room. It is a closed unopenable container. The description is &quot;A standard poker deck.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14437_383" -->
<a id="c14437_383"></a><blockquote class="code"><p class="quoted">
The discard pile is a closed unopenable container. The description is &quot;Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14438_383" -->
<a id="c14438_383"></a><blockquote class="code"><p class="quoted">
To decide what number is the rounded number of (described set - a description of objects):
<br />&#160;&#160;&#160;&#160;let N be the number of members of the described set;
<br />&#160;&#160;&#160;&#160;let R be N divided by 5;
<br />&#160;&#160;&#160;&#160;let total be R times 5;
<br />&#160;&#160;&#160;&#160;decide on total.
</p></blockquote>
<!-- END CODE -->
<p>The above phrase rounds a number to the nearest five, so that the player is not autistically able to count a large number of cards in the discard pile at a single glance.</p>
<p>This next bit is an optional borrowing from the Activities chapter: we want to prevent Inform printing things like &quot;You can see a discard pile (closed) here.&quot;, since we don't want the player to think of the piles as containers, even though Inform thinks of them in those terms.</p>
<!-- START CODE "c14439_383" -->
<a id="c14439_383"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of something: do nothing instead.
</p></blockquote>
<!-- END CODE -->
<p>Finally, we want the player to use &quot;draw&quot; and &quot;discard&quot; to manipulate his hand of cards:</p>
<!-- START CODE "c14440_383" -->
<a id="c14440_383"></a><blockquote class="code"><p class="quoted">
Section 3 - Drawing and Discarding Actions
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14441_383" -->
<a id="c14441_383"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;take&quot; and &quot;carry&quot; and &quot;hold&quot; and &quot;get&quot; and &quot;drop&quot; and &quot;throw&quot; and &quot;discard&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14442_383" -->
<a id="c14442_383"></a><blockquote class="code"><p class="quoted">
Understand &quot;take [text]&quot; or &quot;get [text]&quot; or &quot;drop [text]&quot; as a mistake (&quot;Here, you only draw and discard. Nothing else matters at the moment.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14443_383" -->
<a id="c14443_383"></a><blockquote class="code"><p class="quoted">
Understand &quot;draw&quot; or &quot;draw card&quot; or &quot;draw a card&quot; as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14444_383" -->
<a id="c14444_383"></a><blockquote class="code"><p class="quoted">
Setting action variables for drawing:
<br />&#160;&#160;&#160;&#160;now the card drawn is a random card which is in the deck of cards.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14445_383" -->
<a id="c14445_383"></a><blockquote class="code"><p class="quoted">
Check drawing:
<br />&#160;&#160;&#160;&#160;if the card drawn is nothing, say &quot;The deck is completely depleted.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14446_383" -->
<a id="c14446_383"></a><blockquote class="code"><p class="quoted">
Check drawing:
<br />&#160;&#160;&#160;&#160;if the number of cards carried by the player is greater than four,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;This is a five-card game; you must discard something before drawing anything further.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14447_383" -->
<a id="c14447_383"></a><blockquote class="code"><p class="quoted">
Carry out drawing:
<br />&#160;&#160;&#160;&#160;move the card drawn to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14448_383" -->
<a id="c14448_383"></a><blockquote class="code"><p class="quoted">
Report drawing:
<br />&#160;&#160;&#160;&#160;say &quot;You draw [a card drawn].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14449_383" -->
<a id="c14449_383"></a><blockquote class="code"><p class="quoted">
Understand &quot;discard [card]&quot; as discarding. Discarding is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14450_383" -->
<a id="c14450_383"></a><blockquote class="code"><p class="quoted">
Check discarding:
<br />&#160;&#160;&#160;&#160;if the player does not carry the noun, say &quot;You can only discard cards from your own hand.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14451_383" -->
<a id="c14451_383"></a><blockquote class="code"><p class="quoted">
Carry out discarding:
<br />&#160;&#160;&#160;&#160;now the noun is in the discard pile;
<br />&#160;&#160;&#160;&#160;if the discard pile is not visible, move the discard pile to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14452_383" -->
<a id="c14452_383"></a><blockquote class="code"><p class="quoted">
Report discarding:
<br />&#160;&#160;&#160;&#160;say &quot;You toss [the noun] nonchalantly onto the discard pile.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14453_383" -->
<a id="c14453_383"></a><blockquote class="code"><p class="quoted">
Seeding is an action out of world. Understand &quot;seed&quot; as seeding. Carry out seeding: seed the random-number generator with 5681.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14454_383" -->
<a id="c14454_383"></a><blockquote class="code"><p class="quoted">
Test me with &quot;seed / draw / g / g / g / g / i / discard seven of spades / draw / discard six / draw / i / discard hearts / discard six of diamonds card / draw / draw / i / discard spades card / draw / discard king card&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "407: Tilt 2" "e384" -->
<a id="e384"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e384" class="eglink"><b>407</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e384" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tilt 2</span></b></a><br />A deck of cards with fully implemented individual cards; when the player has a full poker hand, the inventory listing describes the resulting hand accordingly.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_19.html#e384"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example384">
<p>In our previous implementations of playing cards, we've gotten as far as creating decks of individual cards that the player can draw and discard. But in a poker game, one doesn't just have a collection of cards: one has a hand of a specific kind.</p>
<p>Here we take on the job of writing an inventory listing for a poker hand that will reflect the real value of what the player has drawn. To do this, we create a rulebook to sort and assess the cards in the player's hand; its possible return values are limited to the kinds of poker hands that exist, from &quot;high card&quot; to &quot;royal flush&quot;.</p>
<p>The first three sections, creating the deck of cards and the means to parse their names, are identical to those we've already seen in Tilt 1; new material begins at section 4.</p>
<p>For the purposes of demonstration, we're simulating something akin to five-card draw without wilds; stud or hold-em variations would add some other complexities.</p>
<!-- START CODE "c14455_384" -->
<a id="c14455_384"></a><blockquote class="code"><p class="quoted">
&quot;Tilt&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14456_384" -->
<a id="c14456_384"></a><blockquote class="code"><p class="quoted">
Section 1 - Cards
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14457_384" -->
<a id="c14457_384"></a><blockquote class="code"><p class="quoted">
Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand &quot;heart&quot; as hearts. Understand &quot;club&quot; as clubs. Understand &quot;diamond&quot; as diamonds. Understand &quot;spade&quot; as spades.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14458_384" -->
<a id="c14458_384"></a><blockquote class="code"><p class="quoted">
A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14459_384" -->
<a id="c14459_384"></a><blockquote class="code"><p class="quoted">
52 cards are in the card repository.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14460_384" -->
<a id="c14460_384"></a><blockquote class="code"><p class="quoted">
To say (count - a number) as a card value:
<br />&#160;&#160;&#160;&#160;choose row count in the Table of Value Names;
<br />&#160;&#160;&#160;&#160;say &quot;[term entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14461_384" -->
<a id="c14461_384"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a card (called target):
<br />&#160;&#160;&#160;&#160;say &quot;[rank of the target as a card value] of [suit of the target]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14462_384" -->
<a id="c14462_384"></a><blockquote class="code"><p class="quoted">
Table of Value Names
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">term</p></td><td class="quotedtablecell"><p class="quoted">value</p></td><td class="quotedtablecell"><p class="quoted">topic</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ace&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;ace/A/one&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;deuce&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;deuce/two&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;3&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;4&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;5&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;6&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;7&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;8&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;9&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;10&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;jack&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;11&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;jack/knave/J&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;queen&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;12&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;queen/Q&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;king&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;13&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;king/K&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14463_384" -->
<a id="c14463_384"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;of [suit]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while the player's command includes &quot;of&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cut the matched text;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Value Names:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while the player's command includes topic entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;replace the matched text with value entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14464_384" -->
<a id="c14464_384"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;reconstitute deck.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14465_384" -->
<a id="c14465_384"></a><blockquote class="code"><p class="quoted">
To reconstitute deck:
<br />&#160;&#160;&#160;&#160;let current suit be hearts;
<br />&#160;&#160;&#160;&#160;now every card is in the card repository;
<br />&#160;&#160;&#160;&#160;while a card is in the card repository:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with current rank running from 1 to 13:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let item be a random card in card repository;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now rank of item is current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now suit of item is current suit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now item is in the deck of cards;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current suit is the suit after the current suit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14466_384" -->
<a id="c14466_384"></a><blockquote class="code"><p class="quoted">
Section 2 - The Deck and the Discard Pile
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14467_384" -->
<a id="c14467_384"></a><blockquote class="code"><p class="quoted">
The Empty Room is a room. &quot;Nothing to see here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14468_384" -->
<a id="c14468_384"></a><blockquote class="code"><p class="quoted">
The deck of cards is in the Empty Room. It is a closed unopenable container. The description is &quot;A standard poker deck.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14469_384" -->
<a id="c14469_384"></a><blockquote class="code"><p class="quoted">
The discard pile is a closed unopenable container. The description is &quot;Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14470_384" -->
<a id="c14470_384"></a><blockquote class="code"><p class="quoted">
To decide what number is the rounded number of (described set - a description of objects):
<br />&#160;&#160;&#160;&#160;let N be the number of members of the described set;
<br />&#160;&#160;&#160;&#160;let R be N divided by 5;
<br />&#160;&#160;&#160;&#160;let total be R times 5;
<br />&#160;&#160;&#160;&#160;decide on total.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14471_384" -->
<a id="c14471_384"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of something: do nothing instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14472_384" -->
<a id="c14472_384"></a><blockquote class="code"><p class="quoted">
Section 3 - Drawing and Discarding Actions
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14473_384" -->
<a id="c14473_384"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;take&quot; and &quot;carry&quot; and &quot;hold&quot; and &quot;get&quot; and &quot;drop&quot; and &quot;throw&quot; and &quot;discard&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14474_384" -->
<a id="c14474_384"></a><blockquote class="code"><p class="quoted">
Understand &quot;take [text]&quot; or &quot;get [text]&quot; or &quot;drop [text]&quot; as a mistake (&quot;Here, you only draw and discard. Nothing else matters at the moment.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14475_384" -->
<a id="c14475_384"></a><blockquote class="code"><p class="quoted">
Understand &quot;draw&quot; or &quot;draw card&quot; or &quot;draw a card&quot; as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14476_384" -->
<a id="c14476_384"></a><blockquote class="code"><p class="quoted">
Setting action variables for drawing:
<br />&#160;&#160;&#160;&#160;now the card drawn is a random card which is in the deck of cards.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14477_384" -->
<a id="c14477_384"></a><blockquote class="code"><p class="quoted">
Check drawing:
<br />&#160;&#160;&#160;&#160;if the card drawn is nothing, say &quot;The deck is completely depleted.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14478_384" -->
<a id="c14478_384"></a><blockquote class="code"><p class="quoted">
Check drawing:
<br />&#160;&#160;&#160;&#160;if the number of cards carried by the player is greater than four,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;This is a five-card game; you must discard something before drawing anything further.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14479_384" -->
<a id="c14479_384"></a><blockquote class="code"><p class="quoted">
Carry out drawing:
<br />&#160;&#160;&#160;&#160;move the card drawn to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14480_384" -->
<a id="c14480_384"></a><blockquote class="code"><p class="quoted">
Report drawing:
<br />&#160;&#160;&#160;&#160;say &quot;You draw [a card drawn].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14481_384" -->
<a id="c14481_384"></a><blockquote class="code"><p class="quoted">
Understand &quot;discard [card]&quot; as discarding. Discarding is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14482_384" -->
<a id="c14482_384"></a><blockquote class="code"><p class="quoted">
Check discarding:
<br />&#160;&#160;&#160;&#160;if the player does not carry the noun, say &quot;You can only discard cards from your own hand.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14483_384" -->
<a id="c14483_384"></a><blockquote class="code"><p class="quoted">
Carry out discarding:
<br />&#160;&#160;&#160;&#160;now the noun is in the discard pile;
<br />&#160;&#160;&#160;&#160;if the discard pile is not visible, move the discard pile to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14484_384" -->
<a id="c14484_384"></a><blockquote class="code"><p class="quoted">
Report discarding:
<br />&#160;&#160;&#160;&#160;say &quot;You toss [the noun] nonchalantly onto the discard pile.&quot;
</p></blockquote>
<!-- END CODE -->
<p>New material begins here. We want to start by grouping cards together, but identifying poker hands only if the player holds a full five cards.</p>
<!-- START CODE "c14485_384" -->
<a id="c14485_384"></a><blockquote class="code"><p class="quoted">
Section 4 - Assessing Hands
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14486_384" -->
<a id="c14486_384"></a><blockquote class="code"><p class="quoted">
Before listing contents while taking inventory: group cards together.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14487_384" -->
<a id="c14487_384"></a><blockquote class="code"><p class="quoted">
Before grouping together cards:
<br />&#160;&#160;&#160;&#160;if the number of cards carried by the player is 5:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the hand-ranking rules;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the rule succeeded, say &quot;[the outcome of the rulebook]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;some random cards&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the outcome of the rulebook is pair outcome, say &quot; of [rank of the first thing held by the player as a card value]s&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[number of cards carried by the player in words] assorted cards&quot;;
<br />&#160;&#160;&#160;&#160;say &quot; (&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14488_384" -->
<a id="c14488_384"></a><blockquote class="code"><p class="quoted">
Rule for grouping together cards:
<br />&#160;&#160;&#160;&#160;say &quot;[list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14489_384" -->
<a id="c14489_384"></a><blockquote class="code"><p class="quoted">
To say list hand:
<br />&#160;&#160;&#160;&#160;let chosen card be the first thing held by the player;
<br />&#160;&#160;&#160;&#160;while chosen card is a card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[chosen card]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now chosen card is the next thing held after chosen card;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if chosen card is a card, say &quot;, &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14490_384" -->
<a id="c14490_384"></a><blockquote class="code"><p class="quoted">
After grouping together cards:
<br />&#160;&#160;&#160;&#160;say &quot;)&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The ranking of poker hands traditionally depends on three features: 1) whether all the cards are of the same suit (flush); 2) whether the cards constitute a numerical run of ranks (straight); and 3) how many cards or sets of cards are of matching rank (pairs, three of a kind, and four of a kind). Here we will start by assessing our hand to determine these qualities:</p>
<!-- START CODE "c14491_384" -->
<a id="c14491_384"></a><blockquote class="code"><p class="quoted">
The hand-ranking rules is a rulebook. The hand-ranking rules have outcomes royal flush, straight flush, four of a kind, full house, flush, straight, three of a kind, two pairs, pair, high card.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14492_384" -->
<a id="c14492_384"></a><blockquote class="code"><p class="quoted">
The hand-ranking rulebook has a truth state called the flushness.
<br />The hand-ranking rulebook has a truth state called the straightness.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14493_384" -->
<a id="c14493_384"></a><blockquote class="code"><p class="quoted">
The hand-ranking rulebook has a number called the pair count.
<br />The hand-ranking rulebook has a number called the triple count.
<br />The hand-ranking rulebook has a number called the quadruple count.
</p></blockquote>
<!-- END CODE -->
<p>For convenience in identifying hand features, and for elegance when we print the hand-listing, we start by sorting the cards in the player's hand so that the high-ranked cards are listed first. It is rare that we want to concern ourselves with this, but as we saw in the section on &quot;Looking at containment by hand&quot; in the chapter on Change, Inform keeps an ordered list of the items inside any given container; so it does order the objects in the player's hand, and the ordering depends on which things were added to the hand most recently. By moving something to the player's hand again (even if it was already there), we change this ordering, and wind up with a sorted hand.</p>
<!-- START CODE "c14494_384" -->
<a id="c14494_384"></a><blockquote class="code"><p class="quoted">
A card can be sorted or unsorted. A card is usually unsorted.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14495_384" -->
<a id="c14495_384"></a><blockquote class="code"><p class="quoted">
Definition: a card is high if its rank is 11 or more.
<br />Definition: a card is low if its rank is 4 or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14496_384" -->
<a id="c14496_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the initial sort rule):
<br />&#160;&#160;&#160;&#160;now every card is unsorted;
<br />&#160;&#160;&#160;&#160;while the player carries an unsorted card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let item be the lowest unsorted card held by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move item to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is sorted;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after initial sort: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This last printing instruction is there for diagnostic purposes: later we'll add a testing command to turn debugging on and off; when it's on, the game will print out its card list at various stages in sorting, to help us trouble-shoot any problems. In normal play, however, this will be off.</p>
<p>Next up, a check to see whether the player has a flush:</p>
<!-- START CODE "c14497_384" -->
<a id="c14497_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the finding flushness rule):
<br />&#160;&#160;&#160;&#160;let called suit be the suit of a random card carried by the player;
<br />&#160;&#160;&#160;&#160;if every card carried by the player is called suit, now flushness is true.
</p></blockquote>
<!-- END CODE -->
<p>Now we check for straights; this is slightly complicated by the fact that an ace can be either the bottom of a low straight (lower than 2) or the top of a high straight (higher than king), so we explicitly check both possibilities.</p>
<!-- START CODE "c14498_384" -->
<a id="c14498_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the finding straightness rule):
<br />&#160;&#160;&#160;&#160;now straightness is true;
<br />&#160;&#160;&#160;&#160;let N be the rank of the highest card which is carried by the player;
<br />&#160;&#160;&#160;&#160;repeat with current rank running from N - 4 to N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the test rank is the current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the player carries a matching card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current rank is N - 4 and the current rank is 9 and the player carries an ace card, do nothing; [this covers the case where an ace could be the top card of the sequence]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now straightness is false.
</p></blockquote>
<!-- END CODE -->
<p>And finally, we need to identify any groups of cards of the same rank. We want to know how many groups there are and how large each group is (though in practice there can only be one group of three or four in a standard-sized poker hand). We also want to mark any grouped cards so that we can move them to the front of the player's hand when we take inventory.</p>
<!-- START CODE "c14499_384" -->
<a id="c14499_384"></a><blockquote class="code"><p class="quoted">
A card can be quadrupled, tripled, paired or uncombined.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14500_384" -->
<a id="c14500_384"></a><blockquote class="code"><p class="quoted">
Test rank is a number that varies. Definition: a card is matching if its rank is the test rank.
</p></blockquote>
<!-- END CODE -->
<p>This definition is a convenience so that we don't have to write so many explicit loops in the following rule:</p>
<!-- START CODE "c14501_384" -->
<a id="c14501_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the counting multiples rule):
<br />&#160;&#160;&#160;&#160;now every card is uncombined;
<br />&#160;&#160;&#160;&#160;repeat with current rank running from 1 to 13:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now test rank is current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let N be the number of matching cards held by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is 4:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the quadruple count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every matching card held by the player is quadrupled;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is 3:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the triple count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every matching card held by the player is tripled;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is 2:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the pair count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every matching card held by the player is paired.
</p></blockquote>
<!-- END CODE -->
<p>Next we tweak our sorting to reflect the make-up of the hand. There are two reasons why this might differ from the straight highest-to-lowest sort we did earlier:</p>
<p>1) we want to list aces as high unless they are serving as the bottom of a low straight, in which case they should appear last;</p>
<p>2) we want combinations to appear at the front of the list, sorted from highest value to lowest value: larger combinations first, then smaller combinations, and combinations of equal size sorted by rank.</p>
<!-- START CODE "c14502_384" -->
<a id="c14502_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the move aces up unless there's a low straight rule):
<br />&#160;&#160;&#160;&#160;unless the straightness is true and the lowest card carried by the player is an ace card and the rank of the highest card carried by the player is 5,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every ace card which is carried by the player is carried by the player;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after ace movement rule: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14503_384" -->
<a id="c14503_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the move pairs forward rule):
<br />&#160;&#160;&#160;&#160;while the player carries a paired card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let selection be the lowest paired card which is carried by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the selection to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the selection is uncombined;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after pairs movement: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14504_384" -->
<a id="c14504_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the raise ace pairs rule):
<br />&#160;&#160;&#160;&#160;if the player carries exactly two ace cards:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through ace cards which are carried by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move item to the player;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after paired-ace movement: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14505_384" -->
<a id="c14505_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the move multiples forward rule):
<br />&#160;&#160;&#160;&#160;while the player carries a tripled card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let selection be the lowest tripled card which is carried by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the selection to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the selection is uncombined;
<br />&#160;&#160;&#160;&#160;while the player carries a quadrupled card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let selection be the lowest quadrupled card which is carried by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the selection to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the selection is uncombined;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after multiples movement rule: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14506_384" -->
<a id="c14506_384"></a><blockquote class="code"><p class="quoted">
Definition: a card is ace if its rank is 1.
<br />Definition: a card is king if its rank is 13.
</p></blockquote>
<!-- END CODE -->
<p>Now, having determined the salient qualities of our hand, we run through rules in order from the highest kind of poker combination to the lowest. Because of the order of the source, Inform will choose whichever combination applies first.</p>
<!-- START CODE "c14507_384" -->
<a id="c14507_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the royal-flush rule):
<br />&#160;&#160;&#160;&#160;if flushness is true and straightness is true and the highest card carried by the player is king and the lowest card carried by the player is ace, royal flush.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14508_384" -->
<a id="c14508_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the straight-flushes rule):
<br />&#160;&#160;&#160;&#160;if flushness is true and straightness is true, straight flush.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14509_384" -->
<a id="c14509_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the four-of-a-kind rule):
<br />&#160;&#160;&#160;&#160;if the quadruple count is 1, four of a kind.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14510_384" -->
<a id="c14510_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the full-house rule):
<br />&#160;&#160;&#160;&#160;if the pair count is 1 and the triple count is 1, full house.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14511_384" -->
<a id="c14511_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the flushes rule):
<br />&#160;&#160;&#160;&#160;if flushness is true, flush.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14512_384" -->
<a id="c14512_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the straights rule):
<br />&#160;&#160;&#160;&#160;if straightness is true, straight.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14513_384" -->
<a id="c14513_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the three-of-a-kind rule):
<br />&#160;&#160;&#160;&#160;if triple count is 1, three of a kind.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14514_384" -->
<a id="c14514_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the two-pair rule):
<br />&#160;&#160;&#160;&#160;if the pair count is 2, two pairs.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14515_384" -->
<a id="c14515_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the pair rule):
<br />&#160;&#160;&#160;&#160;if the pair count is 1, pair.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14516_384" -->
<a id="c14516_384"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the default rule):
<br />&#160;&#160;&#160;&#160;high card.
</p></blockquote>
<!-- END CODE -->
<p>And finally, we need to define our debugging variable here, even though we won't give the player the ability to turn it on and off except in the special testing section.</p>
<!-- START CODE "c14517_384" -->
<a id="c14517_384"></a><blockquote class="code"><p class="quoted">
Sort-debugging is a truth state that varies.
</p></blockquote>
<!-- END CODE -->
<p>For many examples, a test-me script is enough to prove that the example does what it ought. This example, though, is a bit more complicated, and hard to test randomly. The remainder of the source here shows how we might write a test to verify the desired behavior of our rulebook. Those who are only interested in the rulebook itself can stop reading at this point.</p>
<!-- START CODE "c14518_384" -->
<a id="c14518_384"></a><blockquote class="code"><p class="quoted">
Section 5 - Testing hand identification - Not for release
</p></blockquote>
<!-- END CODE -->
<p>For the sake of testing our rules, we provide an apparatus that will load the player's hand up with sample hands of each kind, then show the result to make sure that the hand is being correctly identified.</p>
<!-- START CODE "c14519_384" -->
<a id="c14519_384"></a><blockquote class="code"><p class="quoted">
Understand &quot;debug sorting&quot; as debugging hand sorting. Debugging hand sorting is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14520_384" -->
<a id="c14520_384"></a><blockquote class="code"><p class="quoted">
Carry out debugging hand sorting:
<br />&#160;&#160;&#160;&#160;if sort-debugging is false, now sort-debugging is true;
<br />&#160;&#160;&#160;&#160;otherwise now sort-debugging is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14521_384" -->
<a id="c14521_384"></a><blockquote class="code"><p class="quoted">
Report debugging hand sorting:
<br />&#160;&#160;&#160;&#160;say &quot;Sort debugging is now [if sort-debugging is true]on[otherwise]off[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14522_384" -->
<a id="c14522_384"></a><blockquote class="code"><p class="quoted">
Test me with &quot;draw / g / g / g / g / force hand / g / g / g / g / g / g / g / g / g / g / g / g&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The somewhat rough-and-ready principle of this table is that we will overwrite the cards in the player's hand by resetting their ranks and suits; every five rows of the table represent a new poker hand for the game to attempt to sort and identify. These include one example of each of the major kinds of poker hand, plus a couple of variations involving aces which test the special sorting rules.</p>
<!-- START CODE "c14523_384" -->
<a id="c14523_384"></a><blockquote class="code"><p class="quoted">
Table of Testing Hands
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">set suit</p></td><td class="quotedtablecell"><p class="quoted">set rank</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[royal flush]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">13</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">[straight flush]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">8</p></td><td class="quotedtablecell"><p class="quoted">[four of a kind]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[full house]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">[flush]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[straight]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">13</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">[three of a kind]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">[two pairs]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">6</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">[two pairs, ace high]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">6</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">[pair]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">[high]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[tricky sorting: low straight]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14524_384" -->
<a id="c14524_384"></a><blockquote class="code"><p class="quoted">
Understand &quot;force hand&quot; as forcing a hand. Forcing a hand is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14525_384" -->
<a id="c14525_384"></a><blockquote class="code"><p class="quoted">
Current marker is a number that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14526_384" -->
<a id="c14526_384"></a><blockquote class="code"><p class="quoted">
Carry out forcing a hand:
<br />&#160;&#160;&#160;&#160;repeat with item running through cards which are carried by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment current marker;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if current marker is greater than the number of filled rows in the Table of Testing Hands, now current marker is 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row current marker in the Table of Testing Hands;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the suit of item is the set suit entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the rank of item is the set rank entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14527_384" -->
<a id="c14527_384"></a><blockquote class="code"><p class="quoted">
Report forcing a hand:
<br />&#160;&#160;&#160;&#160;try taking inventory.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "292: The Trouble with Printing" "e316" -->
<a id="e316"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e316" class="eglink"><b>292</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e316" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Trouble with Printing</span></b></a><br />Making a READ command, distinct from EXAMINE, for legible objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e316"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example316">
<!-- START CODE "c14528_316" -->
<a id="c14528_316"></a><blockquote class="code"><p class="quoted">
&quot;The Trouble with Printing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14529_316" -->
<a id="c14529_316"></a><blockquote class="code"><p class="quoted">
A thing has some text called printing. The printing of a thing is usually &quot;blank&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14530_316" -->
<a id="c14530_316"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;read&quot; as something new. Understand &quot;read [something]&quot; as reading. Reading is an action applying to one thing, requiring light. Check reading: if the printing of the noun is &quot;blank&quot;, say &quot;Nothing is written on [the noun].&quot; instead. Carry out reading: say &quot;You read: [printing of the noun][line break]&quot;. Report reading: do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14531_316" -->
<a id="c14531_316"></a><blockquote class="code"><p class="quoted">
The Archive is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14532_316" -->
<a id="c14532_316"></a><blockquote class="code"><p class="quoted">
Berkeley's report is a thing in the Archive. The description is &quot;A report from Governor Sir William Berkeley of Virginia, in 1671, in answer to the queries sent by the Commissioners of Plantations the year previous. Of this report the better part is burned and only a tail fragment remains.&quot; The printing of Berkeley's report is &quot;I thank God, [italic type]there are no free schools[roman type] nor [italic type]printing[roman type], and I hope we shall not have these hundred years; for [italic type]learning[roman type] has brought disobedience, and heresy, and sects into the world, and [italic type]printing[roman type] has divulged them...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14533_316" -->
<a id="c14533_316"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine report / read report&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Since we defined reading as an action requiring light, we could further distinguish reading and examining (if we wanted) by writing some different visibility rules for it.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "303: Pages" "e269" -->
<a id="e269"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e269" class="eglink"><b>303</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e269" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pages</span></b></a><br />A book with pages that can be read by number (as in "read page 3 in...") and which accepts relative page references as well (such as "read the last page of...", "read the next page", and so on).</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e269"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example269">
<p>Suppose we have a book that the player must consult page-by-page, and we want to be able to accept all of the following input:</p>
<!-- START CODE "c14534_269" -->
<a id="c14534_269"></a><blockquote class="code"><p class="quoted">
&gt; READ BOOK (to choose a random page and read it)
<br />&gt; READ PAGE 1 IN BOOK
<br />&gt; READ PAGE 2
<br />&gt; READ THE LAST PAGE OF THE BOOK
<br />&gt; READ THE NEXT PAGE
<br />&gt; READ PREVIOUS PAGE IN BOOK
<br />&gt; READ THE FIRST PAGE
</p></blockquote>
<!-- END CODE -->
<p>One approach would be to write many different understand rules and actions: one action for reading randomly, one for reading a specific page, one for reading the first page, one for reading the previous page, one for reading the next page, and one for reading the last page. But this gets tedious to construct and maintain.</p>
<p>More usefully, we could consider that all of the last four options are essentially the same action at heart: the player is asking to read a page in the book using a name rather than a number, and we will have to perform a minor calculation to discover what the number should be. Here's an implementation using named values to resolve this problem:</p>
<!-- START CODE "c14535_269" -->
<a id="c14535_269"></a><blockquote class="code"><p class="quoted">
 &quot;Pages&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14536_269" -->
<a id="c14536_269"></a><blockquote class="code"><p class="quoted">
The Library is a room. The sinister book is carried by the player. The sinister book has a number called the last page read. The sinister book has a number called the length. The length of the sinister book is 50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14537_269" -->
<a id="c14537_269"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;read&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14538_269" -->
<a id="c14538_269"></a><blockquote class="code"><p class="quoted">
Understand &quot;read [something]&quot; or &quot;consult [something]&quot; or &quot;read in/from [something]&quot; as reading. Reading is an action applying to one thing, requiring light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14539_269" -->
<a id="c14539_269"></a><blockquote class="code"><p class="quoted">
Understand &quot;read [number] in/from/of [something]&quot; or &quot;read page [number] in/from/of [something]&quot; or &quot;look up page [number] in/from/of [something]&quot; or &quot;consult page [number] in/from/of [something]&quot; as reading it in. Reading it in is an action applying to one number and one thing, requiring light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14540_269" -->
<a id="c14540_269"></a><blockquote class="code"><p class="quoted">
Named page is a kind of value. The named pages are first page, last page, next page, previous page.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14541_269" -->
<a id="c14541_269"></a><blockquote class="code"><p class="quoted">
To decide what number is the effective value of (L - last page):
<br />&#160;&#160;&#160;&#160;decide on the length of the book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14542_269" -->
<a id="c14542_269"></a><blockquote class="code"><p class="quoted">
To decide what number is the effective value of (F - first page):
<br />&#160;&#160;&#160;&#160;decide on 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14543_269" -->
<a id="c14543_269"></a><blockquote class="code"><p class="quoted">
To decide what number is the effective value of (N - next page):
<br />&#160;&#160;&#160;&#160;let X be the last page read of the book plus 1;
<br />&#160;&#160;&#160;&#160;decide on X.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14544_269" -->
<a id="c14544_269"></a><blockquote class="code"><p class="quoted">
To decide what number is the effective value of (P - previous page):
<br />&#160;&#160;&#160;&#160;let X be the last page read of the book minus 1;
<br />&#160;&#160;&#160;&#160;decide on X.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14545_269" -->
<a id="c14545_269"></a><blockquote class="code"><p class="quoted">
Understand &quot;read [named page] in/from/of [something]&quot; or &quot;read the [named page] in/from/of [something]&quot; as reading it relatively in. Reading it relatively in is an action applying to one named page and one thing, requiring light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14546_269" -->
<a id="c14546_269"></a><blockquote class="code"><p class="quoted">
Does the player mean reading something in the sinister book: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14547_269" -->
<a id="c14547_269"></a><blockquote class="code"><p class="quoted">
This is the book requirement rule:
<br />&#160;&#160;&#160;&#160;if the player is not carrying the sinister book, say &quot;You're not reading anything.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14548_269" -->
<a id="c14548_269"></a><blockquote class="code"><p class="quoted">
Check reading it relatively in:
<br />&#160;&#160;&#160;&#160;if the second noun is not the sinister book, say &quot;There are no pages in [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;abide by the book requirement rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14549_269" -->
<a id="c14549_269"></a><blockquote class="code"><p class="quoted">
Carry out reading it relatively in:
<br />&#160;&#160;&#160;&#160;let N be the effective value of the named page understood;
<br />&#160;&#160;&#160;&#160;now the number understood is N;
<br />&#160;&#160;&#160;&#160;try reading N in the book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14550_269" -->
<a id="c14550_269"></a><blockquote class="code"><p class="quoted">
Check reading it in:
<br />&#160;&#160;&#160;&#160;if the second noun is not the sinister book, say &quot;There are no pages in [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;abide by the book requirement rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14551_269" -->
<a id="c14551_269"></a><blockquote class="code"><p class="quoted">
Check reading it in:
<br />&#160;&#160;&#160;&#160;if the number understood is greater than the length of the sinister book, say &quot;There are only [length of sinister book in words] pages in the book.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the number understood is less than 1, say &quot;The page numbering begins with 1.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14552_269" -->
<a id="c14552_269"></a><blockquote class="code"><p class="quoted">
Carry out reading it in:
<br />&#160;&#160;&#160;&#160;read page number understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14553_269" -->
<a id="c14553_269"></a><blockquote class="code"><p class="quoted">
Check reading:
<br />&#160;&#160;&#160;&#160;if the noun is not the sinister book, say &quot;There are no pages in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;abide by the book requirement rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14554_269" -->
<a id="c14554_269"></a><blockquote class="code"><p class="quoted">
Carry out reading:
<br />&#160;&#160;&#160;&#160;let N be a random number between 1 and the length of the sinister book; now the number understood is N;
<br />&#160;&#160;&#160;&#160;say &quot;You flip the pages randomly and arrive at page [the number understood]:[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;try reading the number understood in the sinister book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14555_269" -->
<a id="c14555_269"></a><blockquote class="code"><p class="quoted">
Table of Book Contents
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">page</p></td><td class="quotedtablecell"><p class="quoted">content</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">&quot;dhuma jyotih salila marutam / samnipatah kva meghah / samdes arthah kva patukaranaih / pranibhih prapaniyah&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">&quot;amathesteron pws eipe kai saphesteron&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">50</p></td><td class="quotedtablecell"><p class="quoted">&quot;Rrgshilz maplot...&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14556_269" -->
<a id="c14556_269"></a><blockquote class="code"><p class="quoted">
To read page (N - a number):
<br />&#160;&#160;&#160;&#160;now the last page read of the sinister book is N;
<br />&#160;&#160;&#160;&#160;if there is a content corresponding to a page of N in the Table of Book Contents:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row with a page of N in the Table of Book Contents;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You read: '[content entry]'[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Page [N] appears to be blank.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14557_269" -->
<a id="c14557_269"></a><blockquote class="code"><p class="quoted">
To read page (N - 47):
<br />&#160;&#160;&#160;&#160;say &quot;Your eyes burn; your ears ring. Beneath your gaze, the dreadful sigils writhe, reminding you of that which lies outside the edges of the universe...&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;You have lost your remaining sanity&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14558_269" -->
<a id="c14558_269"></a><blockquote class="code"><p class="quoted">
Test me with &quot;read from the sinister book / read the book / read the next page / read page 2 / read previous page / g / read the first page / read the last page of the book / read the next page / read 47 in book&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "443: The Fourth Body" "e157" -->
<a id="e157"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e157" class="eglink"><b>443</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e157" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Fourth Body</span></b></a><br />Notebooks in which the player can record assorted notes throughout play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_23.html#e157"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example157">
<p>Some mystery games supply the player with an in-game system for taking notes, in case he doesn't want to rely on scraps of paper next to the computer. One way of doing this is to write out all the player's notes and observations into a notebook file, whose contents can be retrieved during play (or, indeed, after it).</p>
<p>We'll first invent a general system for writing text into notebooks, by creating a new kind called jotter. Each individual jotter will have its own disc file, and there will be basically three things which can be done with jotters: erasing, reading and writing.</p>
<!-- START CODE "c14559_157" -->
<a id="c14559_157"></a><blockquote class="code"><p class="quoted">
&quot;The Fourth Body&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14560_157" -->
<a id="c14560_157"></a><blockquote class="code"><p class="quoted">
A jotter is a kind of thing. A jotter has an external file called the text file. A jotter can be fresh or used. A jotter is usually fresh. A jotter has a text called the heading.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14561_157" -->
<a id="c14561_157"></a><blockquote class="code"><p class="quoted">
The currently erased jotter is an object that varies.
<br />To erase (pad - a jotter):
<br />&#160;&#160;&#160;&#160;now the currently erased jotter is the pad;
<br />&#160;&#160;&#160;&#160;write &quot;[heading of the currently erased jotter][paragraph break]&quot; to the text file of the pad;
<br />&#160;&#160;&#160;&#160;now the pad is fresh.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14562_157" -->
<a id="c14562_157"></a><blockquote class="code"><p class="quoted">
To write in (pad - a jotter):
<br />&#160;&#160;&#160;&#160;append &quot;[the time of day]: [topic understood][line break]&quot; to the text file of the pad;
<br />&#160;&#160;&#160;&#160;now the pad is used.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14563_157" -->
<a id="c14563_157"></a><blockquote class="code"><p class="quoted">
To read (pad - a jotter):
<br />&#160;&#160;&#160;&#160;say &quot;You read: [paragraph break][text of the text file of the pad]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This is all as might be expected, except perhaps for the business of the &quot;currently erased jotter&quot;. Why copy &quot;pad&quot; into this - why not simply write &quot;[heading of the pad]&quot;? The answer is that &quot;pad&quot; is a temporary &quot;let&quot; value, and cannot be used inside other phrases, such as the &quot;write ... to ...&quot; phrase.</p>
<p>We want to erase any jotters when play begins, as otherwise text left over from any previous games will still be visible:</p>
<!-- START CODE "c14564_157" -->
<a id="c14564_157"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat with pad running through jotters:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;erase the pad.
</p></blockquote>
<!-- END CODE -->
<p>Now we need to create rules to allow the player to control reading, writing and erasing. Reading we will handle with the ordinary examining action, but we create new actions for writing and erasing. A nice little trick allows WRITE WHATEVER to default to writing WHATEVER in a notebook being carried.</p>
<!-- START CODE "c14565_157" -->
<a id="c14565_157"></a><blockquote class="code"><p class="quoted">
Instead of examining a used jotter (called the pad):
<br />&#160;&#160;&#160;&#160;read the pad.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14566_157" -->
<a id="c14566_157"></a><blockquote class="code"><p class="quoted">
Instead of examining a fresh jotter (called the pad):
<br />&#160;&#160;&#160;&#160;say &quot;There is nothing of note in [the pad].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14567_157" -->
<a id="c14567_157"></a><blockquote class="code"><p class="quoted">
Understand &quot;write [text] in [something preferably held]&quot; as writing it in. Understand &quot;write [text]&quot; as writing it in. Writing it in is an action applying to a topic and one thing. Rule for supplying a missing second noun while writing: if a jotter (called the pad) is carried, now the second noun is the pad; otherwise say &quot;You will have to specify what to write that it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14568_157" -->
<a id="c14568_157"></a><blockquote class="code"><p class="quoted">
Check writing it in:
<br />&#160;&#160;&#160;&#160;if the second noun is not a jotter, say &quot;It would be better to write in a notebook.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14569_157" -->
<a id="c14569_157"></a><blockquote class="code"><p class="quoted">
Carry out writing it in:
<br />&#160;&#160;&#160;&#160;write in the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14570_157" -->
<a id="c14570_157"></a><blockquote class="code"><p class="quoted">
Report writing it in:
<br />&#160;&#160;&#160;&#160;say &quot;Under the current time, you write '[the topic understood]' into [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14571_157" -->
<a id="c14571_157"></a><blockquote class="code"><p class="quoted">
Understand &quot;erase [something preferably held]&quot; as erasing. Erasing is an action applying to one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14572_157" -->
<a id="c14572_157"></a><blockquote class="code"><p class="quoted">
Check erasing:
<br />&#160;&#160;&#160;&#160;if the noun is not a jotter, say &quot;It's hard to see how.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14573_157" -->
<a id="c14573_157"></a><blockquote class="code"><p class="quoted">
Carry out erasing:
<br />&#160;&#160;&#160;&#160;erase the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14574_157" -->
<a id="c14574_157"></a><blockquote class="code"><p class="quoted">
Report erasing:
<br />&#160;&#160;&#160;&#160;say &quot;You scrub out all the entries in [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>That completes a general-purpose implementation of jotters, and we put it to use:</p>
<!-- START CODE "c14575_157" -->
<a id="c14575_157"></a><blockquote class="code"><p class="quoted">
The player carries a jotter called your notebook. The file of Player's Observations is called &quot;notebook&quot;. The text file of your notebook is the file of Player's Observations. The heading of your notebook is &quot;Observations in the Pottingham Green Case&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14576_157" -->
<a id="c14576_157"></a><blockquote class="code"><p class="quoted">
The Damp Hillside is a room. &quot;It is just after dawn: among the trees there is misty and pale blue light. [if Havers is in the location]The only saturated color in view is the orange-and-yellow jacket of [Detective Havers]. She is trying unsuccessfully to light a cigarette. [end if][paragraph break]The body itself is further down, closer to the bottom of the ravine. It would be foolish to speculate before seeing it, but the odds are that the corpse was rolled down after death. The ground is not steep enough for the fall itself to be deadly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14577_157" -->
<a id="c14577_157"></a><blockquote class="code"><p class="quoted">
Detective Havers is a woman in the Damp Hillside. The description is &quot;She gives you a weak smile when you look at her: you know she hasn't slept more than three hours any of the last few nights.&quot; Havers is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14578_157" -->
<a id="c14578_157"></a><blockquote class="code"><p class="quoted">
Havers is carrying a jotter called Barbara's notebook. The file of Barbara's Observations is called &quot;barbara&quot;. The text file of Barbara's notebook is the file of Barbara's Observations. The heading of Barbara's notebook is &quot;I could murder a cup of tea&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14579_157" -->
<a id="c14579_157"></a><blockquote class="code"><p class="quoted">
The time of day is 6:32 AM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14580_157" -->
<a id="c14580_157"></a><blockquote class="code"><p class="quoted">
Instead of examining your notebook when your notebook is fresh:
<br />&#160;&#160;&#160;&#160;say &quot;Your notebook is blank. Back in the office, of course, there are a stack of others. But you brought a fresh notebook in a kind of weary hope. You're going to pretend, just for now, that this body might be unrelated to the graphic string of murders you're already investigating.&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "324: Bibliophilia" "e32" -->
<a id="e32"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e32" class="eglink"><b>324</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e32" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bibliophilia</span></b></a><br />A bookshelf with a number of books, where the player's command to examine something will be interpreted as an attempt to look up titles if the bookshelf is present, but otherwise given the usual response.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e32"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example32">
<p>Suppose we want a bookshelf with a very large number of books on it. They aren't to be taken or carried around in the game, but they should be mentioned, and the player should be allowed to look them up by name. Furthermore, the player's attempts to examine something unrecognized should be understood as an attempt to look up a title -- but only when the player is in the presence of the books. The rest of the time such requests should be rejected in the usual way.</p>
<!-- START CODE "c14581_32" -->
<a id="c14581_32"></a><blockquote class="code"><p class="quoted">
&quot;Bibliophilia&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14582_32" -->
<a id="c14582_32"></a><blockquote class="code"><p class="quoted">
The Graduate Lounge is a room. &quot;Shabby sofas; plastic cups remaining from the afternoon's pre-lecture espresso; a collection of Xena and Hercules figurines posed for ironic effect. It's somewhat depressing at this hour, when everyone has gone home.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14583_32" -->
<a id="c14583_32"></a><blockquote class="code"><p class="quoted">
The Classics Reading Room is south of the Lounge. &quot;Not as large a collection as the one in the Library, but it contains copies of everything really essential for reference.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14584_32" -->
<a id="c14584_32"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [text]&quot; as examining as a book when the player is in the Reading Room. Understand &quot;look up [text]&quot; as examining as a book when the player is in the Reading Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14585_32" -->
<a id="c14585_32"></a><blockquote class="code"><p class="quoted">
Examining as a book is an action applying to one topic.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14586_32" -->
<a id="c14586_32"></a><blockquote class="code"><p class="quoted">
Carry out examining as a book:
<br />&#160;&#160;&#160;&#160;say &quot;You can't find any such text.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14587_32" -->
<a id="c14587_32"></a><blockquote class="code"><p class="quoted">
Instead of examining as a book a topic listed in the Table of Book Titles:
<br />&#160;&#160;&#160;&#160;say &quot;[description entry][paragraph break]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14588_32" -->
<a id="c14588_32"></a><blockquote class="code"><p class="quoted">
Table of Book Titles
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">title</p></td><td class="quotedtablecell"><p class="quoted">description</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Reading Greek Death&quot; or &quot;reading/greek/death&quot; or &quot;greek death&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Reading Greek Death&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A dense orange paperback treatise on the development of Greek eschatology.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;TAPA/Transactions/134-2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;TAPA 134-2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Transactions of the American Philological Association from 2004.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Oxford Classical Dictionary&quot; or &quot;OCD/dictionary/classical/oxford&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Oxford Classical Dictionary&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A hefty reference with short articles on everything from Greek meter to ancient cosmetics.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Collected Dialogues of Plato&quot; or &quot;Plato/dialogues/hamilton/cairns&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Collected Dialogues of Plato&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;All the Platonic dialogues -- some, admittedly, in rather tired translations -- but still a useful single volume, ed. Edith Hamilton and Huntington Cairns.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Adobe Illustrator CS User Guide&quot; or &quot;user guide&quot; or &quot;adobe illustrator&quot; or &quot;adobe/illustrator/cs/user/guide&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Adobe Illustrator CS User Guide&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Hello, how did this get here? A suspiciously familiar name is scribbled inside the front cover...&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14589_32" -->
<a id="c14589_32"></a><blockquote class="code"><p class="quoted">
Some books are scenery in the Reading Room. Understand &quot;copies&quot; or &quot;book&quot; or &quot;shelf&quot; or &quot;shelves&quot; as the books. Instead of examining the books:
<br />&#160;&#160;&#160;&#160;choose a random row in the Table of Book Titles;
<br />&#160;&#160;&#160;&#160;say &quot;You scan the shelves and notice, among others, a volume entitled [italic type][title entry][roman type].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14590_32" -->
<a id="c14590_32"></a><blockquote class="code"><p class="quoted">
Test me with &quot;south / examine ocd / examine books / examine books / examine plato / n / x hercules / s / x hercules&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now if we type &gt;X HERCULES in the Lounge, we will get</p>
<!-- START CODE "c14591_32" -->
<a id="c14591_32"></a><blockquote class="code"><p class="quoted">
&gt;x hercules
<br />You can't see any such thing.
</p></blockquote>
<!-- END CODE -->
<p>thanks to our somewhat slovenly implementation of the Lounge scenery; but in the Reading Room,</p>
<!-- START CODE "c14592_32" -->
<a id="c14592_32"></a><blockquote class="code"><p class="quoted">
&gt;x hercules
<br />You can't find any such text.
</p></blockquote>
<!-- END CODE -->
<p>In practice we might also want to extend our coverage somewhat to handle a case where the player tried to take books from the bookshelf: currently that would not be understood.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "335: AARP-Gnosis" "e121" -->
<a id="e121"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e121" class="eglink"><b>335</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e121" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">AARP-Gnosis</span></b></a><br />An Encyclopedia set which treats volumes in the same place as a single object, but can also be split up.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e121"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example121">
<p>Suppose we have a complete Encyclopedia in our game. The player is allowed to pick up the whole set (there must not be too many volumes), but also to do things with individual volumes, and indeed to scatter these volumes all over the place. Putting a volume back in the same place as the rest of the Encyclopedia should, however, restore it to the collective. We will start out by defining general rules for collectives like this:</p>
<!-- START CODE "c14593_121" -->
<a id="c14593_121"></a><blockquote class="code"><p class="quoted">
&quot;AARP-Gnosis&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14594_121" -->
<a id="c14594_121"></a><blockquote class="code"><p class="quoted">
Fitting relates various things to one thing (called the home). The verb to fit means the fitting relation. Definition: a thing is missing if it is not part of the home of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14595_121" -->
<a id="c14595_121"></a><blockquote class="code"><p class="quoted">
A collective is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14596_121" -->
<a id="c14596_121"></a><blockquote class="code"><p class="quoted">
Before doing something to something which is part of a collective:
<br />&#160;&#160;&#160;&#160;let space be the holder of the home of the noun;
<br />&#160;&#160;&#160;&#160;move the noun to the space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14597_121" -->
<a id="c14597_121"></a><blockquote class="code"><p class="quoted">
Instead of examining a collective:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] consists of [the list of things which are part of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now the real work begins. One reason to make this an activity is that we might easily want to override it for specific objects; for instance, the generic collecting activity here would not deal properly with collectives of clothing where some items might be worn and others not. In that case, we would want to write another, more specific &quot;collecting&quot; activity to handle the complexities of fashion.</p>
<!-- START CODE "c14598_121" -->
<a id="c14598_121"></a><blockquote class="code"><p class="quoted">
Collecting something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14599_121" -->
<a id="c14599_121"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with item running through collectives:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the collecting activity with the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14600_121" -->
<a id="c14600_121"></a><blockquote class="code"><p class="quoted">
To remove (item - a thing) when empty:
<br />&#160;&#160;&#160;&#160;let space be the holder of the item;
<br />&#160;&#160;&#160;&#160;if the number of things which are part of the item is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is nowhere;
<br />&#160;&#160;&#160;&#160;if the number of things which are part of the item is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the last thing be a random thing which is part of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the last thing to the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14601_121" -->
<a id="c14601_121"></a><blockquote class="code"><p class="quoted">
Before collecting a thing (called the item):
<br />&#160;&#160;&#160;&#160;remove item when empty;
<br />&#160;&#160;&#160;&#160;let space be the holder of the item;
<br />&#160;&#160;&#160;&#160;if space is not a thing and space is not a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if something (called the other space) contains at least two things which fit the item, move item to the other space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a room (called the other space) contains at least two things which fit the item, move item to the other space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if someone (called the owner) carries at least two things which fit the item, move item to the owner.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14602_121" -->
<a id="c14602_121"></a><blockquote class="code"><p class="quoted">
Rule for collecting a thing (called the item):
<br />&#160;&#160;&#160;&#160;let space be the holder of the item;
<br />&#160;&#160;&#160;&#160;if space is a thing or space is a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with component running through things held by the space:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the component fits the item, now the component is part of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;remove item when empty.
</p></blockquote>
<!-- END CODE -->
<p>And now for a cheerful scenario:</p>
<!-- START CODE "c14603_121" -->
<a id="c14603_121"></a><blockquote class="code"><p class="quoted">
The Boise Memorial Library is a room. &quot;A concrete box of a room, roughly eight feet by fourteen, which contains all the fallout shelter has to offer by way of entertainment. Someone with a grim sense of humor has tacked a READ! literacy poster to the door, as though there were anything else to do while you await the calming of the Geiger counters.&quot; The shelf is a supporter in the Library. &quot;A battered utility shelf stands against the south wall.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14604_121" -->
<a id="c14604_121"></a><blockquote class="code"><p class="quoted">
The New Idahoan Encyclopedia Set is a collective. Volume A-Aalto fits the Encyclopedia. It is part of the Set. Volume AAM-Aardvark fits the Encyclopedia. It is part of the Set. Volume Aarhus-Aaron fits the Encyclopedia. It is part of the Set. Volume AARP-Gnosis fits the Encyclopedia. It is part of the Set. Volume Gnu-Zygote fits the Encyclopedia. It is part of the Set. The Set is on the shelf.
</p></blockquote>
<!-- END CODE -->
<p>Let's have the Encyclopedia describe itself differently depending on whether it's all in one place:</p>
<!-- START CODE "c14605_121" -->
<a id="c14605_121"></a><blockquote class="code"><p class="quoted">
After printing the name of the Set when something missing fits the Set:
<br />&#160;&#160;&#160;&#160;say &quot; (missing [a list of missing things which fit the Set])&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14606_121" -->
<a id="c14606_121"></a><blockquote class="code"><p class="quoted">
Before printing the name of the Set when the number of missing things which fit the set is 0:
<br />&#160;&#160;&#160;&#160;say &quot;complete &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14607_121" -->
<a id="c14607_121"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get aarhus-aaron / look / inventory / get aam-aardvark / look / get gnu-zygote / look / get aarp-gnosis / look / inventory / drop set / look / get set / get a-aalto / inventory&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "444: The Fifth Body" "e142" -->
<a id="e142"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e142" class="eglink"><b>444</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e142" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Fifth Body</span></b></a><br />An expansion on the notebook, allowing the player somewhat more room in which to type his recorded remark.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_23.html#e142"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example142">
<p>The implementation here is much like that of the previous example, except that we allow the player to write his notebook input as a separate command, leading to an exchange such as</p>
<!-- START CODE "c14608_142" -->
<a id="c14608_142"></a><blockquote class="code"><p class="quoted">
&gt;write in my notebook
<br />You open your notebook and prepare to write in it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14609_142" -->
<a id="c14609_142"></a><blockquote class="code"><p class="quoted">
&gt;&gt;Am beginning to think that HT and BGG are in this together.
<br />You finish writing and fold your notebook away.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14610_142" -->
<a id="c14610_142"></a><blockquote class="code"><p class="quoted">
&gt;read my notebook
<br />You read:
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14611_142" -->
<a id="c14611_142"></a><blockquote class="code"><p class="quoted">
Wednesday morning
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14612_142" -->
<a id="c14612_142"></a><blockquote class="code"><p class="quoted">
Am beginning to think that HT and BGG are in this together.
</p></blockquote>
<!-- END CODE -->
<p>The opening is much as before:</p>
<!-- START CODE "c14613_142" -->
<a id="c14613_142"></a><blockquote class="code"><p class="quoted">
&quot;The Fifth Body&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14614_142" -->
<a id="c14614_142"></a><blockquote class="code"><p class="quoted">
A jotter is a kind of thing. A jotter has an external file called the text file. A jotter can be fresh or used. A jotter is usually fresh. A jotter has a text called the heading.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14615_142" -->
<a id="c14615_142"></a><blockquote class="code"><p class="quoted">
The currently erased jotter is an object that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14616_142" -->
<a id="c14616_142"></a><blockquote class="code"><p class="quoted">
To erase (pad - a jotter):
<br />&#160;&#160;&#160;&#160;now the currently erased jotter is the pad;
<br />&#160;&#160;&#160;&#160;write &quot;[heading of the currently erased jotter][paragraph break]&quot; to the text file of the pad;
<br />&#160;&#160;&#160;&#160;now the pad is fresh.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14617_142" -->
<a id="c14617_142"></a><blockquote class="code"><p class="quoted">
To write in (pad - a jotter):
<br />&#160;&#160;&#160;&#160;append &quot;[the time of day]: [player's command][line break]&quot; to the text file of the pad;
<br />&#160;&#160;&#160;&#160;now the pad is used.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14618_142" -->
<a id="c14618_142"></a><blockquote class="code"><p class="quoted">
To read (pad - a jotter):
<br />&#160;&#160;&#160;&#160;say &quot;You read: [paragraph break][text of the text file of the pad]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14619_142" -->
<a id="c14619_142"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat with pad running through jotters:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;erase the pad.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14620_142" -->
<a id="c14620_142"></a><blockquote class="code"><p class="quoted">
Instead of examining a used jotter (called the pad):
<br />&#160;&#160;&#160;&#160;read the pad.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14621_142" -->
<a id="c14621_142"></a><blockquote class="code"><p class="quoted">
Instead of examining a fresh jotter (called the pad):
<br />&#160;&#160;&#160;&#160;say &quot;There is nothing of note in [the pad].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14622_142" -->
<a id="c14622_142"></a><blockquote class="code"><p class="quoted">
Target jotter is an object that varies. The target jotter is usually nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14623_142" -->
<a id="c14623_142"></a><blockquote class="code"><p class="quoted">
Understand &quot;write in [something preferably held]&quot; as writing in. Writing in is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14624_142" -->
<a id="c14624_142"></a><blockquote class="code"><p class="quoted">
Check writing in:
<br />&#160;&#160;&#160;&#160;if the noun is not a jotter, say &quot;It would be better to write in a notebook.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14625_142" -->
<a id="c14625_142"></a><blockquote class="code"><p class="quoted">
Carry out writing in:
<br />&#160;&#160;&#160;&#160;now the command prompt is &quot;&gt;&gt;&quot;;
<br />&#160;&#160;&#160;&#160;now the target jotter is the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14626_142" -->
<a id="c14626_142"></a><blockquote class="code"><p class="quoted">
Report writing in:
<br />&#160;&#160;&#160;&#160;say &quot;You open [the noun] and prepare to write in it.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now what happens is that the player, having typed WRITE IN NOTEBOOK, will be faced with a &quot;&gt;&gt;&quot; prompt instead of the usual &quot;&gt;&quot;: a sign that the input mode has changed.</p>
<p>The next code is to react to reading a command. Whatever the player types at the &gt;&gt; prompt when the target jotter is set will now be recorded in the notebook, though with a character limit of about 60-100 characters depending on how much upper-case and punctuation he uses. (There are ways to lift the character length restriction as well, but they would take us into deeper waters.)</p>
<!-- START CODE "c14627_142" -->
<a id="c14627_142"></a><blockquote class="code"><p class="quoted">
After reading a command when target jotter is a jotter:
<br />&#160;&#160;&#160;&#160;now the command prompt is &quot;&gt;&quot;;
<br />&#160;&#160;&#160;&#160;write in target jotter;
<br />&#160;&#160;&#160;&#160;now target jotter is used;
<br />&#160;&#160;&#160;&#160;say &quot;You finish writing and fold your notebook away.&quot;;
<br />&#160;&#160;&#160;&#160;now the target jotter is nothing;
<br />&#160;&#160;&#160;&#160;reject the player's command.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14628_142" -->
<a id="c14628_142"></a><blockquote class="code"><p class="quoted">
Understand &quot;erase [something preferably held]&quot; as erasing. Erasing is an action applying to one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14629_142" -->
<a id="c14629_142"></a><blockquote class="code"><p class="quoted">
Check erasing:
<br />&#160;&#160;&#160;&#160;if the noun is not a jotter, say &quot;It's hard to see how.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14630_142" -->
<a id="c14630_142"></a><blockquote class="code"><p class="quoted">
Carry out erasing:
<br />&#160;&#160;&#160;&#160;erase the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14631_142" -->
<a id="c14631_142"></a><blockquote class="code"><p class="quoted">
Report erasing:
<br />&#160;&#160;&#160;&#160;say &quot;You scrub out all the entries in [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14632_142" -->
<a id="c14632_142"></a><blockquote class="code"><p class="quoted">
The player carries a jotter called your notebook. The file of Player's Observations is called &quot;notebook&quot;. The text file of your notebook is the file of Player's Observations. The heading of your notebook is &quot;Sunday Morning&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14633_142" -->
<a id="c14633_142"></a><blockquote class="code"><p class="quoted">
The Vestry is a room. &quot;[Havers] hangs back by the door: the forensics expert is not finished with a preliminary examination of the body. From here you can't see much, except that the expert has peeled back and laid to one side a liturgical vestment that someone at the church used to cover the corpse until the police came. What was once a cream silk with festive Easter embroidery is now stained with blood-colored handprints.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14634_142" -->
<a id="c14634_142"></a><blockquote class="code"><p class="quoted">
Detective Havers is a woman in the Vestry. The description is &quot;She looks glumly back. There's still a purple-ish bruise on her cheekbone from the disaster Thursday afternoon.&quot; Havers is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14635_142" -->
<a id="c14635_142"></a><blockquote class="code"><p class="quoted">
Havers is carrying a jotter called Barbara's notebook. The file of Barbara's Observations is called &quot;barbara&quot;. The text file of Barbara's notebook is the file of Barbara's Observations. The heading of Barbara's notebook is &quot;Sun. AM&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14636_142" -->
<a id="c14636_142"></a><blockquote class="code"><p class="quoted">
The time of day is 9:11 AM.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "94: Costa Rican Ornithology" "e94" -->
<a id="e94"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e94" class="eglink"><b>94</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e94" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Costa Rican Ornithology</span></b></a><br />A fully-implemented book, answering questions from a table of data, and responding to failed consultation with a custom message such as "You flip through the Guide to Central American Birds, but find no reference to penguins."</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_7.html#e94"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example94">
<p>The following relies on quite a number of features we haven't met yet: tables, rules for printing names, instructions for understanding the player's commands. It is offered simply as an example of how a fully implemented book might be handled in Inform.</p>
<!-- START CODE "c14637_94" -->
<a id="c14637_94"></a><blockquote class="code"><p class="quoted">
&quot;Costa Rican Ornithology&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14638_94" -->
<a id="c14638_94"></a><blockquote class="code"><p class="quoted">
A book is a kind of thing. Understand &quot;book&quot; as a book. A book has a table name called the contents.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14639_94" -->
<a id="c14639_94"></a><blockquote class="code"><p class="quoted">
Instead of consulting a book about a topic listed in the contents of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;[reply entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14640_94" -->
<a id="c14640_94"></a><blockquote class="code"><p class="quoted">
Report consulting a book about:
<br />&#160;&#160;&#160;&#160;say &quot;You flip through [the noun], but find no reference to [the topic understood].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>With this &quot;topic understood&quot; phrase, we're telling Inform to print back the word or phrase that the player was attempting to look up. This overrides the more general default response, &quot;You discover nothing of interest in the book.&quot;</p>
<p>We now have the essential elements to construct whatever books we like. Now let's have an example of a specific book:</p>
<!-- START CODE "c14641_94" -->
<a id="c14641_94"></a><blockquote class="code"><p class="quoted">
The Guide to Central American Birds is a book carried by the player. The contents of the Guide is the Table of Listed Birds.
</p></blockquote>
<!-- END CODE -->
<p>We will come back to the idea of tables and table names later, but for now the important thing is that we have instructed Inform to look up its answers to consulting the bird guide in this form:</p>
<!-- START CODE "c14642_94" -->
<a id="c14642_94"></a><blockquote class="code"><p class="quoted">
Table of Listed Birds
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;[red]&quot; or &quot;[red] bird/macaw&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;You flip through the Guide for a while and eventually discover a reference to the [scarlet macaw], which appears to correspond with what you see before you.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;quetzal/trogon&quot; or &quot;resplendent trogon&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;The entry on the quetzal is quite lyrical, describing its brilliant plumage, flashing and igniting in the sunshine, which is supposedly sufficient to lure birdwatchers from all over the world. Unfortunately, the quetzal is described as being bright emerald in color, with a pink fuzz on its head and a long soft tail 'like a feather boa'. None of these describes your visitor.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>The topic column is a bit special: it matches the player's input, and is not meant to be printed out again. Topic columns will be discussed further in the chapter on Tables. (Note also that, however it may appear in the documentation, the topic column should not be spanning multiple lines in our source text.)</p>
<p>We may also compress long or complicated topics by creating bracketed abbreviations, and in fact it's useful to do so now, to explain the red token we just used:</p>
<!-- START CODE "c14643_94" -->
<a id="c14643_94"></a><blockquote class="code"><p class="quoted">
Understand &quot;red-orange&quot; or &quot;bird&quot; or &quot;red&quot; or &quot;orange&quot; as the scarlet macaw. Understand &quot;red-orange&quot; or &quot;red&quot; or &quot;orange&quot; or &quot;scarlet&quot; as &quot;[red]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This technique is discussed further in the chapter on Understanding.</p>
<p>If we wanted more books, we could define those in the same way, giving each its own separate contents table to be used for consultation. But for the sake of the example we will keep it simple, and move on to the scenario itself:</p>
<!-- START CODE "c14644_94" -->
<a id="c14644_94"></a><blockquote class="code"><p class="quoted">
The Veranda is a room. &quot;From here you can see a considerable expanse of dense-growing jungle plants, and eventually the open water beyond.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14645_94" -->
<a id="c14645_94"></a><blockquote class="code"><p class="quoted">
The scarlet macaw is an animal in the veranda. &quot;A vibrantly-colored [scarlet macaw] perches on the rail.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14646_94" -->
<a id="c14646_94"></a><blockquote class="code"><p class="quoted">
A thing can be known or unknown.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14647_94" -->
<a id="c14647_94"></a><blockquote class="code"><p class="quoted">
Before printing the name of the scarlet macaw while consulting:
<br />&#160;&#160;&#160;&#160;now the scarlet macaw is known.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14648_94" -->
<a id="c14648_94"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the unknown scarlet macaw: if the macaw is unknown, say &quot;red-orange bird of unknown species&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14649_94" -->
<a id="c14649_94"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look up penguins in the guide / look up quetzal in guide / look up silver nuthatches in the guide / look / look up red bird in the book / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "308: Palette" "e282" -->
<a id="e282"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e282" class="eglink"><b>308</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e282" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Palette</span></b></a><br />An artist's workshop in which the canvas can be painted in any colour, and where painterly names for pigments ("cerulean") are accepted alongside everyday ones ("blue").</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e282"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example282">
<p>There are hundreds of traditional pigments, from lampblack to burnt sienna, so we will confine ourselves to just two:</p>
<!-- START CODE "c14650_282" -->
<a id="c14650_282"></a><blockquote class="code"><p class="quoted">
&quot;Palette&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14651_282" -->
<a id="c14651_282"></a><blockquote class="code"><p class="quoted">
The Atelier is a room. &quot;The floridly untidy loft space used by a moderately unsuccessful artist (you, that is).&quot; The canvas, palette and paint brush are here. Understand &quot;painting&quot; as the canvas.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14652_282" -->
<a id="c14652_282"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are white, red, blue and green.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14653_282" -->
<a id="c14653_282"></a><blockquote class="code"><p class="quoted">
The canvas has a colour. The canvas is white. The printed name of the canvas is &quot;largely [colour] canvas&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14654_282" -->
<a id="c14654_282"></a><blockquote class="code"><p class="quoted">
Painting is an action applying to one thing and one colour. Check painting: if the noun is not the canvas, say &quot;Centuries of tradition suggest that canvas is the natural home of paint.&quot; instead. Carry out painting: now the colour of the canvas is the colour understood. Report painting: say &quot;You splash away at the now [canvas].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14655_282" -->
<a id="c14655_282"></a><blockquote class="code"><p class="quoted">
Understand &quot;paint [something] [a colour]&quot; as painting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14656_282" -->
<a id="c14656_282"></a><blockquote class="code"><p class="quoted">
Understand &quot;calico&quot; as white. Understand &quot;cerulean&quot; or &quot;cerulean blue&quot; as blue.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14657_282" -->
<a id="c14657_282"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine canvas / paint canvas red / examine canvas / paint canvas cerulean / examine canvas&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "36: Brown" "e318" -->
<a id="e318"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e318" class="eglink"><b>36</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e318" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Brown</span></b></a><br />A red sticky label which can be attached to anything in the game, or removed again.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_3.html#e318"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example318">
<!-- START CODE "c14658_318" -->
<a id="c14658_318"></a><blockquote class="code"><p class="quoted">
&quot;Brown&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14659_318" -->
<a id="c14659_318"></a><blockquote class="code"><p class="quoted">
The Shipping Room is a room. The red sticky label is a thing carried by the player. The description of the red sticky label is &quot;It reads: AIRMAIL[if the label is part of something (called the parent)]. It is stuck to [the parent][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14660_318" -->
<a id="c14660_318"></a><blockquote class="code"><p class="quoted">
A black crate is in Shipping. The description is &quot;A boring black crate.&quot;  The brown crate is a thing in Shipping. The description is &quot;An ordinary brown crate.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14661_318" -->
<a id="c14661_318"></a><blockquote class="code"><p class="quoted">
After examining something when the label is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;A bright red sticky label is attached to [the noun]!&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here is the essential point: whenever we ATTACH LABEL TO something, it becomes part of that object.</p>
<!-- START CODE "c14662_318" -->
<a id="c14662_318"></a><blockquote class="code"><p class="quoted">
Instead of tying the red sticky label to something:
<br />&#160;&#160;&#160;&#160;now the red sticky label is part of the second noun;
<br />&#160;&#160;&#160;&#160;say &quot;You stick [the label] to [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And of course the label cannot be stuck to itself or to more than one thing at a time.</p>
<!-- START CODE "c14663_318" -->
<a id="c14663_318"></a><blockquote class="code"><p class="quoted">
Before tying the label to something when the label is part of something:
<br />&#160;&#160;&#160;&#160;if the label is part of the second noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The label] is already stuck to [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first freeing the label)[line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try taking the label;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the label is part of something, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14664_318" -->
<a id="c14664_318"></a><blockquote class="code"><p class="quoted">
Instead of tying the red sticky label to the label:
<br />&#160;&#160;&#160;&#160;say &quot;That would ruin the label entirely.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14665_318" -->
<a id="c14665_318"></a><blockquote class="code"><p class="quoted">
Instead of taking the label when the label is part of something:
<br />&#160;&#160;&#160;&#160;now the player carries the label;
<br />&#160;&#160;&#160;&#160;say &quot;You peel the label off again.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Much of the rest is just tidying to make sure that the player's commands are redirected into the right syntax.</p>
<!-- START CODE "c14666_318" -->
<a id="c14666_318"></a><blockquote class="code"><p class="quoted">
Instead of tying something to the label:
<br />&#160;&#160;&#160;&#160;try tying the label to the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14667_318" -->
<a id="c14667_318"></a><blockquote class="code"><p class="quoted">
Instead of putting the label on something:
<br />&#160;&#160;&#160;&#160;try tying the label to the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14668_318" -->
<a id="c14668_318"></a><blockquote class="code"><p class="quoted">
Instead of inserting the label into something:
<br />&#160;&#160;&#160;&#160;try tying the label to the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14669_318" -->
<a id="c14669_318"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;stick&quot; or &quot;apply&quot; as &quot;tie&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We could have created a new &quot;sticking&quot; action, but to keep the example short we will use the built-in &quot;tying&quot; action instead, and respond to the command &quot;stick&quot; just as if it were &quot;tie&quot;.</p>
<!-- START CODE "c14670_318" -->
<a id="c14670_318"></a><blockquote class="code"><p class="quoted">
Understand &quot;peel [something]&quot; or &quot;peel off [something]&quot; as taking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14671_318" -->
<a id="c14671_318"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / put label on the black crate / look / x black / x label / get the label / apply label to brown crate / look / x brown / peel off label / stick label to label&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "55: Early Childhood" "e41" -->
<a id="e41"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e41" class="eglink"><b>55</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e41" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Early Childhood</span></b></a><br />A child's set of building blocks, which come in three different colours - red, green and blue - but which can be repainted during play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_4.html#e41"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example41">
<p>This would be a one-star example if it were not for the repainting:</p>
<!-- START CODE "c14672_41" -->
<a id="c14672_41"></a><blockquote class="code"><p class="quoted">
&quot;Early Childhood 1&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14673_41" -->
<a id="c14673_41"></a><blockquote class="code"><p class="quoted">
A building block is a kind of thing. A red block, a blue block and a green block are kinds of building block.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14674_41" -->
<a id="c14674_41"></a><blockquote class="code"><p class="quoted">
The Nursery is a room. In the Nursery are six red blocks, four blue blocks and a green block.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14675_41" -->
<a id="c14675_41"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / get red block&quot;.
</p></blockquote>
<!-- END CODE -->
<p>But a kind cannot change during play, so this will not do. Instead, the colour will have to be a property of the block. So we might first try this:</p>
<!-- START CODE "c14676_41" -->
<a id="c14676_41"></a><blockquote class="code"><p class="quoted">
&quot;Early Childhood 2&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14677_41" -->
<a id="c14677_41"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, blue and green. A block is a kind of thing. A block has a colour. A block is usually blue.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14678_41" -->
<a id="c14678_41"></a><blockquote class="code"><p class="quoted">
The Nursery is a room. In the Nursery are six red blocks, four blue blocks and a green block.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14679_41" -->
<a id="c14679_41"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / get red block&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Which is fine, so far as it goes, but the colour property is not at all visible to the player, who simply sees &quot;eleven blocks&quot;. We thought of colour as being something outwardly apparent, but Inform does not know this. To achieve a better effect, we will need features from distant chapters. The first is an activity called &quot;printing the name of&quot;:</p>
<!-- START CODE "c14680_41" -->
<a id="c14680_41"></a><blockquote class="code"><p class="quoted">
&quot;Early Childhood 3&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14681_41" -->
<a id="c14681_41"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, blue and green. A block is a kind of thing. A block has a colour. A block is usually blue. Before printing the name of a block: say &quot;[colour] &quot;. Before printing the plural name of a block: say &quot;[colour] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14682_41" -->
<a id="c14682_41"></a><blockquote class="code"><p class="quoted">
The Nursery is a room. In the Nursery are six red blocks, four blue blocks and a green block.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14683_41" -->
<a id="c14683_41"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / get red block&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This too, however, is unsatisfactory. The individual blocks are correctly described, but we are unable to distinguish them during play: we cannot type &quot;take a green block&quot;, for instance. And because the blocks are indistinguishable in play, they are still massed together as &quot;eleven blocks&quot; in room descriptions. We need to go one step further:</p>
<!-- START CODE "c14684_41" -->
<a id="c14684_41"></a><blockquote class="code"><p class="quoted">
&quot;Early Childhood 4&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14685_41" -->
<a id="c14685_41"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, blue and green. A block is a kind of thing. A block has a colour. A block is usually blue. Before printing the name of a block: say &quot;[colour] &quot;. Before printing the plural name of a block: say &quot;[colour] &quot;. Understand the colour property as describing a block.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14686_41" -->
<a id="c14686_41"></a><blockquote class="code"><p class="quoted">
The Nursery is a room. In the Nursery are six red blocks, four blue blocks and a green block.
</p></blockquote>
<!-- END CODE -->
<p>And now everything works nicely: the blocks are grouped by colour, and can be referred to by colour, and we can even change the colour of an individual block during play, using a bit of extra trickery from later:</p>
<!-- START CODE "c14687_41" -->
<a id="c14687_41"></a><blockquote class="code"><p class="quoted">
Understand &quot;paint [something] [colour]&quot; as painting it. Painting it is an action applying to one thing and one colour. Check painting it: if the noun is not a block, say &quot;Paints are only for blocks.&quot; instead. Carry out painting it: now the colour of the noun is the colour understood. Report painting it: say &quot;The block is now [the colour of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14688_41" -->
<a id="c14688_41"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get red block / get blue block / g / i / look / paint blue block red / i / look / paint me red&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "61: Control Center" "e343" -->
<a id="e343"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e343" class="eglink"><b>61</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e343" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Control Center</span></b></a><br />Objects which automatically include a description of their component parts whenever they are examined.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_5.html#e343"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example343">
<p>It is straightforward to make a rule that anything with parts must mention all those parts during an EXAMINE command:</p>
<!-- START CODE "c14689_343" -->
<a id="c14689_343"></a><blockquote class="code"><p class="quoted">
&quot;Control Center&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14690_343" -->
<a id="c14690_343"></a><blockquote class="code"><p class="quoted">
After examining a thing when something is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] includes [a list of things which are part of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14691_343" -->
<a id="c14691_343"></a><blockquote class="code"><p class="quoted">
The Control Center is a room. &quot;Here you are at the Control Center of the universe.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14692_343" -->
<a id="c14692_343"></a><blockquote class="code"><p class="quoted">
The Universe Management Computer is a fixed in place thing in the Control Center. &quot;The Universe Management Computer sits directly before you, unguarded.&quot; The description of the Universe Management Computer is &quot;The computer is so large that you would be unable to operate it all from one position. Alas, it does not come with a manual.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14693_343" -->
<a id="c14693_343"></a><blockquote class="code"><p class="quoted">
A chartreuse indicator light, an ennui meter, a golden knob settable to 15,000 positions, a toothpick dispenser, and a button labeled RESTART are part of the Universe Management Computer.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14694_343" -->
<a id="c14694_343"></a><blockquote class="code"><p class="quoted">
The command chair is an enterable supporter in the Control Center. It is pushable between rooms. &quot;Because the computer is too large for you to reach all of the front panel from a standing position, there is a command chair on casters which allows you to push back and forth.&quot; The description of the command chair is &quot;Quite ordinary, really, but for the heady rush of power that comes of sitting in it.&quot;. Some casters are part of the command chair.
</p></blockquote>
<!-- END CODE -->
<p>Now whenever we look at any object with components, we will first see the description, then a list of parts which belong to it. The following refinement brings in elements of later chapters, but it may be worth noting: because we've written our rule as an &quot;After examining...&quot;, anything that pre-empts the operation of the examine command will also prevent that rule from occurring. So for instance:</p>
<!-- START CODE "c14695_343" -->
<a id="c14695_343"></a><blockquote class="code"><p class="quoted">
A hair-thick needle is part of the ennui meter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14696_343" -->
<a id="c14696_343"></a><blockquote class="code"><p class="quoted">
Instead of examining the ennui meter: say &quot;You can't be bothered.&quot;
</p></blockquote>
<!-- END CODE -->
<p>...would not result in the needle being mentioned.</p>
<!-- START CODE "c14697_343" -->
<a id="c14697_343"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x chair / x computer / x ennui meter&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "427: What Makes You Tick" "e434" -->
<a id="e434"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e434" class="eglink"><b>427</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e434" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">What Makes You Tick</span></b></a><br />Building a fishing pole from several component parts that the player might put together in any order.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_21.html#e434"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example434">
<p>Suppose we want to let the player build a fishing pole out of three parts: a hook, a string, and a stick.</p>
<p>There are several things we must account for here. One is that our combination verb should be insensitive to ordering: it shouldn't matter whether the player types COMBINE STICK WITH STRING or COMBINE STRING WITH STICK.</p>
<p>Second, we need to make sure that our implementation handles intervening stages of assembly gracefully. The player should be able to combine string and hook first, or string and stick first, and be able to complete the assembly in either case.</p>
<p>Our implementation here uses a table of lists to determine which combinations of inputs should produce which result object. Because we sort our lists before comparing them, we guarantee that the player's ordering doesn't matter: COMBINE STICK WITH STRING will have the same effect as COMBINE STRING WITH STICK.</p>
<p>What's more, our implementation could be expanded to account for many other assemblages, if we wanted object-building to be a running theme of puzzles in our game.</p>
<!-- START CODE "c14698_434" -->
<a id="c14698_434"></a><blockquote class="code"><p class="quoted">
 &quot;What Makes You Tick&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14699_434" -->
<a id="c14699_434"></a><blockquote class="code"><p class="quoted">
Understand &quot;combine [something] with [something]&quot; as combining it with. Combining it with is an action applying to two carried things. Understand the command &quot;connect&quot; as &quot;combine&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14700_434" -->
<a id="c14700_434"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;attach&quot; as something new. Understand &quot;attach [something] to [something]&quot; as combining it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14701_434" -->
<a id="c14701_434"></a><blockquote class="code"><p class="quoted">
The combining it with action has an object called the item built.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14702_434" -->
<a id="c14702_434"></a><blockquote class="code"><p class="quoted">
Setting action variables for combining something with something:
<br />&#160;&#160;&#160;&#160;let X be a list of objects;
<br />&#160;&#160;&#160;&#160;add the noun to X;
<br />&#160;&#160;&#160;&#160;add the second noun to X;
<br />&#160;&#160;&#160;&#160;sort X;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Outcome Objects:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let Y be the component list entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sort Y;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if X is Y:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item built is the result entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14703_434" -->
<a id="c14703_434"></a><blockquote class="code"><p class="quoted">
Check combining it with:
<br />&#160;&#160;&#160;&#160;if the item built is nothing or the item built is not in limbo,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't combine [the noun] and [the second noun] into anything useful.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14704_434" -->
<a id="c14704_434"></a><blockquote class="code"><p class="quoted">
Carry out combining it with:
<br />&#160;&#160;&#160;&#160;move the item built to the holder of the noun;
<br />&#160;&#160;&#160;&#160;now the noun is nowhere;
<br />&#160;&#160;&#160;&#160;now the second noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14705_434" -->
<a id="c14705_434"></a><blockquote class="code"><p class="quoted">
Report combining it with:
<br />&#160;&#160;&#160;&#160;say &quot;You now have [an item built].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14706_434" -->
<a id="c14706_434"></a><blockquote class="code"><p class="quoted">
Limbo is a container. Limbo contains a hookless fishing pole, a hooked line, and a complete fishing pole.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14707_434" -->
<a id="c14707_434"></a><blockquote class="code"><p class="quoted">
Streamside is a room. The player carries a stick, a wire hook, and a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14708_434" -->
<a id="c14708_434"></a><blockquote class="code"><p class="quoted">
Table of Outcome Objects
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">component list</p></td><td class="quotedtablecell"><p class="quoted">result</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">{stick, string}</p></td><td class="quotedtablecell"><p class="quoted">hookless fishing pole</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">{wire hook, string}</p></td><td class="quotedtablecell"><p class="quoted">hooked line</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">{hooked line, stick}</p></td><td class="quotedtablecell"><p class="quoted">complete fishing pole</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">{hookless fishing pole, wire hook}</p></td><td class="quotedtablecell"><p class="quoted">complete fishing pole</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14709_434" -->
<a id="c14709_434"></a><blockquote class="code"><p class="quoted">
Test me with &quot;combine stick with string / i / combine pole with hook / i&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This kind of implementation makes sense if we don't intend the player to take the fishing pole apart again, or to refer to any of its component parts once it is built. For an alternate approach that does allow assembled objects to be taken apart again, see &quot;Some Assembly Required&quot;.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "57: Model Shop" "e90" -->
<a id="e90"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e90" class="eglink"><b>57</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e90" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Model Shop</span></b></a><br />An "on/off button" which controls whatever device it is part of.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_4.html#e90"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example90">
<p>Suppose we're particularly mechanically-minded and would like a game in which all of our mechanical devices have buttons to turn them on and off.</p>
<!-- START CODE "c14710_90" -->
<a id="c14710_90"></a><blockquote class="code"><p class="quoted">
&quot;Model Shop&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14711_90" -->
<a id="c14711_90"></a><blockquote class="code"><p class="quoted">
An on/off button is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14712_90" -->
<a id="c14712_90"></a><blockquote class="code"><p class="quoted">
Instead of pushing an on/off button which is part of a switched off device (called the machine):
<br />&#160;&#160;&#160;&#160;try switching on the machine.
</p></blockquote>
<!-- END CODE -->
<p>Here we are making a rule about how our hypothetical buttons will interact with the machines to which they belong. Instead of pushing... is a rule that pertains to actions, and we will learn more about these in the chapter on actions. &quot;...which is part of a switched off device&quot; provides a specific circumstance - this is only to apply to buttons that are stuck to a machines that can be turned on or off. &quot;(called the machine)&quot; tells Inform that if it finds such a device, it should thereafter refer to it as &quot;the machine.&quot; (The called syntax is explained further in the chapter on Change.)</p>
<p>A set of three more rules will complete our instructions about using buttons to control devices:</p>
<!-- START CODE "c14713_90" -->
<a id="c14713_90"></a><blockquote class="code"><p class="quoted">
Instead of pushing an on/off button which is part of a switched on device (called the machine):
<br />&#160;&#160;&#160;&#160;try switching off the machine.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14714_90" -->
<a id="c14714_90"></a><blockquote class="code"><p class="quoted">
Instead of switching on an on/off button which is part of a device (called the machine):
<br />&#160;&#160;&#160;&#160;try switching on the machine.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14715_90" -->
<a id="c14715_90"></a><blockquote class="code"><p class="quoted">
Instead of switching off an on/off button which is part of a device (called the machine):
<br />&#160;&#160;&#160;&#160;try switching off the machine.
</p></blockquote>
<!-- END CODE -->
<p>Then we hand out buttons with a free hand:</p>
<!-- START CODE "c14716_90" -->
<a id="c14716_90"></a><blockquote class="code"><p class="quoted">
One on/off button is part of every device.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14717_90" -->
<a id="c14717_90"></a><blockquote class="code"><p class="quoted">
The Model Shop is a room. A model train is a fixed in place device in the Model Shop. A toy elephant is a device in the Model Shop.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14718_90" -->
<a id="c14718_90"></a><blockquote class="code"><p class="quoted">
Every turn when the model train is switched on:
<br />&#160;&#160;&#160;&#160;say &quot;The model train circles your feet, blowing small puffs of steam.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14719_90" -->
<a id="c14719_90"></a><blockquote class="code"><p class="quoted">
Every turn when the toy elephant is switched on:
<br />&#160;&#160;&#160;&#160;say &quot;The toy elephant waves its trunk at you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14720_90" -->
<a id="c14720_90"></a><blockquote class="code"><p class="quoted">
Test me with &quot;push model train's button / push elephant's button / g / switch off model train's button&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And now the game will have a model train's button and a toy elephant's button.</p>
<p>It may be that we want (as an added nuance) to add other names for these items. While we would want an assembly to create objects such as &quot;Lucy's hand&quot; and not &quot;Lucy hand&quot;, it is entirely reasonable to want to talk about the model train button or the elephant button. We could define these additional names like so:</p>
<!-- START CODE "c14721_90" -->
<a id="c14721_90"></a><blockquote class="code"><p class="quoted">
Understand &quot;elephant button&quot; or &quot;button on elephant&quot; as the elephant's button.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14722_90" -->
<a id="c14722_90"></a><blockquote class="code"><p class="quoted">
Understand &quot;model train&quot; or &quot;model&quot; or &quot;train&quot; as &quot;[train]&quot;. Understand &quot;[train] button&quot; or  &quot;button on [train]&quot; as the model train's button.
</p></blockquote>
<!-- END CODE -->
<p>In the second case, we are defining [train] to mean any of the three phrases &quot;train&quot;, &quot;model&quot;, and &quot;model train&quot;; so &quot;[train] button&quot; will match &quot;model train button&quot; or &quot;train button&quot; or &quot;model button&quot; equally well. See the chapter on Understanding for more on how to create alternative phrasings for the player to use.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "53: Signs and Portents" "e433" -->
<a id="e433"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e433" class="eglink"><b>53</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e433" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Signs and Portents</span></b></a><br />Signpost that points to various destinations, depending on how the player has turned it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_4.html#e433"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example433">
<!-- START CODE "c14723_433" -->
<a id="c14723_433"></a><blockquote class="code"><p class="quoted">
&quot;Signs and Portents&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14724_433" -->
<a id="c14724_433"></a><blockquote class="code"><p class="quoted">
Seven Dials is a room. The description of Seven Dials is &quot;There is a signpost, on which seven hands swivel and swing, freely as weathercocks. They make your present road now London, now Abingdon; now Weston-super-Mare, or now Hell.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14725_433" -->
<a id="c14725_433"></a><blockquote class="code"><p class="quoted">
Seven Dials contains a signpost. The signpost is scenery. Understand &quot;sign&quot; and &quot;post&quot; as the signpost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14726_433" -->
<a id="c14726_433"></a><blockquote class="code"><p class="quoted">
Destination is a kind of value. The destinations are London, Abingdon, Luton, Weston-super-Mare, Runnymede, Hell, and Low Noon.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14727_433" -->
<a id="c14727_433"></a><blockquote class="code"><p class="quoted">
The signpost has a destination.
</p></blockquote>
<!-- END CODE -->
<p>In order to interact with the signpost, we will need to make use of some action rules:</p>
<!-- START CODE "c14728_433" -->
<a id="c14728_433"></a><blockquote class="code"><p class="quoted">
Instead of examining the signpost:
<br />&#160;&#160;&#160;&#160;say &quot;[The signpost] currently puts you on the road to [italic type][the destination of the signpost][roman type], but it swiftly alters again.&quot;;
<br />&#160;&#160;&#160;&#160;now the destination of the signpost is the destination after the destination of the signpost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14729_433" -->
<a id="c14729_433"></a><blockquote class="code"><p class="quoted">
Instead of turning the signpost:
<br />&#160;&#160;&#160;&#160;now the destination of the signpost is the destination after the destination of the signpost;
<br />&#160;&#160;&#160;&#160;say &quot;With a hand's touch you turn the signpost to mark your way for [italic type][the destination of the signpost][roman type].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14730_433" -->
<a id="c14730_433"></a><blockquote class="code"><p class="quoted">
Instead of going north in Seven Dials when the destination of the signpost is Hell:
<br />&#160;&#160;&#160;&#160;say &quot;It is a path that goes gently ever down and down with no stumbling block or any distraction at either side; there are no bandits and no tolls.&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14731_433" -->
<a id="c14731_433"></a><blockquote class="code"><p class="quoted">
Instead of going north in Seven Dials when the destination of the signpost is Low Noon:
<br />&#160;&#160;&#160;&#160;say &quot;A long road whose scenery does not change, nor anything on the horizon move but the sun. When at last you come to Noon, she hangs above your head like a hat.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14732_433" -->
<a id="c14732_433"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x signpost / n / turn signpost / n / turn signpost / n / turn signpost / n / turn signpost / n&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14733_433" -->
<a id="c14733_433"></a><blockquote class="code"><p class="quoted">
Test more with  &quot;x signpost / n / turn signpost / n / turn signpost / n / turn signpost / n / turn signpost / turn signpost / n&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "66: Radio Daze" "e313" -->
<a id="e313"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e313" class="eglink"><b>66</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e313" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Radio Daze</span></b></a><br />A radio that produces a cycle of output using varying text.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_5.html#e313"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example313">
<!-- START CODE "c14734_313" -->
<a id="c14734_313"></a><blockquote class="code"><p class="quoted">
&quot;Radio Daze&quot; by Jon Ingold
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14735_313" -->
<a id="c14735_313"></a><blockquote class="code"><p class="quoted">
The Living Room is a room. &quot;A long couch, set up so you can see your wireless set. Not that you need to see it, of course.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14736_313" -->
<a id="c14736_313"></a><blockquote class="code"><p class="quoted">
The long couch is an enterable scenery supporter in the living room. Instead of entering the long couch when the radio was switched off, say &quot;Better turn the radio on before you get comfortable.&quot; Report entering the couch: say &quot;You settle yourself down to listen.&quot; instead. Instead of listening when the radio is switched on, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14737_313" -->
<a id="c14737_313"></a><blockquote class="code"><p class="quoted">
The radio is a device in the living room. The radio is switched off. &quot;[if switched on]The radio burbles on[otherwise]The radio is off[end if].&quot; Check switching off the radio when the player is on the long couch: say &quot;You can't reach the radio from here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14738_313" -->
<a id="c14738_313"></a><blockquote class="code"><p class="quoted">
Every turn when the radio is switched on:
<br />&#160;&#160;&#160;&#160;say &quot;[one of]Two characters in the radio play have begun an argument[or]The argument continues[or]The play continues[stopping]: [one of]'Did not!'[or]'Did too!'[or]'Did I?'[or]'You did!'[or]'I couldn't have, Martha!'[or]'But you did, Tom!'[cycling]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14739_313" -->
<a id="c14739_313"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sit on couch / turn on radio / sit on couch/ listen / g / g / g / g / g&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "311: Aspect" "e16" -->
<a id="e16"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e16" class="eglink"><b>311</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e16" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Aspect</span></b></a><br />Understanding aspect ratios (a unit) in the names of televisions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e16"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example16">
<p>Named properties are not the only kind that Inform is able to understand referring to an object. We can also use unit and number properties to distinguish things from one another, as here, where televisions have aspect ratios:</p>
<!-- START CODE "c14740_16" -->
<a id="c14740_16"></a><blockquote class="code"><p class="quoted">
&quot;Aspect&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14741_16" -->
<a id="c14741_16"></a><blockquote class="code"><p class="quoted">
An aspect ratio is a kind of value. 16:9 specifies an aspect ratio.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14742_16" -->
<a id="c14742_16"></a><blockquote class="code"><p class="quoted">
A television is a kind of device. A television has an aspect ratio. Understand the aspect ratio property as referring to a television. Understand &quot;European standard&quot; as 16:9.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14743_16" -->
<a id="c14743_16"></a><blockquote class="code"><p class="quoted">
The Office is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14744_16" -->
<a id="c14744_16"></a><blockquote class="code"><p class="quoted">
The widescreen TV is a television in the Office. The fifties TV is a television in the Office. The widescreen TV is 16:9. The fifties TV is 4:3.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14745_16" -->
<a id="c14745_16"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine european standard tv / x 16:9 tv / x 4:3 tv&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "313: Channel 1" "e72" -->
<a id="e72"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e72" class="eglink"><b>313</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e72" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Channel 1</span></b></a><br />Understanding channels (a number) in the names of televisions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e72"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example72">
<p>We might want to allow every television to be tuned to a channel (a number property) which the player could refer to, so that</p>
<!-- START CODE "c14746_72" -->
<a id="c14746_72"></a><blockquote class="code"><p class="quoted">
WATCH CHANNEL 13
<br />TURN OFF CHANNEL 4
</p></blockquote>
<!-- END CODE -->
<p>would be directed to the appropriate television object, if any television is turned on and tuned to the correct station. We might now write:</p>
<!-- START CODE "c14747_72" -->
<a id="c14747_72"></a><blockquote class="code"><p class="quoted">
&quot;Channel&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14748_72" -->
<a id="c14748_72"></a><blockquote class="code"><p class="quoted">
A television is a kind of device. A television has a number called the channel. Understand the channel property as referring to a television. Understand &quot;channel&quot; as a television.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14749_72" -->
<a id="c14749_72"></a><blockquote class="code"><p class="quoted">
The Office is a room. The widescreen TV is a television in the Office. The fifties TV is a television in the Office.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14750_72" -->
<a id="c14750_72"></a><blockquote class="code"><p class="quoted">
Changing the channel of it to is an action applying to one thing and one number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14751_72" -->
<a id="c14751_72"></a><blockquote class="code"><p class="quoted">
Understand &quot;tune [something] to [number]&quot; or &quot;change channel of [something] to [number]&quot; as changing the channel of it to.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14752_72" -->
<a id="c14752_72"></a><blockquote class="code"><p class="quoted">
Check changing the channel of something to:
<br />&#160;&#160;&#160;&#160;if the noun is not a television, say &quot;[The noun] cannot be tuned to a channel.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14753_72" -->
<a id="c14753_72"></a><blockquote class="code"><p class="quoted">
Carry out changing the channel of something to:
<br />&#160;&#160;&#160;&#160;now the channel of the noun is the number understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14754_72" -->
<a id="c14754_72"></a><blockquote class="code"><p class="quoted">
Report changing the channel of something to:
<br />&#160;&#160;&#160;&#160;say &quot;You tune [the noun] to channel [number understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14755_72" -->
<a id="c14755_72"></a><blockquote class="code"><p class="quoted">
Instead of examining a television:
<br />&#160;&#160;&#160;&#160;if the noun is switched off, say &quot;[The noun] is currently turned off.&quot; instead;
<br />&#160;&#160;&#160;&#160;let the chosen channel be the channel of the noun;
<br />&#160;&#160;&#160;&#160;if the chosen channel is a current channel listed in the Table of Television Channels:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row with current channel of the chosen channel in the Table of Television Channels;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[output entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Snow fills the screen of [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14756_72" -->
<a id="c14756_72"></a><blockquote class="code"><p class="quoted">
Table of Television Channels
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">current channel</p></td><td class="quotedtablecell"><p class="quoted">output</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">&quot;The screen of [the noun] is completely black.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">4</p></td><td class="quotedtablecell"><p class="quoted">&quot;A gloomy female news anchor describes the latest car bomb in Baghdad: 104 dead today, and no sign of change.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">&quot;A couple of contestants in spangled scarlet outfits are performing an energetic paso doble.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">&quot;On-screen, Ichiro is up to bat with one man on second and no outs.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14757_72" -->
<a id="c14757_72"></a><blockquote class="code"><p class="quoted">
Test me with &quot;change channel of fifties tv to 4 / x channel 4 / switch on fifties / x channel 4 / switch on widescreen / tune fifties tv to 5 / x channel 5 / x fifties tv / x channel 4&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "316: Channel 2" "e73" -->
<a id="e73"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e73" class="eglink"><b>316</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e73" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Channel 2</span></b></a><br />Understanding channels (a number) in the names of televisions, with more sophisticated parsing of the change channel action.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e73"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example73">
<p>Our previous implementation of televisions (&quot;Channel 1&quot;) doesn't allow the player to type things like</p>
<!-- START CODE "c14758_73" -->
<a id="c14758_73"></a><blockquote class="code"><p class="quoted">
TUNE FIFTIES TELEVISION TO CHANNEL 4
</p></blockquote>
<!-- END CODE -->
<p>nor does it deal with player input like</p>
<!-- START CODE "c14759_73" -->
<a id="c14759_73"></a><blockquote class="code"><p class="quoted">
TUNE TO CHANNEL 4 ON FIFTIES TELEVISION
</p></blockquote>
<!-- END CODE -->
<p>or</p>
<!-- START CODE "c14760_73" -->
<a id="c14760_73"></a><blockquote class="code"><p class="quoted">
TUNE TO CHANNEL 4
</p></blockquote>
<!-- END CODE -->
<p>where no television is specified. When we are designing commands which involve two elements (here, a television and a channel number), it's usually a good idea to allow the player to specify those elements in either order, as we saw demonstrated briefly in &quot;New commands for old grammar&quot;.</p>
<p>We might, therefore, want to add a few refinements: first by defining a &quot;[channel]&quot; token that will accept input of the forms &quot;[number]&quot; and &quot;channel [number]&quot;, and second by creating some additional &quot;Understand&quot; lines that will accept variant versions of the player's input.</p>
<!-- START CODE "c14761_73" -->
<a id="c14761_73"></a><blockquote class="code"><p class="quoted">
&quot;Channel 2&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14762_73" -->
<a id="c14762_73"></a><blockquote class="code"><p class="quoted">
Section 1 - Televisions in General
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14763_73" -->
<a id="c14763_73"></a><blockquote class="code"><p class="quoted">
A television is a kind of device.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14764_73" -->
<a id="c14764_73"></a><blockquote class="code"><p class="quoted">
A television has a number called the channel. Understand the channel property as referring to a television. Understand &quot;channel&quot; as a television.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14765_73" -->
<a id="c14765_73"></a><blockquote class="code"><p class="quoted">
Changing the channel of it to is an action applying to one thing and one number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14766_73" -->
<a id="c14766_73"></a><blockquote class="code"><p class="quoted">
Understand &quot;tune [television] to [channel]&quot; or &quot;change channel of [television] to [channel]&quot; as changing the channel of it to.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14767_73" -->
<a id="c14767_73"></a><blockquote class="code"><p class="quoted">
Understand &quot;tune [something] to [channel]&quot; or &quot;change channel of [something] to [channel]&quot; as changing the channel of it to.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14768_73" -->
<a id="c14768_73"></a><blockquote class="code"><p class="quoted">
Understand &quot;tune to [channel] on [television]&quot; or &quot;change to [channel] on [television]&quot; as changing the channel of it to (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14769_73" -->
<a id="c14769_73"></a><blockquote class="code"><p class="quoted">
Understand &quot;tune to [channel] on [something]&quot; or &quot;change to [channel] on [something]&quot; as changing the channel of it to (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14770_73" -->
<a id="c14770_73"></a><blockquote class="code"><p class="quoted">
Understand &quot;[number]&quot; or &quot;channel [number]&quot; as &quot;[channel]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14771_73" -->
<a id="c14771_73"></a><blockquote class="code"><p class="quoted">
Check changing the channel of something to:
<br />&#160;&#160;&#160;&#160;if the noun is not a television, say &quot;[The noun] cannot be tuned to a channel.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14772_73" -->
<a id="c14772_73"></a><blockquote class="code"><p class="quoted">
Carry out changing the channel of something to:
<br />&#160;&#160;&#160;&#160;now the channel of the noun is the number understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14773_73" -->
<a id="c14773_73"></a><blockquote class="code"><p class="quoted">
Report changing the channel of something to:
<br />&#160;&#160;&#160;&#160;say &quot;You tune [the noun] to channel [number understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14774_73" -->
<a id="c14774_73"></a><blockquote class="code"><p class="quoted">
Instead of examining a television:
<br />&#160;&#160;&#160;&#160;if the noun is switched off, say &quot;[The noun] is currently turned off.&quot; instead;
<br />&#160;&#160;&#160;&#160;let the chosen channel be the channel of the noun;
<br />&#160;&#160;&#160;&#160;if the chosen channel is a current channel listed in the Table of Television Channels:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row with current channel of the chosen channel in the Table of Television Channels;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[output entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Snow fills the screen of [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14775_73" -->
<a id="c14775_73"></a><blockquote class="code"><p class="quoted">
Table of Television Channels
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">current channel</p></td><td class="quotedtablecell"><p class="quoted">output</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">&quot;The screen of [the noun] is completely black.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14776_73" -->
<a id="c14776_73"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14777_73" -->
<a id="c14777_73"></a><blockquote class="code"><p class="quoted">
The Office is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14778_73" -->
<a id="c14778_73"></a><blockquote class="code"><p class="quoted">
The widescreen TV is a television in the Office. The fifties TV is a television in the Office.
</p></blockquote>
<!-- END CODE -->
<p>And we add the scenario-specific content to our Table of Television Channels; in the case of channel 13, we provide for a changing sequence of events using text variations.</p>
<!-- START CODE "c14779_73" -->
<a id="c14779_73"></a><blockquote class="code"><p class="quoted">
Table of Television Channels (continued)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">current channel</p></td><td class="quotedtablecell"><p class="quoted">output</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">4</p></td><td class="quotedtablecell"><p class="quoted">&quot;A gloomy female news anchor describes the latest car bomb in Baghdad: 104 dead today, and no sign of change.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">&quot;A couple of contestants in spangled scarlet outfits are performing an energetic paso doble.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">&quot;[one of]On-screen, Ichiro is up to bat with one man on second and no outs.[or]Ichiro has singled to first and the other man is on third.[or]The next batter is in the middle of flying out.[or]Everything looks rosy until the men in black pull off a double-play and retire the side.[or]The channel has cut to a commercial.[stopping]&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14780_73" -->
<a id="c14780_73"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test one / test two&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14781_73" -->
<a id="c14781_73"></a><blockquote class="code"><p class="quoted">
Test one with &quot;change channel of fifties tv to 4 / x channel 4 / switch on fifties / x channel 4 / switch on widescreen / tune fifties tv to channel 5 / x channel 5 / x fifties tv / x channel 4&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14782_73" -->
<a id="c14782_73"></a><blockquote class="code"><p class="quoted">
Test two with &quot;tune to channel 13 / widescreen / tune channel 13 to channel 5 / tune channel 5 to channel 3 / widescreen / x channel 3&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "336: Aftershock" "e2" -->
<a id="e2"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e2" class="eglink"><b>336</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e2" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Aftershock</span></b></a><br />Modifying the rules for examining a device so that all devices have some specific behavior when switched on, which is described at various times.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e2"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example2">
<p>The built-in behavior of Inform is to print a line after a device is examined, saying whether the item is on or off. This is often inappropriate, and we could simply turn off that behavior in general by instructing Inform to ignore the &quot;examine described devices rule&quot; (see the chapter on rulebooks).</p>
<p>Perhaps, though, we would like continue to have a short passage about the action of any switched on device; we'd just like a little more control over what it says from time to time. And in that case, we might change the rule to give a new activity control over that portion of the description:</p>
<!-- START CODE "c14783_2" -->
<a id="c14783_2"></a><blockquote class="code"><p class="quoted">
&quot;Aftershock&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14784_2" -->
<a id="c14784_2"></a><blockquote class="code"><p class="quoted">
Section 1 - Showing actions
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14785_2" -->
<a id="c14785_2"></a><blockquote class="code"><p class="quoted">
Showing action of something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14786_2" -->
<a id="c14786_2"></a><blockquote class="code"><p class="quoted">
Rule for showing action of something (called item):
<br />&#160;&#160;&#160;&#160;if the item is switched on, say &quot;[The item] is switched on.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The item] is switched off.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Borrowing from the rulebooks chapter, we can replace the standard &quot;examine described devices&quot; rule with something that uses this activity.</p>
<!-- START CODE "c14787_2" -->
<a id="c14787_2"></a><blockquote class="code"><p class="quoted">
The new described devices rule is listed instead of the examine devices rule in the carry out examining rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14788_2" -->
<a id="c14788_2"></a><blockquote class="code"><p class="quoted">
This is the new described devices rule:
<br />&#160;&#160;&#160;&#160;if the noun is a device:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the showing action activity with the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now examine text printed is true.
</p></blockquote>
<!-- END CODE -->
<p>Thus far we have essentially replicated the original behavior, but we've made it possible to write specialized behavior for devices, and to invoke that behavior in other places:</p>
<!-- START CODE "c14789_2" -->
<a id="c14789_2"></a><blockquote class="code"><p class="quoted">
Report switching on something:
<br />&#160;&#160;&#160;&#160;say &quot;You flip a switch. &quot;;
<br />&#160;&#160;&#160;&#160;carry out the showing action activity with the noun instead.
</p></blockquote>
<!-- END CODE -->
<p>This might be useful for an electric lamp kind:</p>
<!-- START CODE "c14790_2" -->
<a id="c14790_2"></a><blockquote class="code"><p class="quoted">
Section 2 - Electric Lamps
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14791_2" -->
<a id="c14791_2"></a><blockquote class="code"><p class="quoted">
An electric lamp is a kind of device.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14792_2" -->
<a id="c14792_2"></a><blockquote class="code"><p class="quoted">
Rule for showing action of an electric lamp (called item):
<br />&#160;&#160;&#160;&#160;if the item is switched on, say &quot;[The item] is lit[if the number of visible lit things is greater than 1], competing with [the list of visible lit things which are not the item][end if].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The item] is dark.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14793_2" -->
<a id="c14793_2"></a><blockquote class="code"><p class="quoted">
Carry out switching on an electric lamp: now the noun is lit. Carry out switching off an electric lamp: now the noun is unlit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14794_2" -->
<a id="c14794_2"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14795_2" -->
<a id="c14795_2"></a><blockquote class="code"><p class="quoted">
The time of day is 3:47 AM. When play begins, now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14796_2" -->
<a id="c14796_2"></a><blockquote class="code"><p class="quoted">
The Downstairs Hallway is a dark room. &quot;The only room in the house with no furniture and almost nothing on the walls. At times like this you always notice the crack in the plaster, originating near the light fixture and running almost all the way to the wall.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14797_2" -->
<a id="c14797_2"></a><blockquote class="code"><p class="quoted">
A plastic jug of filtered water is in the Downstairs Hallway. The description is &quot;Five gallons, not that that will last you very long, hot as it has been lately.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14798_2" -->
<a id="c14798_2"></a><blockquote class="code"><p class="quoted">
The crack is scenery in the Hallway. The description is &quot;No, the ceiling isn't going to fall on you today.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14799_2" -->
<a id="c14799_2"></a><blockquote class="code"><p class="quoted">
The light fixture is an electric lamp in the Hallway. It is switched on, lit, and scenery. The description is &quot;A plain globe of frosted glass containing the light bulb. Nothing special, and you never think about it except when, as now, you are forced to spend hours in this room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14800_2" -->
<a id="c14800_2"></a><blockquote class="code"><p class="quoted">
The flashlight is an electric lamp carried by the player. The description is &quot;A shiny red flashlight.&quot; The portable radio is a device carried by the player. The description is &quot;A small battery-operated radio which you received for free with your subscription to US News &amp; World Report. It has served you well through many earthquakes past.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And with our activity, we can override the flashlight's electric lamp behavior with new behavior:</p>
<!-- START CODE "c14801_2" -->
<a id="c14801_2"></a><blockquote class="code"><p class="quoted">
Rule for showing action of the flashlight:
<br />&#160;&#160;&#160;&#160;if the flashlight is switched on, say &quot;A strong, narrow beam of light shines from the flashlight.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;It is currently switched off.&quot;
</p></blockquote>
<!-- END CODE -->
<p>...or give special actions for the radio:</p>
<!-- START CODE "c14802_2" -->
<a id="c14802_2"></a><blockquote class="code"><p class="quoted">
Rule for showing action of the radio:
<br />&#160;&#160;&#160;&#160;if the radio is switched on, say &quot;Through the static, you pick up pieces of discussion: a 6.7 on the Richter scale, epicenter... something about Topanga... but it crackles out again.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;The radio is silent. You're saving the batteries.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14803_2" -->
<a id="c14803_2"></a><blockquote class="code"><p class="quoted">
Instead of listening in the presence of the switched on radio:
<br />&#160;&#160;&#160;&#160;carry out the showing action activity with the radio instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14804_2" -->
<a id="c14804_2"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine light / switch light off / switch flashlight on / switch radio on / examine radio / examine flashlight&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "226: Four Cheeses" "e376" -->
<a id="e376"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e376" class="eglink"><b>226</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e376" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Four Cheeses</span></b></a><br />A system of telephones on which the player can call distant persons and have conversations.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_13.html#e376"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example376">
<!-- START CODE "c14805_376" -->
<a id="c14805_376"></a><blockquote class="code"><p class="quoted">
&quot;Four Cheeses&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14806_376" -->
<a id="c14806_376"></a><blockquote class="code"><p class="quoted">
Section 1 - Telephones and Connections
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14807_376" -->
<a id="c14807_376"></a><blockquote class="code"><p class="quoted">
A telephone is a kind of thing. Understand &quot;phone&quot; as a telephone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14808_376" -->
<a id="c14808_376"></a><blockquote class="code"><p class="quoted">
Understand &quot;call [any telephone] on [something]&quot; as calling it on. Understand &quot;call [any telephone]&quot; as calling it on. Understand the commands &quot;dial&quot; or &quot;phone&quot; or &quot;telephone&quot; as &quot;call&quot;. Understand &quot;call [any known person]&quot; as calling it by name on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14809_376" -->
<a id="c14809_376"></a><blockquote class="code"><p class="quoted">
Connection relates one thing to another (called the other party).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14810_376" -->
<a id="c14810_376"></a><blockquote class="code"><p class="quoted">
The verb to reach means the connection relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14811_376" -->
<a id="c14811_376"></a><blockquote class="code"><p class="quoted">
Calling it on is an action applying to one visible thing and one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14812_376" -->
<a id="c14812_376"></a><blockquote class="code"><p class="quoted">
Check calling it on:
<br />&#160;&#160;&#160;&#160;if the second noun is not a telephone, say &quot;[The second noun] is unlikely to be much use in that respect.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is the noun, say &quot;You get a busy signal.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14813_376" -->
<a id="c14813_376"></a><blockquote class="code"><p class="quoted">
Carry out calling it on:
<br />&#160;&#160;&#160;&#160;if a person (called the listener) can see the noun, now the player reaches the listener.
</p></blockquote>
<!-- END CODE -->
<p>Because we've said that connection is a reciprocal, one-to-one relationship, Inform will do the rest of the bookkeeping: if (for instance) we telephone someone else, the first connection will be broken automatically.</p>
<!-- START CODE "c14814_376" -->
<a id="c14814_376"></a><blockquote class="code"><p class="quoted">
Report calling it on:
<br />&#160;&#160;&#160;&#160;say &quot;'Hello?' says [the other party of the player].&quot;
</p></blockquote>
<!-- END CODE -->
<p>To avoid annoyance, we should also let the player use CALL #### as well as CALL #### ON TELEPHONE. A rule from the chapter on Activities comes in handy here:</p>
<!-- START CODE "c14815_376" -->
<a id="c14815_376"></a><blockquote class="code"><p class="quoted">
Rule for supplying a missing second noun while calling something on:
<br />&#160;&#160;&#160;&#160;assign a phone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14816_376" -->
<a id="c14816_376"></a><blockquote class="code"><p class="quoted">
To assign a phone:
<br />&#160;&#160;&#160;&#160;if the player can touch a telephone (called the current phone):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(on [the current phone])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the second noun is the current phone;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You don't have a phone handy.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Things might be a little more complicated if we had cell phones that could be moved around, but for right now the player can only touch a maximum of one phone at a time.</p>
<p>Suppose we further want to allow the player to call people up by name, but only if they've already been encountered or are familiar to the player for some reason.</p>
<!-- START CODE "c14817_376" -->
<a id="c14817_376"></a><blockquote class="code"><p class="quoted">
A person can be known or unknown.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14818_376" -->
<a id="c14818_376"></a><blockquote class="code"><p class="quoted">
Understand &quot;call [any known person]&quot; as calling it by name on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14819_376" -->
<a id="c14819_376"></a><blockquote class="code"><p class="quoted">
Understand &quot;call [any known person] on [something]&quot; as calling it by name on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14820_376" -->
<a id="c14820_376"></a><blockquote class="code"><p class="quoted">
Rule for supplying a missing second noun while calling something by name on:
<br />&#160;&#160;&#160;&#160;assign a phone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14821_376" -->
<a id="c14821_376"></a><blockquote class="code"><p class="quoted">
Calling it by name on is an action applying to one visible thing and one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14822_376" -->
<a id="c14822_376"></a><blockquote class="code"><p class="quoted">
Check calling it by name on:
<br />&#160;&#160;&#160;&#160;if the noun is in the location, say &quot;[The noun] is right here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14823_376" -->
<a id="c14823_376"></a><blockquote class="code"><p class="quoted">
Carry out calling it by name on:
<br />&#160;&#160;&#160;&#160;if the noun can touch a telephone (called the link), try calling the link on the second noun;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You can't reach [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14824_376" -->
<a id="c14824_376"></a><blockquote class="code"><p class="quoted">
Before calling something on something when the player reaches someone:
<br />&#160;&#160;&#160;&#160;say &quot;(first ending your conversation with [the other party of the player])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;end current conversation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14825_376" -->
<a id="c14825_376"></a><blockquote class="code"><p class="quoted">
Understand &quot;hang up [something]&quot; as hanging up.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14826_376" -->
<a id="c14826_376"></a><blockquote class="code"><p class="quoted">
Hanging up is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14827_376" -->
<a id="c14827_376"></a><blockquote class="code"><p class="quoted">
Check hanging up:
<br />&#160;&#160;&#160;&#160;if the noun is not a telephone, say &quot;You can't hang up [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player does not reach someone, say &quot;You're not on the line with anyone.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14828_376" -->
<a id="c14828_376"></a><blockquote class="code"><p class="quoted">
Carry out hanging up:
<br />&#160;&#160;&#160;&#160;now the player does not reach anyone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14829_376" -->
<a id="c14829_376"></a><blockquote class="code"><p class="quoted">
Report hanging up:
<br />&#160;&#160;&#160;&#160;say &quot;You put down [the noun], cutting the connection.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14830_376" -->
<a id="c14830_376"></a><blockquote class="code"><p class="quoted">
Before going somewhere when the player reaches someone:
<br />&#160;&#160;&#160;&#160;say &quot;(first hanging up on [the other party of the player])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;end current conversation.
</p></blockquote>
<!-- END CODE -->
<p>And finally we want to make sure that calling random other numbers produces a sensible result:</p>
<!-- START CODE "c14831_376" -->
<a id="c14831_376"></a><blockquote class="code"><p class="quoted">
Understand &quot;call [text]&quot; as misdialling. Misdialling is an action applying to one topic. Carry out misdialling: say &quot;The phone rings and rings but no one answers.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14832_376" -->
<a id="c14832_376"></a><blockquote class="code"><p class="quoted">
Understand &quot;call 911&quot; or &quot;call 999&quot; or &quot;call police&quot; or &quot;call fire department&quot; as a mistake (&quot;After strict warnings, you've given up making prank calls to emergency services.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14833_376" -->
<a id="c14833_376"></a><blockquote class="code"><p class="quoted">
Before misdialling when the player reaches someone:
<br />&#160;&#160;&#160;&#160;say &quot;(first ending your conversation with [the other party of the player])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;end current conversation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14834_376" -->
<a id="c14834_376"></a><blockquote class="code"><p class="quoted">
To end current conversation:
<br />&#160;&#160;&#160;&#160;let the current phone be a random telephone which can be touched by the player;
<br />&#160;&#160;&#160;&#160;silently try hanging up the current phone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14835_376" -->
<a id="c14835_376"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while the player reaches someone:
<br />&#160;&#160;&#160;&#160;place the other party of the player in scope, but not its contents.
</p></blockquote>
<!-- END CODE -->
<p>A note about this scope addition: the player can refer to the other party whenever he has the other person on the phone. He can't, however, see or refer to anything that person might be holding or wearing, thanks to the &quot;but not its contents&quot; option.</p>
<p>Furthermore, the player can't actually do anything to that person that requires touching. That's because of the reaching inside rules, which govern whether the player can reach through intervening barriers such as rooms. (See the Advanced Actions chapter for more about changing reachability.) There are two things we might want to be careful about, though.</p>
<p>First, we should specifically disallow the player from looking at the person on the other end of the line. Since sight doesn't require touching, the reaching inside rules will not be consulted about a command such as EXAMINE BOSS or LOOK UNDER BOSS. We can, however, intervene in such cases using the visibility rules, which are consulted for any actions that &quot;require light&quot; (including EXAMINE and LOOK UNDER). Here again we borrow some options from the Advanced Actions chapter:</p>
<!-- START CODE "c14836_376" -->
<a id="c14836_376"></a><blockquote class="code"><p class="quoted">
To decide whether acting through the line:
<br />&#160;&#160;&#160;&#160;if the noun is something and the location of the noun is not the location of the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yes;
<br />&#160;&#160;&#160;&#160;if the second noun is something and the location of the second noun is not the location of the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14837_376" -->
<a id="c14837_376"></a><blockquote class="code"><p class="quoted">
Visibility rule when acting through the line:
<br />&#160;&#160;&#160;&#160;there is insufficient light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14838_376" -->
<a id="c14838_376"></a><blockquote class="code"><p class="quoted">
Rule for printing a refusal to act in the dark when acting through the line:
<br />&#160;&#160;&#160;&#160;say &quot;You're not on a video phone, so you can only hear.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Second, though the existing reaching inside rules are adequate to stop us from touching the person on the other end of the line, the response that's currently printed is a bit generic: it just says &quot;You can't reach into [the room containing the person].&quot; Let's add our own custom reply, instead:</p>
<!-- START CODE "c14839_376" -->
<a id="c14839_376"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside a room (called destination):
<br />&#160;&#160;&#160;&#160;if the other party of the player is enclosed by the destination:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Though you're on the line with [the other party of the player], you can't physically reach to [the destination].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14840_376" -->
<a id="c14840_376"></a><blockquote class="code"><p class="quoted">
Section 2 - Conversation over the Phone, In General
</p></blockquote>
<!-- END CODE -->
<p>This portion supplies a simple method of conversation; but we could substitute some completely different conversation system if appropriate. The effect of the telephones is that we are allowed to talk to characters in distant locations under certain circumstances, after which the usual conversation rules apply.</p>
<!-- START CODE "c14841_376" -->
<a id="c14841_376"></a><blockquote class="code"><p class="quoted">
Instead of listening to a telephone when the player reaches someone:
<br />&#160;&#160;&#160;&#160;say &quot;You can hear [the other party of the player] breathing.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14842_376" -->
<a id="c14842_376"></a><blockquote class="code"><p class="quoted">
Before listening to someone when the player cannot touch the noun:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is waiting for you to carry on the conversation.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14843_376" -->
<a id="c14843_376"></a><blockquote class="code"><p class="quoted">
A person has a table name called chatter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14844_376" -->
<a id="c14844_376"></a><blockquote class="code"><p class="quoted">
Before telling someone about something:
<br />&#160;&#160;&#160;&#160;try asking the noun about it instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14845_376" -->
<a id="c14845_376"></a><blockquote class="code"><p class="quoted">
Before answering someone that something:
<br />&#160;&#160;&#160;&#160;say &quot;Best to confine your conversation to questions and answers.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14846_376" -->
<a id="c14846_376"></a><blockquote class="code"><p class="quoted">
Before asking someone about something:
<br />&#160;&#160;&#160;&#160;if the topic understood is a topic listed in the chatter of the noun, say &quot;[reply entry][paragraph break]&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The noun] does not reply.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14847_376" -->
<a id="c14847_376"></a><blockquote class="code"><p class="quoted">
Section 3 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14848_376" -->
<a id="c14848_376"></a><blockquote class="code"><p class="quoted">
The Guard House is a room. &quot;Here you spend all your nights. Bullet-proof windows offer a panoramic view of serene cliffs, palm trees, and a moonlit ocean. Occasionally someone is foolish enough to try a cliff ascent or even an attack by helicopter, but lately things have been pretty quiet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14849_376" -->
<a id="c14849_376"></a><blockquote class="code"><p class="quoted">
The mansion is up the hill behind you, security lights ablaze.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14850_376" -->
<a id="c14850_376"></a><blockquote class="code"><p class="quoted">
The grey telephone is a telephone in the Guard House. Understand &quot;6885&quot; as the grey telephone. &quot;Before you is a grey telephone. In black marker someone has written on it: MAIN OFFICE 2802.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14851_376" -->
<a id="c14851_376"></a><blockquote class="code"><p class="quoted">
Before going a direction in the Guard House, say &quot;And leave your post? The boss would have you flayed. No kidding.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>In a game where the player could walk around, we would of course want to add a before rule so that he automatically hung up any phone he was using before leaving the room.</p>
<!-- START CODE "c14852_376" -->
<a id="c14852_376"></a><blockquote class="code"><p class="quoted">
The Main Office is a room. The boss is a known woman in the Main Office. A telephone called the red telephone is in the Main Office. Understand &quot;2802&quot; as the red telephone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14853_376" -->
<a id="c14853_376"></a><blockquote class="code"><p class="quoted">
The Guild is a room. The ninja is an unknown man in the Guild. A telephone called the black telephone is in the Guild. Understand &quot;4431&quot; as the black telephone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14854_376" -->
<a id="c14854_376"></a><blockquote class="code"><p class="quoted">
Potter's Pizza is a room. The pizza delivery boy is a known man in Pizza. A telephone called the saucy telephone is in Pizza. Understand &quot;8885&quot; as the saucy telephone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14855_376" -->
<a id="c14855_376"></a><blockquote class="code"><p class="quoted">
The chatter of the boss is the Table of Boss Conversation. The chatter of the delivery boy is the Table of Pizza Conversation. The chatter of the ninja is the Table of Ninja Conversation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14856_376" -->
<a id="c14856_376"></a><blockquote class="code"><p class="quoted">
After calling the red telephone on something for the first time:
<br />&#160;&#160;&#160;&#160;say &quot;'Yes?' asks the boss. Her voice is especially husky this evening. Maybe that night of passion isn't so far off after all.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14857_376" -->
<a id="c14857_376"></a><blockquote class="code"><p class="quoted">
Table of Boss Conversation
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;love/passion/tonight/night&quot; or &quot;night of passion&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'...Sorry, what?' she asks. 'I wasn't listening.' Oh. Maybe she'd go for some pizza, though.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;pizza&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I'd love some. No pepperoni, though,' she says, sounding dreamy. Yes, this is definitely time for a call to your old friend, the pizza boy.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;imminent ninja attack&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Don't worry about it,' says the boss crisply. 'I have everything under control.'&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14858_376" -->
<a id="c14858_376"></a><blockquote class="code"><p class="quoted">
Table of Pizza Conversation
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;pizza&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Pepperoni special tonight!' he says proudly.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;pepperoni&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Pepperoni is included free on ALL our pizzas,' he says proudly.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;no pepperoni&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Well, I don't see why you'd want that,' replies the boy sniffily. 'It's free!'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;jalapeno&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Sorry, we're out of jalapenos this evening. There was a run on them.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;sausage&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Sausage, sure, we can do you sausage.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;canadian bacon&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'There's currently an embargo on Canadian pig products.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;cheese&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'We use four kinds,' says the boy, then lowers his voice confidentially. 'Actually, two of them are the same. Nobody ever counts. The stringy one, the one that comes in dollops and the orangey one. You know.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;pineapple&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'We could put pineapple on there, sure,' says the delivery boy, in a tone that lets you know his opinion of people who order fruit-based pizzas.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;pineapple and garlic&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'What kind of crazy combination is that?' demands the delivery boy, finally losing all self-control.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;delivery&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Well, I don't know,' says the boy in a worried voice. 'Last time I came there were attack dogs. And ninjas.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;massive gratuity&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'There's no use in a big tip you don't live to spend,' says the delivery boy quite firmly.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14859_376" -->
<a id="c14859_376"></a><blockquote class="code"><p class="quoted">
Table of Ninja Conversation
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;imminent attack&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Yes, still on for tonight,' confirms the voice at the other end of the line.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;pizza delivery boy&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;The voice, in tones of velvet, indicates that it cannot guarantee the safety of any delivery persons whomsoever.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14860_376" -->
<a id="c14860_376"></a><blockquote class="code"><p class="quoted">
Test me with &quot;call 2802 / examine boss / ask boss about night of passion / ask boss about pizza / listen to telephone / call delivery boy on telephone / ask boy about cheese / tell boy about no pepperoni / ask boy about delivery / tell boy about massive gratuity / attack boy&quot;.
</p></blockquote>
<!-- END CODE -->
<p>...and it more or less writes itself from there.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "253: Alias" "e4" -->
<a id="e4"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e4" class="eglink"><b>253</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e4" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Alias</span></b></a><br />A telephone with phone numbers of the standard American seven-digit length.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_15.html#e4"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example4">
<p>Seven-digit telephone numbers are too long for Inform to handle when compiling to the Z-Machine, but they will work under Glulx. To have this example succeed, make sure that you have selected the Glulx option in your settings menu.</p>
<!-- START CODE "c14861_4" -->
<a id="c14861_4"></a><blockquote class="code"><p class="quoted">
&quot;Alias&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14862_4" -->
<a id="c14862_4"></a><blockquote class="code"><p class="quoted">
A telephone is a kind of thing. Understand &quot;phone&quot; or &quot;telephone&quot; as a telephone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14863_4" -->
<a id="c14863_4"></a><blockquote class="code"><p class="quoted">
A phone number is a kind of value. 999-9999 specifies a phone number.
</p></blockquote>
<!-- END CODE -->
<p>Now we borrow some techniques from the Understanding chapter to set up dialing actions:</p>
<!-- START CODE "c14864_4" -->
<a id="c14864_4"></a><blockquote class="code"><p class="quoted">
Understand &quot;dial [phone number] on [telephone]&quot; as dialing it on. Understand &quot;dial [phone number] on [something]&quot; as dialing it on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14865_4" -->
<a id="c14865_4"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;phone&quot; or &quot;telephone&quot; or &quot;call&quot; as &quot;dial&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14866_4" -->
<a id="c14866_4"></a><blockquote class="code"><p class="quoted">
Understand &quot;call [text]&quot; or &quot;phone [text]&quot; or &quot;dial [text]&quot; or &quot;telephone [text]&quot; as a mistake (&quot;That's not a number you know.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14867_4" -->
<a id="c14867_4"></a><blockquote class="code"><p class="quoted">
Dialing it on is an action applying to one phone number and one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14868_4" -->
<a id="c14868_4"></a><blockquote class="code"><p class="quoted">
Report dialing it on:
<br />&#160;&#160;&#160;&#160;say &quot;You dial [the phone number understood].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This much is enough to let us dial telephone numbers and have Inform report that we've done so; it doesn't actually provide a telephone system such that we could reach and converse with other characters (but see the other telephone examples in the recipe book for more on how one might do that).</p>
<p>We'll set up a little political espionage scenario from which our player can make calls:</p>
<!-- START CODE "c14869_4" -->
<a id="c14869_4"></a><blockquote class="code"><p class="quoted">
The Senator's Junior Suite is a room. &quot;The Senator appears, unfortunately, to have very precise habits: little in the room has been moved from its usual place; the trash can is empty; the bed has been remade[if the blue paper is unexamined]. There may in fact be nothing to find here[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14870_4" -->
<a id="c14870_4"></a><blockquote class="code"><p class="quoted">
The bed is an enterable scenery supporter in the Junior Suite.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14871_4" -->
<a id="c14871_4"></a><blockquote class="code"><p class="quoted">
The player is wearing a housekeeping uniform and a brunette wig. The player carries a telephone called a Nokia.
</p></blockquote>
<!-- END CODE -->
<p>Borrowing again from the chapter on Understanding, we might arrange things so that the player knows and can call a few standard numbers with such syntax as CALL HOME:</p>
<!-- START CODE "c14872_4" -->
<a id="c14872_4"></a><blockquote class="code"><p class="quoted">
Understand &quot;home&quot; as 555-9200.
</p></blockquote>
<!-- END CODE -->
<p>And what if we'd like to have the player learn some phone numbers during the game?</p>
<!-- START CODE "c14873_4" -->
<a id="c14873_4"></a><blockquote class="code"><p class="quoted">
A thing can be examined or unexamined. Carry out examining something: now the noun is examined.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14874_4" -->
<a id="c14874_4"></a><blockquote class="code"><p class="quoted">
Understand &quot;Stephen&quot; as 555-2513 when the blue paper is examined.
</p></blockquote>
<!-- END CODE -->
<p>This will understand CALL STEPHEN once the paper is examined; before that, the player will just get the &quot;That's not a number you know&quot; response that Inform uses for all attempts to call unknown names.</p>
<p>We'd better plant this paper for the player to find:</p>
<!-- START CODE "c14875_4" -->
<a id="c14875_4"></a><blockquote class="code"><p class="quoted">
The blue paper is in the drawer. The description of the blue paper is &quot;It reads: 'Call Stephen - 555-2513'.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14876_4" -->
<a id="c14876_4"></a><blockquote class="code"><p class="quoted">
The drawer is part of the dresser. It is closed and openable. The dresser is in The Senator's Junior Suite. The lamp is on the dresser. The description of the dresser is &quot;The single drawer is [if the drawer is open]open[otherwise]shut[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14877_4" -->
<a id="c14877_4"></a><blockquote class="code"><p class="quoted">
Test me with &quot;dial 555-9999 / call home on the telephone / phone the president / call stephen / open drawer / read paper / call stephen / put phone in drawer / close drawer / call stephen&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "180: Witnessed 2" "e440" -->
<a id="e440"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e440" class="eglink"><b>180</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e440" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Witnessed 2</span></b></a><br />A piece of ghost-hunting equipment that responds depending on whether or not the meter is on and a ghost is visible or touchable from the current location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_11.html#e440"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example440">
<!-- START CODE "c14878_440" -->
<a id="c14878_440"></a><blockquote class="code"><p class="quoted">
&quot;Witnessed&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14879_440" -->
<a id="c14879_440"></a><blockquote class="code"><p class="quoted">
The player carries a device called a Trifield Natural EMF Meter. The description of the Meter is &quot;This cost a pretty penny off the internet, but it's worth it: according to the website it has been programmed by PhD physicists to ignore manmade sources of fields and to respond only to paranormal EMF changes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14880_440" -->
<a id="c14880_440"></a><blockquote class="code"><p class="quoted">
It also features an optional Tone Alarm, which can be turned on to indicate when readings spike. If the alarm is off, the meter just reads out the magnetic and electric field levels on a scale from 0-100 microteslas, or 0-1000 V/m.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14881_440" -->
<a id="c14881_440"></a><blockquote class="code"><p class="quoted">
Since both fields are important, you keep the meter set to SUM mode. The meter has its own optional backlighting, so that you can see the reading even if your flashlight is off. Currently it is reading at [meter setting].&quot; A Tone Alarm is part of the Meter. It is a device. The description of the Tone Alarm is &quot;The Tone Alarm will make a noise, if the EMF picks up a spike.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14882_440" -->
<a id="c14882_440"></a><blockquote class="code"><p class="quoted">
To decide what number is meter setting:
<br />&#160;&#160;&#160;&#160;if the meter is switched off, decide on 0;
<br />&#160;&#160;&#160;&#160;if a ghost is touchable, decide on 35;
<br />&#160;&#160;&#160;&#160;if a ghost is visible, decide on 12;
<br />&#160;&#160;&#160;&#160;decide on 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14883_440" -->
<a id="c14883_440"></a><blockquote class="code"><p class="quoted">
After switching on the meter:
<br />&#160;&#160;&#160;&#160;say &quot;You turn on the meter. The needle steadies at [meter setting].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14884_440" -->
<a id="c14884_440"></a><blockquote class="code"><p class="quoted">
Every turn: if the meter setting is greater than 10 and the Tone Alarm is switched on, say &quot;[The Tone Alarm] shrieks.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14885_440" -->
<a id="c14885_440"></a><blockquote class="code"><p class="quoted">
Thirtieth Street Station is a room. &quot;A huge, high, rectangular room with coffered ceilings, which looks grand but mostly makes you feel lonely and small. There are long benches in rows down the middle of the room, and an information desk with the train times, and a series of ticket windows, none of which matters very much at the moment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14886_440" -->
<a id="c14886_440"></a><blockquote class="code"><p class="quoted">
The benches are an enterable supporter. They are scenery in the Station. The information desk is scenery in the Station. Some ticket windows are scenery in the Station. Instead of examining scenery in the Station: say &quot;You're fairly sure that whatever is going on here has nothing to do with [the noun].&quot; Understand &quot;window&quot; as ticket windows.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14887_440" -->
<a id="c14887_440"></a><blockquote class="code"><p class="quoted">
The mural is fixed in place in Thirtieth Street. &quot;At the north side of the station is a particularly pointless and empty annex to the main room. It is dominated by a huge relief of sorts, and this is what you remember.&quot; Understand &quot;metal&quot; or &quot;relief&quot; or &quot;huge&quot; as the mural. The description of the mural is &quot;It is both stylized and confusing, but you think it might be supposed to represent the various tasks and occupations of Philadelphia's population. The portions closer to the ground look as though they have recently been subjected to a light dusting of talcum powder. No unusual prints are evident.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14888_440" -->
<a id="c14888_440"></a><blockquote class="code"><p class="quoted">
The wind chimes are fixed in place in Thirtieth Street. &quot;Carefully attached to the wall with a piece of duct tape and a hook is a light-weight set of wind chimes. Someone else has been here before you, it seems.&quot; The description is &quot;Several of your friends use wind chimes as a sort of ghost alarm, since ghosts sometimes cause very localized movements of air when there is no natural breeze.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14889_440" -->
<a id="c14889_440"></a><blockquote class="code"><p class="quoted">
A ghost is a kind of person. The pale figure is a ghost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14890_440" -->
<a id="c14890_440"></a><blockquote class="code"><p class="quoted">
At 9:03 AM: move the pale figure to the location; say &quot;You shiver with some sort of presence.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14891_440" -->
<a id="c14891_440"></a><blockquote class="code"><p class="quoted">
Test me with &quot;turn on alarm / turn on meter / z / z / z / x figure&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "299: Tom's Midnight Garden" "e386" -->
<a id="e386"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e386" class="eglink"><b>299</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e386" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tom's Midnight Garden</span></b></a><br />A clock kind that can be set to any time using "the time understood"; may be turned on and off; and will advance itself only when running. Time on the face is also reported differently depending on whether the clock is analog or digital.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e386"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example386">
<p>Time can also be understood as a token, and the time parsed will be recorded as &quot;the time understood&quot;. So therefore, if we wish for clocks which may be set:</p>
<!-- START CODE "c14892_386" -->
<a id="c14892_386"></a><blockquote class="code"><p class="quoted">
&quot;Tom's Midnight Garden&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14893_386" -->
<a id="c14893_386"></a><blockquote class="code"><p class="quoted">
A clock is a kind of device. A clock has a time called the current time. A clock can be analog or digital. The current time of a clock is usually 9:01 AM. The description of a clock is &quot;It shows the time to be [if analog]about [the current time to the nearest five minutes in words][otherwise][the current time][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14894_386" -->
<a id="c14894_386"></a><blockquote class="code"><p class="quoted">
Understand &quot;set [clock] to [time]&quot; as setting it by time. Setting it by time is an action applying to one thing and one time.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14895_386" -->
<a id="c14895_386"></a><blockquote class="code"><p class="quoted">
Instead of setting a clock to something:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] can be set only to a time of day, such as 8:00 AM, or midnight.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14896_386" -->
<a id="c14896_386"></a><blockquote class="code"><p class="quoted">
Carry out setting a clock by time:
<br />&#160;&#160;&#160;&#160;now the current time of the noun is the time understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14897_386" -->
<a id="c14897_386"></a><blockquote class="code"><p class="quoted">
Report setting a clock by time:
<br />&#160;&#160;&#160;&#160;say &quot;You set [the noun] to [time understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14898_386" -->
<a id="c14898_386"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with item running through switched on clocks:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current time of the item is one minute after the current time of the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14899_386" -->
<a id="c14899_386"></a><blockquote class="code"><p class="quoted">
The Hall is a room. The grandfather clock is a fixed in place analog clock in the Hall. The travel clock is a switched on digital clock in the Hall.  When play begins: now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14900_386" -->
<a id="c14900_386"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine grandfather clock / set it to midnight / switch it on / wait / wait / wait / examine it / set travel clock to 4:12 / examine it&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "365: Ginger Beer" "e26" -->
<a id="e26"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e26" class="eglink"><b>365</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e26" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ginger Beer</span></b></a><br />A portable magic telescope which allows the player to view items in another room of his choice.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e26"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example26">
<p>Suppose we want to have a pair of linked lenses so that the player can look into one of them and see things which occur in room containing the other lense.</p>
<p>We begin simply with a bit of environment for the player to wander around:</p>
<!-- START CODE "c14901_26" -->
<a id="c14901_26"></a><blockquote class="code"><p class="quoted">
&quot;Ginger Beer&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14902_26" -->
<a id="c14902_26"></a><blockquote class="code"><p class="quoted">
The Ginger Beer Factory is a room.  &quot;In the center of the room is an enormous pot filled with crushed ginger, which seems to be bubbling slightly on its own.  The fumes are overwhelming.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14903_26" -->
<a id="c14903_26"></a><blockquote class="code"><p class="quoted">
The pot is scenery in the Ginger Beer Factory. The description of the pot is &quot;Cast iron.&quot; In the pot is a bubbling brew.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14904_26" -->
<a id="c14904_26"></a><blockquote class="code"><p class="quoted">
Instead of smelling the Ginger Beer Factory: try smelling the brew.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14905_26" -->
<a id="c14905_26"></a><blockquote class="code"><p class="quoted">
Instead of smelling the brew, say &quot;You blink back tears.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14906_26" -->
<a id="c14906_26"></a><blockquote class="code"><p class="quoted">
The Storeroom is south of the Ginger Beer Factory.  &quot;The walls here are lined with a prodigious number of small, rounded bottles, each with a screw top and a smiling pirate on the label.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14907_26" -->
<a id="c14907_26"></a><blockquote class="code"><p class="quoted">
The Clippings Room is west of the Ginger Beer Factory. &quot;A clean room lined with steel tables, for preparing ingredients.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14908_26" -->
<a id="c14908_26"></a><blockquote class="code"><p class="quoted">
Some steel tables are a supporter in the Clippings Room.  They are scenery.  The description is &quot;They are roughly the size and height of laboratory worksurfaces.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14909_26" -->
<a id="c14909_26"></a><blockquote class="code"><p class="quoted">
The quantity of dandelion is on the steel tables.  The description is &quot;Horrible common weed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14910_26" -->
<a id="c14910_26"></a><blockquote class="code"><p class="quoted">
The wooden box is on the steel tables.  It is openable and closed.  The description is &quot;A large wooden box with a lid, used for ingredient storage.  There is a label on the lid.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14911_26" -->
<a id="c14911_26"></a><blockquote class="code"><p class="quoted">
The label is part of the box.  The description is &quot;BURDOCK: the root beaten with a little salt and laid on the place suddenly easeth the pain thereof, and helpeth those that are bit by a mad dog:... the seed being drunk in wine 40 days together doth wonderfully help the sciatica: the leaves bruised with the white of an egg and applied to any place burnt with fire, taketh out the fire, gives sudden ease and heals it up afterwards.... The root may be preserved with sugar for consumption, stone and the lax.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14912_26" -->
<a id="c14912_26"></a><blockquote class="code"><p class="quoted">
The quantity of burdock is in the box.  The description is &quot;It looks like a kind of thistle.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14913_26" -->
<a id="c14913_26"></a><blockquote class="code"><p class="quoted">
Some bottles are in the Storeroom.  They are scenery.  The description is &quot;They are smaller than the average bottle, because more potent.&quot;  Instead of taking the bottles, say &quot;Take one away and the whole lineup will cascade to the floor.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now for the lenses themselves:</p>
<!-- START CODE "c14914_26" -->
<a id="c14914_26"></a><blockquote class="code"><p class="quoted">
A lense is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14915_26" -->
<a id="c14915_26"></a><blockquote class="code"><p class="quoted">
The large end of the telescope is a lense in the Ginger Beer Factory.  &quot;There is a large glass lense propped against the wall, in which are reflected all the contents of the room.&quot;  Understand &quot;glass&quot; or &quot;lense&quot; as the large end.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14916_26" -->
<a id="c14916_26"></a><blockquote class="code"><p class="quoted">
The small end of the telescope is a lense in the Storeroom.  &quot;There is a small glass lense sitting on the floor.  Due to some curious effect of the optics, it appears to be giving a view of somewhere else entirely.&quot;  Understand &quot;glass&quot; or &quot;lense&quot; as the small end.  The description is &quot;A gleaming lense about the size of a pound coin.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here is the critical bit, which needs to be somewhat flexible, since the large end of the telescope could in theory be left anywhere in the game (and should still work).</p>
<!-- START CODE "c14917_26" -->
<a id="c14917_26"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while the small end is carried by the player:
<br />&#160;&#160;&#160;&#160;let there be the holder of the large end;
<br />&#160;&#160;&#160;&#160;place there in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14918_26" -->
<a id="c14918_26"></a><blockquote class="code"><p class="quoted">
Before searching the small end when the small end is not carried by the player:
<br />&#160;&#160;&#160;&#160;say &quot;(first picking up [the small end] and holding it to your eye)&quot;;
<br />&#160;&#160;&#160;&#160;silently try taking the small end.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14919_26" -->
<a id="c14919_26"></a><blockquote class="code"><p class="quoted">
Instead of searching the small end when the player is not carrying the small end:
<br />&#160;&#160;&#160;&#160;say &quot;It's too hard to look through the small end from a distance.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14920_26" -->
<a id="c14920_26"></a><blockquote class="code"><p class="quoted">
Instead of searching the large end,
<br />&#160;&#160;&#160;&#160;say &quot;You see only your own reflection.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We also want to make sure that the player who looks through the small lense does not see the large lense listed among the contents of the other location:</p>
<!-- START CODE "c14921_26" -->
<a id="c14921_26"></a><blockquote class="code"><p class="quoted">
Definition: a thing is recognizable if it is not a lense.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14922_26" -->
<a id="c14922_26"></a><blockquote class="code"><p class="quoted">
Instead of searching the small end:
<br />&#160;&#160;&#160;&#160;let the far side be the holder of the large end of the telescope;
<br />&#160;&#160;&#160;&#160;say &quot;You peer into the little lense and through it see, in [the far side], [the list of recognizable things in the far side].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14923_26" -->
<a id="c14923_26"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine lense / south / examine lense / look through lense / north / look through small lense&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And we're done.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "273: If It Hadn't Been For..." "e340" -->
<a id="e340"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e340" class="eglink"><b>273</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e340" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">If It Hadn't Been For...</span></b></a><br />A sound recording device that records the noises made by player and non-player actions, then plays them back on demand.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_16.html#e340"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example340">
<p>We start out by giving ourselves a capacious recording device:</p>
<!-- START CODE "c14924_340" -->
<a id="c14924_340"></a><blockquote class="code"><p class="quoted">
&quot;If It Hadn't Been For...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14925_340" -->
<a id="c14925_340"></a><blockquote class="code"><p class="quoted">
The digital recorder is a device. The description is &quot;A noise-activated recorder, which time-stamps each recording segment. It has space for about 60 short recordings.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14926_340" -->
<a id="c14926_340"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the digital recorder is switched on and the number of blank rows in the Table of Recorded Content is 0, now the recorder is switched off.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14927_340" -->
<a id="c14927_340"></a><blockquote class="code"><p class="quoted">
Table of Recorded Content
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">time stamp</p></td><td class="quotedtablecell"><p class="quoted">sound</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a time</p></td><td class="quotedtablecell"><p class="quoted">some text</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">with 60 blank rows.</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>And most of what follows is attaching sounds to various events. (We could have made noises associated with all the actions, but for simplicity we stuck to a few.)</p>
<p>The thing to note here is that the recording happens as part of Carry out, not as part of Report, so sounds will be recorded even when they are the result of non-player action when the player is not even in the room.</p>
<!-- START CODE "c14928_340" -->
<a id="c14928_340"></a><blockquote class="code"><p class="quoted">
Carry out opening something in the presence of the switched on recorder:
<br />&#160;&#160;&#160;&#160;record &quot;A creaking noise, as of something being opened.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14929_340" -->
<a id="c14929_340"></a><blockquote class="code"><p class="quoted">
Carry out someone opening something when the switched on recorder can see the noun:
<br />&#160;&#160;&#160;&#160;record &quot;A creaking noise, as of something being opened.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14930_340" -->
<a id="c14930_340"></a><blockquote class="code"><p class="quoted">
Carry out closing something in the presence of the switched on recorder:
<br />&#160;&#160;&#160;&#160;record &quot;A creaking followed by a slam.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14931_340" -->
<a id="c14931_340"></a><blockquote class="code"><p class="quoted">
Carry out someone closing something in the presence of the switched on recorder:
<br />&#160;&#160;&#160;&#160;record &quot;A creaking followed by a slam.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14932_340" -->
<a id="c14932_340"></a><blockquote class="code"><p class="quoted">
Carry out someone going to a room (called destination) in the presence of the switched on recorder:
<br />&#160;&#160;&#160;&#160;if the destination is the holder of the recorder, record &quot;Footsteps, growing louder.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise record &quot;Footsteps, fading out.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14933_340" -->
<a id="c14933_340"></a><blockquote class="code"><p class="quoted">
Carry out going to a room (called destination) in the presence of the switched on recorder:
<br />&#160;&#160;&#160;&#160;if the destination is the holder of the recorder, record &quot;Footsteps, growing louder.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise record &quot;Footsteps, fading out.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14934_340" -->
<a id="c14934_340"></a><blockquote class="code"><p class="quoted">
Carry out someone eating something in the presence of the switched on recorder:
<br />&#160;&#160;&#160;&#160;record &quot;Loud uncouth chewing sounds.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14935_340" -->
<a id="c14935_340"></a><blockquote class="code"><p class="quoted">
Carry out eating something in the presence of the switched on recorder:
<br />&#160;&#160;&#160;&#160;record &quot;Distant muffled chewing sounds.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14936_340" -->
<a id="c14936_340"></a><blockquote class="code"><p class="quoted">
To record (noise - some text):
<br />&#160;&#160;&#160;&#160;if the number of blank rows in the Table of Recorded Content is 0, rule succeeds;
<br />&#160;&#160;&#160;&#160;choose a blank row in the Table of Recorded Content;
<br />&#160;&#160;&#160;&#160;now time stamp entry is the time of day;
<br />&#160;&#160;&#160;&#160;now sound entry is noise.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14937_340" -->
<a id="c14937_340"></a><blockquote class="code"><p class="quoted">
Understand &quot;play [something]&quot; as listening.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14938_340" -->
<a id="c14938_340"></a><blockquote class="code"><p class="quoted">
Instead of listening to the recorder:
<br />&#160;&#160;&#160;&#160;if the number of filled rows in the Table of Recorded Content is 0, say &quot;The recorder remains blank.&quot; instead;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Recorded Content:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[line break][time stamp entry]: [sound entry]&quot;;
<br />&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14939_340" -->
<a id="c14939_340"></a><blockquote class="code"><p class="quoted">
The Haunted House is a room. The squeaky cupboard is an openable enterable closed fixed in place container in the House. The ghost is a man in the cupboard. The Lawn is outside from the Haunted House.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14940_340" -->
<a id="c14940_340"></a><blockquote class="code"><p class="quoted">
Instead of opening the closed cupboard when the ghost is in the cupboard: say &quot;The cupboard stubbornly refuses to open.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14941_340" -->
<a id="c14941_340"></a><blockquote class="code"><p class="quoted">
Every turn when the player is not in the House:
<br />&#160;&#160;&#160;&#160;if the ghost is in the cupboard:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try the ghost exiting;
<br />&#160;&#160;&#160;&#160;otherwise if the cupboard is open:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try the ghost closing the cupboard.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14942_340" -->
<a id="c14942_340"></a><blockquote class="code"><p class="quoted">
Before someone exiting when the person asked is in a closed container (called the trap):
<br />&#160;&#160;&#160;&#160;try the person asked opening the trap.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14943_340" -->
<a id="c14943_340"></a><blockquote class="code"><p class="quoted">
Before someone entering a closed container: try the person asked opening the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14944_340" -->
<a id="c14944_340"></a><blockquote class="code"><p class="quoted">
Before going to the House when the House contains the ghost:
<br />&#160;&#160;&#160;&#160;try the ghost entering the cupboard;
<br />&#160;&#160;&#160;&#160;try the ghost closing the cupboard.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14945_340" -->
<a id="c14945_340"></a><blockquote class="code"><p class="quoted">
The player carries the recorder, chips, and a sandwich. The sandwich is edible. The chips are edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14946_340" -->
<a id="c14946_340"></a><blockquote class="code"><p class="quoted">
Carry out someone eating the chips in the presence of the switched on recorder: record &quot;An incredible racket of a packet being opened.&quot; Carry out eating the chips in the presence of the switched on recorder: record &quot;An incredible racket of a packet being opened.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14947_340" -->
<a id="c14947_340"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open cupboard / drop recorder / switch it on / eat chips / out / wait / wait / wait / in / switch recorder off / play recorder&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now we're at liberty to record evidence of the ghost getting out of the cupboard and getting back in, while we ourselves stand about on the lawn.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "369: Originals" "e277" -->
<a id="e277"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e277" class="eglink"><b>369</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e277" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Originals</span></b></a><br />Allowing the player to create models of anything in the game world; parsing the name "model [thing]" or even just "[thing]" to refer to these newly-created models; asking "which do you mean, the model [thing] or the actual [thing]" when there is ambiguity.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e277"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example277">
<p>We rely here on the understanding-by-relations rules we've already learned, but there is an additional trick: we want to make sure that if the player types &quot;original&quot; or &quot;actual&quot;, this word will not be taken to refer to the thing modeled:</p>
<!-- START CODE "c14948_277" -->
<a id="c14948_277"></a><blockquote class="code"><p class="quoted">
&quot;Originals&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14949_277" -->
<a id="c14949_277"></a><blockquote class="code"><p class="quoted">
A model is a kind of thing. 100 models are in the model-repository.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14950_277" -->
<a id="c14950_277"></a><blockquote class="code"><p class="quoted">
Appearance relates one thing to various models. The verb to be shown by means the appearance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14951_277" -->
<a id="c14951_277"></a><blockquote class="code"><p class="quoted">
Indication relates a model (called X) to a thing (called Y) when Y is shown by X and Y is suitable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14952_277" -->
<a id="c14952_277"></a><blockquote class="code"><p class="quoted">
Understand &quot;actual&quot; or &quot;original&quot; as &quot;[actual]&quot;. Understand &quot;[actual]&quot; as something when the item described is not a model.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14953_277" -->
<a id="c14953_277"></a><blockquote class="code"><p class="quoted">
Definition: a thing is suitable:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;[actual]&quot;, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14954_277" -->
<a id="c14954_277"></a><blockquote class="code"><p class="quoted">
Understand &quot;[something related by indication]&quot; as a model.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14955_277" -->
<a id="c14955_277"></a><blockquote class="code"><p class="quoted">
After printing the name of a model (called target): say &quot; [random thing shown by the target]&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now our duplication command -- for the sake of simplicity, we'll suppose that in this scenario the player is duplicating objects by magic rather than creating them out of physical materials or supplies:</p>
<!-- START CODE "c14956_277" -->
<a id="c14956_277"></a><blockquote class="code"><p class="quoted">
Understand &quot;duplicate [something]&quot; as duplicating. Duplicating is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14957_277" -->
<a id="c14957_277"></a><blockquote class="code"><p class="quoted">
The duplicating action has an object called the selected model.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14958_277" -->
<a id="c14958_277"></a><blockquote class="code"><p class="quoted">
Setting action variables for duplicating:
<br />&#160;&#160;&#160;&#160;let N be a random model in the model-repository;
<br />&#160;&#160;&#160;&#160;now the selected model is N.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14959_277" -->
<a id="c14959_277"></a><blockquote class="code"><p class="quoted">
Check duplicating:
<br />&#160;&#160;&#160;&#160;if the selected model is nothing, say &quot;You're out of power.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14960_277" -->
<a id="c14960_277"></a><blockquote class="code"><p class="quoted">
Carry out duplicating:
<br />&#160;&#160;&#160;&#160;now the noun is shown by the selected model;
<br />&#160;&#160;&#160;&#160;move the selected model to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14961_277" -->
<a id="c14961_277"></a><blockquote class="code"><p class="quoted">
Report duplicating:
<br />&#160;&#160;&#160;&#160;say &quot;You concentrate and manifest [a selected model].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now, the challenge is that we want to print the word &quot;actual&quot; before printing the name of an object, but only during disambiguation questions and only when we are not printing the name of the object as part of a model-name! (If we are not careful about the latter point, we will get responses such as &quot;Which do you mean, the model actual deer or the actual deer?&quot; which of course defeats the whole purpose.</p>
<p>The way around this is to remember that activities stack: we're printing the name of the deer while printing the name of a model that involves the deer. So if we set a flag while printing the name of a model, we can control the way the deer's name prints during the transaction. (We could use our ...while clause to specify while not printing the name of a model, except that we're already using it for &quot;while asking which do you mean&quot;, and these do not stack.) So:</p>
<!-- START CODE "c14962_277" -->
<a id="c14962_277"></a><blockquote class="code"><p class="quoted">
The virtual-context is a truth state that varies. The virtual-context is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14963_277" -->
<a id="c14963_277"></a><blockquote class="code"><p class="quoted">
Before printing the name of a model:
<br />&#160;&#160;&#160;&#160;now virtual-context is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14964_277" -->
<a id="c14964_277"></a><blockquote class="code"><p class="quoted">
After printing the name of a model:
<br />&#160;&#160;&#160;&#160;now virtual-context is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14965_277" -->
<a id="c14965_277"></a><blockquote class="code"><p class="quoted">
Before printing the name of something (called target) while asking which do you mean:
<br />&#160;&#160;&#160;&#160;if the target is not a model and virtual-context is false:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;actual &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14966_277" -->
<a id="c14966_277"></a><blockquote class="code"><p class="quoted">
Forest is a room. It contains a deer and a daisy. The deer is an animal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14967_277" -->
<a id="c14967_277"></a><blockquote class="code"><p class="quoted">
Test me with &quot;duplicate deer / x model deer / x deer model / drop deer / x deer / actual / x deer / model&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "417: Mirror, Mirror" "e250" -->
<a id="e250"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e250" class="eglink"><b>417</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e250" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Mirror, Mirror</span></b></a><br />The sorcerer's mirror can, when held up high, form an impression of its surroundings which it then preserves.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_20.html#e250"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example250">
<!-- START CODE "c14968_250" -->
<a id="c14968_250"></a><blockquote class="code"><p class="quoted">
&quot;Mirror, Mirror&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14969_250" -->
<a id="c14969_250"></a><blockquote class="code"><p class="quoted">
The Sorcerer's Workshop is a room. &quot;The sorcerer's den is a dusty, whispering place. A grandfather clock with skeletal hands reads [the time of day in words]. The floorboards are stained where that porridge just wouldn't come out.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14970_250" -->
<a id="c14970_250"></a><blockquote class="code"><p class="quoted">
The Apprentice's Pantry is east of the Workshop. &quot;This is where the aproned apprentice traditionally makes the camomile tea, cleans out the jackdaw cages and furtively examines purloined artefacts.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14971_250" -->
<a id="c14971_250"></a><blockquote class="code"><p class="quoted">
When play begins: erase the mirror.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14972_250" -->
<a id="c14972_250"></a><blockquote class="code"><p class="quoted">
The player carries a magic mirror. The magic mirror has a text called the mirror vision.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14973_250" -->
<a id="c14973_250"></a><blockquote class="code"><p class="quoted">
To erase the mirror: now mirror vision of the mirror is &quot;The mirror is polished clean, and has no impression upon it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14974_250" -->
<a id="c14974_250"></a><blockquote class="code"><p class="quoted">
To say current room description: try looking.
<br />To expose the mirror:
<br />&#160;&#160;&#160;&#160;say &quot;The mirror shines momentarily with a dazzling light.[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;now mirror vision of the mirror is the substituted form of &quot;The hazy image in the mirror preserves a past sight:[line break][current room description]All is distorted and yet living, as though the past and present are coterminous in the mirror.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14975_250" -->
<a id="c14975_250"></a><blockquote class="code"><p class="quoted">
Understand &quot;hold up [something preferably held]&quot; or &quot;hold [something preferably held] up&quot; as holding aloft. Holding aloft is an action applying to one carried thing. Report holding aloft: say &quot;You hold [the noun] aloft.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14976_250" -->
<a id="c14976_250"></a><blockquote class="code"><p class="quoted">
Instead of rubbing the mirror: erase the mirror; try examining the mirror. Instead of holding aloft the mirror: expose the mirror.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14977_250" -->
<a id="c14977_250"></a><blockquote class="code"><p class="quoted">
The description of the mirror is &quot;[mirror vision of the mirror]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14978_250" -->
<a id="c14978_250"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / examine mirror / hold up mirror / z / look / x mirror / rub mirror / east / hold mirror up / west / x mirror&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "221: Actor's Studio" "e1" -->
<a id="e1"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e1" class="eglink"><b>221</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e1" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Actor's Studio</span></b></a><br />A video camera that records actions performed in its presence, and plays them back with time-stamps.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_12.html#e1"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example1">
<p>Here we construct a video camera to track and play back actions:</p>
<!-- START CODE "c14979_1" -->
<a id="c14979_1"></a><blockquote class="code"><p class="quoted">
&quot;The Actor's Studio&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14980_1" -->
<a id="c14980_1"></a><blockquote class="code"><p class="quoted">
Section 1 - The Video Camera
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14981_1" -->
<a id="c14981_1"></a><blockquote class="code"><p class="quoted">
The video camera is a thing carried by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14982_1" -->
<a id="c14982_1"></a><blockquote class="code"><p class="quoted">
Table of Videotape
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">recorded action</p></td><td class="quotedtablecell"><p class="quoted">time stamp</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">waiting</p></td><td class="quotedtablecell"><p class="quoted">9:00 AM</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">with 25 blank rows.</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14983_1" -->
<a id="c14983_1"></a><blockquote class="code"><p class="quoted">
Mode is a kind of value. The modes are idle, recording, and playing back. The video camera has a mode. The video camera is idle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14984_1" -->
<a id="c14984_1"></a><blockquote class="code"><p class="quoted">
Understand &quot;play back&quot; as playing back. Instead of switching on the camera, try tuning the camera to recording. Instead of switching off the camera, try tuning the camera to idle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14985_1" -->
<a id="c14985_1"></a><blockquote class="code"><p class="quoted">
The description of the video camera is &quot;It is currently [mode]; its available settings are idle, recording, and playing back.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14986_1" -->
<a id="c14986_1"></a><blockquote class="code"><p class="quoted">
Understand &quot;set [camera] to [a mode]&quot; as tuning it to. Tuning it to is an action applying to one thing and one mode.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14987_1" -->
<a id="c14987_1"></a><blockquote class="code"><p class="quoted">
Instead of setting the camera to something:
<br />&#160;&#160;&#160;&#160;say &quot;The available settings are idle, recording, and playing back.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14988_1" -->
<a id="c14988_1"></a><blockquote class="code"><p class="quoted">
Check tuning it to:
<br />&#160;&#160;&#160;&#160;if the noun is not the camera, say &quot;Only the video camera can be set to [the mode understood].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14989_1" -->
<a id="c14989_1"></a><blockquote class="code"><p class="quoted">
Carry out tuning it to:
<br />&#160;&#160;&#160;&#160;now the mode of the noun is the mode understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14990_1" -->
<a id="c14990_1"></a><blockquote class="code"><p class="quoted">
Report tuning it to:
<br />&#160;&#160;&#160;&#160;say &quot;You set [the noun] to [mode understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14991_1" -->
<a id="c14991_1"></a><blockquote class="code"><p class="quoted">
After an actor doing something when the video camera is recording:
<br />&#160;&#160;&#160;&#160;if the current action is tuning the video camera to recording, make no decision;
<br />&#160;&#160;&#160;&#160;if the number of blank rows in the Table of Videotape is greater than zero:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose a blank row in the Table of Videotape;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the recorded action entry is the current action;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the time stamp entry is the time of day;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the video camera is idle;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The video camera runs out of recording memory and switches off.&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14992_1" -->
<a id="c14992_1"></a><blockquote class="code"><p class="quoted">
Every turn when the video camera is playing back:
<br />&#160;&#160;&#160;&#160;say &quot;On the camera screen, you see [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;let starting playback be false;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Videotape:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the recorded action entry is not waiting:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now starting playback is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[line break] -- [if the actor part of the recorded action entry is the player]you [end if][the recorded action entry], time stamped at [time stamp entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row;
<br />&#160;&#160;&#160;&#160;if starting playback is false, say &quot;only static.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14993_1" -->
<a id="c14993_1"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14994_1" -->
<a id="c14994_1"></a><blockquote class="code"><p class="quoted">
The Actor's Studio is a room. Lucas is a man in the Actor's Studio. Persuasion rule: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14995_1" -->
<a id="c14995_1"></a><blockquote class="code"><p class="quoted">
The Studio contains an edible thing called a croissant.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14996_1" -->
<a id="c14996_1"></a><blockquote class="code"><p class="quoted">
Test me with &quot;set camera to recording / x lucas / lucas, take inventory / lucas, eat croissant / set camera to playing back / z&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that both Lucas' implied taking action (picking up the croissant) and his eating action are recorded on the same move.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "322: Claims Adjustment" "e82" -->
<a id="e82"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_9.html#e82" class="eglink"><b>322</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9.html#e82" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Claims Adjustment</span></b></a><br />An instant camera that spits out photographs of anything the player chooses to take a picture of.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e82"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example82">
<p>We start by creating a camera and a photograph object. As usual when we want to have a kind of object that can be dispensed in bulk, we start off with a bunch of identical instances of the object out of play (in this case, kept in an out-of-play container called &quot;film roll&quot;); we can then move them into play and give them characteristics when they're needed.</p>
<p>Each photograph can depict exactly one thing -- we're assuming that the player is not a landscape photographer here -- so we create a relation to indicate what is shown by each photograph. We'll then use that relation to determine how photographs are described, named, and parsed:</p>
<!-- START CODE "c14997_82" -->
<a id="c14997_82"></a><blockquote class="code"><p class="quoted">
&quot;Claims Adjustment&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14998_82" -->
<a id="c14998_82"></a><blockquote class="code"><p class="quoted">
A photograph is a kind of thing. 36 photographs are in the film roll.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14999_82" -->
<a id="c14999_82"></a><blockquote class="code"><p class="quoted">
Appearance relates one thing to various photographs. The verb to be shown by means the appearance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15000_82" -->
<a id="c15000_82"></a><blockquote class="code"><p class="quoted">
The description of a photograph is usually &quot;It shows [a random thing which is shown by the item described].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15001_82" -->
<a id="c15001_82"></a><blockquote class="code"><p class="quoted">
Understand &quot;of [something related by reversed appearance]&quot; as a photograph.
</p></blockquote>
<!-- END CODE -->
<p>This allows the player to refer to any photograph by its subject: useful if we have a large number of them.</p>
<p>Now we create an action to let the player use the camera and generate these photograph objects:</p>
<!-- START CODE "c15002_82" -->
<a id="c15002_82"></a><blockquote class="code"><p class="quoted">
The player carries a cheap instant camera.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15003_82" -->
<a id="c15003_82"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [something] with [camera]&quot; as photographing. Understand &quot;photograph [something] with [something preferably held]&quot; as photographing. Photographing is an action applying to one visible thing and one carried thing, requiring light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15004_82" -->
<a id="c15004_82"></a><blockquote class="code"><p class="quoted">
The photographing action has an object called the selected film.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15005_82" -->
<a id="c15005_82"></a><blockquote class="code"><p class="quoted">
Setting action variables for photographing:
<br />&#160;&#160;&#160;&#160;let N be a random photograph in the film roll;
<br />&#160;&#160;&#160;&#160;now the selected film is N.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15006_82" -->
<a id="c15006_82"></a><blockquote class="code"><p class="quoted">
Check photographing:
<br />&#160;&#160;&#160;&#160;if the second noun is not the camera, say &quot;You need a camera for that purpose.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15007_82" -->
<a id="c15007_82"></a><blockquote class="code"><p class="quoted">
Check photographing:
<br />&#160;&#160;&#160;&#160;if the noun is the camera, say &quot;Sadly impossible.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15008_82" -->
<a id="c15008_82"></a><blockquote class="code"><p class="quoted">
Check photographing:
<br />&#160;&#160;&#160;&#160;if the selected film is nothing, say &quot;You're out of film.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15009_82" -->
<a id="c15009_82"></a><blockquote class="code"><p class="quoted">
Carry out photographing:
<br />&#160;&#160;&#160;&#160;now the noun is shown by the selected film;
<br />&#160;&#160;&#160;&#160;move the selected film to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15010_82" -->
<a id="c15010_82"></a><blockquote class="code"><p class="quoted">
Report photographing:
<br />&#160;&#160;&#160;&#160;say &quot;Your camera instantly spits out [a selected film].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we use two activities from the Activities chapter to describe the photographs to the player more elegantly:</p>
<!-- START CODE "c15011_82" -->
<a id="c15011_82"></a><blockquote class="code"><p class="quoted">
After printing the name of a photograph (called target):
<br />&#160;&#160;&#160;&#160;say &quot; of [a random thing which is shown by the target]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15012_82" -->
<a id="c15012_82"></a><blockquote class="code"><p class="quoted">
After printing the plural name of a photograph (called target):
<br />&#160;&#160;&#160;&#160;let N be the holder of the target;
<br />&#160;&#160;&#160;&#160;say &quot; of [a list of things which are shown by photographs which are held by N]&quot;;
<br />&#160;&#160;&#160;&#160;if the number of things which are shown by photographs which are held by N is greater than one, say &quot; (variously)&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And finally we provide a brief scenario to give the player something to take pictures of:</p>
<!-- START CODE "c15013_82" -->
<a id="c15013_82"></a><blockquote class="code"><p class="quoted">
The Treasure Room is a room. &quot;Despite the fancy name, this is no more than a closet -- albeit a closet with its own special circuit on the house alarm.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15014_82" -->
<a id="c15014_82"></a><blockquote class="code"><p class="quoted">
The Treasure Room contains a small Degas, a Ming vase, and a collection of South African krugerrands. The player is carrying insurance forms, a first-class stamp, and a security envelope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15015_82" -->
<a id="c15015_82"></a><blockquote class="code"><p class="quoted">
The description of the forms is &quot;Completely filled out in black ink in block letters: now all you need to do is attach photographic evidence of the objects you wish to insure.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15016_82" -->
<a id="c15016_82"></a><blockquote class="code"><p class="quoted">
Test me with &quot;photograph degas / i / photograph degas / i / x photograph of degas / photograph me / x photograph of me / i / photograph vase / photograph camera / photograph collection / g / i / test more&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15017_82" -->
<a id="c15017_82"></a><blockquote class="code"><p class="quoted">
Test more with &quot;x photograph of collection / x photograph of krugerrands / x photograph of collection of south african krugerrands / photograph photograph of degas / x photograph of photograph of degas&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
