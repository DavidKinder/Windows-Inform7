<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>Chapter 17: Understanding</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 17: Understanding</p>
<p class="chaptercontents"><a href="WI_17.html#s1" class="standardlink"><span class="chaptercontentsitem">§17.1. Understand</span></a>; <a href="WI_17.html#s2" class="standardlink"><span class="chaptercontentsitem">§17.2. New commands for old grammar</span></a>; <a href="WI_17.html#s3" class="standardlink"><span class="chaptercontentsitem">§17.3. Overriding existing commands</span></a>; <a href="WI_17.html#s4" class="standardlink"><span class="chaptercontentsitem">§17.4. Standard tokens of grammar</span></a>; <a href="WI_17.html#s5" class="standardlink"><span class="chaptercontentsitem">§17.5. The text token</span></a>; <a href="WI_17.html#s6" class="standardlink"><span class="chaptercontentsitem">§17.6. Actions applying to kinds of value</span></a>; <a href="WI_17.html#s7" class="standardlink"><span class="chaptercontentsitem">§17.7. Understanding any, understanding rooms</span></a>; <a href="WI_17.html#s8" class="standardlink"><span class="chaptercontentsitem">§17.8. Understanding names</span></a>; <a href="WI_17.html#s9" class="standardlink"><span class="chaptercontentsitem">§17.9. Understanding kinds of value</span></a>; <a href="WI_17.html#s10" class="standardlink"><span class="chaptercontentsitem">§17.10. Commands consisting only of nouns</span></a>; <a href="WI_17.html#s11" class="standardlink"><span class="chaptercontentsitem">§17.11. Understanding values</span></a>; <a href="WI_17.html#s12" class="standardlink"><span class="chaptercontentsitem">§17.12. This/that</span></a>; <a href="WI_17.html#s13" class="standardlink"><span class="chaptercontentsitem">§17.13. New tokens</span></a>; <a href="WI_17.html#s14" class="standardlink"><span class="chaptercontentsitem">§17.14. Tokens can produce values</span></a>; <a href="WI_17.html#s15" class="standardlink"><span class="chaptercontentsitem">§17.15. Understanding things by their properties</span></a>; <a href="WI_17.html#s16" class="standardlink"><span class="chaptercontentsitem">§17.16. Understanding things by their relations</span></a>; <a href="WI_17.html#s17" class="standardlink"><span class="chaptercontentsitem">§17.17. Context: understanding when</span></a>; <a href="WI_17.html#s18" class="standardlink"><span class="chaptercontentsitem">§17.18. Changing the meaning of pronouns</span></a>; <a href="WI_17.html#s19" class="standardlink"><span class="chaptercontentsitem">§17.19. Does the player mean...</span></a>; <a href="WI_17.html#s20" class="standardlink"><span class="chaptercontentsitem">§17.20. Multiple action processing</span></a>; <a href="WI_17.html#s21" class="standardlink"><span class="chaptercontentsitem">§17.21. Understanding mistakes</span></a>; <a href="WI_17.html#s22" class="standardlink"><span class="chaptercontentsitem">§17.22. Precedence</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="WI_1.html" class="standardlink">Contents of <i>Writing with Inform</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_16.html" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_16.html" class="standardlink">Chapter 16: Tables</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html" class="standardlink">Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§17.1. Understand</p>
<p>During play, the computer and the player alternate in writing messages to each other: in the player's case, these are short instructions, usually saying what to do next. A wide range of such &quot;commands&quot; are automatically understood, but these only apply to the standard built-in actions. (This wide range is conveniently tabulated in the Commands part of the Actions index.) If we want the player to be able to command new actions, then we need to specify what is to be understood as what. For this, we supply special sentences starting with the word &quot;Understand&quot;.</p>
<p>Suppose we return to the earlier example of a newly created action:</p>
<!-- START CODE "c5499" -->
<a id="c5499"></a><blockquote class="code"><p class="quoted">
Photographing is an action applying to one visible thing and requiring light.
</p></blockquote>
<!-- END CODE -->
<p>We then supply lines of grammar (as they are called) for Inform to recognise, like so:</p>
<!-- START CODE "c5500" -->
<a id="c5500"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [someone]&quot; as photographing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5501" -->
<a id="c5501"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [an open door]&quot; as photographing.
</p></blockquote>
<!-- END CODE -->
<p>As usual, the square brackets indicate something which stands for text, rather than text to be taken verbatim. &quot;[someone]&quot; needs to be the name of anything of the kind &quot;person&quot;, for instance (though as usual that person will need to be in sight of the player for the name to be accepted). The first word - in these examples &quot;photograph&quot; - must be something definite, not a substitution like this.</p>
<p>For obvious reasons, this pattern of words needs to match the expectations of the action. Photographing applies to &quot;one visible thing&quot; - the &quot;visible&quot; just means it does not need to be touched, only seen - so neither of these would be allowable:</p>
<!-- START CODE "c5502" -->
<a id="c5502"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph&quot; as photographing.
<br />Understand &quot;photograph [someone] standing next to [something]&quot; as photographing.
</p></blockquote>
<!-- END CODE -->
<p>The first is probably bad because it supplies no things at all, the second is certainly because it supplies two: what we want, of course, is just the one. (The reason the first is only probably bad is that it's possible to tell Inform how to choose the object if the player doesn't: see the &quot;supplying a missing noun&quot; activity.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_16.html#s19" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_16.html#s19" class="standardlink">Back to Chapter 16: Tables: §16.19. Table amendments</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s2" class="standardlink">Onward to §17.2. New commands for old grammar</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e88" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e88" class="standardlink">Example 286: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Indirection</b>&#160;&#160;&#160; Renaming the directions of the compass so that "white" corresponds to north, "red" to east, "yellow" to south, and "black" to west.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e447" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e447" class="standardlink">Example 287: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>XYZZY</b>&#160;&#160;&#160; Basics of adding a new command reviewed, for the case of the simple magic word XYZZY.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e446" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e446" class="standardlink">Example 288: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Xylan</b>&#160;&#160;&#160; Creating a new command that does require an object to be named; and some comments about the choice of vocabulary, in general.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§17.2. New commands for old grammar</p>
<p>In the photography example, we are providing entirely new grammar for an action  not ordinarily built in to Inform. But we often want simply to provide alternative grammar for existing actions, or even to put new interpretations on commands that Inform already recognises. For instance:</p>
<!-- START CODE "c5503" -->
<a id="c5503"></a><blockquote class="code"><p class="quoted">
Understand &quot;deposit [something] in [an open container]&quot; as inserting it into.
</p></blockquote>
<!-- END CODE -->
<p>The inserting action is built in to Inform, but the command &quot;deposit&quot; is not, so this is created as new. It is occasionally useful to put a twist on this:</p>
<!-- START CODE "c5504" -->
<a id="c5504"></a><blockquote class="code"><p class="quoted">
Understand &quot;fill [an open container] with [something]&quot; as inserting it into (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<p>The clause &quot;(with nouns reversed)&quot; tells Inform to exchange the two nouns parsed, which is necessary because the inserting action expects the noun to be the item and the second noun to be the container, not vice versa.</p>
<p>The following example:</p>
<!-- START CODE "c5505" -->
<a id="c5505"></a><blockquote class="code"><p class="quoted">
Understand &quot;access [something]&quot; as opening.
</p></blockquote>
<!-- END CODE -->
<p>might look as if it makes &quot;access&quot; behave just like &quot;open&quot; when the player types it, but that's not so: &quot;open&quot; can also be used in constructions like &quot;open the door with the brass key&quot;, in which case it is understood as the unlocking action. We could add another line to make &quot;access&quot; behave this way too, but if what we really want is to make &quot;access&quot; behave just like &quot;open&quot;, it's easier simply to say so:</p>
<!-- START CODE "c5506" -->
<a id="c5506"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;access&quot; as &quot;open&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This is very useful when adding a new command which needs synonyms:</p>
<!-- START CODE "c5507" -->
<a id="c5507"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;snap&quot; and &quot;picture&quot; as &quot;photograph&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We can check the current stock of commands by looking at the table in the Actions index: for instance, before making &quot;snap&quot; synonymous with &quot;photograph&quot;, it might be wise to check that it is not already defined as a command for breaking something.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s1" class="standardlink">Back to §17.1. Understand</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s3" class="standardlink">Onward to §17.3. Overriding existing commands</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e7" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e7" class="standardlink">Example 289: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Alpaca Farm</b>&#160;&#160;&#160; A generic USE action which behaves sensibly with a range of different objects.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e170" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e170" class="standardlink">Example 290: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Anchorite</b>&#160;&#160;&#160; By default, Inform understands GET OFF, GET UP, or GET OUT when the player is sitting or standing on an enterable object. We might also want to add GET DOWN and DOWN as exit commands, though.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e87" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e87" class="standardlink">Example 291: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Cloak of Darkness</b>&#160;&#160;&#160; Implementation of "Cloak of Darkness", a simple example game that for years has been used to demonstrate the features of IF languages.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§17.3. Overriding existing commands</p>
<p>Suppose we are devising specialist commands for a game of whist, and we want &quot;discard&quot; as one of them. Looking at the table of commands in the Action index, we find that, inconveniently enough, &quot;discard&quot; already has a meaning: it is synonymous with &quot;drop&quot;, and while that might be sensible most of the time, it is perfectly wrong now. We need a way to free up &quot;discard&quot; for our own use. We can do that by:</p>
<!-- START CODE "c5508" -->
<a id="c5508"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;discard&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<p>This cuts it loose, so to speak, and ready to be given new meanings. If we check the Actions index again, we find no mention of &quot;discard&quot; - it is now a blank slate - but &quot;drop&quot; is still exactly as it was. We could now say something like:</p>
<!-- START CODE "c5509" -->
<a id="c5509"></a><blockquote class="code"><p class="quoted">
Understand &quot;discard [something]&quot; as discarding.
</p></blockquote>
<!-- END CODE -->
<p>(If we had declared that &quot;drop&quot; was something new, the whole thing would have happened in reverse, with &quot;discard&quot; retaining all of the original grammar. Inform does not distinguish between a command and its synonym.)</p>
<p>The &quot;... as something new&quot; sentence works even for a command which did not exist anyway, for instance with:</p>
<!-- START CODE "c5510" -->
<a id="c5510"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;zylqix&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<p>Of course this does nothing - but it is intentional that it generates no problem messages: it means that the sentence can be used to force a command to be fresh and untouched by previous definitions, which might be useful when working with extensions by other people.</p>
<p>It is also possible to clear out all the commands leading to a given action:</p>
<!-- START CODE "c5511" -->
<a id="c5511"></a><blockquote class="code"><p class="quoted">
Understand nothing as taking.
</p></blockquote>
<!-- END CODE -->
<p>The commands &quot;take&quot; and &quot;get&quot; will still exist, but now they'll only have their other senses (for taking off clothes, for getting out of boxes).</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s2" class="standardlink">Back to §17.2. New commands for old grammar</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s4" class="standardlink">Onward to §17.4. Standard tokens of grammar</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e316" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e316" class="standardlink">Example 292: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Trouble with Printing</b>&#160;&#160;&#160; Making a READ command, distinct from EXAMINE, for legible objects.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e214" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e214" class="standardlink">Example 293: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lanista 2</b>&#160;&#160;&#160; Randomized combat in which the damage done depends on what weapons the characters are wielding, and in which an ATTACK IT WITH action is created to replace regular attacking. Also folds a new DIAGNOSE command into the system.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§17.4. Standard tokens of grammar</p>
<p>We have already seen &quot;[something]&quot; and &quot;[someone]&quot;, which are standard examples of &quot;tokens of grammar&quot; - patterns matched by suitable named things. There are several other standard tokens, provided not so much from necessity but to allow the story parser to be more graceful and responsive. &quot;[someone]&quot; matches the same possibilities as &quot;[a person]&quot; would, but the parser handles it a little better in cases of failure. These special tokens are best explained by looking at some of the examples in the standard grammar, which can be browsed in the Index of any story.</p>
<!-- START CODE "c5512" -->
<a id="c5512"></a><blockquote class="code"><p class="quoted">
Understand &quot;wear [something preferably held]&quot; as wearing.
</p></blockquote>
<!-- END CODE -->
<p>Here we expect that the named item will be one that is held by the player, and the parser will use this to resolve ambiguities between names of things carried and not carried. (If the action is one which positively requires that its noun be something carried, a command matching this token against something not carried will generate an automatic attempt to take it.)</p>
<!-- START CODE "c5513" -->
<a id="c5513"></a><blockquote class="code"><p class="quoted">
Understand &quot;take [things]&quot; as taking.
<br />Understand &quot;drop [things preferably held]&quot; as dropping.
</p></blockquote>
<!-- END CODE -->
<p>&quot;[things]&quot; is like &quot;[something]&quot; but allows a list of items, or a vague plural like &quot;all&quot;, to be typed. The result will be a sequence of actions, one for each item thus described. &quot;[things preferably held]&quot; is the analogous token for &quot;[something preferably held]&quot;.</p>
<!-- START CODE "c5514" -->
<a id="c5514"></a><blockquote class="code"><p class="quoted">
Understand &quot;take [things inside] from [something]&quot; as removing.
</p></blockquote>
<!-- END CODE -->
<p>&quot;[things inside]&quot; matches only what is inside the second-named thing, and ensures that (for instance) the command &quot;take all from box&quot; does not also try to take the box.</p>
<!-- START CODE "c5515" -->
<a id="c5515"></a><blockquote class="code"><p class="quoted">
Understand &quot;put [other things] in/inside/into [something]&quot; as inserting it into.
</p></blockquote>
<!-- END CODE -->
<p>Similarly, &quot;[other things]&quot; will allow anything except the second-named thing. (Like &quot;[things inside]&quot; it is really only needed for handling containers.)</p>
<p>Finally there is &quot;[any things]&quot;, which should be used only with care. This is like &quot;[things]&quot; but with no restriction at all on where the item comes from: it might be invisible, or from a different room, or out of play altogether. If we use this, we had better remember that it would match ALL, with quite extravagant consequences.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s3" class="standardlink">Back to §17.3. Overriding existing commands</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s5" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s5" class="standardlink">Onward to §17.5. The text token</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e256" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e256" class="standardlink">Example 294: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Shawn's Bad Day</b>&#160;&#160;&#160; Allowing the player to EXAMINE ALL.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e222" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e222" class="standardlink">Example 295: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Left Hand of Autumn</b>&#160;&#160;&#160; The possibility of using a [things] token opens up some interesting complications, because we may want actions on multiple items to be reported differently from actions on just one. Here we look at how to make a multiple examination command that describes groups in special ways.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§17.5. The text token</p>
<p>Most actions involve items: taking a vase, perhaps. As we shall see, they might also involve values, or a mixture of the two: turning a dial to 17 would involve both a thing (the dial) and a number (17). A few of Inform's built-in actions, however, can act on any text at all. For instance, asking the Sybil about the Persian army would involve a thing (the Sybil) and some text (&quot;Persian army&quot;). Inform does not try to understand automatically what that text might mean, or to relate it to any items, places or values it knows about: instead, Inform leaves that to the specific story to work out for itself, since the answer is bound to depend on the context. (In the chapter on Tables, we saw ways to compile tables of responses to particular topics of conversation.)</p>
<p>The token for &quot;accept any text here&quot; is just &quot;[text]&quot;. For instance, if we create an action with:</p>
<!-- START CODE "c5516" -->
<a id="c5516"></a><blockquote class="code"><p class="quoted">
Getting help about is an action applying to one topic.
</p></blockquote>
<!-- END CODE -->
<p>We can then provide grammar for this action like so:</p>
<!-- START CODE "c5517" -->
<a id="c5517"></a><blockquote class="code"><p class="quoted">
Understand &quot;help on [text]&quot; as getting help about.
</p></blockquote>
<!-- END CODE -->
<p>When text like this is successfully matched, it is placed in a value called &quot;the topic understood&quot;. (The term &quot;topic&quot; is used traditionally, really: most of the times one needs this feature, it's for a topic of conversation, or a topic being looked up in a book.)</p>
<p>The fact that &quot;[text]&quot; can match anything means that it's difficult to tell which version of a command was intended if they disagree only from a &quot;[text]&quot; onwards. For example, given:</p>
<!-- START CODE "c5518" -->
<a id="c5518"></a><blockquote class="code"><p class="quoted">
Yelling specifically is an action applying to one topic. Understand &quot;yell [text]&quot; as yelling specifically. Understand &quot;yell [text] at/to [someone]&quot; as answering it that (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<p>...Inform will in fact try the second possibility first, as being the more specific, but the result may freeze out the first possibility altogether due to autocompletion of commands.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s4" class="standardlink">Back to §17.4. Standard tokens of grammar</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s6" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s6" class="standardlink">Onward to §17.6. Actions applying to kinds of value</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e246" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e246" class="standardlink">Example 296: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ish.</b>&#160;&#160;&#160; A (very) simple HELP command, using tokens to accept and interpret the player's  text whatever it might be.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e80" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e80" class="standardlink">Example 297: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Nameless</b>&#160;&#160;&#160; ASKing someone about an object rather than about a topic.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s6"></a>§17.6. Actions applying to kinds of value</p>
<p>Almost all actions apply to things: the player picks them up, pushes them, looks at them and so on. We only occasionally need to recognise other kinds of value, but when we do, we can. For instance:</p>
<!-- START CODE "c5519" -->
<a id="c5519"></a><blockquote class="code"><p class="quoted">
Adjusting it to is an action applying to one thing and one number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5520" -->
<a id="c5520"></a><blockquote class="code"><p class="quoted">
Understand &quot;adjust [something] to [a number]&quot; as adjusting it to.
</p></blockquote>
<!-- END CODE -->
<p>The substitution &quot;[a number]&quot; matches any number (actually any whole number that is not too large) typed by the player. Inform checks the various kinds being used to make sure that everything matches, so, for instance, this would be disallowed:</p>
<!-- START CODE "c5521" -->
<a id="c5521"></a><blockquote class="code"><p class="quoted">
Understand &quot;adjust [something] to [something]&quot; as adjusting it to.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s5" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s5" class="standardlink">Back to §17.5. The text token</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s7" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s7" class="standardlink">Onward to §17.7. Understanding any, understanding rooms</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e336" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e336" class="standardlink">Example 298: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Safety</b>&#160;&#160;&#160; A safe whose dial can be turned with SPIN SAFE TO 1131, and which will open only with the correct combination.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e386" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e386" class="standardlink">Example 299: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Tom's Midnight Garden</b>&#160;&#160;&#160; A clock kind that can be set to any time using "the time understood"; may be turned on and off; and will advance itself only when running. Time on the face is also reported differently depending on whether the clock is analog or digital.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e152" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e152" class="standardlink">Example 300: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ibid.</b>&#160;&#160;&#160; A system which allows the author to assign footnotes to descriptions, and permits the player to retrieve them again by number, using "the number understood". Footnotes will automatically number themselves, according to the order in which the player discovers them.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s7"></a>§17.7. Understanding any, understanding rooms</p>
<p>Ordinarily, if we write</p>
<!-- START CODE "c5522" -->
<a id="c5522"></a><blockquote class="code"><p class="quoted">
Understand &quot;manipulate [something]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>then the &quot;[something]&quot; will only match what is within reach or sight: this is the concept of &quot;scope&quot;, which is what prevents a player from spookily acting on objects from a distance. The parser itself prevents the manipulation rules from ever being invoked on such distant items, which is as it should be.</p>
<p>Sometimes, though, we positively want to allow this possibility. If we use the special word &quot;any&quot;, as in</p>
<!-- START CODE "c5523" -->
<a id="c5523"></a><blockquote class="code"><p class="quoted">
Understand &quot;manipulate [any door]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>then any door, anywhere in the model world, can be allowed in the player's command. (Of course, the manipulation rules may not do what the player hopes: all that has happened is that the command is now possible to type.) The &quot;any&quot; can be followed by any description of items or rooms, and the latter opens up new possibilities, since rooms are ordinarily never allowed to be named in the player's commands.</p>
<p>For example, the following gives the player the ability to walk between rooms without giving explicit directions of movement.</p>
<!-- START CODE "c5524" -->
<a id="c5524"></a><blockquote class="code"><p class="quoted">
Going by name is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5525" -->
<a id="c5525"></a><blockquote class="code"><p class="quoted">
Carry out going by name: say &quot;You walk to [the noun].&quot;; move the player to the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5526" -->
<a id="c5526"></a><blockquote class="code"><p class="quoted">
Understand &quot;go to [any adjacent visited room]&quot; as going by name.
</p></blockquote>
<!-- END CODE -->
<p>(This is really only a sketch: in a finished work, &quot;go to&quot; would produce helpful errors if non-adjacent but visited rooms were named, and we might also worry about rules applying to movement, because the method above will circumvent them.)</p>
<p>As might be expected, &quot;[anything]&quot; means the same as &quot;[any thing]&quot;; &quot;[anybody]&quot; and &quot;[anyone]&quot; mean the same as &quot;[any person]&quot;; and &quot;[anywhere]&quot; means the same as &quot;[any room]&quot;.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s6" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s6" class="standardlink">Back to §17.6. Actions applying to kinds of value</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s8" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s8" class="standardlink">Onward to §17.8. Understanding names</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e252" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e252" class="standardlink">Example 301: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>One of Those Mornings</b>&#160;&#160;&#160; A FIND command that allows the player to find a lost object anywhere</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e150" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e150" class="standardlink">Example 302: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Actaeon</b>&#160;&#160;&#160; A FOLLOW command allowing the player to pursue a person who has just left the room.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s8"></a>§17.8. Understanding names</p>
<p>So far in this chapter, Understand sentences have been used to give names to actions, but they can also be used to name objects - in particular, things and rooms.</p>
<p>This normally happens automatically. For instance, writing</p>
<!-- START CODE "c5527" -->
<a id="c5527"></a><blockquote class="code"><p class="quoted">
The St Bernard is an animal in the Monastery Cages.
</p></blockquote>
<!-- END CODE -->
<p>makes ST BERNARD refer to the dog, and MONASTERY CAGES refer to the room. But sometimes, as here, that isn't really enough. Why shouldn't the player type EXAMINE DOG? One way to allow this is to write:</p>
<!-- START CODE "c5528" -->
<a id="c5528"></a><blockquote class="code"><p class="quoted">
Understand &quot;dog&quot; as the St Bernard.
</p></blockquote>
<!-- END CODE -->
<p>Matters become more complicated when the player wants to refer to more than one object at once.	When a kind is created, and the source text constructs multiple duplicate items of that kind, Inform generates a plural of the kind's name in order to understand commands referring to these multiples. For instance, given...</p>
<!-- START CODE "c5529" -->
<a id="c5529"></a><blockquote class="code"><p class="quoted">
The Lake is a room. A duck is a kind of animal. Four ducks are in
<br />&#160;&#160;&#160;&#160;the Lake.
</p></blockquote>
<!-- END CODE -->
<p>...the player can type TAKE DUCKS to try to pick up all four.</p>
<p>Once again the automatic behaviour can be enhanced:</p>
<!-- START CODE "c5530" -->
<a id="c5530"></a><blockquote class="code"><p class="quoted">
Understand &quot;birds&quot; and &quot;ruddy ducks&quot; as the plural of duck.
</p></blockquote>
<!-- END CODE -->
<p>Now TAKE BIRDS and TAKE DUCKS are equivalent. Plurals can even, strange as it may seem, be given for single things:</p>
<!-- START CODE "c5531" -->
<a id="c5531"></a><blockquote class="code"><p class="quoted">
The magpie is in the Lake. Understand &quot;birds&quot; as the plural of the magpie.
</p></blockquote>
<!-- END CODE -->
<p>And now TAKE BIRDS tries to take all four ducks and the magpie too.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s7" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s7" class="standardlink">Back to §17.7. Understanding any, understanding rooms</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s9" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s9" class="standardlink">Onward to §17.9. Understanding kinds of value</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s9"></a>§17.9. Understanding kinds of value</p>
<p>In many cases, if K is the name of a kind of value, then Inform automatically makes an Understand token called &quot;[K]&quot; which matches only values of K. An example is &quot;[number]&quot;, which matches text like 203 or SEVEN. There is a chart of the kinds of value in the Kinds index for a project, showing which ones can be understood in this way.</p>
<p>In particular, any newly created kind of value can always be understood. We make good use of that in the example story &quot;Studious&quot;:</p>
<!-- START CODE "c5532" -->
<a id="c5532"></a><blockquote class="code"><p class="quoted">
&quot;Studious&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5533" -->
<a id="c5533"></a><blockquote class="code"><p class="quoted">
The Studio is a room. &quot;The unreal world of the photographic studio, full of fake furniture, cantilevered stands and silver-white shades like miniature parachutes.&quot; The lumpy black camera is in the Studio. &quot;A lumpy black camera hangs from a tripod.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5534" -->
<a id="c5534"></a><blockquote class="code"><p class="quoted">
The rake-thin model is a woman in the Studio. &quot;A rake-thin model, exquisitely bored and boringly exquisite, angles herself indolently.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5535" -->
<a id="c5535"></a><blockquote class="code"><p class="quoted">
Limb is a kind of value. The limbs are left leg, left arm, right leg and right arm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5536" -->
<a id="c5536"></a><blockquote class="code"><p class="quoted">
Detailing is an action applying to one limb and one visible thing, requiring light. Check detailing: if the camera is not carried then say &quot;You can hardly photograph without a camera, now can you?&quot; instead. Report detailing: say &quot;Click! You take a detail photograph of the [limb understood] of [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5537" -->
<a id="c5537"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [limb] of [a person]&quot; as detailing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5538" -->
<a id="c5538"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get camera / photograph left leg of model&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note the way we can refer to the limb mentioned by the player as the &quot;limb understood&quot;. Similarly, we could talk about the &quot;number understood&quot; if the value parsed had been a number, and so on.</p>
<p>One of the built-in kinds of value is worth special note: time. A time can hold either a specific time of day, such as 10:23 PM, or a duration of something, such as 21 minutes. The &quot;[a time]&quot; token matches times of day, such as 10:15 AM or MIDNIGHT. But 10 MINUTES wouldn't be recognised by &quot;[a time]&quot; since it isn't a specific moment in the day. To get around this, an alternative version called &quot;[a time period]&quot; is available. So:</p>
<!-- START CODE "c5539" -->
<a id="c5539"></a><blockquote class="code"><p class="quoted">
Understand &quot;wait for [a time period]&quot; as ...
</p></blockquote>
<!-- END CODE -->
<p>would match WAIT FOR AN HOUR or WAIT FOR TWO HOURS 12 MINUTES.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s8" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s8" class="standardlink">Back to §17.8. Understanding names</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s10" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s10" class="standardlink">Onward to §17.10. Commands consisting only of nouns</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e269" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e269" class="standardlink">Example 303: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Pages</b>&#160;&#160;&#160; A book with pages that can be read by number (as in "read page 3 in...") and which accepts relative page references as well (such as "read the last page of...", "read the next page", and so on).</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e111" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e111" class="standardlink">Example 304: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Down in Oodville</b>&#160;&#160;&#160; Offering the player a choice of numbered options at certain times, without otherwise interfering with his ability to give regular commands.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e367" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e367" class="standardlink">Example 305: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Straw Into Gold</b>&#160;&#160;&#160; Creating a Rumpelstiltskin character who is always referred to as "dwarf", "guy", "dude", or "man" -- depending on which the player last used -- until the first time the player refers to him as "Rumpelstiltskin".</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s10"></a>§17.10. Commands consisting only of nouns</p>
<p>In every example so far, and in almost all practical cases, the first word in a command which results in an action will be something fixed: a verb, in fact. When we write</p>
<!-- START CODE "c5540" -->
<a id="c5540"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [something]&quot; as photographing.
</p></blockquote>
<!-- END CODE -->
<p>we are saying that the first word of such a command will always be &quot;photograph&quot;. Occasionally, though, we would like to understand a noun as a command, perhaps in a situation where the command is obvious. If we say:</p>
<!-- START CODE "c5541" -->
<a id="c5541"></a><blockquote class="code"><p class="quoted">
Understand &quot;[something]&quot; as examining.
</p></blockquote>
<!-- END CODE -->
<p>then the command &quot;examine&quot; will be implicit when the player types a bare noun:</p>
<!-- START CODE "c5542" -->
<a id="c5542"></a><blockquote class="code"><p class="quoted">
A red box and a blue ball are here.
<br />&gt; BALL
<br />The blue ball is plaited from many small leather patches.
</p></blockquote>
<!-- END CODE -->
<p>so that the command &quot;ball&quot; has resulted in the action &quot;examining the blue ball&quot;.</p>
<p>This is a feature which should be used sparingly, since it could easily lead to confusion if not carefully explained to the player. By default, it is not used at all.</p>
<p>It also has what may be a serious limitation: verbless commands like this work only when typed by the player as actions to follow - they do not work as instructions for other people. So for instance SVEN, BALL would not ask Sven to try examining the ball - instead it would generate the action &quot;answering ball to Sven&quot;. (This is because the Inform parser decides whether PERSON, SOME TEXT is a request or just conversation by looking at the first word after the comma to see if it's a command.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s9" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s9" class="standardlink">Back to §17.9. Understanding kinds of value</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s11" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s11" class="standardlink">Onward to §17.11. Understanding values</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e89" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e89" class="standardlink">Example 306: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Misadventure</b>&#160;&#160;&#160; A going by name command which does respect movement rules, and accepts names of rooms as commands.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e229" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e229" class="standardlink">Example 307: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Safari Guide</b>&#160;&#160;&#160; The same functionality, but making the player continue to move until he reaches his destination or a barrier, handling all openable doors on the way.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s11"></a>§17.11. Understanding values</p>
<p>&quot;Understand&quot; can be used to supply new ways to talk about both things and other values. For instance, if we create:</p>
<!-- START CODE "c5543" -->
<a id="c5543"></a><blockquote class="code"><p class="quoted">
A brass lantern is in the Building.
</p></blockquote>
<!-- END CODE -->
<p>then it can be called &quot;brass&quot;, or &quot;lantern&quot;, but not &quot;lamp&quot;: Inform does not really know what these words mean, and has no grasp of synonyms. We can arrange for &quot;lamp&quot; to work as well like so:</p>
<!-- START CODE "c5544" -->
<a id="c5544"></a><blockquote class="code"><p class="quoted">
Understand &quot;lamp&quot; as the lantern.
<br />Understand &quot;old lamp&quot; as the lantern.
</p></blockquote>
<!-- END CODE -->
<p>With care, we can do the same trick for entire kinds of thing at once. It is not ordinarily the case that a thing can be called by the name of its kind: if we put a woman called April into a room, then she can usually be called &quot;April&quot;, but not &quot;woman&quot;. (The exception is when we do not specify any name for her - in that case, Inform will give up and call her just &quot;woman&quot;.) So there is not usually any form of words which can refer to anything of a given kind. If we should want this, we have to say so explicitly:</p>
<!-- START CODE "c5545" -->
<a id="c5545"></a><blockquote class="code"><p class="quoted">
Understand &quot;machine&quot; as a device.
</p></blockquote>
<!-- END CODE -->
<p>Device is a kind, so now the word &quot;machine&quot; can be used to refer to any device: if there are two in the same place, the result might play out like so:</p>
<!-- START CODE "c5546" -->
<a id="c5546"></a><blockquote class="code"><p class="quoted">
&gt;switch machine on
<br />Which do you mean, the bale twiner or the grain thresher?
<br />&gt;twiner
<br />You watch absorbed as a perfect cube of hay is trussed up like a parcel.
</p></blockquote>
<!-- END CODE -->
<p>Similarly, we might conceivably want to allow new ways to recognise values - in this case, a number:</p>
<!-- START CODE "c5547" -->
<a id="c5547"></a><blockquote class="code"><p class="quoted">
Understand &quot;eleventy-one&quot; as 111.
</p></blockquote>
<!-- END CODE -->
<p>When making complicated names, we need to watch out for the possibility of writing a definition which will cause Inform to go around in circles (something which will show up as a &quot;Too many activities at once&quot; run-time problem). For instance,</p>
<!-- START CODE "c5548" -->
<a id="c5548"></a><blockquote class="code"><p class="quoted">
Understand &quot;[thing] substitute&quot; as the placebo.
</p></blockquote>
<!-- END CODE -->
<p>will fail because Inform, working left to right, needs to look for every possible object name before it can progress: one possibility is the placebo itself: to check that, it needs to look for every possible object name: and so on, never finishing. A definition like this one very likely matches too much in any case (would we really want to accept PLACEBO SUBSTITUTE or CIGARETTE SUBSTITUTE SUBSTITUTE SUBSTITUTE here, as the definition implies?).</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s10" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s10" class="standardlink">Back to §17.10. Commands consisting only of nouns</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s12" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s12" class="standardlink">Onward to §17.12. This/that</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e282" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e282" class="standardlink">Example 308: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Palette</b>&#160;&#160;&#160; An artist's workshop in which the canvas can be painted in any colour, and where painterly names for pigments ("cerulean") are accepted alongside everyday ones ("blue").</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e21" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e21" class="standardlink">Example 309: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Baritone, Bass</b>&#160;&#160;&#160; Letting the player pick a gender (or perhaps other characteristics) before starting play.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s12"></a>§17.12. This/that</p>
<p>We have already seen &quot;or&quot; used in &quot;Understand&quot; sentences:</p>
<!-- START CODE "c5549" -->
<a id="c5549"></a><blockquote class="code"><p class="quoted">
Understand &quot;scarlet&quot; or &quot;crimson&quot; as red.
</p></blockquote>
<!-- END CODE -->
<p>In general, any number of alternative forms can be given which are to be understood as the same thing (in this case the colour red). When the alternatives are in any way complicated, &quot;or&quot; should always be used, but a shorthand form is allowed for simple cases where it is only a matter of a single word having several possibilities:</p>
<!-- START CODE "c5550" -->
<a id="c5550"></a><blockquote class="code"><p class="quoted">
Understand &quot;reach underneath/under/beneath [something]&quot; as looking under.
</p></blockquote>
<!-- END CODE -->
<p>This is shorthand for:</p>
<!-- START CODE "c5551" -->
<a id="c5551"></a><blockquote class="code"><p class="quoted">
Understand &quot;reach underneath [something]&quot; or &quot;reach under [something]&quot; or &quot;reach beneath [something]&quot; as looking under.
</p></blockquote>
<!-- END CODE -->
<p>Which in turn is shorthand for:</p>
<!-- START CODE "c5552" -->
<a id="c5552"></a><blockquote class="code"><p class="quoted">
Understand &quot;reach underneath [something]&quot; as looking under. Understand &quot;reach under [something]&quot; as looking under. Understand &quot;reach beneath [something]&quot; as looking under.
</p></blockquote>
<!-- END CODE -->
<p>It's possible also to make that second word optional:</p>
<!-- START CODE "c5553" -->
<a id="c5553"></a><blockquote class="code"><p class="quoted">
Understand &quot;reach underneath/under/beneath/-- [something]&quot; as looking under.
</p></blockquote>
<!-- END CODE -->
<p>because &quot;--&quot; is read by Inform as &quot;no word at all&quot;. If &quot;--&quot; is an option, it can only be given once and at the end of the list of possibilities.</p>
<p>To recapitulate: the slash &quot;/&quot; can only be used between single, literal words, and is best for the wayward prepositions of English (&quot;in/into/inside&quot;, and so forth). For anything more complex, always use &quot;or&quot;.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s11" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s11" class="standardlink">Back to §17.11. Understanding values</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s13" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s13" class="standardlink">Onward to §17.13. New tokens</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s13"></a>§17.13. New tokens</p>
<p>We have now made good use of square-bracketed tokens, such as &quot;[something]&quot;, in a variety of &quot;Understand...&quot; sentences. It is sometimes convenient to create new tokens of our own, to match whatever grammar we choose: this enables complicated knots of grammar to be used in many different &quot;Understand...&quot; sentences without having to write it all out each time.</p>
<p>For instance, here are new tokens: one for each of two groups of alternative prepositions.</p>
<!-- START CODE "c5554" -->
<a id="c5554"></a><blockquote class="code"><p class="quoted">
Understand &quot;beneath/under/by/near/beside/alongside/against&quot; or &quot;next to&quot; or &quot;in front of&quot; as &quot;[beside]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5555" -->
<a id="c5555"></a><blockquote class="code"><p class="quoted">
Understand &quot;on/in/inside&quot; or &quot;on top of&quot; as &quot;[within]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Again, note that the slash indicates a choice between words only, not between entire phrases. For instance, if we write:</p>
<!-- START CODE "c5556" -->
<a id="c5556"></a><blockquote class="code"><p class="quoted">
Understand &quot;red bird/robin&quot; as &quot;[robin]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>then the two alternative forms are &quot;red bird&quot; and &quot;red robin&quot;, not &quot;red bird&quot; and &quot;robin&quot;. By contrast,</p>
<!-- START CODE "c5557" -->
<a id="c5557"></a><blockquote class="code"><p class="quoted">
Understand &quot;red bird&quot; or &quot;robin&quot; as &quot;[robin]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>will understand either &quot;red bird&quot; or &quot;robin&quot; but not &quot;red robin&quot;. If we want to capture all three forms, we might define</p>
<!-- START CODE "c5558" -->
<a id="c5558"></a><blockquote class="code"><p class="quoted">
Understand &quot;red bird/robin&quot; or &quot;robin&quot; as &quot;[robin]&quot;.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s12" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s12" class="standardlink">Back to §17.12. This/that</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s14" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s14" class="standardlink">Onward to §17.14. Tokens can produce values</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e225" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e225" class="standardlink">Example 310: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lies</b>&#160;&#160;&#160; Commands to allow the player to lie down in three different ways.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s14"></a>§17.14. Tokens can produce values</p>
<p>The examples just seen were tokens which simply matched specific words typed by the player, but newly created tokens can also produce values:</p>
<!-- START CODE "c5559" -->
<a id="c5559"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, green and blue. Understand &quot;colour [a colour]&quot; or &quot;[a colour] shade&quot; as &quot;[tint]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Here the &quot;[tint]&quot; token matches, for instance, &quot;colour red&quot; and &quot;blue shade&quot;, which would result in the values red and blue, respectively.</p>
<p>Tokens are not allowed to produce more than one value, and if several patterns are given to define them then those patterns have to be compatible. That means the following is disallowed, since it might work out to a colour, or to an object, leaving Inform unable to judge whether an action can safely be applied to the result.</p>
<!-- START CODE "c5560" -->
<a id="c5560"></a><blockquote class="code"><p class="quoted">
Understand &quot;colour [a colour]&quot; or &quot;[something]&quot; as &quot;[tint]&quot;.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s13" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s13" class="standardlink">Back to §17.13. New tokens</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s15" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s15" class="standardlink">Onward to §17.15. Understanding things by their properties</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s15"></a>§17.15. Understanding things by their properties</p>
<p>Items are ordinarily understood only by their original given names. For instance, if we have:</p>
<!-- START CODE "c5561" -->
<a id="c5561"></a><blockquote class="code"><p class="quoted">
In the Herb Garden is a china pot.
</p></blockquote>
<!-- END CODE -->
<p>then the player could refer to this as &quot;pot&quot;, &quot;china pot&quot; or &quot;china&quot;. We can embellish this by adding extra forms:</p>
<!-- START CODE "c5562" -->
<a id="c5562"></a><blockquote class="code"><p class="quoted">
Understand &quot;chinese pot&quot; or &quot;chinese vase&quot; as the china pot.
</p></blockquote>
<!-- END CODE -->
<p>But suppose the pot changes its nature in the course of play? If we have:</p>
<!-- START CODE "c5563" -->
<a id="c5563"></a><blockquote class="code"><p class="quoted">
The china pot can be unbroken or broken. The china pot is unbroken.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5564" -->
<a id="c5564"></a><blockquote class="code"><p class="quoted">
After dropping the china pot:
<br />&#160;&#160;&#160;&#160;say &quot;Crack!&quot;;
<br />&#160;&#160;&#160;&#160;now the china pot is broken;
<br />&#160;&#160;&#160;&#160;now the printed name of the pot is &quot;broken pot&quot;.
</p></blockquote>
<!-- END CODE -->
<p>So now the player would reasonably expect to call it &quot;broken pot&quot;, a wording which would have been rejected before. We can achieve this by writing:</p>
<!-- START CODE "c5565" -->
<a id="c5565"></a><blockquote class="code"><p class="quoted">
Understand the unbroken property as describing the pot.
</p></blockquote>
<!-- END CODE -->
<p>which allows &quot;unbroken&quot; or &quot;broken&quot; to describe the pot, depending on its state. And, since the player might well use a different adjective but with the same idea in mind, we can even add:</p>
<!-- START CODE "c5566" -->
<a id="c5566"></a><blockquote class="code"><p class="quoted">
Understand &quot;shattered&quot; or &quot;cracked&quot; or &quot;smashed&quot; as broken. Understand &quot;pristine&quot; as unbroken.
</p></blockquote>
<!-- END CODE -->
<p>This is something of a toy example, but the feature looks rather more useful when there are more pots than just one:</p>
<!-- START CODE "c5567" -->
<a id="c5567"></a><blockquote class="code"><p class="quoted">
&quot;Terracotta&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5568" -->
<a id="c5568"></a><blockquote class="code"><p class="quoted">
A flowerpot is a kind of thing. A flowerpot can be unbroken or broken. Understand the broken property as describing a flowerpot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5569" -->
<a id="c5569"></a><blockquote class="code"><p class="quoted">
After dropping an unbroken flowerpot:
<br />&#160;&#160;&#160;&#160;say &quot;Crack!&quot;;
<br />&#160;&#160;&#160;&#160;now the noun is broken;
<br />&#160;&#160;&#160;&#160;now the printed name of the noun is &quot;broken flowerpot&quot;;
<br />&#160;&#160;&#160;&#160;now the printed plural name of the noun is &quot;broken flowerpots&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5570" -->
<a id="c5570"></a><blockquote class="code"><p class="quoted">
The Herb Garden is a room. In the Herb Garden are ten unbroken flowerpots.
</p></blockquote>
<!-- END CODE -->
<p>We then have the dialogue:</p>
<!-- START CODE "c5571" -->
<a id="c5571"></a><blockquote class="code"><p class="quoted">
Herb Garden
<br />You can see ten flowerpots here.
<br />&gt;get two flowerpots
<br />flowerpot: Taken.
<br />flowerpot: Taken.
<br />&gt;drop all
<br />flowerpot: Crack!
<br />flowerpot: Crack!
<br />&gt;look
<br />Herb Garden
<br />You can see two broken flowerpots and eight flowerpots here.
<br />&gt;get an unbroken flowerpot
<br />Taken.
</p></blockquote>
<!-- END CODE -->
<p>and so on and so forth.</p>
<p>There are in fact two slightly different forms of this kind of sentence:</p>
<!-- START CODE "c5572" -->
<a id="c5572"></a><blockquote class="code"><p class="quoted">
Understand the broken property as describing a flowerpot.
<br />Understand the broken property as referring to a flowerpot.
</p></blockquote>
<!-- END CODE -->
<p>The only difference is that in the &quot;describing&quot; case, the property's name alone can mean the thing in question - so &quot;take unbroken&quot; will work; whereas, in the &quot;referring to&quot;, the property's name can only be used as an adjective preceding the name of thing itself - so &quot;take unbroken flowerpot&quot; will work but &quot;take unbroken&quot; will not.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s14" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s14" class="standardlink">Back to §17.14. Tokens can produce values</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s16" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s16" class="standardlink">Onward to §17.16. Understanding things by their relations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e16" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e16" class="standardlink">Example 311: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Aspect</b>&#160;&#160;&#160; Understanding aspect ratios (a unit) in the names of televisions.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e195" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e195" class="standardlink">Example 312: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hymenaeus</b>&#160;&#160;&#160; Understanding "flaming torch" and "extinguished torch" to refer to torches when lit and unlit.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e72" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e72" class="standardlink">Example 313: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Channel 1</b>&#160;&#160;&#160; Understanding channels (a number) in the names of televisions.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e149" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e149" class="standardlink">Example 314: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Terracottissima</b>&#160;&#160;&#160; The flowerpots once again, but this time arranged so that after the first breakage all undamaged pots are said to be "unbroken", to distinguish them from the others.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e286" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e286" class="standardlink">Example 315: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Peers</b>&#160;&#160;&#160; The peers of the English realm come in six flavours - Baron, Viscount, Earl, Marquess, Duke and Prince - and must always be addressed properly. While a peerage is for life, it may at the royal pleasure be promoted.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e73" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e73" class="standardlink">Example 316: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Channel 2</b>&#160;&#160;&#160; Understanding channels (a number) in the names of televisions, with more sophisticated parsing of the change channel action.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e378" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e378" class="standardlink">Example 317: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Terracottissima Maxima</b>&#160;&#160;&#160; Flowerpots with textual names that might change during play.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e383" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e383" class="standardlink">Example 318: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Tilt 1</b>&#160;&#160;&#160; A deck of cards with fully implemented individual cards, which can be separately drawn and discarded, and referred to by name.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s16"></a>§17.16. Understanding things by their relations</p>
<p>Sometimes it makes sense for the name of something to involve the names of other things to which it is related. For instance, if we say TAKE THE BOTTLE OF WINE, we mean that the bottle currently contains wine - if it were the very same bottle containing water, we would call it something else.</p>
<p>For names which must involve related names, a special form of token is provided. For instance, we could say:</p>
<!-- START CODE "c5573" -->
<a id="c5573"></a><blockquote class="code"><p class="quoted">
A box is a kind of container. Understand &quot;box of [something related by containment]&quot; as a box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5574" -->
<a id="c5574"></a><blockquote class="code"><p class="quoted">
The Toyshop is a room. The red box is a box in the Toyshop. Some crayons are in the red box.
</p></blockquote>
<!-- END CODE -->
<p>and now TAKE BOX OF CRAYONS will work, because CRAYONS matches against &quot;[something related by containment]&quot; for the red box - or it does for as long as the crayons are there. We can have similar matches against relations of all kinds, but have to name the relation explicitly. (See the examples at the end of this section for plenty of cases.)</p>
<p>We can also reverse the sense. If we write:</p>
<!-- START CODE "c5575" -->
<a id="c5575"></a><blockquote class="code"><p class="quoted">
A box is a kind of container. Understand &quot;box in [something related by reversed containment]&quot; as a box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5576" -->
<a id="c5576"></a><blockquote class="code"><p class="quoted">
The Toyshop is a room. The crate and the hammock are in the Toyshop. In the crate is a box. In the hammock is a box.
</p></blockquote>
<!-- END CODE -->
<p>then TAKE THE BOX IN THE HAMMOCK will work: here, the relation goes the other way, because the box is being contained by the other-named item, rather than doing the containing.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s15" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s15" class="standardlink">Back to §17.15. Understanding things by their properties</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s17" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s17" class="standardlink">Onward to §17.17. Context: understanding when</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e79" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e79" class="standardlink">Example 319: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Cinco</b>&#160;&#160;&#160; A taco shell that can be referred to (when it contains things) in terms of its contents.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e306" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e306" class="standardlink">Example 320: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Puncak Jaya</b>&#160;&#160;&#160; When a character is not visible, responding to such commands as EXAMINE PETER and PETER, HELLO with a short note that the person in question is no longer visible.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e436" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e436" class="standardlink">Example 321: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Whither?</b>&#160;&#160;&#160; A door whose description says where it leads; and which automatically understands references such as "the west door" and "the east door" depending on which direction it leads from the location.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e82" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e82" class="standardlink">Example 322: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Claims Adjustment</b>&#160;&#160;&#160; An instant camera that spits out photographs of anything the player chooses to take a picture of.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s17"></a>§17.17. Context: understanding when</p>
<p>We have now seen several different forms of &quot;Understand&quot; sentence: for instance,</p>
<!-- START CODE "c5577" -->
<a id="c5577"></a><blockquote class="code"><p class="quoted">
Understand the colour property as describing a building block.
<br />Understand &quot;mix [colour] paint&quot; as mixing paint.
<br />Understand &quot;rouge&quot; as red.
<br />Understand &quot;curious girl&quot; as Alice.
</p></blockquote>
<!-- END CODE -->
<p>Any of these may optionally have a condition tacked on: for instance,</p>
<!-- START CODE "c5578" -->
<a id="c5578"></a><blockquote class="code"><p class="quoted">
Understand &quot;mix [colour] paint&quot; as mixing paint when the location is the Workshop.
<br />Understand &quot;rouge&quot; as red when the make-up set is visible.
</p></blockquote>
<!-- END CODE -->
<p>In principle, &quot;when ...&quot; can take in any condition at all. In practice a little care should be exercised not to do anything too slow, or which might have side-effects. (For instance, referring the decision to a phrase which then printed text up would be a bad idea.) Moreover, we must remember that the &quot;noun&quot; and &quot;second noun&quot; are not known yet, nor do we know what the action will be. So we cannot safely say &quot;when the noun is the fir cone&quot;, for instance, or refer to things like &quot;the number understood&quot;. (We aren't done understanding yet.) If we want more sophisticated handling of such cases, we need to write checking rules and so on in the usual way.</p>
<p>Contexts can be useful to make sense of things having different names depending on who is being spoken to, as here:</p>
<!-- START CODE "c5579" -->
<a id="c5579"></a><blockquote class="code"><p class="quoted">
Understand &quot;your&quot; as a thing when the item described is held by the person asked.
</p></blockquote>
<!-- END CODE -->
<p>With this rule in place FRODO, GIVE ME YOUR RING means that Frodo will know which ring is meant, even if there are a couple of dozen other rings present.</p>
<p>If the name of something has to change completely, perhaps because the player's understanding of events has changed completely, then Inform's standard way of handling names can be a nuisance. When an item or room is created, Inform automatically makes its name understood as referring to it (in fact, it makes each individual word in that name understood). For instance,</p>
<!-- START CODE "c5580" -->
<a id="c5580"></a><blockquote class="code"><p class="quoted">
The Wabe is a room. The blue peacock and the sundial are in the Wabe.
</p></blockquote>
<!-- END CODE -->
<p>means that the player can type EXAMINE BLUE PEACOCK or PUSH SUNDIAL or SHOWME WABE or TAKE BLUE, and so on. This is almost always a good thing, and here there's no problem, because peacocks and sundials are not usually disguised. But here is a case where a disguise is needed:</p>
<!-- START CODE "c5581" -->
<a id="c5581"></a><blockquote class="code"><p class="quoted">
The secret document is a privately-named thing in the drawer.
<br />The printed name of the secret document is &quot;[if the secret document is handled]secret document[otherwise]dusty paper&quot;.
<br />Understand &quot;dusty&quot; and &quot;paper&quot; as the secret document.
<br />Understand &quot;secret&quot; and &quot;document&quot; as the secret document when the secret document is handled.
<br />After taking the secret document for the first time: say &quot;Heavens! It is the secret document!&quot;
</p></blockquote>
<!-- END CODE -->
<p>As this demonstrates, the either/or property &quot;privately-named&quot; makes Inform create a thing or room which starts out with no automatic understandings at all. The name it happens to have in the source text is ignored. If we simply write:</p>
<!-- START CODE "c5582" -->
<a id="c5582"></a><blockquote class="code"><p class="quoted">
The ungraspable concept is a privately-named thing in the Dining Room.
</p></blockquote>
<!-- END CODE -->
<p>then nothing the player can type will ever refer to it; though he will see it, and even be able to pick it up by typing TAKE ALL.</p>
<p>The reverse property is &quot;publicly-named&quot;, which all things and rooms are by default.</p>
<p>Inform has four built-in kinds of object (room, thing, direction and region), and all of those have this either/or property. When we create new kinds, they're normally kinds of those four fundamental ones, so they pick up the same behaviour. But if we create a new kind of object outside of these four, that won't be true unless we make it so:</p>
<!-- START CODE "c5583" -->
<a id="c5583"></a><blockquote class="code"><p class="quoted">
A concept is a kind of object. A concept can be privately-named or publicly-named. A concept is usually publicly-named.
</p></blockquote>
<!-- END CODE -->
<p>(Privately-named is a property which only affects how Inform creates the object, and it can't usefully be given or taken away during play. &quot;Understand ... when ...&quot; is the way to change names during play.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s16" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s16" class="standardlink">Back to §17.16. Understanding things by their relations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s18" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s18" class="standardlink">Onward to §17.18. Changing the meaning of pronouns</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e312" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e312" class="standardlink">Example 323: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Quiz Show</b>&#160;&#160;&#160; In this example by Mike Tarbert, the player can occasionally be quizzed on random data from a table; the potential answers will only be understood if a question has just been asked.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e32" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e32" class="standardlink">Example 324: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Bibliophilia</b>&#160;&#160;&#160; A bookshelf with a number of books, where the player's command to examine something will be interpreted as an attempt to look up titles if the bookshelf is present, but otherwise given the usual response.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s18"></a>§17.18. Changing the meaning of pronouns</p>
<p>The pronouns IT, HIM, HER and THEM are constantly adjusted during play, to save the player time when typing commands. If the player types EXAMINE NECKLACE on one turn, it's sufficient to type TAKE IT on the next, and IT will be understood as meaning whatever NECKLACE meant last turn.</p>
<p>All of that happens automatically, but once in a while the result can be unfortunate. Suppose that when the player examines the necklace, a security system automatically drugs her unconscious, and she wakes up in a cell, hours later, and is told that the cell is bare except for a key on the floor. If she types TAKE IT, she clearly doesn't mean IT to mean the necklace any more; she means the key. Inform's parser can't make guesses like this, so the following phrase can be used to help it.</p>
<!-- START PHRASE "defn244" -->
<div class="definition"><a id="defn244"></a><p class="defnprototype"><b>set pronouns from </b>(object)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_setpronouns -->

<p>This phrase adjusts the meaning of pronouns like IT, HIM, HER and THEM in the command parser as if the object mentioned has become the subject of conversation. Example: the combination of</p>
<!-- START CODE "c5584" -->
<a id="c5584"></a><blockquote class="code"><p class="quoted">
set pronouns from the key;
<br />set pronouns from Bunny;
</p></blockquote>
<!-- END CODE -->
<p>might change IT to mean the silver key and HIM to mean Harry &quot;Bunny&quot; Manders, while leaving HER and THEM unaltered.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s17" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s17" class="standardlink">Back to §17.17. Context: understanding when</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s19" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s19" class="standardlink">Onward to §17.19. Does the player mean...</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e298" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e298" class="standardlink">Example 325: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Pot of Petunias</b>&#160;&#160;&#160; Responding sensibly to a pot of petunias falling from the sky.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s19"></a>§17.19. Does the player mean...</p>
<p>When the player types an ambiguous reference, we need to work out what is meant. Consider the following source text:</p>
<!-- START CODE "c5585" -->
<a id="c5585"></a><blockquote class="code"><p class="quoted">
The Champs du Mars is a room. The great Eiffel Tower is here. &quot;The great Tower stands high over you.&quot; The souvenir model Eiffel Tower is here. &quot;Comparatively tiny is the souvenir version.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now suppose the player types GET TOWER. The response will be:</p>
<!-- START CODE "c5586" -->
<a id="c5586"></a><blockquote class="code"><p class="quoted">
Which do you mean, the great Eiffel Tower or the souvenir model Eiffel Tower?
</p></blockquote>
<!-- END CODE -->
<p>Which is a silly question, exposing our work of IF as something artificial. It's obvious to the author of the source text, and to the player, that the souvenir must be what is meant: but this is not obvious to the computer program running the story. Works of IF gain a subtle feeling of quality from being able to understand ambiguous references of the kind above, and Inform provides us with a way to do this by giving the parser clues in the form of &quot;Does the player mean...&quot; rules. For instance, if we add:</p>
<!-- START CODE "c5587" -->
<a id="c5587"></a><blockquote class="code"><p class="quoted">
Does the player mean taking the great Eiffel Tower: it is very unlikely.
</p></blockquote>
<!-- END CODE -->
<p>then the response to GET TOWER will now be:</p>
<!-- START CODE "c5588" -->
<a id="c5588"></a><blockquote class="code"><p class="quoted">
(the souvenir model Eiffel Tower)
<br />Taken.
</p></blockquote>
<!-- END CODE -->
<p>&quot;Does the player mean...&quot; rules look at the actions which are possible interpretations of what the player typed, and grade them according to how likely they seem. (Note that these rules are only ever used to handle ambiguities: if the player unambiguously types GET GREAT EIFFEL TOWER, that will be the action. And the rules are only used where they are able to make a decision: if there are still multiple equally plausible meanings, the parser will ask about all possibilities, not just the most likely ones.) Rules in this rulebook can either decide nothing, or come up with one of the following verdicts:</p>
<!-- START CODE "c5589" -->
<a id="c5589"></a><blockquote class="code"><p class="quoted">
it is very likely
<br />it is likely
<br />it is possible
<br />it is unlikely
<br />it is very unlikely
</p></blockquote>
<!-- END CODE -->
<p>If there are no &quot;does the player mean&quot; rules, or the rules make no decision on a given possible action, it will be ranked as &quot;it is possible&quot;.</p>
<p>We may use these rules to affect all sorts of interaction with a specific object or kind of object, as in</p>
<!-- START CODE "c5590" -->
<a id="c5590"></a><blockquote class="code"><p class="quoted">
Does the player mean doing something with the cursed dagger of Thog: it is very unlikely.
<br />Does the player mean doing something with the cursed dagger of Thog when the player is hypnotized: it is likely.
</p></blockquote>
<!-- END CODE -->
<p>...and so on.</p>
<p>Notice that we can also make rules about actions that apply to two objects, so for instance:</p>
<!-- START CODE "c5591" -->
<a id="c5591"></a><blockquote class="code"><p class="quoted">
Does the player mean throwing the can of shoe polish at the shoe polish vending machine: it is likely.
</p></blockquote>
<!-- END CODE -->
<p>which nicely clarifies THROW POLISH AT POLISH, but does not comment on the likelihood of throwing the can at other things or of throwing other things at the vending machine. Moreover, the (suspected) identity of the first item will be known when the rule is consulted; thus</p>
<!-- START CODE "c5592" -->
<a id="c5592"></a><blockquote class="code"><p class="quoted">
Does the player mean tying the noun to the noun: it is very unlikely.
</p></blockquote>
<!-- END CODE -->
<p>will tell Inform to prefer not to tie something to itself if other interpretations are available.</p>
<p>But there is a caveat. There are some cases where this mechanism will not in fact help Inform to choose its way out of an ambiguous command, because of the way it parses one noun at a time. It usually needs to understand the first noun before it will even try to make sense of the second. So a rule like:</p>
<!-- START CODE "c5593" -->
<a id="c5593"></a><blockquote class="code"><p class="quoted">
Does the player mean throwing the can of shoe polish at the tree: it is likely.
</p></blockquote>
<!-- END CODE -->
<p>may not work if the player types THROW POLISH AT TREE and POLISH is ambiguous, because when the parser is trying to understand POLISH, it hasn't yet seen to the end of the command and realised that the second noun will be the tree; so the second noun is unset and the rule won't match.</p>
<p>As a caveat to the caveat, the &quot;inserting it into&quot;, &quot;removing it from&quot; and &quot;putting it on&quot; actions have this slightly back to front. These are parsed using the (little-used) &quot;[other things]&quot; or &quot;[things inside]&quot; tokens, and the Inform parser tries to detect the second noun before the first one, since the identity of the first has to depend on the second. So for instance if the situation contains &quot;an oak tree&quot; and also &quot;an oak chest&quot;, we could write:</p>
<!-- START CODE "c5594" -->
<a id="c5594"></a><blockquote class="code"><p class="quoted">
Does the player mean inserting into the oak chest:
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<p>which would successfully make PUT COIN IN OAK mean the chest, not the tree. (Note the way we write &quot;inserting into&quot; without saying anything about what's being inserted, not even that it's &quot;something&quot;.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s18" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s18" class="standardlink">Back to §17.18. Changing the meaning of pronouns</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s20" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s20" class="standardlink">Onward to §17.20. Multiple action processing</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e297" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e297" class="standardlink">Example 326: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Masochism Deli</b>&#160;&#160;&#160; Multiple potatoes, with rules to make the player drop the hot potato first and pick it up last.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s20"></a>§17.20. Multiple action processing</p>
<p>When the player types a command like DROP ALL, this is (usually) a request to carry out more than one action. After the command parser has decided what constitutes &quot;ALL&quot; (a process which can be influenced using the &quot;deciding whether all includes&quot; activity), it forms up a list and then runs through it, starting an action for each in turn. The result usually looks something like this:</p>
<!-- START CODE "c5595" -->
<a id="c5595"></a><blockquote class="code"><p class="quoted">
&gt;GET ALL
<br />foxglove: Taken.
<br />snake's head fritillary: Taken.
</p></blockquote>
<!-- END CODE -->
<p>However, by adding rules to the rulebook:</p>
<!-- START CODE "c5596" -->
<a id="c5596"></a><blockquote class="code"><p class="quoted">
multiple action processing rules
</p></blockquote>
<!-- END CODE -->
<p>we can take a look at the actions intended, and rearrange or indeed change them before they take effect. To do that, we have to deal with a special list of objects. For two technical reasons this isn't stored as a &quot;list of objects that varies&quot; - first because it needs to exist even in low-memory situations where we can't afford full list-processing, and second because there are times when changing it might be hazardous. Instead, two phrases are provided to read the list and to write it back:</p>
<!-- START PHRASE "defn245" -->
<div class="definition"><a id="defn245"></a><p class="defnprototype"><b>multiple object list ... list of objects</b></p>
<!-- END PHRASE -->
<!-- definition of ph_multipleobjectlist -->

<p>This phrase produces the current multiple object list as a value. The list will be the collection of objects found to match a plural noun like ALL in the most recent command typed by the player. If there is no multiple object, say if the command was TAKE PEAR, the list will be empty: it won't be a list of size 1.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn246" -->
<div class="definition"><a id="defn246"></a><p class="defnprototype"><b>alter the multiple object list to </b>(list of objects)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_altermultipleobjectlist -->

<p>This phrase sets the multiple object list to the given value. The list is ordinarily the collection of objects found to match a plural noun like ALL in the most recent command typed by the player, but using this phrase at the right moment (before the &quot;generate action rule&quot; in the turn sequence rules takes effect).</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s19" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s19" class="standardlink">Back to §17.19. Does the player mean...</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s21" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s21" class="standardlink">Onward to §17.21. Understanding mistakes</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e30" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e30" class="standardlink">Example 327: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Best Till Last</b>&#160;&#160;&#160; Reordering multiple objects for dramatic effect.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e162" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e162" class="standardlink">Example 328: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Western Art History 305</b>&#160;&#160;&#160; Allowing EXAMINE to see multiple objects with a single command.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s21"></a>§17.21. Understanding mistakes</p>
<p>When inspiration strikes the player, he can usually be relied upon to make a good-faith effort to communicate the new idea: he will guess the right command. If he guesses wrongly, the mistake is probably the author's, because a good author will try to anticipate all possible wordings and make all of them work.</p>
<p>Nevertheless it is sometimes good practice to nudge the player towards the right wording - particularly if the player has the right idea but is not explicit enough: for instance, typing TALK TO JUDGE when we really want to know what is to be said (JUDGE, GUILTY); or if the player tries something like PLAY CHESS rather than MOVE PAWN TO KING 4. Similarly, if we make a casual reference such as &quot;In your childhood days, you loved sliding in stocking feet across this hallway&quot;, a player might type SLIDE IN STOCKING FEET: a nice idea, and which deserves a nice response, even though it asks to do something beyond the scope of the story.</p>
<p>Inform provides a simple mechanism for recognising a command but at the same time recognising that <span class="italic">it does not properly specify an action</span>. Such commands are called &quot;mistakes&quot;, for the sake of a memorable term, but the player has not really behaved badly, and should be helped rather than reproved. For instance:</p>
<!-- START CODE "c5597" -->
<a id="c5597"></a><blockquote class="code"><p class="quoted">
Understand &quot;act&quot; as a mistake.
</p></blockquote>
<!-- END CODE -->
<p>While that works - the command to &quot;act&quot; is indeed rejected - it is not very good, because no very helpful message is brought up. The following is much better:</p>
<!-- START CODE "c5598" -->
<a id="c5598"></a><blockquote class="code"><p class="quoted">
Understand &quot;act&quot; as a mistake (&quot;To join the actors, you have to adopt a role in the play! Try PLAY HAMLET or similar.&quot;).
</p></blockquote>
<!-- END CODE -->
<p>Or we could once again insist on a given context:</p>
<!-- START CODE "c5599" -->
<a id="c5599"></a><blockquote class="code"><p class="quoted">
Understand &quot;act&quot; as a mistake (&quot;To join the actors, you have to adopt a role in the play! Try PLAY HAMLET or similar.&quot;) when the location is the Garden Theatre.
</p></blockquote>
<!-- END CODE -->
<p>That still has the drawback that the command &quot;act hamlet&quot; will not be recognised: so the final version we want is probably</p>
<!-- START CODE "c5600" -->
<a id="c5600"></a><blockquote class="code"><p class="quoted">
Understand &quot;act [text]&quot; as a mistake (&quot;To join the actors, you have to adopt a role in the play! Try PLAY HAMLET or similar.&quot;) when the location is the Garden Theatre.
</p></blockquote>
<!-- END CODE -->
<p>since the &quot;[text]&quot; part will soak up any words the player types (or none), meaning that any command at all whose first word is &quot;act&quot; will be matched.</p>
<p>We need to be careful to avoid circular things like this:</p>
<!-- START CODE "c5601" -->
<a id="c5601"></a><blockquote class="code"><p class="quoted">
Understand &quot;[text]&quot; as a mistake (&quot;'[the topic understood]' is something I really wish you wouldn't say.&quot;) when the topic understood is a topic listed in table 1.
</p></blockquote>
<!-- END CODE -->
<p>This doesn't work because the topic understood isn't set until the line has been understood, but Inform checks the &quot;when...&quot; condition before it tries to understand the line. Indeed, even this:</p>
<!-- START CODE "c5602" -->
<a id="c5602"></a><blockquote class="code"><p class="quoted">
Understand &quot;[text]&quot; as a mistake (&quot;'[the topic understood]' is something I really wish you wouldn't say.&quot;).
</p></blockquote>
<!-- END CODE -->
<p>is unsafe (quite apart from being unwise!) - again, &quot;topic understood&quot; doesn't exist for a mistake, because in a mistake, nothing is understood.</p>
<p>The following is often useful during beta-testing of a new work, though we would not want it in the final published edition. Many authors like to ask their testers not to try anything in particular, simply to play naturally: but to record the transcript of the session, and email it back to the author. The following command is a device to allow the tester to type a comment in to the transcript:</p>
<!-- START CODE "c5603" -->
<a id="c5603"></a><blockquote class="code"><p class="quoted">
Understand &quot;* [text]&quot; as a mistake (&quot;Noted.&quot;).
</p></blockquote>
<!-- END CODE -->
<p>For instance, the tester might type &quot;* DIDN'T WE SAY DARCY WAS TALL?&quot;, to which the story would reply &quot;Noted.&quot; - and the author can search for such comments when receiving the transcript.</p>
<p>If we are careful, we can make the reply depend on what was typed in the mistaken command:</p>
<!-- START CODE "c5604" -->
<a id="c5604"></a><blockquote class="code"><p class="quoted">
Understand &quot;steal [something]&quot; as a mistake (&quot;Just TAKE [the noun] and leave without paying: that's stealing in my book.&quot;).
</p></blockquote>
<!-- END CODE -->
<p>The care comes in because Inform applies much less checking to mistakes than to other actions, and odd errors will result if we try to refer to (say) &quot;the second noun&quot; in a command which did not have a second noun.</p>
<p>It's probably wise to take particular care if using &quot;as a mistake&quot; with any command which might include the mistake among what the player calls ALL: for example, if &quot;take [sydney harbour bridge]&quot; is understood as a mistake, then TAKE ALL will may result in this, even though the player doesn't intend any such thing.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s20" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s20" class="standardlink">Back to §17.20. Multiple action processing</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s22" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_17.html#s22" class="standardlink">Onward to §17.22. Precedence</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e311" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e311" class="standardlink">Example 329: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Query</b>&#160;&#160;&#160; Catching all questions that begin with WHO, WHAT, WHERE, and similar question words, and responding with the instruction to use commands, instead.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e374" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e374" class="standardlink">Example 330: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Gorge at George</b>&#160;&#160;&#160; If the player tries to TALK TO a character, suggest alternative modes of conversation.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e105" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e105" class="standardlink">Example 331: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hot Glass Looks Like Cold Glass</b>&#160;&#160;&#160; Responding to references to a property that the player isn't yet allowed to mention (or when not to use "understand as a mistake").</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s22"></a>§17.22. Precedence</p>
<p>When several different lines of grammar are supplied to meet the same circumstances, it makes a big difference what order they are tried in. For instance, suppose we have:</p>
<!-- START CODE "c5605" -->
<a id="c5605"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [a door]&quot; as photographing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5606" -->
<a id="c5606"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [an open door]&quot; as photographing.
</p></blockquote>
<!-- END CODE -->
<p>The second line is more specific than the first, so Inform takes these grammar lines the other way around: it checks for &quot;open door&quot; before it checks for &quot;door&quot;. That didn't matter here, since both lines came out with the same result (the action of photographing), but it matters very much in the next example:</p>
<!-- START CODE "c5607" -->
<a id="c5607"></a><blockquote class="code"><p class="quoted">
Understand &quot;employ [a door]&quot; as opening.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5608" -->
<a id="c5608"></a><blockquote class="code"><p class="quoted">
Understand &quot;employ [an open door]&quot; as entering.
</p></blockquote>
<!-- END CODE -->
<p>More subtle is a line already seen:</p>
<!-- START CODE "c5609" -->
<a id="c5609"></a><blockquote class="code"><p class="quoted">
Understand &quot;on/in/inside&quot; or &quot;on top of&quot; as &quot;[within]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Here Inform puts &quot;on top of&quot; before &quot;on/in/inside&quot;, since otherwise only the &quot;on&quot; of &quot;on top of&quot; will be recognised.</p>
<p>Mistakes always take precedence over non-mistakes: this is intended to make sure that</p>
<!-- START CODE "c5610" -->
<a id="c5610"></a><blockquote class="code"><p class="quoted">
Understand &quot;take umbrage&quot; as a mistake (&quot;Nobody takes umbrage in this story, mister.&quot;).
</p></blockquote>
<!-- END CODE -->
<p>will take precedence over</p>
<!-- START CODE "c5611" -->
<a id="c5611"></a><blockquote class="code"><p class="quoted">
Understand &quot;take [something]&quot; as taking.
</p></blockquote>
<!-- END CODE -->
<p>even if there is, in fact, a character called Mr Nimbus Umbrage so that the command could conceivably make sense.</p>
<p>Finally, there are a few grammars where the number of values produced is different in different lines. For example, the Standard Rules include these among the possible &quot;put&quot; commands:</p>
<!-- START CODE "c5612" -->
<a id="c5612"></a><blockquote class="code"><p class="quoted">
Understand &quot;put [something preferably held] on&quot; as wearing.
<br />Understand &quot;put [other things] on/onto [something]&quot; as putting it on.
</p></blockquote>
<!-- END CODE -->
<p>One produces a single object, the other produces two. Inform gives precedence to the first of these, that is, it tries the one with fewer values first. This is important when reading commands like &quot;PUT MARCH ON WASHINGTON SHIRT ON&quot;, and also prevents bogus auto-completions, in which PUT HAT ON might wrongly be auto-completed as if it were PUT HAT ON THE TABLE.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#s21" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_17.html#s21" class="standardlink">Back to §17.21. Understanding mistakes</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html#s1" class="standardlink">Onward to Chapter 18: Activities: §18.1. What are activities?</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e345" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e345" class="standardlink">Example 332: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Some Assembly Required</b>&#160;&#160;&#160; Building different styles of shirt from component sleeves and collars.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17.html#e212" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_17.html#e212" class="standardlink">Example 333: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lakeside Living</b>&#160;&#160;&#160; Similar to "Lemonade", but with bodies of liquid that can never be depleted, and some adjustments to the "fill" command so that it will automatically attempt to fill from a large liquid source if possible.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 17: Understanding</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_17.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_17.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_18.html" class="standardlink">Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "286: Indirection" "e88" -->
<a id="e88"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e88" class="eglink"><b>286</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e88" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Indirection</span></b></a><br />Renaming the directions of the compass so that "white" corresponds to north, "red" to east, "yellow" to south, and "black" to west.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e88"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example88">
<p>In Mayan culture, colours seem to have been used as names for the primary directions: for instance, &quot;red&quot; implies east as the colour of sunrise. So the following might be a stylish touch for a game in which the player has to get inside the Mayan world-view:</p>
<!-- START CODE "c5613_88" -->
<a id="c5613_88"></a><blockquote class="code"><p class="quoted">
&quot;Indirection&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5614_88" -->
<a id="c5614_88"></a><blockquote class="code"><p class="quoted">
Understand &quot;white&quot; and &quot;sac&quot; as north. Understand &quot;red&quot; and &quot;chac&quot; as east. Understand &quot;yellow&quot; and &quot;kan&quot; as south. Understand &quot;black&quot; and &quot;chikin&quot; as west.
</p></blockquote>
<!-- END CODE -->
<p>We could also use a colour as a verb:</p>
<!-- START CODE "c5615_88" -->
<a id="c5615_88"></a><blockquote class="code"><p class="quoted">
Understand &quot;turquoise&quot; and &quot;yax&quot; as looking.
</p></blockquote>
<!-- END CODE -->
<p>And now a few extra rooms to try it out in:</p>
<!-- START CODE "c5616_88" -->
<a id="c5616_88"></a><blockquote class="code"><p class="quoted">
The Square Chamber is a room. &quot;A sunken, gloomy stone chamber, ten yards across. A shaft of sunlight cuts in from the steps above, giving the chamber a diffuse light, but in the shadows low lintelled doorways to east and south lead into the deeper darkness of the Temple.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5617_88" -->
<a id="c5617_88"></a><blockquote class="code"><p class="quoted">
The Wormcast is east of the Square Chamber. The Corridor is south of the Square Chamber.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5618_88" -->
<a id="c5618_88"></a><blockquote class="code"><p class="quoted">
Test me with &quot;kan / white / chac / black&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "287: XYZZY" "e447" -->
<a id="e447"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e447" class="eglink"><b>287</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e447" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">XYZZY</span></b></a><br />Basics of adding a new command reviewed, for the case of the simple magic word XYZZY.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e447"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example447">
<p>We have seen before how to define a new action from scratch, but we may want to review here, using a simple command that requires no objects.</p>
<!-- START CODE "c5619_447" -->
<a id="c5619_447"></a><blockquote class="code"><p class="quoted">
&quot;XYZZY&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5620_447" -->
<a id="c5620_447"></a><blockquote class="code"><p class="quoted">
Understand &quot;xyzzy&quot; or &quot;say xyzzy&quot; or &quot;cast xyzzy&quot; as casting xyzzy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5621_447" -->
<a id="c5621_447"></a><blockquote class="code"><p class="quoted">
Casting xyzzy is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5622_447" -->
<a id="c5622_447"></a><blockquote class="code"><p class="quoted">
Check casting xyzzy:
<br />&#160;&#160;&#160;&#160;if the player does not wear the amulet of elocution, say &quot;You are unable to articulate the second 'z' separately from the first, and the spell fails in a disdainful puff. Must be Parisian magic.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player has the plate, say &quot;The plate of cheeses twitches uncomfortably, aware that it should be doing something, but not sure what.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5623_447" -->
<a id="c5623_447"></a><blockquote class="code"><p class="quoted">
Carry out casting xyzzy:
<br />&#160;&#160;&#160;&#160;move the plate to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5624_447" -->
<a id="c5624_447"></a><blockquote class="code"><p class="quoted">
Report casting xyzzy:
<br />&#160;&#160;&#160;&#160;say &quot;Under the influence of the Amulet of Elocution, you pronounce this as Xhi-zee. And lo, from nowhere, a [plate] appears!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5625_447" -->
<a id="c5625_447"></a><blockquote class="code"><p class="quoted">
The amulet of elocution is a wearable thing. It is carried by the player. The description is &quot;A heavy gold ring on a chain. If heated in an ordinary house fire, it glows with the words, 'Moses Supposes His Toeses Are Roses.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5626_447" -->
<a id="c5626_447"></a><blockquote class="code"><p class="quoted">
The plate is a portable supporter. On the plate is a very ripe ooze. Instead of smelling the ooze, say &quot;It smells like socks. This is going to be wonderful.&quot; The ooze is edible. The printed name of the plate is &quot;plate[if the plate supports the ooze] of cheese[end if]&quot;. The description of the ooze is &quot;Definitely genuinely cheese.&quot; Understand &quot;cheese&quot; as the ooze.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5627_447" -->
<a id="c5627_447"></a><blockquote class="code"><p class="quoted">
Instead of eating the ooze: now the ooze is nowhere; say &quot;You are transported...&quot;; move the player to Paradise.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5628_447" -->
<a id="c5628_447"></a><blockquote class="code"><p class="quoted">
The Cheez Factory is a room. &quot;All around you are squares of pressed orange polymer, or possibly cheez. Your only hope is the magic word your uncle taught you: XYZZY.&quot; The squares of pressed orange polymer are scenery in the Factory. The description is &quot;You see nothing special about the squares of pressed orange polymer. Nothing special at all.&quot; Understand &quot;square&quot; or &quot;cheez&quot; as the squares.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5629_447" -->
<a id="c5629_447"></a><blockquote class="code"><p class="quoted">
Paradise is a room. The description is &quot;Well, it might just be one of the posh upper rings of purgatory, if you're entirely honest with yourself.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5630_447" -->
<a id="c5630_447"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x squares / x amulet / x cheese / xyzzy / wear amulet / xyzzy / x ooze / smell ooze /  eat ooze&quot;.
</p></blockquote>
<!-- END CODE -->
<p>XYZZY is a magic word from the original Adventure, and many other games respond to it with some sort of amusing message.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "288: Xylan" "e446" -->
<a id="e446"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e446" class="eglink"><b>288</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e446" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Xylan</span></b></a><br />Creating a new command that does require an object to be named; and some comments about the choice of vocabulary, in general.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e446"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example446">
<p>If we wanted to define a brand new verb that did affect a specific object, we might begin like this:</p>
<!-- START CODE "c5631_446" -->
<a id="c5631_446"></a><blockquote class="code"><p class="quoted">
&quot;Xylan&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5632_446" -->
<a id="c5632_446"></a><blockquote class="code"><p class="quoted">
Understand &quot;hydrolyze [something]&quot; as hydrolyzing. Hydrolyzing is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5633_446" -->
<a id="c5633_446"></a><blockquote class="code"><p class="quoted">
Carry out hydrolyzing:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] cannot be hydrolyzed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5634_446" -->
<a id="c5634_446"></a><blockquote class="code"><p class="quoted">
Instead of hydrolyzing the xylan:
<br />&#160;&#160;&#160;&#160;move the xylose to the holder of the xylan;
<br />&#160;&#160;&#160;&#160;now the xylan is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;At once the xylan becomes xylose.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5635_446" -->
<a id="c5635_446"></a><blockquote class="code"><p class="quoted">
Plant Cell Wall is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5636_446" -->
<a id="c5636_446"></a><blockquote class="code"><p class="quoted">
There is a xylose sample. The xylan sample is a thing in Plant Cell Wall. The description of the xylan is &quot;A polysaccharide. Totally useless. If only you had some xylose, instead!&quot; The description of the xylose is &quot;Awesome!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5637_446" -->
<a id="c5637_446"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x xylan / hydrolyze xylan / x xylose&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Of course, how our players will ever solve this problem is another question (especially if their biology and chemistry are both rusty). When adding entirely new commands to a game, it is often a good idea to provide as many ways of phrasing the command as possible; to drop hints about the correct phrasing within the game's text; or even to tell the player about the expanded command list in some documentation or help at the beginning of the game. So for instance we might also add</p>
<!-- START CODE "c5638_446" -->
<a id="c5638_446"></a><blockquote class="code"><p class="quoted">
Understand &quot;break down [something] with water&quot; or &quot;break [something] down with water&quot; as hydrolyzing.
</p></blockquote>
<!-- END CODE -->
<p>And these lines will also provide syntax for our new command, without interfering with the previous syntax. It's also good to anticipate alternative (British or American) spellings. People's typing habits are hard to overcome, even if they know you are spelling the word the other way. It is probably best not to annoy them unduly. So:</p>
<!-- START CODE "c5639_446" -->
<a id="c5639_446"></a><blockquote class="code"><p class="quoted">
Understand &quot;hydrolyse [something]&quot; as hydrolyzing.
</p></blockquote>
<!-- END CODE -->
<p>Then some text in-game might offer a clue, subtle or (since this is an example) blunt:</p>
<!-- START CODE "c5640_446" -->
<a id="c5640_446"></a><blockquote class="code"><p class="quoted">
Instead of examining the player, say &quot;You're a drop of water, which means that you can break down certain chemicals!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5641_446" -->
<a id="c5641_446"></a><blockquote class="code"><p class="quoted">
Understand &quot;break down [something]&quot; or &quot;break [something] down&quot; as hydrolyzing.
</p></blockquote>
<!-- END CODE -->
<p>And finally, we could try adding instructions explicitly:</p>
<!-- START CODE "c5642_446" -->
<a id="c5642_446"></a><blockquote class="code"><p class="quoted">
Understand &quot;help&quot; or &quot;hint&quot; or &quot;hints&quot; or &quot;instructions&quot; or &quot;info&quot; or &quot;about&quot; as asking for help. Asking for help is an action out of world. Carry out asking for help: say &quot;The following commands are understood, in addition to the standard ones: EVAPORATE, FREEZE, HYDROLYZE, SUBLIME...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5643_446" -->
<a id="c5643_446"></a><blockquote class="code"><p class="quoted">
Test more with &quot;help / x me / break down xylan&quot;
</p></blockquote>
<!-- END CODE -->
<p>...though of course in fact these other commands won't be available until we define them, too.</p>
<p>This last approach, defining all the extra commands up front, is especially useful if these commands are very technical or unusual; if they are needed early in the game, before you've a chance to educate the player; or if they are not suggested by any in-game objects. A player who encounters a tool with an obvious use, such as a hairbrush, will likely think of trying to BRUSH things with it. It's harder to rely on his guessing actions that are both outside the range of usual commands and unrelated to any of the visible props, however.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "289: Alpaca Farm" "e7" -->
<a id="e7"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e7" class="eglink"><b>289</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e7" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Alpaca Farm</span></b></a><br />A generic USE action which behaves sensibly with a range of different objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e7"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example7">
<p>This example takes the ordering of grammar lines to its logical extreme, sorting the player's input into different categories depending on the kind and condition of the objects mentioned.</p>
<!-- START CODE "c5644_7" -->
<a id="c5644_7"></a><blockquote class="code"><p class="quoted">
&quot;Alpaca Farm&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5645_7" -->
<a id="c5645_7"></a><blockquote class="code"><p class="quoted">
Understand &quot;use [an edible thing]&quot; as eating.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5646_7" -->
<a id="c5646_7"></a><blockquote class="code"><p class="quoted">
Understand &quot;use [a wearable thing]&quot; as wearing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5647_7" -->
<a id="c5647_7"></a><blockquote class="code"><p class="quoted">
Understand &quot;use [a closed openable container]&quot; as opening. Understand &quot;use [an open openable container]&quot; as closing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5648_7" -->
<a id="c5648_7"></a><blockquote class="code"><p class="quoted">
Understand &quot;use [something preferably held] on [a locked lockable thing]&quot; as unlocking it with (with nouns reversed). Understand &quot;use [something preferably held] on [an unlocked lockable thing]&quot; as locking it with (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5649_7" -->
<a id="c5649_7"></a><blockquote class="code"><p class="quoted">
Understand &quot;use [a switched off device]&quot; as switching on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5650_7" -->
<a id="c5650_7"></a><blockquote class="code"><p class="quoted">
Understand &quot;use [something]&quot; as using. Using is an action applying to one thing. Carry out using: say &quot;You will have to be more specific about your intentions.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5651_7" -->
<a id="c5651_7"></a><blockquote class="code"><p class="quoted">
Understand &quot;use [a door]&quot; as opening. Understand &quot;use [an open door]&quot; as entering.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5652_7" -->
<a id="c5652_7"></a><blockquote class="code"><p class="quoted">
The Llama Pen is a room. North of the Pen is the gate. The gate is a door. North of the gate is the Rocky Path. The brown llama is an animal in the Llama Pen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5653_7" -->
<a id="c5653_7"></a><blockquote class="code"><p class="quoted">
Appearance is a kind of value. The appearances are muddy, scruffy, fluffy, and dapper. The brown llama has an appearance. The brown llama is muddy. Before printing the name of the brown llama, say &quot;[appearance] &quot;. Before printing the name of the brown llama while grooming: say &quot;now-[if appearance of the brown llama is less than dapper]merely-[end if]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5654_7" -->
<a id="c5654_7"></a><blockquote class="code"><p class="quoted">
A grooming tool is a kind of thing. Understand &quot;use [a grooming tool] on [something]&quot; as grooming it with (with nouns reversed). Grooming it with is an action applying to two things. Understand &quot;groom [something] with [something]&quot; as grooming it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5655_7" -->
<a id="c5655_7"></a><blockquote class="code"><p class="quoted">
Carry out grooming it with:
<br />&#160;&#160;&#160;&#160;if the appearance of the noun is less than dapper, now the appearance of the noun is the appearance after the appearance of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5656_7" -->
<a id="c5656_7"></a><blockquote class="code"><p class="quoted">
Report grooming it with:
<br />&#160;&#160;&#160;&#160;say &quot;You attend diligently to the appearance and hygiene of [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5657_7" -->
<a id="c5657_7"></a><blockquote class="code"><p class="quoted">
Instead of using a grooming tool in the presence of the brown llama:
<br />&#160;&#160;&#160;&#160;try grooming the brown llama with the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5658_7" -->
<a id="c5658_7"></a><blockquote class="code"><p class="quoted">
The player carries some nail nippers, a slicker brush, and an apple. The apple is edible. The brush and the nippers are grooming tools. The player wears a sombrero.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5659_7" -->
<a id="c5659_7"></a><blockquote class="code"><p class="quoted">
The description of the nail nippers is &quot;Ten inches long, to give you the necessary leverage to cut tough llama toenails. It still helps to soften them up by making the llama stand in a bucket of water first, though.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5660_7" -->
<a id="c5660_7"></a><blockquote class="code"><p class="quoted">
The description of the slicker brush is &quot;Fine, angled soft bristles set into a broad back, perfect for removing mud from the coat of a long-woolled llama.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5661_7" -->
<a id="c5661_7"></a><blockquote class="code"><p class="quoted">
The industrial-strength blower is a fixed in place device in the Llama Pen. &quot;Attached to the nearest wall, on its own movable boom, is an industrial-strength blower for doing llama hair.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5662_7" -->
<a id="c5662_7"></a><blockquote class="code"><p class="quoted">
Understand &quot;use [switched off blower]&quot; as switching on. Understand &quot;use [switched on blower] on [brown llama]&quot; as grooming it with (with nouns reversed). Instead of using the blower in the presence of the brown llama, try grooming the brown llama with the blower.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5663_7" -->
<a id="c5663_7"></a><blockquote class="code"><p class="quoted">
Test me with &quot;use gate / use blower / use nippers / use brush / use apple / remove sombrero / use sombrero&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Whether we actually want a USE action is a subject of some theoretical debate in the IF community. On the one hand, it helps avoid guess-the-verb problems where the player cannot figure out what term to use in order to express a fairly simple idea. On the other, it encourages the player to think that all items have one and exactly one use, rather than getting him to consider the range of possibilities that arise from having a complex vocabulary.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "290: Anchorite" "e170" -->
<a id="e170"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e170" class="eglink"><b>290</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e170" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Anchorite</span></b></a><br />By default, Inform understands GET OFF, GET UP, or GET OUT when the player is sitting or standing on an enterable object. We might also want to add GET DOWN and DOWN as exit commands, though.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e170"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example170">
<p>With GET DOWN, we can replace the whole command, which will not interfere with the normal function of the TAKE verb, or allow the player to attempt to GET any other directions:</p>
<!-- START CODE "c5664_170" -->
<a id="c5664_170"></a><blockquote class="code"><p class="quoted">
&quot;Anchorite&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5665_170" -->
<a id="c5665_170"></a><blockquote class="code"><p class="quoted">
The Solitary Place is a room. &quot;A glittering, shimmering desert without either locusts or honey.&quot; The pillar is an enterable supporter in the Solitary Place. &quot;The broken pillar is short enough to climb and sit on.&quot; The description of the pillar is &quot;Once it was a monument: a long frieze of battles and lion-hunts spirals up the side, in honor of an earthly king.&quot; The player is on the pillar.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5666_170" -->
<a id="c5666_170"></a><blockquote class="code"><p class="quoted">
Understand &quot;get down&quot; as exiting.
</p></blockquote>
<!-- END CODE -->
<p>This doesn't cover the case where the player just types &quot;DOWN&quot;, and we don't want to preempt the normal operation of the GO action here. So instead of writing a new understand instruction, we might catch this one at the action-processing level:</p>
<!-- START CODE "c5667_170" -->
<a id="c5667_170"></a><blockquote class="code"><p class="quoted">
Instead of going down when the player is on a supporter:
<br />&#160;&#160;&#160;&#160;try exiting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5668_170" -->
<a id="c5668_170"></a><blockquote class="code"><p class="quoted">
Test me with &quot;down / enter pillar / get down / down / get down&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "291: Cloak of Darkness" "e87" -->
<a id="e87"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e87" class="eglink"><b>291</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e87" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Cloak of Darkness</span></b></a><br />Implementation of "Cloak of Darkness", a simple example game that for years has been used to demonstrate the features of IF languages.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e87"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example87">
<p>&quot;Cloak of Darkness&quot; is a brief example game that has been implemented in nearly every IF system currently used. It hasn't got much claim to complexity or richness, but it does exemplify many of the standard things one might want an IF language to be able to do: define descriptions and the results of actions, assign synonyms to nouns, create new verbs, handle darkness, track repeated acts, and so on.</p>
<p>Here is what the game looks like in Inform:</p>
<!-- START CODE "c5669_87" -->
<a id="c5669_87"></a><blockquote class="code"><p class="quoted">
&quot;Cloak of Darkness&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5670_87" -->
<a id="c5670_87"></a><blockquote class="code"><p class="quoted">
The story headline is &quot;A basic IF demonstration.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5671_87" -->
<a id="c5671_87"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5672_87" -->
<a id="c5672_87"></a><blockquote class="code"><p class="quoted">
The maximum score is 2.
</p></blockquote>
<!-- END CODE -->
<p>Whatever room we define first becomes the starting room of the game, in the absence of other instructions:</p>
<!-- START CODE "c5673_87" -->
<a id="c5673_87"></a><blockquote class="code"><p class="quoted">
Foyer of the Opera House is a room.  &quot;You are standing in a spacious hall, splendidly decorated in red and gold, with glittering chandeliers overhead. The entrance from the street is to the north, and there are doorways south and west.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5674_87" -->
<a id="c5674_87"></a><blockquote class="code"><p class="quoted">
Instead of going north in the Foyer, say &quot;You've only just arrived, and besides, the weather outside seems to be getting worse.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We can add more rooms by specifying their relation to the first room. Unless we say otherwise, the connection will automatically be bidirectional, so &quot;The Cloakroom is west of the Foyer&quot; will also mean &quot;The Foyer is east of the Cloakroom&quot;:</p>
<!-- START CODE "c5675_87" -->
<a id="c5675_87"></a><blockquote class="code"><p class="quoted">
The Cloakroom is west of the Foyer. &quot;The walls of this small room were clearly once lined with hooks, though now only one remains. The exit is a door to the east.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5676_87" -->
<a id="c5676_87"></a><blockquote class="code"><p class="quoted">
In the Cloakroom is a supporter called the small brass hook. The hook is scenery. Understand &quot;peg&quot; as the hook.
</p></blockquote>
<!-- END CODE -->
<p>Inform will automatically understand any words in the object definition (&quot;small&quot;, &quot;brass&quot;, and &quot;hook&quot;, in this case), but we can add extra synonyms with this sort of Understand command.</p>
<!-- START CODE "c5677_87" -->
<a id="c5677_87"></a><blockquote class="code"><p class="quoted">
The description of the hook is &quot;It's just a small brass hook, [if something is on the hook]with [a list of things on the hook] hanging on it[otherwise]screwed to the wall[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This description is general enough that, if we were to add other hangable items to the game, they would automatically be described correctly as well.</p>
<!-- START CODE "c5678_87" -->
<a id="c5678_87"></a><blockquote class="code"><p class="quoted">
The Bar is south of the Foyer. The printed name of the bar is &quot;Foyer Bar&quot;. The Bar is dark.  &quot;The bar, much rougher than you'd have guessed after the opulence of the foyer to the north, is completely empty. There seems to be some sort of message scrawled in the sawdust on the floor.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5679_87" -->
<a id="c5679_87"></a><blockquote class="code"><p class="quoted">
The scrawled message is scenery in the Bar. Understand &quot;floor&quot; or &quot;sawdust&quot; as the message.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5680_87" -->
<a id="c5680_87"></a><blockquote class="code"><p class="quoted">
Neatness is a kind of value. The neatnesses are neat, scuffed, and trampled. The message has a neatness. The message is neat.
</p></blockquote>
<!-- END CODE -->
<p>We could if we wished use a number to indicate how many times the player has stepped on the message, but Inform also makes it easy to add descriptive properties of this sort, so that the code remains readable even when the reader does not know what &quot;the number of the message&quot; might mean.</p>
<!-- START CODE "c5681_87" -->
<a id="c5681_87"></a><blockquote class="code"><p class="quoted">
Instead of examining the message:
<br />&#160;&#160;&#160;&#160;increment score;
<br />&#160;&#160;&#160;&#160;say &quot;The message, neatly marked in the sawdust, reads...&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<p>This second rule takes precedence over the first one whenever the message is trampled. Inform automatically applies whichever rule is most specific:</p>
<!-- START CODE "c5682_87" -->
<a id="c5682_87"></a><blockquote class="code"><p class="quoted">
Instead of examining the trampled message:
<br />&#160;&#160;&#160;&#160;say &quot;The message has been carelessly trampled, making it difficult to read. You can just distinguish the words...&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;You have lost&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This command advances the state of the message from neat to scuffed and from scuffed to trampled. We can define any kinds of value we like and advance or decrease them in this way:</p>
<!-- START CODE "c5683_87" -->
<a id="c5683_87"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than going in the bar when in darkness:
<br />&#160;&#160;&#160;&#160;if the message is not trampled, now the neatness of the message is the neatness after the neatness of the message;
<br />&#160;&#160;&#160;&#160;say &quot;In the dark? You could easily disturb something.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5684_87" -->
<a id="c5684_87"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere from the bar when in darkness:
<br />&#160;&#160;&#160;&#160;now the message is trampled;
<br />&#160;&#160;&#160;&#160;say &quot;Blundering around in the dark isn't a good idea!&quot;
</p></blockquote>
<!-- END CODE -->
<p>This defines an object which is worn at the start of play. Because we have said the player is wearing the item, Inform infers that it is clothing and can be taken off and put on again at will.</p>
<!-- START CODE "c5685_87" -->
<a id="c5685_87"></a><blockquote class="code"><p class="quoted">
The player wears a velvet cloak. The cloak can be hung or unhung. Understand &quot;dark&quot; or &quot;black&quot; or &quot;satin&quot; as the cloak. The description of the cloak is &quot;A handsome cloak, of velvet trimmed with satin, and slightly splattered with raindrops. Its blackness is so deep that it almost seems to suck light from the room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5686_87" -->
<a id="c5686_87"></a><blockquote class="code"><p class="quoted">
Carry out taking the cloak:
<br />&#160;&#160;&#160;&#160;now the bar is dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5687_87" -->
<a id="c5687_87"></a><blockquote class="code"><p class="quoted">
Carry out putting the unhung cloak on something in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the cloak is hung;
<br />&#160;&#160;&#160;&#160;increment score.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5688_87" -->
<a id="c5688_87"></a><blockquote class="code"><p class="quoted">
Carry out putting the cloak on something in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the bar is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5689_87" -->
<a id="c5689_87"></a><blockquote class="code"><p class="quoted">
Carry out dropping the cloak in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the bar is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5690_87" -->
<a id="c5690_87"></a><blockquote class="code"><p class="quoted">
Instead of dropping or putting the cloak on when the player is not in the cloakroom:
<br />&#160;&#160;&#160;&#160;say &quot;This isn't the best place to leave a smart cloak lying around.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5691_87" -->
<a id="c5691_87"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;[paragraph break]Hurrying through the rainswept November night, you're glad to see the bright lights of the Opera House. It's surprising that there aren't more people about but, hey, what do you expect in a cheap demo game...?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5692_87" -->
<a id="c5692_87"></a><blockquote class="code"><p class="quoted">
Understand &quot;hang [something preferably held] on [something]&quot; as putting it on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5693_87" -->
<a id="c5693_87"></a><blockquote class="code"><p class="quoted">
Test me with &quot;s / n / w / inventory / hang cloak on hook / e / s / read message&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And that's all. As always, type TEST ME to watch the scenario play itself out.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "292: The Trouble with Printing" "e316" -->
<a id="e316"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e316" class="eglink"><b>292</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e316" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Trouble with Printing</span></b></a><br />Making a READ command, distinct from EXAMINE, for legible objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e316"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example316">
<!-- START CODE "c5694_316" -->
<a id="c5694_316"></a><blockquote class="code"><p class="quoted">
&quot;The Trouble with Printing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5695_316" -->
<a id="c5695_316"></a><blockquote class="code"><p class="quoted">
A thing has some text called printing. The printing of a thing is usually &quot;blank&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5696_316" -->
<a id="c5696_316"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;read&quot; as something new. Understand &quot;read [something]&quot; as reading. Reading is an action applying to one thing, requiring light. Check reading: if the printing of the noun is &quot;blank&quot;, say &quot;Nothing is written on [the noun].&quot; instead. Carry out reading: say &quot;You read: [printing of the noun][line break]&quot;. Report reading: do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5697_316" -->
<a id="c5697_316"></a><blockquote class="code"><p class="quoted">
The Archive is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5698_316" -->
<a id="c5698_316"></a><blockquote class="code"><p class="quoted">
Berkeley's report is a thing in the Archive. The description is &quot;A report from Governor Sir William Berkeley of Virginia, in 1671, in answer to the queries sent by the Commissioners of Plantations the year previous. Of this report the better part is burned and only a tail fragment remains.&quot; The printing of Berkeley's report is &quot;I thank God, [italic type]there are no free schools[roman type] nor [italic type]printing[roman type], and I hope we shall not have these hundred years; for [italic type]learning[roman type] has brought disobedience, and heresy, and sects into the world, and [italic type]printing[roman type] has divulged them...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5699_316" -->
<a id="c5699_316"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine report / read report&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Since we defined reading as an action requiring light, we could further distinguish reading and examining (if we wanted) by writing some different visibility rules for it.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "293: Lanista 2" "e214" -->
<a id="e214"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e214" class="eglink"><b>293</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e214" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lanista 2</span></b></a><br />Randomized combat in which the damage done depends on what weapons the characters are wielding, and in which an ATTACK IT WITH action is created to replace regular attacking. Also folds a new DIAGNOSE command into the system.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e214"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example214">
<p>Back in the chapter on randomization, we explored a way to create a randomized combat system. That system didn't allow for multiple weapons, though. Here we explore how to create an ATTACK IT WITH action that will let the player choose between weapons with different maximum powers.</p>
<p>We're also going to rewrite that original &quot;instead of attacking:&quot; rule into an attacking it with action that can be performed equally by the player or by any of the player's enemies.</p>
<!-- START CODE "c5700_214" -->
<a id="c5700_214"></a><blockquote class="code"><p class="quoted">
&quot;Lanista, Part Two&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5701_214" -->
<a id="c5701_214"></a><blockquote class="code"><p class="quoted">
The Arena is a room. &quot;Sand, blood, iron. These festivals are normally held on hot days, but the sun has gone behind a cloud and fat drops of rain now and then spatter the arena floor.&quot; The gladiator is a man in the Arena. &quot;A bare-chested Scythian gladiator faces you, wielding [a list of weapons carried by the gladiator].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5702_214" -->
<a id="c5702_214"></a><blockquote class="code"><p class="quoted">
Section 1 - Hit Points
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5703_214" -->
<a id="c5703_214"></a><blockquote class="code"><p class="quoted">
A person has a number called maximum hit points. A person has a number called current hit points.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5704_214" -->
<a id="c5704_214"></a><blockquote class="code"><p class="quoted">
The maximum hit points of the player is 35. The maximum hit points of the gladiator is 25.
</p></blockquote>
<!-- END CODE -->
<p>In our simpler version of this example we set the current hit points by hand, but in a game with many characters this would get dull and repetitive, so here we'll use a &quot;when play begins&quot; to set all current hit point values automatically to maximum:</p>
<!-- START CODE "c5705_214" -->
<a id="c5705_214"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat with victim running through people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current hit points of the victim is the maximum hit points of the victim.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5706_214" -->
<a id="c5706_214"></a><blockquote class="code"><p class="quoted">
Definition: a person is dead if his current hit points are less than 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5707_214" -->
<a id="c5707_214"></a><blockquote class="code"><p class="quoted">
Section 2 - Diagnosis
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5708_214" -->
<a id="c5708_214"></a><blockquote class="code"><p class="quoted">
Diagnosing is an action applying to one visible thing. Understand &quot;diagnose [something]&quot; as diagnosing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5709_214" -->
<a id="c5709_214"></a><blockquote class="code"><p class="quoted">
Check diagnosing:
<br />&#160;&#160;&#160;&#160;if the noun is not a person, say &quot;Only people can have diagnoses.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5710_214" -->
<a id="c5710_214"></a><blockquote class="code"><p class="quoted">
Carry out diagnosing:
<br />&#160;&#160;&#160;&#160;say &quot;[if the noun is the player]You have[otherwise][The noun] has[end if] [current hit points of the noun] out of a possible [maximum hit points of the noun] hit points remaining.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5711_214" -->
<a id="c5711_214"></a><blockquote class="code"><p class="quoted">
Section 3 - Weapons
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5712_214" -->
<a id="c5712_214"></a><blockquote class="code"><p class="quoted">
A weapon is a kind of thing. A weapon has a number called the maximum damage. The maximum damage of a weapon is usually 4.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5713_214" -->
<a id="c5713_214"></a><blockquote class="code"><p class="quoted">
The gladiator carries a weapon called a trident. The maximum damage of the trident is 5. The gladiator carries a weapon called a net. The maximum damage of the net is 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5714_214" -->
<a id="c5714_214"></a><blockquote class="code"><p class="quoted">
The player carries a weapon called a mace. The maximum damage of the mace is 3.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5715_214" -->
<a id="c5715_214"></a><blockquote class="code"><p class="quoted">
Section 4 - Attacking it with
</p></blockquote>
<!-- END CODE -->
<p>In our new system, we want to specify what is being used for an attack. This means that we need to create a new &quot;attacking it with&quot; action, and also that we should disable the existing &quot;attacking...&quot; command.</p>
<p>Here's why: If we leave the default attack command in place, Inform will continue to accept commands like &gt;ATTACK GLADIATOR, but reply foolishly with the default &quot;Violence is not the answer...&quot; response.</p>
<p>A somewhat better approach would be to change the reply of &gt;ATTACK GLADIATOR to say something like &quot;You must specify a weapon to attack with.&quot; But this is still less than ideal, because it means that the player has to then rewrite his entire command. If, on the other hand, we take out &quot;ATTACK GLADIATOR&quot; entirely, the game will always prompt &quot;What do you want to attack the gladiator with?&quot; -- which teaches the player the correct command structure for this particular game, and avoids pretending to understand any command that is not meaningful within this game.</p>
<p>This is a little bit of work because ATTACK has a lot of synonyms in the default library, but if we look through the actions index we can find them all:</p>
<!-- START CODE "c5716_214" -->
<a id="c5716_214"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;attack&quot; and &quot;punch&quot; and &quot;destroy&quot; and &quot;kill&quot; and &quot;murder&quot; and &quot;hit&quot; and &quot;thump&quot; and &quot;break&quot; and &quot;smash&quot; and &quot;torture&quot; and &quot;wreck&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<p>Now we make our new command:</p>
<!-- START CODE "c5717_214" -->
<a id="c5717_214"></a><blockquote class="code"><p class="quoted">
Attacking it with is an action applying to one visible thing and one carried thing. Understand &quot;attack [someone] with [something preferably held]&quot; as attacking it with.
</p></blockquote>
<!-- END CODE -->
<p>Note that we've specified &quot;one carried thing&quot;, because we want the player to pick up a weapon to use if necessary. And now we assign all the old attack vocabulary to apply to the new command:</p>
<!-- START CODE "c5718_214" -->
<a id="c5718_214"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;punch&quot; and &quot;destroy&quot; and &quot;kill&quot; and &quot;murder&quot; and &quot;hit&quot; and &quot;thump&quot; and &quot;break&quot; and &quot;smash&quot; and &quot;torture&quot; and &quot;wreck&quot; as &quot;attack&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This may seem counter-intuitive, but order of source code matters here: we first get rid of the old, default vocabulary, then define our new action, then make the vocabulary apply to that new action. Inform will now understand &gt;HIT GLADIATOR WITH TRIDENT, &gt;BREAK GLADIATOR WITH TRIDENT, and so on.</p>
<p>Our new action is also a perfect place to use an action variable: we're going to need to choose an amount of damage done and refer to that several times in our action rules. So let's set that up first:</p>
<!-- START CODE "c5719_214" -->
<a id="c5719_214"></a><blockquote class="code"><p class="quoted">
The attacking it with action has a number called the damage inflicted.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5720_214" -->
<a id="c5720_214"></a><blockquote class="code"><p class="quoted">
Setting action variables for attacking something with something:
<br />&#160;&#160;&#160;&#160;if the second noun is a weapon:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the maximum attack be the maximum damage of the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the damage inflicted is a random number between 1 and the maximum attack.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5721_214" -->
<a id="c5721_214"></a><blockquote class="code"><p class="quoted">
Check an actor attacking something with something (this is the can't attack with something that isn't a weapon rule):
<br />&#160;&#160;&#160;&#160;if the second noun is not a weapon:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the actor is the player, say &quot;[The second noun] does not qualify as a weapon.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5722_214" -->
<a id="c5722_214"></a><blockquote class="code"><p class="quoted">
Check an actor attacking something with something (this is the can't attack a non-person rule):
<br />&#160;&#160;&#160;&#160;if the noun is not a person:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the actor is the player, say &quot;[The noun] has no life to lose.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5723_214" -->
<a id="c5723_214"></a><blockquote class="code"><p class="quoted">
Carry out an actor attacking something with something (this is the standard attacking it with a weapon rule):
<br />&#160;&#160;&#160;&#160;decrease the current hit points of the noun by the damage inflicted;
<br />&#160;&#160;&#160;&#160;if the noun is dead:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<p>Though our checks and carry-out rules are similar regardless of who is acting, we're going to want actions to be described differently for different actors, so we'll use separate &quot;report attacking&quot; and &quot;report someone attacking&quot; rules. We'll also make some special cases for when the character has died as a result of the attack:</p>
<!-- START CODE "c5724_214" -->
<a id="c5724_214"></a><blockquote class="code"><p class="quoted">
Report attacking a dead person with something (this is the death-report priority rule):
<br />&#160;&#160;&#160;&#160;say &quot;You attack with [the second noun], killing [the noun]!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5725_214" -->
<a id="c5725_214"></a><blockquote class="code"><p class="quoted">
Report attacking someone with something (this is the normal attacking report rule):
<br />&#160;&#160;&#160;&#160;say &quot;You attack [the noun] with [the second noun], causing [damage inflicted] point[s] of damage!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5726_214" -->
<a id="c5726_214"></a><blockquote class="code"><p class="quoted">
Report someone attacking the player with something when the player is dead (this is the player's-death priority rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The actor] attacks you with [the second noun], finishing you off!&quot;;
<br />&#160;&#160;&#160;&#160;end the story;
<br />&#160;&#160;&#160;&#160;stop the action
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5727_214" -->
<a id="c5727_214"></a><blockquote class="code"><p class="quoted">
Report someone attacking the player with something (this is the standard report someone attacking the player with rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The actor] attacks you with [the second noun], causing [damage inflicted] point[s] of damage!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5728_214" -->
<a id="c5728_214"></a><blockquote class="code"><p class="quoted">
Report someone attacking something with something (this is the standard report attacking it with rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The actor] attacks [the noun] with [the second noun], causing [damage inflicted] point[s] of damage!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5729_214" -->
<a id="c5729_214"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;You: [current hit points of player]&quot;;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;Gladiator: [current hit points of gladiator]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5730_214" -->
<a id="c5730_214"></a><blockquote class="code"><p class="quoted">
Every turn (this is the gladiator-attack rule):
<br />&#160;&#160;&#160;&#160;if the gladiator is not dead, try the gladiator attacking the player with a random weapon which is carried by the gladiator.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5731_214" -->
<a id="c5731_214"></a><blockquote class="code"><p class="quoted">
Test me with &quot;hit gladiator with mace / kill gladiator / drop mace / attack gladiator / attack gladiator with mace / g / g&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Those devoted to role-playing will note that our form of randomization is still pretty naive: most RPG systems use multiple dice in order to create more interesting probability curves. For a system that simulates actual dice-rolling, see the full &quot;Reliques of Tolti-Aph&quot; game.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "294: Shawn's Bad Day" "e256" -->
<a id="e256"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e256" class="eglink"><b>294</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e256" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Shawn's Bad Day</span></b></a><br />Allowing the player to EXAMINE ALL.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e256"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example256">
<p>We can add the handling of multiple objects to an existing action simply by adding in a line of grammar using &quot;[things]&quot;. In response, Inform will consider every object accepted by the token, and perform the action once for each of those objects. Thus:</p>
<!-- START CODE "c5732_256" -->
<a id="c5732_256"></a><blockquote class="code"><p class="quoted">
&quot;Shawn's Bad Day&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5733_256" -->
<a id="c5733_256"></a><blockquote class="code"><p class="quoted">
The Treasury is a room. The vault is a lockable locked closed openable container in the Treasury. It is fixed in place. &quot;A massive vault fills up one wall.&quot; The description is &quot;The vault's system includes [a list of things which are part of the vault].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5734_256" -->
<a id="c5734_256"></a><blockquote class="code"><p class="quoted">
A little green light, a little blue light, a little red light, a thin black pane of glass, a laser beam, a retinal scanner, a thumbprint ID plate, a dial, and a large lever are part of the vault.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5735_256" -->
<a id="c5735_256"></a><blockquote class="code"><p class="quoted">
The security guard is a man in the Treasury. The description is &quot;His name is Shawn, and he doesn't look happy.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5736_256" -->
<a id="c5736_256"></a><blockquote class="code"><p class="quoted">
The description of the green light is &quot;Off.&quot; The description of the blue light is &quot;Tranquilly on.&quot; The description of the red light is &quot;Angrily flashing.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5737_256" -->
<a id="c5737_256"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [things]&quot; as examining.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5738_256" -->
<a id="c5738_256"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine all&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "295: The Left Hand of Autumn" "e222" -->
<a id="e222"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e222" class="eglink"><b>295</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e222" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Left Hand of Autumn</span></b></a><br />The possibility of using a [things] token opens up some interesting complications, because we may want actions on multiple items to be reported differently from actions on just one. Here we look at how to make a multiple examination command that describes groups in special ways.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e222"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example222">
<p>Suppose that we have a game in which groups of objects can have meaning apart from their individual significance -- perhaps there are spells that can only be cast by collecting just the right items in the same place.</p>
<p>In this case, one of the things the player might like to be able to do is look at several items together and get a special response, different from looking at the items individually.</p>
<p>To make this happen, we need to do several things:</p>
<!-- START CODE "c5739_222" -->
<a id="c5739_222"></a><blockquote class="code"><p class="quoted">
(1) we need to create a version of the EXAMINE command that can apply to multiple objects at once.
<br />(2) we need to correct the way Inform normally deals with multiple-object commands, because we want our group description to print only one time, and we want to avoid stubs such as &quot;pear: ... apple: ...&quot; before or after the group description.
<br />(3) we need to define a way for Inform to identify interesting groups and describe them.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5740_222" -->
<a id="c5740_222"></a><blockquote class="code"><p class="quoted">
&quot;The Left Hand of Autumn&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5741_222" -->
<a id="c5741_222"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5742_222" -->
<a id="c5742_222"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [things]&quot; or &quot;look at [things]&quot; as multiply-examining. Multiply-examining is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5743_222" -->
<a id="c5743_222"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [things inside] in/on [something]&quot; or &quot;look at [things inside] in/on [something]&quot; as multiply-examining it from. Multiply-examining it from is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5744_222" -->
<a id="c5744_222"></a><blockquote class="code"><p class="quoted">
Group-description-complete is a truth state that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5745_222" -->
<a id="c5745_222"></a><blockquote class="code"><p class="quoted">
Carry out multiply-examining it from:
<br />&#160;&#160;&#160;&#160;try multiply-examining the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5746_222" -->
<a id="c5746_222"></a><blockquote class="code"><p class="quoted">
Check multiply-examining when group-description-complete is true:
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5747_222" -->
<a id="c5747_222"></a><blockquote class="code"><p class="quoted">
Carry out multiply-examining:
<br />&#160;&#160;&#160;&#160;let L be the list of matched things;
<br />&#160;&#160;&#160;&#160;if the number of entries in L is 0, try examining the noun instead;
<br />&#160;&#160;&#160;&#160;if the number of entries in L is 1, try examining entry 1 of L instead;
<br />&#160;&#160;&#160;&#160;describe L;
<br />&#160;&#160;&#160;&#160;say line break;
<br />&#160;&#160;&#160;&#160;now group-description-complete is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5748_222" -->
<a id="c5748_222"></a><blockquote class="code"><p class="quoted">
Before reading a command:
<br />&#160;&#160;&#160;&#160;now group-description-complete is false.
</p></blockquote>
<!-- END CODE -->
<p>Now for step 2, overriding Inform's usual output of names of objects:</p>
<!-- START CODE "c5749_222" -->
<a id="c5749_222"></a><blockquote class="code"><p class="quoted">
The silently announce items from multiple object lists rule is listed instead of the announce items from multiple object lists rule in the action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5750_222" -->
<a id="c5750_222"></a><blockquote class="code"><p class="quoted">
This is the silently announce items from multiple object lists rule:
<br />&#160;&#160;&#160;&#160;unless multiply-examining or multiply-examining something from something:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current item from the multiple object list is not nothing, say &quot;[current item from the multiple object list]: [run paragraph on]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5751_222" -->
<a id="c5751_222"></a><blockquote class="code"><p class="quoted">
Definition: a thing is matched if it is listed in the multiple object list.
</p></blockquote>
<!-- END CODE -->
<p>We'll save our &quot;to describe&quot; phrase until Section 2, when we can give the game specific instructions about how to report different lists of objects.</p>
<p>Now, the player might also want to be able to refer to a group of item by some kind of group name, so let's add the option of creating a Table of Collective Names which will interpret these:</p>
<!-- START CODE "c5752_222" -->
<a id="c5752_222"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Collective Names:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let N be &quot;[the player's command]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let Y be relevant list entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while N matches the regular expression &quot;[name-text entry]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;replace the regular expression &quot;(.*)[name-text entry](.*)&quot; in N with &quot;\1[Y]\2&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;change the text of the player's command to N.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5753_222" -->
<a id="c5753_222"></a><blockquote class="code"><p class="quoted">
Report taking something:
<br />&#160;&#160;&#160;&#160;say &quot;You pick up [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>And as a bit of polish, because we'd like SEARCH TABLE to have the same effect as EXAMINE ALL ON TABLE:</p>
<!-- START CODE "c5754_222" -->
<a id="c5754_222"></a><blockquote class="code"><p class="quoted">
Understand &quot;look on [something]&quot; as searching.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5755_222" -->
<a id="c5755_222"></a><blockquote class="code"><p class="quoted">
Instead of searching something which supports at least two things:
<br />&#160;&#160;&#160;&#160;let L be the list of things supported by the noun;
<br />&#160;&#160;&#160;&#160;describe L.
<br />Instead of searching something which contains at least two things:
<br />&#160;&#160;&#160;&#160;let L be the list of things contained by the noun;
<br />&#160;&#160;&#160;&#160;describe L.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5756_222" -->
<a id="c5756_222"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5757_222" -->
<a id="c5757_222"></a><blockquote class="code"><p class="quoted">
Eight-Walled Chamber is a room. &quot;A perfectly octagonal room whose walls are tinted in various hues.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5758_222" -->
<a id="c5758_222"></a><blockquote class="code"><p class="quoted">
The display table is a supporter in the Chamber. A twig of rowan wood is on the table.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5759_222" -->
<a id="c5759_222"></a><blockquote class="code"><p class="quoted">
The player carries an apple and a pear.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5760_222" -->
<a id="c5760_222"></a><blockquote class="code"><p class="quoted">
A glove is a kind of thing. A glove is always wearable. Understand &quot;glove&quot; as a glove. The player carries a left glove and a right glove. The left glove and the right glove are gloves.
</p></blockquote>
<!-- END CODE -->
<p>Now we define a few actual lists of items:</p>
<!-- START CODE "c5761_222" -->
<a id="c5761_222"></a><blockquote class="code"><p class="quoted">
Fruit list is a list of objects which varies. Fruit list is { apple, pear }.
<br />Glove list is a list of objects which varies. Glove list is { right glove, left glove }.
<br />Arcane list is a list of objects which varies. Arcane list is { left glove, twig, pear }.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5762_222" -->
<a id="c5762_222"></a><blockquote class="code"><p class="quoted">
To describe (L - a list of objects):
<br />&#160;&#160;&#160;&#160;sort L;
<br />&#160;&#160;&#160;&#160;if L is fruit list:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Just a couple of fruits.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if L is glove list:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It's a matched pair of fuzzy blue gloves.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if L is arcane list:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;To anyone else it might look like a random collection of objects, but these three things -- [L with definite articles] -- constitute a mystic key known as the Left Hand of Autumn. They practically hum with power.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You see [L with indefinite articles].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5763_222" -->
<a id="c5763_222"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;sort fruit list;
<br />&#160;&#160;&#160;&#160;sort glove list;
<br />&#160;&#160;&#160;&#160;sort the arcane list.
</p></blockquote>
<!-- END CODE -->
<p>We sort the lists so that regardless of how we change the rest of the code (and the order in which objects are coded), the resulting list will always be in sorted order and ready to compare with the list of items the player wants to look at. And thanks to the &quot;Reading a command&quot; code we wrote earlier, we can also teach the game to understand the player's references to &quot;the left hand of autumn&quot; as a specific collection of items.</p>
<!-- START CODE "c5764_222" -->
<a id="c5764_222"></a><blockquote class="code"><p class="quoted">
Table of Collective Names
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">name-text</p></td><td class="quotedtablecell"><p class="quoted">relevant list</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;left hand of autumn&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;[arcane list]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;gloves&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;[glove list]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;pair of gloves&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;[glove list]&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5765_222" -->
<a id="c5765_222"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x apple and pear / x left and right / put pear on table / put left glove on table / x all on table / put all on table / examine all on table / get apple, twig, pear / x all on table / search table&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "296: Ish." "e246" -->
<a id="e246"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e246" class="eglink"><b>296</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e246" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ish.</span></b></a><br />A (very) simple HELP command, using tokens to accept and interpret the player's  text whatever it might be.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e246"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example246">
<!-- START CODE "c5766_246" -->
<a id="c5766_246"></a><blockquote class="code"><p class="quoted">
&quot;Ish.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5767_246" -->
<a id="c5767_246"></a><blockquote class="code"><p class="quoted">
Ichiro's Dubious Sushi Hut is a room.  &quot;Despite the allure of the dusty plastic sushi models in the window, you're beginning to have second thoughts about the selection of this particular restaurant for your rendezvous with Agent Fowler.  There are no other patrons, for one thing. Afternoon sunlight filters lazily through the window and illuminates a number of empty glass-topped tables, at each of which is a chopstick dispenser (in form of cute ceramic cat) and a pitcher of soy sauce (sticky).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5768_246" -->
<a id="c5768_246"></a><blockquote class="code"><p class="quoted">
The sushi bar itself is what gives the most pause, however. Behind it sits an angry-looking Japanese woman, aggressively eating a Quarter Pounder with Cheese.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We can, when necessary, accept any text at all as a token:</p>
<!-- START CODE "c5769_246" -->
<a id="c5769_246"></a><blockquote class="code"><p class="quoted">
Understand &quot;help [text]&quot; or &quot;help about [text]&quot; as getting help about. Understand the commands &quot;instructions&quot; or &quot;hint&quot; or &quot;hints&quot; or &quot;menu&quot; or &quot;info&quot; or &quot;about&quot; as &quot;help&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5770_246" -->
<a id="c5770_246"></a><blockquote class="code"><p class="quoted">
Getting help about is an action applying to one topic.
</p></blockquote>
<!-- END CODE -->
<p>After that, we can use &quot;the topic understood&quot; to refer to the text we read:</p>
<!-- START CODE "c5771_246" -->
<a id="c5771_246"></a><blockquote class="code"><p class="quoted">
Carry out getting help about:
<br />&#160;&#160;&#160;&#160;if the topic understood is a topic listed in the Table of Standard Help:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[explanation entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You're out of ideas.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5772_246" -->
<a id="c5772_246"></a><blockquote class="code"><p class="quoted">
Table of Standard Help
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">title</p></td><td class="quotedtablecell"><p class="quoted">summary</p></td><td class="quotedtablecell"><p class="quoted">explanation</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;sushi&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;sushi&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Really it's just vinegary rice&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Popular misconception says that sushi inevitably entails raw fish, but it is in fact just rice with rice vinegar on it.  It's just that the really good kinds have raw fish in.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;cucumber roll&quot; or &quot;cucumber&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Cucumber roll&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Sushi for people who are afraid of sushi&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;It is just rice and slivers of cucumber in the middle, and as long as you don't go too crazy with the wasabi, all should be well.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;california roll&quot; or &quot;california&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;California roll&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Travesty of the sushi concept&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;It's. Fake. Crab.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;monkfish liver&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;monkfish liver&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Expert eaters only&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;The odds of Ichiro's having this unusual delicacy is near zero.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;microdot&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;microdot&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;What you came here to deliver&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;There'll be time enough for that later. If Fowler ever turns up. Where is she, anyway?&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Since the player may not know what all the help options are, we might as well let him get an overview, as well.</p>
<!-- START CODE "c5773_246" -->
<a id="c5773_246"></a><blockquote class="code"><p class="quoted">
Understand &quot;help&quot; as summoning help.  Summoning help is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5774_246" -->
<a id="c5774_246"></a><blockquote class="code"><p class="quoted">
Carry out summoning help:
<br />&#160;&#160;&#160;&#160;say &quot;Help is available about the following topics.  Typing HELP followed by the name of a topic will give further information.[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Standard Help:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;  [title entry]: [summary entry][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5775_246" -->
<a id="c5775_246"></a><blockquote class="code"><p class="quoted">
Test me with &quot;help / help about microdot / help cucumber / help california roll&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "297: Nameless" "e80" -->
<a id="e80"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e80" class="eglink"><b>297</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e80" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Nameless</span></b></a><br />ASKing someone about an object rather than about a topic.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e80"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example80">
<p>By default, ASK SOMEONE ABOUT... applies only to a text token. We might want also to offer the player the option of asking characters about pieces of physical evidence. This example implements an ASK PERSON ABOUT THING command that is mostly synonymous with SHOW, with the added nuance that the player can ask about things that are not currently visible, as long as he has encountered them at some time in the past.</p>
<!-- START CODE "c5776_80" -->
<a id="c5776_80"></a><blockquote class="code"><p class="quoted">
&quot;Nameless&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5777_80" -->
<a id="c5777_80"></a><blockquote class="code"><p class="quoted">
The Black Chamber is a room. &quot;Despite its menacing name, it is quite an ordinary room, underlying the post office above. Here letters are brought each day, unsealed, transcribed, resealed, and sent again on their way; their contents then analyzed and recorded.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5778_80" -->
<a id="c5778_80"></a><blockquote class="code"><p class="quoted">
The Nameless Advisor is a woman in the Black Chamber. &quot;A woman whose name has never been disclosed to you sits at the window, writing numbers on a sheet of paper.&quot; The Advisor carries a sheet of paper. Understand &quot;woman&quot; as the nameless advisor.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5779_80" -->
<a id="c5779_80"></a><blockquote class="code"><p class="quoted">
The player carries a letter from the emperor. The description of the letter is &quot;Though its origin is obvious, its meaning is secret: the letters are an inexplicable jumble.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we create our new action, &quot;interrogating it about&quot;. We write the grammar lines so that we can show any object in sight to someone, but also ask someone about any object that we have ever interacted with in the game, whether it is currently visible or not.</p>
<!-- START CODE "c5780_80" -->
<a id="c5780_80"></a><blockquote class="code"><p class="quoted">
A thing can be known or unknown. The Nameless Advisor is known.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5781_80" -->
<a id="c5781_80"></a><blockquote class="code"><p class="quoted">
Understand &quot;ask [someone] about [any known thing]&quot; as interrogating it about. interrogating it about is an action applying to two visible things.
</p></blockquote>
<!-- END CODE -->
<p>Now we replace and redirect the showing action. This gets rid of the requirement in the default library that the player be holding anything he shows to another character:</p>
<!-- START CODE "c5782_80" -->
<a id="c5782_80"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;show&quot; and &quot;display&quot; and &quot;present&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5783_80" -->
<a id="c5783_80"></a><blockquote class="code"><p class="quoted">
Understand &quot;show [something] to [someone]&quot; or &quot;display [something] to [someone]&quot; or &quot;present [something] to [someone]&quot; as interrogating it about (with nouns reversed). Understand &quot;show [someone] [something]&quot; as interrogating it about.
</p></blockquote>
<!-- END CODE -->
<p>This bit keeps track of what the player has seen, for the purposes of &quot;any known thing&quot;:</p>
<!-- START CODE "c5784_80" -->
<a id="c5784_80"></a><blockquote class="code"><p class="quoted">
Before printing the name of something (called the target): now the target is known.
</p></blockquote>
<!-- END CODE -->
<p>Here we define what happens by default when we interrogate someone about something; we use the same response we get to asking someone about something that isn't otherwise interesting:</p>
<!-- START CODE "c5785_80" -->
<a id="c5785_80"></a><blockquote class="code"><p class="quoted">
Carry out interrogating someone about something:
<br />&#160;&#160;&#160;&#160;say &quot;There is no reply.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now redirect all asking to a topic table, and all interrogating to an object table:</p>
<!-- START CODE "c5786_80" -->
<a id="c5786_80"></a><blockquote class="code"><p class="quoted">
Instead of asking Nameless Advisor about a topic listed in the Table of Nameless Advisor Topics:
<br />&#160;&#160;&#160;&#160;say &quot;[reply entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5787_80" -->
<a id="c5787_80"></a><blockquote class="code"><p class="quoted">
Instead of interrogating Nameless Advisor about an item listed in the Table of Nameless Advisor Items:
<br />&#160;&#160;&#160;&#160;say &quot;[reply entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5788_80" -->
<a id="c5788_80"></a><blockquote class="code"><p class="quoted">
Table of Nameless Advisor Items
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">item</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">letter</p></td><td class="quotedtablecell"><p class="quoted">&quot;'It is enciphered,' she remarks[if the advisor can see the letter], glancing over the contents[otherwise], after you have offered a detailed description[end if]. 'A substitution cipher of some complexity, I believe.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">Advisor</p></td><td class="quotedtablecell"><p class="quoted">&quot;She listens to your inquiries about her identity and parentage with a placid smile, but does not answer.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5789_80" -->
<a id="c5789_80"></a><blockquote class="code"><p class="quoted">
Table of Nameless Advisor Topics
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;cipher&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I know many dozens of ciphers,' she replies, smiling in a disquieting way.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;substitution cipher&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'One letter is allowed to stand for another,' she explains, folding her hands together patiently. The backs of both hands are tattooed with silvery stars.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>And just so that we can test what happens when asking someone about something out of sight:</p>
<!-- START CODE "c5790_80" -->
<a id="c5790_80"></a><blockquote class="code"><p class="quoted">
The safe box is a container in the Chamber. It is fixed in place. It is openable and closed.
</p></blockquote>
<!-- END CODE -->
<p>...and something unknown:</p>
<!-- START CODE "c5791_80" -->
<a id="c5791_80"></a><blockquote class="code"><p class="quoted">
The poisonous apple is a thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5792_80" -->
<a id="c5792_80"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test sight / test knowledge&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5793_80" -->
<a id="c5793_80"></a><blockquote class="code"><p class="quoted">
Test sight with &quot;i / x letter / ask Nameless Advisor about cipher / show cipher to Nameless Advisor / ask Nameless Advisor about the letter / show the letter to Nameless Advisor / show Nameless Advisor the letter&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5794_80" -->
<a id="c5794_80"></a><blockquote class="code"><p class="quoted">
Test knowledge with &quot;open safe box / put letter in safe box / close safe box / ask Nameless Advisor about the letter / show the letter to Nameless Advisor / ask Nameless Advisor about the apple&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "298: Safety" "e336" -->
<a id="e336"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e336" class="eglink"><b>298</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e336" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Safety</span></b></a><br />A safe whose dial can be turned with SPIN SAFE TO 1131, and which will open only with the correct combination.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e336"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example336">
<!-- START CODE "c5795_336" -->
<a id="c5795_336"></a><blockquote class="code"><p class="quoted">
&quot;Safety&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5796_336" -->
<a id="c5796_336"></a><blockquote class="code"><p class="quoted">
The Vault is a room. &quot;Snug yet paranoid, this represents the state of the art in cheerless security.&quot; The Safe is here. &quot;A mammoth safe, with a dial which can spin to any number, has pride of place. It must weigh about the same as a small car, so don't get any ideas.&quot; Instead of opening the safe, say &quot;The safe opens only when turned to the correct combination.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5797_336" -->
<a id="c5797_336"></a><blockquote class="code"><p class="quoted">
In the Safe is a silver florin. The Safe is closed and fixed in place. Understand &quot;dial&quot; as the Safe.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5798_336" -->
<a id="c5798_336"></a><blockquote class="code"><p class="quoted">
Spinning it to is an action applying to one thing and one number. Check spinning it to: if the noun is not the Safe, say &quot;[The noun] does not spin.&quot; instead. Report spinning it to: say &quot;Click! and nothing else happens.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5799_336" -->
<a id="c5799_336"></a><blockquote class="code"><p class="quoted">
Understand &quot;spin [something] to [a number]&quot; as spinning it to.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5800_336" -->
<a id="c5800_336"></a><blockquote class="code"><p class="quoted">
After spinning the closed Safe to 1384: now the Safe is open; say &quot;Clonk! and the safe door swings slowly open, revealing [a list of things in the Safe].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5801_336" -->
<a id="c5801_336"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open safe / spin safe to 1131 / open safe / spin safe to 1384 / x safe / get florin&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "299: Tom's Midnight Garden" "e386" -->
<a id="e386"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e386" class="eglink"><b>299</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e386" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tom's Midnight Garden</span></b></a><br />A clock kind that can be set to any time using "the time understood"; may be turned on and off; and will advance itself only when running. Time on the face is also reported differently depending on whether the clock is analog or digital.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e386"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example386">
<p>Time can also be understood as a token, and the time parsed will be recorded as &quot;the time understood&quot;. So therefore, if we wish for clocks which may be set:</p>
<!-- START CODE "c5802_386" -->
<a id="c5802_386"></a><blockquote class="code"><p class="quoted">
&quot;Tom's Midnight Garden&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5803_386" -->
<a id="c5803_386"></a><blockquote class="code"><p class="quoted">
A clock is a kind of device. A clock has a time called the current time. A clock can be analog or digital. The current time of a clock is usually 9:01 AM. The description of a clock is &quot;It shows the time to be [if analog]about [the current time to the nearest five minutes in words][otherwise][the current time][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5804_386" -->
<a id="c5804_386"></a><blockquote class="code"><p class="quoted">
Understand &quot;set [clock] to [time]&quot; as setting it by time. Setting it by time is an action applying to one thing and one time.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5805_386" -->
<a id="c5805_386"></a><blockquote class="code"><p class="quoted">
Instead of setting a clock to something:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] can be set only to a time of day, such as 8:00 AM, or midnight.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5806_386" -->
<a id="c5806_386"></a><blockquote class="code"><p class="quoted">
Carry out setting a clock by time:
<br />&#160;&#160;&#160;&#160;now the current time of the noun is the time understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5807_386" -->
<a id="c5807_386"></a><blockquote class="code"><p class="quoted">
Report setting a clock by time:
<br />&#160;&#160;&#160;&#160;say &quot;You set [the noun] to [time understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5808_386" -->
<a id="c5808_386"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with item running through switched on clocks:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current time of the item is one minute after the current time of the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5809_386" -->
<a id="c5809_386"></a><blockquote class="code"><p class="quoted">
The Hall is a room. The grandfather clock is a fixed in place analog clock in the Hall. The travel clock is a switched on digital clock in the Hall.  When play begins: now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5810_386" -->
<a id="c5810_386"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine grandfather clock / set it to midnight / switch it on / wait / wait / wait / examine it / set travel clock to 4:12 / examine it&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "300: Ibid." "e152" -->
<a id="e152"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e152" class="eglink"><b>300</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e152" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ibid.</span></b></a><br />A system which allows the author to assign footnotes to descriptions, and permits the player to retrieve them again by number, using "the number understood". Footnotes will automatically number themselves, according to the order in which the player discovers them.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_12.html#e152"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example152">
<p>&quot;Hitchhiker's Guide to the Galaxy&quot; introduced the idea of footnoted descriptions, and various IF games since have toyed with the idea. The recommended implementation in Inform 6 involved keeping an assortment of footnote objects around, but in Inform 7 the table is a much tidier way of handling the same problem.</p>
<!-- START CODE "c5811_152" -->
<a id="c5811_152"></a><blockquote class="code"><p class="quoted">
&quot;Ibid.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5812_152" -->
<a id="c5812_152"></a><blockquote class="code"><p class="quoted">
The Ship Inn is a room. &quot;Here you are in a lovely pub which your guidebook assures you is extremely authentic. [1 as a footnote].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5813_152" -->
<a id="c5813_152"></a><blockquote class="code"><p class="quoted">
To your left sits a party of Italians, with their guidebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5814_152" -->
<a id="c5814_152"></a><blockquote class="code"><p class="quoted">
To your right is a silent, but not unappealing, young man.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5815_152" -->
<a id="c5815_152"></a><blockquote class="code"><p class="quoted">
A party of Italians and a silent young man are people in the Ship Inn. The Italians and the young man are scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5816_152" -->
<a id="c5816_152"></a><blockquote class="code"><p class="quoted">
The table is a supporter in the Ship Inn. On the table is a mysterious pie. The description of the pie is &quot;Your waitress told you it was the specialty of the day, Steak and Owl Pie. [2 as a footnote].&quot; The pie is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5817_152" -->
<a id="c5817_152"></a><blockquote class="code"><p class="quoted">
Table of Footnotes
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">assignment</p></td><td class="quotedtablecell"><p class="quoted">note</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a number</p></td><td class="quotedtablecell"><p class="quoted">&quot;Francis Drake ate here, if the sign on the door is to be believed&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">--</p></td><td class="quotedtablecell"><p class="quoted">&quot;this is unlikely, considering that owls are protected animals in England these days [3 as a footnote]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">--</p></td><td class="quotedtablecell"><p class="quoted">&quot;moreover, you can't imagine that owl would be very tasty&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5818_152" -->
<a id="c5818_152"></a><blockquote class="code"><p class="quoted">
Footnotes mentioned is a number that varies.
</p></blockquote>
<!-- END CODE -->
<p>Whenever we mention a footnote for the first time, we need to assign it a number, which we will use consistently thereafter. And it's probably a good idea to protect ourselves against the author accidentally using a number too large for the footnote table, too. So:</p>
<!-- START CODE "c5819_152" -->
<a id="c5819_152"></a><blockquote class="code"><p class="quoted">
To say (footnote - a number) as a footnote:
<br />&#160;&#160;&#160;&#160;if footnote &gt; number of filled rows in the Table of Footnotes:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Programming error: footnote assignment out of range.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row footnote in the Table of Footnotes;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is an assignment entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;([assignment entry])&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment footnotes mentioned;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row footnote in the Table of Footnotes;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now assignment entry is footnotes mentioned;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;([assignment entry])&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now, in order to let the player view these footnotes, we'll need to parse numbers.</p>
<!-- START CODE "c5820_152" -->
<a id="c5820_152"></a><blockquote class="code"><p class="quoted">
Understand &quot;footnote [number]&quot; as looking up a footnote.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5821_152" -->
<a id="c5821_152"></a><blockquote class="code"><p class="quoted">
Looking up a footnote is an action applying to one number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5822_152" -->
<a id="c5822_152"></a><blockquote class="code"><p class="quoted">
Check looking up a footnote:
<br />&#160;&#160;&#160;&#160;if the number understood &gt; footnotes mentioned, say &quot;You haven't seen any such footnote.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the number understood &lt; 1, say &quot;Footnotes are numbered from 1.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5823_152" -->
<a id="c5823_152"></a><blockquote class="code"><p class="quoted">
Carry out looking up a footnote:
<br />&#160;&#160;&#160;&#160;choose row with assignment of number understood in the Table of Footnotes;
<br />&#160;&#160;&#160;&#160;say &quot;([assignment entry]): [note entry].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5824_152" -->
<a id="c5824_152"></a><blockquote class="code"><p class="quoted">
Test me with &quot;footnote 1 / examine pie / footnote 2 / footnote 3&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This method does require us to keep track of where a footnote appears in the table. If we found this inconvenient, we could add a column to the footnote table so that we could invoke it with tags like &quot;[appearance quip as a footnote]&quot;.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "301: One of Those Mornings" "e252" -->
<a id="e252"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e252" class="eglink"><b>301</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e252" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">One of Those Mornings</span></b></a><br />A FIND command that allows the player to find a lost object anywhere</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_5.html#e252"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example252">
<p>Suppose that, contrary to the usual rules of interactive fiction, we want to allow the player to discover the locations of things he hasn't actually seen yet:</p>
<!-- START CODE "c5825_252" -->
<a id="c5825_252"></a><blockquote class="code"><p class="quoted">
&quot;One of Those Mornings&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5826_252" -->
<a id="c5826_252"></a><blockquote class="code"><p class="quoted">
Understand &quot;find [any thing]&quot; as finding.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5827_252" -->
<a id="c5827_252"></a><blockquote class="code"><p class="quoted">
Finding is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5828_252" -->
<a id="c5828_252"></a><blockquote class="code"><p class="quoted">
Carry out finding:
<br />&#160;&#160;&#160;&#160;if the player is carrying the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You're holding [the noun]!&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You left [the noun] [if the noun is on a supporter]on[otherwise]in[end if] [the holder of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>The holder of the noun can be a room, a supporter, or a container: the phrase is not picky. We would want to be a little more careful if it were ever possible for an item to have been &quot;removed from play&quot; in our game, since then the holder could be nothing, and that would have odd results. In this particular example, though, that will not arise.</p>
<p>And that's it, as far as the find command goes. The rest is local color.</p>
<!-- START CODE "c5829_252" -->
<a id="c5829_252"></a><blockquote class="code"><p class="quoted">
The Exhibition Room is a room. It contains a closed locked lockable transparent openable container called the display case. The display case contains a priceless pearl. The display case is scenery. The description of the Exhibition Room is &quot;By far the finest thing in the room is a priceless pearl in a glass display case. It should of course be yours[if key is not visible], if only you can remember where you hid the key[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5830_252" -->
<a id="c5830_252"></a><blockquote class="code"><p class="quoted">
The silver key unlocks the display case.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5831_252" -->
<a id="c5831_252"></a><blockquote class="code"><p class="quoted">
A jade vase, a teak chest, a bronze teakettle, and a child's burial casket are openable closed containers in the Exhibition Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5832_252" -->
<a id="c5832_252"></a><blockquote class="code"><p class="quoted">
After taking the pearl:
<br />&#160;&#160;&#160;&#160;say &quot;The pearl rolls into your hand, gleaming in the oblique light; your fortune is made.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<p>If we want to have the key found in different places when the game is replayed:</p>
<!-- START CODE "c5833_252" -->
<a id="c5833_252"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let the space be a random container which is not the display case;
<br />&#160;&#160;&#160;&#160;move the silver key to the space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5834_252" -->
<a id="c5834_252"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;say &quot;Your watch ticks with maddening loudness.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5835_252" -->
<a id="c5835_252"></a><blockquote class="code"><p class="quoted">
The time of day is 1:02 AM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5836_252" -->
<a id="c5836_252"></a><blockquote class="code"><p class="quoted">
At 1:08 AM: say &quot;The security guard arrives to find you fumbling about with keys. Curses.&quot;; end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5837_252" -->
<a id="c5837_252"></a><blockquote class="code"><p class="quoted">
Test me with &quot;find pearl / find teakettle / get teakettle / find teakettle / find key&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "302: Actaeon" "e150" -->
<a id="e150"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e150" class="eglink"><b>302</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e150" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Actaeon</span></b></a><br />A FOLLOW command allowing the player to pursue a person who has just left the room.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e150"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example150">
<p>Suppose we want the player to be able to go after characters who are moving around the map. The trick, of course, is that once characters are gone they are no longer visible to &quot;follow [person]&quot;, so we need &quot;follow [any person]&quot; to find them.</p>
<!-- START CODE "c5838_150" -->
<a id="c5838_150"></a><blockquote class="code"><p class="quoted">
&quot;Actaeon&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5839_150" -->
<a id="c5839_150"></a><blockquote class="code"><p class="quoted">
A person has a room called last location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5840_150" -->
<a id="c5840_150"></a><blockquote class="code"><p class="quoted">
Understand &quot;follow [any person]&quot; as following. Understand the commands &quot;chase&quot; and &quot;pursue&quot; as &quot;follow&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5841_150" -->
<a id="c5841_150"></a><blockquote class="code"><p class="quoted">
Following is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5842_150" -->
<a id="c5842_150"></a><blockquote class="code"><p class="quoted">
Check following:
<br />&#160;&#160;&#160;&#160;if the noun is the player, say &quot;Wherever you go, there you are.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is visible, say &quot;[The noun] is right here.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the last location of the noun is not the location, say &quot;It's not clear where [the noun] has gone.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Here again the best route comes in handy:</p>
<!-- START CODE "c5843_150" -->
<a id="c5843_150"></a><blockquote class="code"><p class="quoted">
Carry out following:
<br />&#160;&#160;&#160;&#160;let the destination be the location of the noun;
<br />&#160;&#160;&#160;&#160;if the destination is not a room, say &quot;[The noun] isn't anywhere you can follow.&quot; instead;
<br />&#160;&#160;&#160;&#160;let aim be the best route from the location to the destination;
<br />&#160;&#160;&#160;&#160;say &quot;(heading [aim])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;try going aim.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5844_150" -->
<a id="c5844_150"></a><blockquote class="code"><p class="quoted">
Corinth is a room. Athens is east of Corinth. Epidaurus is southeast of Corinth and east of Mycenae. Mycenae is south of Corinth. Olympia is west of Mycenae. Argos is south of Mycenae. Thebes is northwest of Athens. Pylos is south of Olympia. Sparta is east of Pylos and south of Argos. Delphi is northwest of Thebes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5845_150" -->
<a id="c5845_150"></a><blockquote class="code"><p class="quoted">
Artemis is a woman in Corinth.
</p></blockquote>
<!-- END CODE -->
<p>We do also have to make sure that whenever we move a person from room to room, we record where they were moved from; otherwise, our clever restrictions about whom the player can pursue will not work properly.</p>
<!-- START CODE "c5846_150" -->
<a id="c5846_150"></a><blockquote class="code"><p class="quoted">
To move (pawn - a person) tidily to (target - a room):
<br />&#160;&#160;&#160;&#160;now the last location of the pawn is the holder of the pawn;
<br />&#160;&#160;&#160;&#160;move the pawn to the target.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5847_150" -->
<a id="c5847_150"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;let current location be the location of Artemis;
<br />&#160;&#160;&#160;&#160;let next location be a random room which is adjacent to the current location;
<br />&#160;&#160;&#160;&#160;if Artemis is visible, say &quot;Artemis heads to [the next location].&quot;;
<br />&#160;&#160;&#160;&#160;move Artemis tidily to next location;
<br />&#160;&#160;&#160;&#160;if Artemis is visible, say &quot;Artemis arrives from [the current location].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5848_150" -->
<a id="c5848_150"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wait / follow artemis / follow artemis / follow artemis&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "303: Pages" "e269" -->
<a id="e269"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e269" class="eglink"><b>303</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e269" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pages</span></b></a><br />A book with pages that can be read by number (as in "read page 3 in...") and which accepts relative page references as well (such as "read the last page of...", "read the next page", and so on).</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e269"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example269">
<p>Suppose we have a book that the player must consult page-by-page, and we want to be able to accept all of the following input:</p>
<!-- START CODE "c5849_269" -->
<a id="c5849_269"></a><blockquote class="code"><p class="quoted">
&gt; READ BOOK (to choose a random page and read it)
<br />&gt; READ PAGE 1 IN BOOK
<br />&gt; READ PAGE 2
<br />&gt; READ THE LAST PAGE OF THE BOOK
<br />&gt; READ THE NEXT PAGE
<br />&gt; READ PREVIOUS PAGE IN BOOK
<br />&gt; READ THE FIRST PAGE
</p></blockquote>
<!-- END CODE -->
<p>One approach would be to write many different understand rules and actions: one action for reading randomly, one for reading a specific page, one for reading the first page, one for reading the previous page, one for reading the next page, and one for reading the last page. But this gets tedious to construct and maintain.</p>
<p>More usefully, we could consider that all of the last four options are essentially the same action at heart: the player is asking to read a page in the book using a name rather than a number, and we will have to perform a minor calculation to discover what the number should be. Here's an implementation using named values to resolve this problem:</p>
<!-- START CODE "c5850_269" -->
<a id="c5850_269"></a><blockquote class="code"><p class="quoted">
 &quot;Pages&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5851_269" -->
<a id="c5851_269"></a><blockquote class="code"><p class="quoted">
The Library is a room. The sinister book is carried by the player. The sinister book has a number called the last page read. The sinister book has a number called the length. The length of the sinister book is 50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5852_269" -->
<a id="c5852_269"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;read&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5853_269" -->
<a id="c5853_269"></a><blockquote class="code"><p class="quoted">
Understand &quot;read [something]&quot; or &quot;consult [something]&quot; or &quot;read in/from [something]&quot; as reading. Reading is an action applying to one thing, requiring light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5854_269" -->
<a id="c5854_269"></a><blockquote class="code"><p class="quoted">
Understand &quot;read [number] in/from/of [something]&quot; or &quot;read page [number] in/from/of [something]&quot; or &quot;look up page [number] in/from/of [something]&quot; or &quot;consult page [number] in/from/of [something]&quot; as reading it in. Reading it in is an action applying to one number and one thing, requiring light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5855_269" -->
<a id="c5855_269"></a><blockquote class="code"><p class="quoted">
Named page is a kind of value. The named pages are first page, last page, next page, previous page.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5856_269" -->
<a id="c5856_269"></a><blockquote class="code"><p class="quoted">
To decide what number is the effective value of (L - last page):
<br />&#160;&#160;&#160;&#160;decide on the length of the book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5857_269" -->
<a id="c5857_269"></a><blockquote class="code"><p class="quoted">
To decide what number is the effective value of (F - first page):
<br />&#160;&#160;&#160;&#160;decide on 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5858_269" -->
<a id="c5858_269"></a><blockquote class="code"><p class="quoted">
To decide what number is the effective value of (N - next page):
<br />&#160;&#160;&#160;&#160;let X be the last page read of the book plus 1;
<br />&#160;&#160;&#160;&#160;decide on X.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5859_269" -->
<a id="c5859_269"></a><blockquote class="code"><p class="quoted">
To decide what number is the effective value of (P - previous page):
<br />&#160;&#160;&#160;&#160;let X be the last page read of the book minus 1;
<br />&#160;&#160;&#160;&#160;decide on X.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5860_269" -->
<a id="c5860_269"></a><blockquote class="code"><p class="quoted">
Understand &quot;read [named page] in/from/of [something]&quot; or &quot;read the [named page] in/from/of [something]&quot; as reading it relatively in. Reading it relatively in is an action applying to one named page and one thing, requiring light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5861_269" -->
<a id="c5861_269"></a><blockquote class="code"><p class="quoted">
Does the player mean reading something in the sinister book: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5862_269" -->
<a id="c5862_269"></a><blockquote class="code"><p class="quoted">
This is the book requirement rule:
<br />&#160;&#160;&#160;&#160;if the player is not carrying the sinister book, say &quot;You're not reading anything.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5863_269" -->
<a id="c5863_269"></a><blockquote class="code"><p class="quoted">
Check reading it relatively in:
<br />&#160;&#160;&#160;&#160;if the second noun is not the sinister book, say &quot;There are no pages in [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;abide by the book requirement rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5864_269" -->
<a id="c5864_269"></a><blockquote class="code"><p class="quoted">
Carry out reading it relatively in:
<br />&#160;&#160;&#160;&#160;let N be the effective value of the named page understood;
<br />&#160;&#160;&#160;&#160;now the number understood is N;
<br />&#160;&#160;&#160;&#160;try reading N in the book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5865_269" -->
<a id="c5865_269"></a><blockquote class="code"><p class="quoted">
Check reading it in:
<br />&#160;&#160;&#160;&#160;if the second noun is not the sinister book, say &quot;There are no pages in [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;abide by the book requirement rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5866_269" -->
<a id="c5866_269"></a><blockquote class="code"><p class="quoted">
Check reading it in:
<br />&#160;&#160;&#160;&#160;if the number understood is greater than the length of the sinister book, say &quot;There are only [length of sinister book in words] pages in the book.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the number understood is less than 1, say &quot;The page numbering begins with 1.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5867_269" -->
<a id="c5867_269"></a><blockquote class="code"><p class="quoted">
Carry out reading it in:
<br />&#160;&#160;&#160;&#160;read page number understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5868_269" -->
<a id="c5868_269"></a><blockquote class="code"><p class="quoted">
Check reading:
<br />&#160;&#160;&#160;&#160;if the noun is not the sinister book, say &quot;There are no pages in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;abide by the book requirement rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5869_269" -->
<a id="c5869_269"></a><blockquote class="code"><p class="quoted">
Carry out reading:
<br />&#160;&#160;&#160;&#160;let N be a random number between 1 and the length of the sinister book; now the number understood is N;
<br />&#160;&#160;&#160;&#160;say &quot;You flip the pages randomly and arrive at page [the number understood]:[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;try reading the number understood in the sinister book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5870_269" -->
<a id="c5870_269"></a><blockquote class="code"><p class="quoted">
Table of Book Contents
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">page</p></td><td class="quotedtablecell"><p class="quoted">content</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">&quot;dhuma jyotih salila marutam / samnipatah kva meghah / samdes arthah kva patukaranaih / pranibhih prapaniyah&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">&quot;amathesteron pws eipe kai saphesteron&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">50</p></td><td class="quotedtablecell"><p class="quoted">&quot;Rrgshilz maplot...&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5871_269" -->
<a id="c5871_269"></a><blockquote class="code"><p class="quoted">
To read page (N - a number):
<br />&#160;&#160;&#160;&#160;now the last page read of the sinister book is N;
<br />&#160;&#160;&#160;&#160;if there is a content corresponding to a page of N in the Table of Book Contents:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row with a page of N in the Table of Book Contents;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You read: '[content entry]'[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Page [N] appears to be blank.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5872_269" -->
<a id="c5872_269"></a><blockquote class="code"><p class="quoted">
To read page (N - 47):
<br />&#160;&#160;&#160;&#160;say &quot;Your eyes burn; your ears ring. Beneath your gaze, the dreadful sigils writhe, reminding you of that which lies outside the edges of the universe...&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;You have lost your remaining sanity&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5873_269" -->
<a id="c5873_269"></a><blockquote class="code"><p class="quoted">
Test me with &quot;read from the sinister book / read the book / read the next page / read page 2 / read previous page / g / read the first page / read the last page of the book / read the next page / read 47 in book&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "304: Down in Oodville" "e111" -->
<a id="e111"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e111" class="eglink"><b>304</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e111" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Down in Oodville</span></b></a><br />Offering the player a choice of numbered options at certain times, without otherwise interfering with his ability to give regular commands.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e111"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example111">
<p>Now and then in IF there is a situation where we need to ask the player for a numbered choice rather than an ordinary action command. What's more, that numbered choice might change during the game, so we don't want to just hard-wire the meanings of &quot;1&quot;, &quot;2&quot;, and &quot;3&quot; whenever the player types them.</p>
<p>A better trick is to keep a list or table (we'll use a table here because it involves slightly less overhead) recording what the player's numerical choices currently mean. Then every time the player selects a number, the table is consulted, and if the number corresponds to something, the player's choice is acted on.</p>
<p>In our example, we'll have a transporter pad that can take the player to any room in the game that he's already visited. (Just for the sake of example, we'll start him off with a few pre-visited rooms.)</p>
<!-- START CODE "c5874_111" -->
<a id="c5874_111"></a><blockquote class="code"><p class="quoted">
&quot;Down in Oodville&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5875_111" -->
<a id="c5875_111"></a><blockquote class="code"><p class="quoted">
Section 1 - Method
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5876_111" -->
<a id="c5876_111"></a><blockquote class="code"><p class="quoted">
Understand &quot;[number]&quot; as selecting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5877_111" -->
<a id="c5877_111"></a><blockquote class="code"><p class="quoted">
Selecting is an action applying to one number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5878_111" -->
<a id="c5878_111"></a><blockquote class="code"><p class="quoted">
Check selecting: [assuming we don't want to be able to transport from just anywhere]
<br />&#160;&#160;&#160;&#160;if the player is not on the transporter pad:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can transport only from the transporter pad. From other places than the transporter room, you can HOME to your base ship, but not leap sideways to other locations.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;empty the transport options instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5879_111" -->
<a id="c5879_111"></a><blockquote class="code"><p class="quoted">
Check selecting:
<br />&#160;&#160;&#160;&#160;if the number understood is greater than the number of filled rows in the Table of Transport Options or the number understood is less than one:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The number understood] is not a valid option. &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;list the transport options instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5880_111" -->
<a id="c5880_111"></a><blockquote class="code"><p class="quoted">
Carry out selecting:
<br />&#160;&#160;&#160;&#160;let N be the number understood; [not actually a necessary step, but it makes the next line easier to understand]
<br />&#160;&#160;&#160;&#160;choose row N in the Table of Transport Options;
<br />&#160;&#160;&#160;&#160;if the transport entry is a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the player to the transport entry;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;*** BUG: Improperly filled table of transport options ***&quot; [It should not be possible for this to occur, but we add an error message for it so that, if it ever does, we will know what is causing the programming error in our code]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5881_111" -->
<a id="c5881_111"></a><blockquote class="code"><p class="quoted">
To list the transport options:
<br />&#160;&#160;&#160;&#160;let N be 1;
<br />&#160;&#160;&#160;&#160;say &quot;From here you could choose to go to: [line break]&quot;;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Transport Options:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;  [N]: [transport entry][line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment N.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5882_111" -->
<a id="c5882_111"></a><blockquote class="code"><p class="quoted">
To empty the transport options:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Transport Options:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row; [first we empty the table]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5883_111" -->
<a id="c5883_111"></a><blockquote class="code"><p class="quoted">
To load the transport options:
<br />&#160;&#160;&#160;&#160;repeat with interesting room running through visited rooms which are not the Transporter Room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose a blank row in the Table of Transport Options;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the transport entry is the interesting room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5884_111" -->
<a id="c5884_111"></a><blockquote class="code"><p class="quoted">
Table of Transport Options
<br />transport
<br />an object
<br />with 3 blank rows. [In the current scenario, the number of blank rows need never be greater than the number of rooms in the game, minus the transport room itself.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5885_111" -->
<a id="c5885_111"></a><blockquote class="code"><p class="quoted">
Understand &quot;home&quot; as homing. Homing is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5886_111" -->
<a id="c5886_111"></a><blockquote class="code"><p class="quoted">
Check homing:
<br />&#160;&#160;&#160;&#160;if the player is in the Transporter Room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You're already here!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5887_111" -->
<a id="c5887_111"></a><blockquote class="code"><p class="quoted">
Carry out homing:
<br />&#160;&#160;&#160;&#160;move the player to the transporter room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5888_111" -->
<a id="c5888_111"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5889_111" -->
<a id="c5889_111"></a><blockquote class="code"><p class="quoted">
The Transporter Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5890_111" -->
<a id="c5890_111"></a><blockquote class="code"><p class="quoted">
Oodville is a visited room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5891_111" -->
<a id="c5891_111"></a><blockquote class="code"><p class="quoted">
Midnight is a visited room. The Diamond City is west of Midnight.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5892_111" -->
<a id="c5892_111"></a><blockquote class="code"><p class="quoted">
The transporter pad is an enterable supporter in the Transporter Room. &quot;The transporter pad in the middle of the floor is currently dull blue: powered but unoccupied.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5893_111" -->
<a id="c5893_111"></a><blockquote class="code"><p class="quoted">
After entering the transporter pad:
<br />&#160;&#160;&#160;&#160;say &quot;The transporter beeps and glows amber as you step onto its surface. A moment later a hologram displays your options. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;empty the transport options;
<br />&#160;&#160;&#160;&#160;load the transport options;
<br />&#160;&#160;&#160;&#160;list the transport options.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5894_111" -->
<a id="c5894_111"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get on pad / 0 / -1 / 8 / 2 / look / w / home / get on pad / get off pad / 3&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted to replace the regular command structure entirely with numbered menus, or use menus to hold conversation options, we could: several Inform extensions provide these functions.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "305: Straw Into Gold" "e367" -->
<a id="e367"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e367" class="eglink"><b>305</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e367" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Straw Into Gold</span></b></a><br />Creating a Rumpelstiltskin character who is always referred to as "dwarf", "guy", "dude", or "man" -- depending on which the player last used -- until the first time the player refers to him as "Rumpelstiltskin".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e367"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example367">
<!-- START CODE "c5895_367" -->
<a id="c5895_367"></a><blockquote class="code"><p class="quoted">
 &quot;Straw Into Gold&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5896_367" -->
<a id="c5896_367"></a><blockquote class="code"><p class="quoted">
The Cell is a room. Rumpelstiltskin is an improper-named man in the Cell.  Rumpelstiltskin can be identified or unidentified. Rumpelstiltskin is unidentified.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5897_367" -->
<a id="c5897_367"></a><blockquote class="code"><p class="quoted">
R-name is a kind of value. The R-names are dwarf, guy, dude, and man-thing. Rumpelstiltskin has an R-name. Understand &quot;[R-name]&quot; as Rumpelstiltskin.
</p></blockquote>
<!-- END CODE -->
<p>Our example is slightly complicated by the fact that &quot;man&quot; is a name already known to Inform, so we can't re-use it as a kind of value. This is possible to work around, though:</p>
<!-- START CODE "c5898_367" -->
<a id="c5898_367"></a><blockquote class="code"><p class="quoted">
Understand &quot;man&quot; as man-thing.
</p></blockquote>
<!-- END CODE -->
<p>Now we borrow from the Activities chapter to look at the exact wording of the player's command:</p>
<!-- START CODE "c5899_367" -->
<a id="c5899_367"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;[R-name]&quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the R-name of Rumpelstiltskin is the R-name understood;
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;Rumpelstiltskin&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now Rumpelstiltskin is identified;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now Rumpelstiltskin is proper-named.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5900_367" -->
<a id="c5900_367"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of Rumpelstiltskin when Rumpelstiltskin is unidentified:
<br />&#160;&#160;&#160;&#160;if the R-name of Rumpelstiltskin is man-thing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;man&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[R-name]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5901_367" -->
<a id="c5901_367"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x dwarf / x guy / x dude / look / x rumpelstiltskin / look / x man&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "306: Misadventure" "e89" -->
<a id="e89"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e89" class="eglink"><b>306</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e89" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Misadventure</span></b></a><br />A going by name command which does respect movement rules, and accepts names of rooms as commands.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e89"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example89">
<p>The original Adventure allowed the player to type the names of rooms in order to move to them, and it is now not too difficult for us to do the same. Adventure restricted this option to adjacent rooms, but we might want to be a bit more flexible, so we will accept any room:</p>
<!-- START CODE "c5902_89" -->
<a id="c5902_89"></a><blockquote class="code"><p class="quoted">
&quot;Misadventure&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5903_89" -->
<a id="c5903_89"></a><blockquote class="code"><p class="quoted">
Plover Room is a room. &quot;You're in a small chamber lit by an eerie green light. An extremely narrow tunnel exits to the west. A dark corridor leads northeast.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5904_89" -->
<a id="c5904_89"></a><blockquote class="code"><p class="quoted">
The Dark Corridor is northeast of Plover Room. Plover Room is south of the Dark Corridor. The printed name of the Dark Corridor is &quot;Dark Room&quot;. The description of the Dark Corridor is &quot;You're in the dark-room. A corridor leading south is the only exit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5905_89" -->
<a id="c5905_89"></a><blockquote class="code"><p class="quoted">
The Alcove is west of Plover Room. &quot;You are in an alcove. A small northwest path seems to widen after a short distance. An extremely tight tunnel leads east. It looks like a very tight squeeze. An eerie light can be seen at the other end.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5906_89" -->
<a id="c5906_89"></a><blockquote class="code"><p class="quoted">
Northwest of the Alcove is the Misty Cavern. The description of Misty Cavern is &quot;You are following a wide path around the outer edge of a large cavern. Far below, through a heavy white mist, strange splashing noises can be heard. The mist rises up through a fissure in the ceiling. The path exits to the south and west.&quot; West of Misty Cavern is the Alcove.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5907_89" -->
<a id="c5907_89"></a><blockquote class="code"><p class="quoted">
Understand &quot;[any room]&quot; as going by name. Understand &quot;go to [any room]&quot; as going by name.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5908_89" -->
<a id="c5908_89"></a><blockquote class="code"><p class="quoted">
Going by name is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<p>We should reject movement to the player's current location, or to anywhere he hasn't been and can't see:</p>
<!-- START CODE "c5909_89" -->
<a id="c5909_89"></a><blockquote class="code"><p class="quoted">
Check going by name:
<br />&#160;&#160;&#160;&#160;if the noun is the location, say &quot;You're already in [the location].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is not adjacent and the noun is unvisited, say &quot;That noun did not make sense in this context.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>The assumption here is that the player does know the names of the rooms adjacent to his current location, even if he hasn't been there yet.</p>
<p>Now for the travel itself. The simplest way to ensure that the usual movement rules will still apply is to convert GO BY NAME into a GO action, and here the best route comes to our aid:</p>
<!-- START CODE "c5910_89" -->
<a id="c5910_89"></a><blockquote class="code"><p class="quoted">
Carry out going by name:
<br />&#160;&#160;&#160;&#160;let aim be the best route from the location to the noun, using doors;
<br />&#160;&#160;&#160;&#160;if aim is not a direction, say &quot;You can't think how to get there from here.&quot; instead;
<br />&#160;&#160;&#160;&#160;say &quot;(heading [aim])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;try going aim;
<br />&#160;&#160;&#160;&#160;if the location is not the noun, say &quot;You'll have to stop here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This will allow the player to travel toward rooms he has already visited even if they are several moves away.</p>
<p>Finally, so that the player can also use the names of doors as commands:</p>
<!-- START CODE "c5911_89" -->
<a id="c5911_89"></a><blockquote class="code"><p class="quoted">
Understand &quot;[door]&quot; as entering.
</p></blockquote>
<!-- END CODE -->
<p>And in keeping with the original, we might add to our scenario a rule or two about restrictions on movement, just to test that it's all working right:</p>
<!-- START CODE "c5912_89" -->
<a id="c5912_89"></a><blockquote class="code"><p class="quoted">
The player carries a plover egg and a platinum pyramid. The description of the egg is &quot;Plover's eggs, by the way, are quite large.&quot; The printed name of the egg is &quot;emerald the size of a plover's egg&quot;. Understand &quot;emerald&quot; as the egg. The description of the pyramid is &quot;The platinum pyramid is 8 inches on a side!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5913_89" -->
<a id="c5913_89"></a><blockquote class="code"><p class="quoted">
Instead of going to the Plover Room from the Alcove when the player carries something which is not the plover egg:
<br />&#160;&#160;&#160;&#160;say &quot;Something you're carrying won't fit through the tunnel with you. You'd best take inventory and drop something.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5914_89" -->
<a id="c5914_89"></a><blockquote class="code"><p class="quoted">
Test me with &quot;go to misty cavern / go to dark corridor / go to plover room / go to alcove / go to dark corridor / drop pyramid / go to dark corridor / g / go to alcove / g / go to misty cavern&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "307: Safari Guide" "e229" -->
<a id="e229"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e229" class="eglink"><b>307</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e229" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Safari Guide</span></b></a><br />The same functionality, but making the player continue to move until he reaches his destination or a barrier, handling all openable doors on the way.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e229"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example229">
<p>The foregoing example moves the player one location towards his destination, and requires that rooms have been visited before. But suppose we wanted to be a bit more lenient about movement, and let the player make as many steps as necessary per turn. We will also show consideration about doors, using the &quot;Locksmith&quot; extension supplied with Inform. (Now every time the code attempts opening a door, unlocking rules will also be invoked.)</p>
<!-- START CODE "c5915_229" -->
<a id="c5915_229"></a><blockquote class="code"><p class="quoted">
&quot;Safari Guide&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5916_229" -->
<a id="c5916_229"></a><blockquote class="code"><p class="quoted">
Include Locksmith by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5917_229" -->
<a id="c5917_229"></a><blockquote class="code"><p class="quoted">
The Monkey House is a room. The African Grasslands Exhibit is north of the Monkey House. The bird door is north of the African Grasslands Exhibit and south of the Aviary. The Ostrich Enclosure is west of the Aviary. The bird door is a door. It is closed, lockable, and locked. The silver key is a passkey. It unlocks the bird door. The player carries the silver key.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5918_229" -->
<a id="c5918_229"></a><blockquote class="code"><p class="quoted">
Understand &quot;go to [any room]&quot; as going by name. Understand &quot;[any room]&quot; as going by name. Understand &quot;[door]&quot; as entering.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5919_229" -->
<a id="c5919_229"></a><blockquote class="code"><p class="quoted">
Going by name is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5920_229" -->
<a id="c5920_229"></a><blockquote class="code"><p class="quoted">
Check going by name:
<br />&#160;&#160;&#160;&#160;if the noun is the location, say &quot;You're already in [the location].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5921_229" -->
<a id="c5921_229"></a><blockquote class="code"><p class="quoted">
Carry out going by name:
<br />&#160;&#160;&#160;&#160;while the player is not in the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let heading be the best route from the location to the noun, using even locked doors;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if heading is not a direction, say &quot;You can't think how to get there from here.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let destination be the room heading from the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(heading [heading])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try going heading;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player is not in the destination, rule fails.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5922_229" -->
<a id="c5922_229"></a><blockquote class="code"><p class="quoted">
Test me with &quot;go to aviary / go to ostrich enclosure / african grasslands&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that we continue the movement until one of two things happens: either the player reaches the room that is his destination, or the going attempt doesn't work. In the latter case we stop the action in order to avoid hanging the game up in a loop. This event might occur when the player runs into a locked door, for instance.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "308: Palette" "e282" -->
<a id="e282"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e282" class="eglink"><b>308</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e282" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Palette</span></b></a><br />An artist's workshop in which the canvas can be painted in any colour, and where painterly names for pigments ("cerulean") are accepted alongside everyday ones ("blue").</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e282"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example282">
<p>There are hundreds of traditional pigments, from lampblack to burnt sienna, so we will confine ourselves to just two:</p>
<!-- START CODE "c5923_282" -->
<a id="c5923_282"></a><blockquote class="code"><p class="quoted">
&quot;Palette&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5924_282" -->
<a id="c5924_282"></a><blockquote class="code"><p class="quoted">
The Atelier is a room. &quot;The floridly untidy loft space used by a moderately unsuccessful artist (you, that is).&quot; The canvas, palette and paint brush are here. Understand &quot;painting&quot; as the canvas.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5925_282" -->
<a id="c5925_282"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are white, red, blue and green.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5926_282" -->
<a id="c5926_282"></a><blockquote class="code"><p class="quoted">
The canvas has a colour. The canvas is white. The printed name of the canvas is &quot;largely [colour] canvas&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5927_282" -->
<a id="c5927_282"></a><blockquote class="code"><p class="quoted">
Painting is an action applying to one thing and one colour. Check painting: if the noun is not the canvas, say &quot;Centuries of tradition suggest that canvas is the natural home of paint.&quot; instead. Carry out painting: now the colour of the canvas is the colour understood. Report painting: say &quot;You splash away at the now [canvas].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5928_282" -->
<a id="c5928_282"></a><blockquote class="code"><p class="quoted">
Understand &quot;paint [something] [a colour]&quot; as painting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5929_282" -->
<a id="c5929_282"></a><blockquote class="code"><p class="quoted">
Understand &quot;calico&quot; as white. Understand &quot;cerulean&quot; or &quot;cerulean blue&quot; as blue.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5930_282" -->
<a id="c5930_282"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine canvas / paint canvas red / examine canvas / paint canvas cerulean / examine canvas&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "309: Baritone, Bass" "e21" -->
<a id="e21"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e21" class="eglink"><b>309</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e21" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Baritone, Bass</span></b></a><br />Letting the player pick a gender (or perhaps other characteristics) before starting play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_5.html#e21"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example21">
<p>The &quot;reading a command&quot; activity is rather advanced; for the moment, what we need to understand is that we're intervening in commands at the start of play and insisting that the player's first instruction to the game consist of a choice of gender. After that point, the gender will be set and play will proceed as normal.</p>
<p>In order to do the parsing, we define gender as a kind of value, and give several alternate names to each gender.</p>
<!-- START CODE "c5931_21" -->
<a id="c5931_21"></a><blockquote class="code"><p class="quoted">
&quot;Baritone, Bass&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5932_21" -->
<a id="c5932_21"></a><blockquote class="code"><p class="quoted">
Getting Started is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5933_21" -->
<a id="c5933_21"></a><blockquote class="code"><p class="quoted">
Gender is a kind of value. The genders are masculine, feminine, and unknown. Understand &quot;male&quot; or &quot;man&quot; or &quot;M&quot; as masculine. Understand &quot;female&quot; or &quot;woman&quot; or &quot;F&quot; as feminine.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5934_21" -->
<a id="c5934_21"></a><blockquote class="code"><p class="quoted">
A person has a gender. The gender of the player is unknown.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5935_21" -->
<a id="c5935_21"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the command prompt is &quot;Please choose a gender for your character. &gt;&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5936_21" -->
<a id="c5936_21"></a><blockquote class="code"><p class="quoted">
After reading a command when the gender of the player is unknown:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;[gender]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the gender of the player is the gender understood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the gender of the player is unknown:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;This story requires a selection of male or female. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reject the player's command;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the gender of the player is masculine, now the player is male;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the gender of the player is feminine, now the player is female;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[line break]Thank you. We now begin...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the command prompt is &quot;&gt;&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the player to Sandy Beach;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reject the player's command;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Sorry, we're not ready to go on yet. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reject the player's command.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5937_21" -->
<a id="c5937_21"></a><blockquote class="code"><p class="quoted">
Sandy Beach is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5938_21" -->
<a id="c5938_21"></a><blockquote class="code"><p class="quoted">
Instead of examining the player when the player is female:
<br />&#160;&#160;&#160;&#160;say &quot;Congratulations, you are a girl!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5939_21" -->
<a id="c5939_21"></a><blockquote class="code"><p class="quoted">
Instead of examining the player when the player is male:
<br />&#160;&#160;&#160;&#160;say &quot;Congratulations, you are a boy!&quot;
</p></blockquote>
<!-- END CODE -->
<p>If we had a whole series of things to ask the player about, we might define a whole series of kinds of value</p>
<!-- START CODE "c5940_21" -->
<a id="c5940_21"></a><blockquote class="code"><p class="quoted">
The vocal ranges are soprano, mezzosoprano, contralto...
</p></blockquote>
<!-- END CODE -->
<p>and use a &quot;construction stage&quot; variable to keep track of the current stage of character-construction, as in</p>
<!-- START CODE "c5941_21" -->
<a id="c5941_21"></a><blockquote class="code"><p class="quoted">
After reading a command when the current construction stage is choosing a vocal range:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "310: Lies" "e225" -->
<a id="e225"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e225" class="eglink"><b>310</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e225" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lies</span></b></a><br />Commands to allow the player to lie down in three different ways.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e225"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example225">
<p>To set the scene, and make new actions to provide for two of these ways:</p>
<!-- START CODE "c5942_225" -->
<a id="c5942_225"></a><blockquote class="code"><p class="quoted">
&quot;Lies&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5943_225" -->
<a id="c5943_225"></a><blockquote class="code"><p class="quoted">
The Laundry is a room. &quot;An old Limehouse haunt, the Chinese laundry used by the down-trodden wives of the Tong of the Black Scorpion.&quot; The vast marble sink is here. &quot;There is nothing obviously oriental about the vast marble sink, which is large enough to lie down inside. A wooden-rack floor, equipped for easy drainage, turns out also to be equipped for snagging the shoes of passers-by.&quot; The sink is an enterable container, fixed in place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5944_225" -->
<a id="c5944_225"></a><blockquote class="code"><p class="quoted">
Lying down is an action applying to nothing. Report lying down: say &quot;You lie down for a while in the middle of the Laundry, wondering about the point of existence, then get up again.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5945_225" -->
<a id="c5945_225"></a><blockquote class="code"><p class="quoted">
Lying near is an action applying to one thing. Report lying near: say &quot;You lie down next to [the noun] for a while, mumbling to yourself.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5946_225" -->
<a id="c5946_225"></a><blockquote class="code"><p class="quoted">
Instead of lying near the sink, say &quot;Lying down close to the cool butcher's marble slabs of the sink, your attention is caught by the sight of coolie shoes through a floor-level grille for ventilation. The game is afoot!&quot;
</p></blockquote>
<!-- END CODE -->
<p>So far, so good. Now for the grammar, where we create two new tokens: one for each of two groups of alternative prepositions.</p>
<!-- START CODE "c5947_225" -->
<a id="c5947_225"></a><blockquote class="code"><p class="quoted">
Understand &quot;beneath/under/by/near/beside/alongside/against&quot; or &quot;next to&quot; or &quot;in front of&quot; as &quot;[beside]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5948_225" -->
<a id="c5948_225"></a><blockquote class="code"><p class="quoted">
Understand &quot;on/in/inside&quot; or &quot;on top of&quot; as &quot;[within]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5949_225" -->
<a id="c5949_225"></a><blockquote class="code"><p class="quoted">
Understand &quot;lie down&quot; as lying down.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5950_225" -->
<a id="c5950_225"></a><blockquote class="code"><p class="quoted">
Understand &quot;lie down [within] [something]&quot; as entering.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5951_225" -->
<a id="c5951_225"></a><blockquote class="code"><p class="quoted">
Understand &quot;lie [beside] [something]&quot; or &quot;lie down [beside] [something]&quot; as lying near.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5952_225" -->
<a id="c5952_225"></a><blockquote class="code"><p class="quoted">
Test me with &quot;lie down / lie down on top of the sink / get out / lie down inside the sink / get out / lie down in front of the sink&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "311: Aspect" "e16" -->
<a id="e16"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e16" class="eglink"><b>311</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e16" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Aspect</span></b></a><br />Understanding aspect ratios (a unit) in the names of televisions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e16"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example16">
<p>Named properties are not the only kind that Inform is able to understand referring to an object. We can also use unit and number properties to distinguish things from one another, as here, where televisions have aspect ratios:</p>
<!-- START CODE "c5953_16" -->
<a id="c5953_16"></a><blockquote class="code"><p class="quoted">
&quot;Aspect&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5954_16" -->
<a id="c5954_16"></a><blockquote class="code"><p class="quoted">
An aspect ratio is a kind of value. 16:9 specifies an aspect ratio.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5955_16" -->
<a id="c5955_16"></a><blockquote class="code"><p class="quoted">
A television is a kind of device. A television has an aspect ratio. Understand the aspect ratio property as referring to a television. Understand &quot;European standard&quot; as 16:9.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5956_16" -->
<a id="c5956_16"></a><blockquote class="code"><p class="quoted">
The Office is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5957_16" -->
<a id="c5957_16"></a><blockquote class="code"><p class="quoted">
The widescreen TV is a television in the Office. The fifties TV is a television in the Office. The widescreen TV is 16:9. The fifties TV is 4:3.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5958_16" -->
<a id="c5958_16"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine european standard tv / x 16:9 tv / x 4:3 tv&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "312: Hymenaeus" "e195" -->
<a id="e195"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e195" class="eglink"><b>312</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e195" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hymenaeus</span></b></a><br />Understanding "flaming torch" and "extinguished torch" to refer to torches when lit and unlit.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e195"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example195">
<!-- START CODE "c5959_195" -->
<a id="c5959_195"></a><blockquote class="code"><p class="quoted">
&quot;Hymenaeus&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5960_195" -->
<a id="c5960_195"></a><blockquote class="code"><p class="quoted">
A torch is kind of thing. Understand the lit property as describing a torch. Understand &quot;lighted&quot; or &quot;flaming&quot; or &quot;burning&quot; as lit. Understand &quot;extinguished&quot; as unlit. A torch is usually lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5961_195" -->
<a id="c5961_195"></a><blockquote class="code"><p class="quoted">
Before printing the name of a lit torch, say &quot;flaming &quot;.
<br />Before printing the name of an unlit torch, say &quot;extinguished &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5962_195" -->
<a id="c5962_195"></a><blockquote class="code"><p class="quoted">
The Wedding Procession is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5963_195" -->
<a id="c5963_195"></a><blockquote class="code"><p class="quoted">
Orpheus is a man in the Wedding Procession. Orpheus carries a torch.
<br />Eurydice is a woman in the Wedding Procession. Eurydice carries a torch.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5964_195" -->
<a id="c5964_195"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about someone (called target):
<br />&#160;&#160;&#160;&#160;say &quot;[The target] carries [a list of things carried by the target].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5965_195" -->
<a id="c5965_195"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 2 succeeds and a torch is lit:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let target torch be a random lit torch;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the target torch is unlit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Aquilo blows down from the north, extinguishing the torch carried by [the holder of the target torch].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5966_195" -->
<a id="c5966_195"></a><blockquote class="code"><p class="quoted">
Instead of examining a lit torch:
<br />&#160;&#160;&#160;&#160;say &quot;It casts a bright glow over [the holder of the noun].&quot;
<br />Instead of examining an unlit torch:
<br />&#160;&#160;&#160;&#160;say &quot;[The holder of the noun] is looking at it disconsolately, obviously worried about the omens.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5967_195" -->
<a id="c5967_195"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / look / x flaming torch / x extinguished torch&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "313: Channel 1" "e72" -->
<a id="e72"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e72" class="eglink"><b>313</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e72" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Channel 1</span></b></a><br />Understanding channels (a number) in the names of televisions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e72"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example72">
<p>We might want to allow every television to be tuned to a channel (a number property) which the player could refer to, so that</p>
<!-- START CODE "c5968_72" -->
<a id="c5968_72"></a><blockquote class="code"><p class="quoted">
WATCH CHANNEL 13
<br />TURN OFF CHANNEL 4
</p></blockquote>
<!-- END CODE -->
<p>would be directed to the appropriate television object, if any television is turned on and tuned to the correct station. We might now write:</p>
<!-- START CODE "c5969_72" -->
<a id="c5969_72"></a><blockquote class="code"><p class="quoted">
&quot;Channel&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5970_72" -->
<a id="c5970_72"></a><blockquote class="code"><p class="quoted">
A television is a kind of device. A television has a number called the channel. Understand the channel property as referring to a television. Understand &quot;channel&quot; as a television.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5971_72" -->
<a id="c5971_72"></a><blockquote class="code"><p class="quoted">
The Office is a room. The widescreen TV is a television in the Office. The fifties TV is a television in the Office.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5972_72" -->
<a id="c5972_72"></a><blockquote class="code"><p class="quoted">
Changing the channel of it to is an action applying to one thing and one number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5973_72" -->
<a id="c5973_72"></a><blockquote class="code"><p class="quoted">
Understand &quot;tune [something] to [number]&quot; or &quot;change channel of [something] to [number]&quot; as changing the channel of it to.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5974_72" -->
<a id="c5974_72"></a><blockquote class="code"><p class="quoted">
Check changing the channel of something to:
<br />&#160;&#160;&#160;&#160;if the noun is not a television, say &quot;[The noun] cannot be tuned to a channel.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5975_72" -->
<a id="c5975_72"></a><blockquote class="code"><p class="quoted">
Carry out changing the channel of something to:
<br />&#160;&#160;&#160;&#160;now the channel of the noun is the number understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5976_72" -->
<a id="c5976_72"></a><blockquote class="code"><p class="quoted">
Report changing the channel of something to:
<br />&#160;&#160;&#160;&#160;say &quot;You tune [the noun] to channel [number understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5977_72" -->
<a id="c5977_72"></a><blockquote class="code"><p class="quoted">
Instead of examining a television:
<br />&#160;&#160;&#160;&#160;if the noun is switched off, say &quot;[The noun] is currently turned off.&quot; instead;
<br />&#160;&#160;&#160;&#160;let the chosen channel be the channel of the noun;
<br />&#160;&#160;&#160;&#160;if the chosen channel is a current channel listed in the Table of Television Channels:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row with current channel of the chosen channel in the Table of Television Channels;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[output entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Snow fills the screen of [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5978_72" -->
<a id="c5978_72"></a><blockquote class="code"><p class="quoted">
Table of Television Channels
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">current channel</p></td><td class="quotedtablecell"><p class="quoted">output</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">&quot;The screen of [the noun] is completely black.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">4</p></td><td class="quotedtablecell"><p class="quoted">&quot;A gloomy female news anchor describes the latest car bomb in Baghdad: 104 dead today, and no sign of change.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">&quot;A couple of contestants in spangled scarlet outfits are performing an energetic paso doble.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">&quot;On-screen, Ichiro is up to bat with one man on second and no outs.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5979_72" -->
<a id="c5979_72"></a><blockquote class="code"><p class="quoted">
Test me with &quot;change channel of fifties tv to 4 / x channel 4 / switch on fifties / x channel 4 / switch on widescreen / tune fifties tv to 5 / x channel 5 / x fifties tv / x channel 4&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "314: Terracottissima" "e149" -->
<a id="e149"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e149" class="eglink"><b>314</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e149" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Terracottissima</span></b></a><br />The flowerpots once again, but this time arranged so that after the first breakage all undamaged pots are said to be "unbroken", to distinguish them from the others.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e149"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example149">
<p>This easiest way to do this uses the &quot;printing the name of&quot; activity, which will come up in the following chapter:</p>
<!-- START CODE "c5980_149" -->
<a id="c5980_149"></a><blockquote class="code"><p class="quoted">
&quot;Terracottissima&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5981_149" -->
<a id="c5981_149"></a><blockquote class="code"><p class="quoted">
A flowerpot is a kind of thing. Understand &quot;pot&quot; as a flowerpot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5982_149" -->
<a id="c5982_149"></a><blockquote class="code"><p class="quoted">
A flowerpot can be unbroken or broken. After dropping an unbroken flowerpot: say &quot;Crack!&quot;; now the noun is broken. Understand the broken property as describing a flowerpot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5983_149" -->
<a id="c5983_149"></a><blockquote class="code"><p class="quoted">
Before printing the name of a broken flowerpot, say &quot;broken &quot;. Before printing the name of an unbroken flowerpot: if a flowerpot is broken, say &quot;unbroken &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5984_149" -->
<a id="c5984_149"></a><blockquote class="code"><p class="quoted">
Before printing the plural name of a broken flowerpot, say &quot;broken &quot;. Before printing the plural name of an unbroken flowerpot: if a flowerpot is broken, say &quot;unbroken &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5985_149" -->
<a id="c5985_149"></a><blockquote class="code"><p class="quoted">
The Herb Garden is a room. In the Herb Garden are ten unbroken flowerpots.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5986_149" -->
<a id="c5986_149"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get three flowerpots / drop all / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "315: Peers" "e286" -->
<a id="e286"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e286" class="eglink"><b>315</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e286" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Peers</span></b></a><br />The peers of the English realm come in six flavours - Baron, Viscount, Earl, Marquess, Duke and Prince - and must always be addressed properly. While a peerage is for life, it may at the royal pleasure be promoted.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e286"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example286">
<p>Almost all of this example is the flummery of pomp and circumstance: only the first two paragraphs really do anything.</p>
<!-- START CODE "c5987_286" -->
<a id="c5987_286"></a><blockquote class="code"><p class="quoted">
&quot;Peers&quot; by Elizabeth II R
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5988_286" -->
<a id="c5988_286"></a><blockquote class="code"><p class="quoted">
A title is a kind of value. The titles are Baron, Viscount, Earl, Marquess, Duke and Prince.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5989_286" -->
<a id="c5989_286"></a><blockquote class="code"><p class="quoted">
A peer is a kind of man. A peer has a title. A peer is usually a Baron. Before printing the name of a peer, say &quot;[title] &quot;. Understand the title property as describing a peer.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5990_286" -->
<a id="c5990_286"></a><blockquote class="code"><p class="quoted">
The House of Lords is a room. Maltravers, Pollifax, Omnium and St Vincent are peers in the House of Lords. Omnium is a Duke. St Vincent is an Earl.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5991_286" -->
<a id="c5991_286"></a><blockquote class="code"><p class="quoted">
Ennobling is an action applying to one thing and one title.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5992_286" -->
<a id="c5992_286"></a><blockquote class="code"><p class="quoted">
Check ennobling:
<br />&#160;&#160;&#160;&#160;if the noun is the player, say &quot;The Sovereign is the fountain of honour, and may not be ennobled.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is not a peer, say &quot;Commoners should remain so.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the title of the noun is the title understood, say &quot;But that is his title already.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the title of the noun is greater than the title understood, say &quot;As he is already of the rank of [title of the noun], any such letters patent are liable to be deemed invalid, following the precedent of the Buckhurst Peerage Case (1876). Best not.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5993_286" -->
<a id="c5993_286"></a><blockquote class="code"><p class="quoted">
Carry out ennobling:
<br />&#160;&#160;&#160;&#160;now the title of the noun is the title understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5994_286" -->
<a id="c5994_286"></a><blockquote class="code"><p class="quoted">
Report ennobling:
<br />&#160;&#160;&#160;&#160;say &quot;'Whereas Our Parliament for arduous and urgent affairs concerning Us the state and defence of Our United Kingdom and the Church is now met at Our City of Westminster We strictly enjoining Command you upon the faith and allegiance by which you are bound to Us that the weightness of the said affairs and imminent perils considered (waiving all excuses) you be at the said day and place personally present with Us and with the said Prelates Great Men and Peers to treat and give your counsel upon the affairs aforesaid And this as you regard Us and Our honour and the safety and defence of the said Kingdom and Church and dispatch of the said affairs in nowise do you omit Witness Ourself at Westminster the Fifth day of November in the 43rd year of Our Reign,' you say, with unpunctuated serenity. The new [noun] bows stiffly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5995_286" -->
<a id="c5995_286"></a><blockquote class="code"><p class="quoted">
Understand &quot;dub [someone] a/an [title]&quot; as ennobling.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5996_286" -->
<a id="c5996_286"></a><blockquote class="code"><p class="quoted">
Test me with &quot;dub st vincent a baron / dub maltravers a marquess / look / examine marquess&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "316: Channel 2" "e73" -->
<a id="e73"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e73" class="eglink"><b>316</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e73" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Channel 2</span></b></a><br />Understanding channels (a number) in the names of televisions, with more sophisticated parsing of the change channel action.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e73"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example73">
<p>Our previous implementation of televisions (&quot;Channel 1&quot;) doesn't allow the player to type things like</p>
<!-- START CODE "c5997_73" -->
<a id="c5997_73"></a><blockquote class="code"><p class="quoted">
TUNE FIFTIES TELEVISION TO CHANNEL 4
</p></blockquote>
<!-- END CODE -->
<p>nor does it deal with player input like</p>
<!-- START CODE "c5998_73" -->
<a id="c5998_73"></a><blockquote class="code"><p class="quoted">
TUNE TO CHANNEL 4 ON FIFTIES TELEVISION
</p></blockquote>
<!-- END CODE -->
<p>or</p>
<!-- START CODE "c5999_73" -->
<a id="c5999_73"></a><blockquote class="code"><p class="quoted">
TUNE TO CHANNEL 4
</p></blockquote>
<!-- END CODE -->
<p>where no television is specified. When we are designing commands which involve two elements (here, a television and a channel number), it's usually a good idea to allow the player to specify those elements in either order, as we saw demonstrated briefly in &quot;New commands for old grammar&quot;.</p>
<p>We might, therefore, want to add a few refinements: first by defining a &quot;[channel]&quot; token that will accept input of the forms &quot;[number]&quot; and &quot;channel [number]&quot;, and second by creating some additional &quot;Understand&quot; lines that will accept variant versions of the player's input.</p>
<!-- START CODE "c6000_73" -->
<a id="c6000_73"></a><blockquote class="code"><p class="quoted">
&quot;Channel 2&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6001_73" -->
<a id="c6001_73"></a><blockquote class="code"><p class="quoted">
Section 1 - Televisions in General
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6002_73" -->
<a id="c6002_73"></a><blockquote class="code"><p class="quoted">
A television is a kind of device.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6003_73" -->
<a id="c6003_73"></a><blockquote class="code"><p class="quoted">
A television has a number called the channel. Understand the channel property as referring to a television. Understand &quot;channel&quot; as a television.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6004_73" -->
<a id="c6004_73"></a><blockquote class="code"><p class="quoted">
Changing the channel of it to is an action applying to one thing and one number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6005_73" -->
<a id="c6005_73"></a><blockquote class="code"><p class="quoted">
Understand &quot;tune [television] to [channel]&quot; or &quot;change channel of [television] to [channel]&quot; as changing the channel of it to.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6006_73" -->
<a id="c6006_73"></a><blockquote class="code"><p class="quoted">
Understand &quot;tune [something] to [channel]&quot; or &quot;change channel of [something] to [channel]&quot; as changing the channel of it to.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6007_73" -->
<a id="c6007_73"></a><blockquote class="code"><p class="quoted">
Understand &quot;tune to [channel] on [television]&quot; or &quot;change to [channel] on [television]&quot; as changing the channel of it to (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6008_73" -->
<a id="c6008_73"></a><blockquote class="code"><p class="quoted">
Understand &quot;tune to [channel] on [something]&quot; or &quot;change to [channel] on [something]&quot; as changing the channel of it to (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6009_73" -->
<a id="c6009_73"></a><blockquote class="code"><p class="quoted">
Understand &quot;[number]&quot; or &quot;channel [number]&quot; as &quot;[channel]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6010_73" -->
<a id="c6010_73"></a><blockquote class="code"><p class="quoted">
Check changing the channel of something to:
<br />&#160;&#160;&#160;&#160;if the noun is not a television, say &quot;[The noun] cannot be tuned to a channel.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6011_73" -->
<a id="c6011_73"></a><blockquote class="code"><p class="quoted">
Carry out changing the channel of something to:
<br />&#160;&#160;&#160;&#160;now the channel of the noun is the number understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6012_73" -->
<a id="c6012_73"></a><blockquote class="code"><p class="quoted">
Report changing the channel of something to:
<br />&#160;&#160;&#160;&#160;say &quot;You tune [the noun] to channel [number understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6013_73" -->
<a id="c6013_73"></a><blockquote class="code"><p class="quoted">
Instead of examining a television:
<br />&#160;&#160;&#160;&#160;if the noun is switched off, say &quot;[The noun] is currently turned off.&quot; instead;
<br />&#160;&#160;&#160;&#160;let the chosen channel be the channel of the noun;
<br />&#160;&#160;&#160;&#160;if the chosen channel is a current channel listed in the Table of Television Channels:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row with current channel of the chosen channel in the Table of Television Channels;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[output entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Snow fills the screen of [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6014_73" -->
<a id="c6014_73"></a><blockquote class="code"><p class="quoted">
Table of Television Channels
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">current channel</p></td><td class="quotedtablecell"><p class="quoted">output</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">&quot;The screen of [the noun] is completely black.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6015_73" -->
<a id="c6015_73"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6016_73" -->
<a id="c6016_73"></a><blockquote class="code"><p class="quoted">
The Office is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6017_73" -->
<a id="c6017_73"></a><blockquote class="code"><p class="quoted">
The widescreen TV is a television in the Office. The fifties TV is a television in the Office.
</p></blockquote>
<!-- END CODE -->
<p>And we add the scenario-specific content to our Table of Television Channels; in the case of channel 13, we provide for a changing sequence of events using text variations.</p>
<!-- START CODE "c6018_73" -->
<a id="c6018_73"></a><blockquote class="code"><p class="quoted">
Table of Television Channels (continued)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">current channel</p></td><td class="quotedtablecell"><p class="quoted">output</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">4</p></td><td class="quotedtablecell"><p class="quoted">&quot;A gloomy female news anchor describes the latest car bomb in Baghdad: 104 dead today, and no sign of change.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">&quot;A couple of contestants in spangled scarlet outfits are performing an energetic paso doble.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">&quot;[one of]On-screen, Ichiro is up to bat with one man on second and no outs.[or]Ichiro has singled to first and the other man is on third.[or]The next batter is in the middle of flying out.[or]Everything looks rosy until the men in black pull off a double-play and retire the side.[or]The channel has cut to a commercial.[stopping]&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6019_73" -->
<a id="c6019_73"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test one / test two&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6020_73" -->
<a id="c6020_73"></a><blockquote class="code"><p class="quoted">
Test one with &quot;change channel of fifties tv to 4 / x channel 4 / switch on fifties / x channel 4 / switch on widescreen / tune fifties tv to channel 5 / x channel 5 / x fifties tv / x channel 4&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6021_73" -->
<a id="c6021_73"></a><blockquote class="code"><p class="quoted">
Test two with &quot;tune to channel 13 / widescreen / tune channel 13 to channel 5 / tune channel 5 to channel 3 / widescreen / x channel 3&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "317: Terracottissima Maxima" "e378" -->
<a id="e378"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e378" class="eglink"><b>317</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e378" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Terracottissima Maxima</span></b></a><br />Flowerpots with textual names that might change during play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e378"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example378">
<p>Inform can also understand text properties:</p>
<!-- START CODE "c6022_378" -->
<a id="c6022_378"></a><blockquote class="code"><p class="quoted">
 &quot;Terracottissima Maxima&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6023_378" -->
<a id="c6023_378"></a><blockquote class="code"><p class="quoted">
A flowerpot is a kind of thing. A flowerpot has a text called pattern. Understand the pattern property as describing a flowerpot. The printed name of a flowerpot is usually &quot;[pattern] flowerpot&quot;. The printed plural name of a flowerpot is usually &quot;[pattern] flowerpots&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6024_378" -->
<a id="c6024_378"></a><blockquote class="code"><p class="quoted">
The Herb Garden is a room. In the Herb Garden is a flowerpot with pattern &quot;blue willow&quot;. In the Herb Garden is a flowerpot with pattern &quot;striped&quot;. In the Herb Garden is a flowerpot with pattern &quot;striped&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6025_378" -->
<a id="c6025_378"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x blue willow / get striped / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This may not seem very much different from having the pattern be a kind of value -- except that texts can, of course, hold almost anything. Further exploration of these possibilities may be found in the chapter on Advanced Text.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "318: Tilt 1" "e383" -->
<a id="e383"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e383" class="eglink"><b>318</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e383" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tilt 1</span></b></a><br />A deck of cards with fully implemented individual cards, which can be separately drawn and discarded, and referred to by name.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e383"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example383">
<p>We've simulated a deck of cards before, but only as entries in a table. This time we're going to do it more completely, with card objects that can be drawn and discarded, and referred to by name. The tedious way to do this would be to make 52 objects by hand and laboriously write out their names and understand rules.</p>
<p>A more sensible way is to make 52 identical card objects, assign them ranks and suits, and allow Inform to generate and parse their names automatically.</p>
<p>So:</p>
<!-- START CODE "c6026_383" -->
<a id="c6026_383"></a><blockquote class="code"><p class="quoted">
&quot;Tilt&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6027_383" -->
<a id="c6027_383"></a><blockquote class="code"><p class="quoted">
Section 1 - Cards
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6028_383" -->
<a id="c6028_383"></a><blockquote class="code"><p class="quoted">
Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand &quot;heart&quot; as hearts. Understand &quot;club&quot; as clubs. Understand &quot;diamond&quot; as diamonds. Understand &quot;spade&quot; as spades. [Providing the singular forms means that Inform will also understand &gt;EXAMINE SPADE, &gt;DISCARD CLUB, and so on.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6029_383" -->
<a id="c6029_383"></a><blockquote class="code"><p class="quoted">
A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6030_383" -->
<a id="c6030_383"></a><blockquote class="code"><p class="quoted">
52 cards are in the card repository.
</p></blockquote>
<!-- END CODE -->
<p>Now, we're going to describe the higher numbers as face cards, so it helps to write a new &quot;to say&quot; phrase, just as we did in Jokers Wild. (A subsequent version of this example shows how to print card values with red and black symbols representing the different suits; see &quot;Tilt 3&quot;.)</p>
<!-- START CODE "c6031_383" -->
<a id="c6031_383"></a><blockquote class="code"><p class="quoted">
To say (count - a number) as a card value:
<br />&#160;&#160;&#160;&#160;choose row count in the Table of Value Names;
<br />&#160;&#160;&#160;&#160;say &quot;[term entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6032_383" -->
<a id="c6032_383"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a card (called target):
<br />&#160;&#160;&#160;&#160;say &quot;[rank of the target as a card value] of [suit of the target]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6033_383" -->
<a id="c6033_383"></a><blockquote class="code"><p class="quoted">
Table of Value Names
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">term</p></td><td class="quotedtablecell"><p class="quoted">value</p></td><td class="quotedtablecell"><p class="quoted">topic</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ace&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;ace/A/one&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;deuce&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;deuce/two&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;3&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;4&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;5&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;6&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;7&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;8&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;9&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;10&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;jack&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;11&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;jack/knave/J&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;queen&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;12&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;queen/Q&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;king&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;13&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;king/K&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>This is enough already to let inform understand things like &quot;ten clubs&quot;, but we want to add a couple of refinements. For one thing, we'd like to accept &quot;of&quot; when it appears in phrases such as &quot;ten of clubs&quot; (but not generically otherwise); for another, we'd like the player to be able to use various names for ranks. To this end, we need to borrow from the Activities chapter and modify the player's command before attempting to understand it:</p>
<!-- START CODE "c6034_383" -->
<a id="c6034_383"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;of [suit]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while the player's command includes &quot;of&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cut the matched text;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Value Names:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while the player's command includes topic entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;replace the matched text with value entry.
<br />&#160;&#160;&#160;&#160;[This allows Inform to understand &quot;ace&quot;, &quot;deuce&quot;, &quot;king&quot;, etc., as numerical ranks.]
</p></blockquote>
<!-- END CODE -->
<p>It may be a bit confusing that the Table of Value Names has both a topic column and a term column, to all appearances essentially identical. But items in the topic column can be matched against the player's input, whereas items in other kinds of text column can be printed out; the two kinds of text are not treated identically by Inform, so we need to have both. Notice that the topic column contains entries like &quot;jack/knave,&quot; which will match either &quot;jack&quot; or &quot;knave&quot; in the player's input.</p>
<p>Now to set up the deck at the outset. With some intelligent looping, we avoid having to declare every combination of suit and number individually:</p>
<!-- START CODE "c6035_383" -->
<a id="c6035_383"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;reconstitute deck.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6036_383" -->
<a id="c6036_383"></a><blockquote class="code"><p class="quoted">
To reconstitute deck:
<br />&#160;&#160;&#160;&#160;let current suit be hearts;
<br />&#160;&#160;&#160;&#160;now every card is in the card repository;
<br />&#160;&#160;&#160;&#160;while a card is in the card repository:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with current rank running from 1 to 13:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let item be a random card in card repository;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now rank of item is current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now suit of item is current suit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now item is in the deck of cards;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current suit is the suit after the current suit.
</p></blockquote>
<!-- END CODE -->
<p>And now we need a simple setting and some actions to manipulate the deck with:</p>
<!-- START CODE "c6037_383" -->
<a id="c6037_383"></a><blockquote class="code"><p class="quoted">
Section 2 - The Deck and the Discard Pile
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6038_383" -->
<a id="c6038_383"></a><blockquote class="code"><p class="quoted">
The Empty Room is a room. &quot;Nothing to see here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6039_383" -->
<a id="c6039_383"></a><blockquote class="code"><p class="quoted">
The deck of cards is in the Empty Room. It is a closed unopenable container. The description is &quot;A standard poker deck.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6040_383" -->
<a id="c6040_383"></a><blockquote class="code"><p class="quoted">
The discard pile is a closed unopenable container. The description is &quot;Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6041_383" -->
<a id="c6041_383"></a><blockquote class="code"><p class="quoted">
To decide what number is the rounded number of (described set - a description of objects):
<br />&#160;&#160;&#160;&#160;let N be the number of members of the described set;
<br />&#160;&#160;&#160;&#160;let R be N divided by 5;
<br />&#160;&#160;&#160;&#160;let total be R times 5;
<br />&#160;&#160;&#160;&#160;decide on total.
</p></blockquote>
<!-- END CODE -->
<p>The above phrase rounds a number to the nearest five, so that the player is not autistically able to count a large number of cards in the discard pile at a single glance.</p>
<p>This next bit is an optional borrowing from the Activities chapter: we want to prevent Inform printing things like &quot;You can see a discard pile (closed) here.&quot;, since we don't want the player to think of the piles as containers, even though Inform thinks of them in those terms.</p>
<!-- START CODE "c6042_383" -->
<a id="c6042_383"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of something: do nothing instead.
</p></blockquote>
<!-- END CODE -->
<p>Finally, we want the player to use &quot;draw&quot; and &quot;discard&quot; to manipulate his hand of cards:</p>
<!-- START CODE "c6043_383" -->
<a id="c6043_383"></a><blockquote class="code"><p class="quoted">
Section 3 - Drawing and Discarding Actions
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6044_383" -->
<a id="c6044_383"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;take&quot; and &quot;carry&quot; and &quot;hold&quot; and &quot;get&quot; and &quot;drop&quot; and &quot;throw&quot; and &quot;discard&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6045_383" -->
<a id="c6045_383"></a><blockquote class="code"><p class="quoted">
Understand &quot;take [text]&quot; or &quot;get [text]&quot; or &quot;drop [text]&quot; as a mistake (&quot;Here, you only draw and discard. Nothing else matters at the moment.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6046_383" -->
<a id="c6046_383"></a><blockquote class="code"><p class="quoted">
Understand &quot;draw&quot; or &quot;draw card&quot; or &quot;draw a card&quot; as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6047_383" -->
<a id="c6047_383"></a><blockquote class="code"><p class="quoted">
Setting action variables for drawing:
<br />&#160;&#160;&#160;&#160;now the card drawn is a random card which is in the deck of cards.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6048_383" -->
<a id="c6048_383"></a><blockquote class="code"><p class="quoted">
Check drawing:
<br />&#160;&#160;&#160;&#160;if the card drawn is nothing, say &quot;The deck is completely depleted.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6049_383" -->
<a id="c6049_383"></a><blockquote class="code"><p class="quoted">
Check drawing:
<br />&#160;&#160;&#160;&#160;if the number of cards carried by the player is greater than four,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;This is a five-card game; you must discard something before drawing anything further.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6050_383" -->
<a id="c6050_383"></a><blockquote class="code"><p class="quoted">
Carry out drawing:
<br />&#160;&#160;&#160;&#160;move the card drawn to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6051_383" -->
<a id="c6051_383"></a><blockquote class="code"><p class="quoted">
Report drawing:
<br />&#160;&#160;&#160;&#160;say &quot;You draw [a card drawn].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6052_383" -->
<a id="c6052_383"></a><blockquote class="code"><p class="quoted">
Understand &quot;discard [card]&quot; as discarding. Discarding is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6053_383" -->
<a id="c6053_383"></a><blockquote class="code"><p class="quoted">
Check discarding:
<br />&#160;&#160;&#160;&#160;if the player does not carry the noun, say &quot;You can only discard cards from your own hand.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6054_383" -->
<a id="c6054_383"></a><blockquote class="code"><p class="quoted">
Carry out discarding:
<br />&#160;&#160;&#160;&#160;now the noun is in the discard pile;
<br />&#160;&#160;&#160;&#160;if the discard pile is not visible, move the discard pile to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6055_383" -->
<a id="c6055_383"></a><blockquote class="code"><p class="quoted">
Report discarding:
<br />&#160;&#160;&#160;&#160;say &quot;You toss [the noun] nonchalantly onto the discard pile.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6056_383" -->
<a id="c6056_383"></a><blockquote class="code"><p class="quoted">
Seeding is an action out of world. Understand &quot;seed&quot; as seeding. Carry out seeding: seed the random-number generator with 5681.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6057_383" -->
<a id="c6057_383"></a><blockquote class="code"><p class="quoted">
Test me with &quot;seed / draw / g / g / g / g / i / discard seven of spades / draw / discard six / draw / i / discard hearts / discard six of diamonds card / draw / draw / i / discard spades card / draw / discard king card&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "319: Cinco" "e79" -->
<a id="e79"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e79" class="eglink"><b>319</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e79" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Cinco</span></b></a><br />A taco shell that can be referred to (when it contains things) in terms of its contents.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e79"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example79">
<p>It's fairly common that we want to be able to refer to a container in terms of what it has in it: a bottle of wine, a salt shaker, a chicken sandwich. The player is free to remove the contents again, and the object will go back to using its usual name:</p>
<!-- START CODE "c6058_79" -->
<a id="c6058_79"></a><blockquote class="code"><p class="quoted">
&quot;Cinco&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6059_79" -->
<a id="c6059_79"></a><blockquote class="code"><p class="quoted">
Cinco de Mayo Fundraiser is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6060_79" -->
<a id="c6060_79"></a><blockquote class="code"><p class="quoted">
The taco shell is an edible thing in the Fundraiser. It is a portable container. It has carrying capacity 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6061_79" -->
<a id="c6061_79"></a><blockquote class="code"><p class="quoted">
Understand &quot;[something related by containment] taco&quot; as the taco.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6062_79" -->
<a id="c6062_79"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the taco shell while not inserting or removing:
<br />&#160;&#160;&#160;&#160;if the taco contains something (called filling), say &quot;[filling] taco&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;taco shell&quot;;
<br />&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6063_79" -->
<a id="c6063_79"></a><blockquote class="code"><p class="quoted">
The player carries shredded beef. It is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6064_79" -->
<a id="c6064_79"></a><blockquote class="code"><p class="quoted">
The taking action has an object called source (matched as &quot;from&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6065_79" -->
<a id="c6065_79"></a><blockquote class="code"><p class="quoted">
Setting action variables for taking:
<br />&#160;&#160;&#160;&#160;now source is the holder of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6066_79" -->
<a id="c6066_79"></a><blockquote class="code"><p class="quoted">
Report taking something from the taco shell:
<br />&#160;&#160;&#160;&#160;say &quot;You gingerly pick [the noun] out of the taco shell.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6067_79" -->
<a id="c6067_79"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x taco / put shredded beef in taco / get taco / i / x shredded beef taco / get shredded beef / x shredded beef taco&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "320: Puncak Jaya" "e306" -->
<a id="e306"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e306" class="eglink"><b>320</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e306" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Puncak Jaya</span></b></a><br />When a character is not visible, responding to such commands as EXAMINE PETER and PETER, HELLO with a short note that the person in question is no longer visible.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_5.html#e306"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example306">
<p>By default, when something is not present, Inform does not allow a player to refer to it. But there are times when we might like to acknowledge that the thing mentioned in a command does exist somewhere in the game; it just happens not to be on hand right now.</p>
<p>One way to do this is to make an object that appears everywhere and responds to the name of its owner only when the owner itself is not in view.</p>
<!-- START CODE "c6068_306" -->
<a id="c6068_306"></a><blockquote class="code"><p class="quoted">
&quot;Puncak Jaya&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6069_306" -->
<a id="c6069_306"></a><blockquote class="code"><p class="quoted">
A ghost is a kind of person. A man-ghost is a kind of ghost. A man-ghost is always male. A woman-ghost is a kind of ghost. A woman-ghost is always female.
</p></blockquote>
<!-- END CODE -->
<p>We make the ghost a person rather than some other kind of thing so that it will be able to respond to commands such as KISS BOB or (even trickier) BOB, JUMP: if Inform did not recognize the ghost as an animate creature, it would not accept such input.</p>
<!-- START CODE "c6070_306" -->
<a id="c6070_306"></a><blockquote class="code"><p class="quoted">
Representation relates one ghost to one person. The verb to represent means the representation relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6071_306" -->
<a id="c6071_306"></a><blockquote class="code"><p class="quoted">
One man-ghost represents every man. One woman-ghost represents every woman.
</p></blockquote>
<!-- END CODE -->
<p>This is, technically, an assembly -- except instead of saying that every device has a button part, or that there are three daffodils in every garden room, the assembly is based on a non-physical relation that we just designed.</p>
<p>Based on the &quot;representation&quot; relation, we now devise a conditional relation that applies only when the represented thing is not itself in view:</p>
<!-- START CODE "c6072_306" -->
<a id="c6072_306"></a><blockquote class="code"><p class="quoted">
Indication relates a ghost (called X) to a person (called Y) when X represents Y and Y is not visible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6073_306" -->
<a id="c6073_306"></a><blockquote class="code"><p class="quoted">
Understand &quot;[something related by indication]&quot; as a ghost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6074_306" -->
<a id="c6074_306"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every ghost is in the concept-repository.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6075_306" -->
<a id="c6075_306"></a><blockquote class="code"><p class="quoted">
Instead of doing something to a ghost:
<br />&#160;&#160;&#160;&#160;say &quot;You seem to have left [a random person which is represented by the noun] behind.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6076_306" -->
<a id="c6076_306"></a><blockquote class="code"><p class="quoted">
Instead of doing something when the second noun is a ghost:
<br />&#160;&#160;&#160;&#160;say &quot;You seem to have left [a random person which is represented by the second noun] behind.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6077_306" -->
<a id="c6077_306"></a><blockquote class="code"><p class="quoted">
The concept-repository is an open unopenable transparent container. It is part of the air. The air is a backdrop. It is everywhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6078_306" -->
<a id="c6078_306"></a><blockquote class="code"><p class="quoted">
Base of Puncak Jaya is a room. Temple, Kippax, and Huizenga are men in Base. Peak of Puncak Jaya is above Base of Puncak Jaya.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6079_306" -->
<a id="c6079_306"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x kippax / up / x kippax / kiss kippax / kippax, hello&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Further complications of this example might require that the player meet a character before being able to refer to him or her.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "321: Whither?" "e436" -->
<a id="e436"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e436" class="eglink"><b>321</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e436" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Whither?</span></b></a><br />A door whose description says where it leads; and which automatically understands references such as "the west door" and "the east door" depending on which direction it leads from the location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e436"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example436">
<p>Here we expand on the simple examples When? and Whence?; this time we want the player to be able to refer to doors by their directions, as in &quot;the west door&quot; when the door in question does in fact lead west.</p>
<!-- START CODE "c6080_436" -->
<a id="c6080_436"></a><blockquote class="code"><p class="quoted">
&quot;Whither?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6081_436" -->
<a id="c6081_436"></a><blockquote class="code"><p class="quoted">
The temporal vortex is an open door. It is west of Yesterday and east of Today.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6082_436" -->
<a id="c6082_436"></a><blockquote class="code"><p class="quoted">
The initial appearance of a door is usually &quot;Nearby [an item described] leads [if the other side of the item described is visited][direction of the item described from the location] to [the other side][otherwise][direction of the item described from the location][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6083_436" -->
<a id="c6083_436"></a><blockquote class="code"><p class="quoted">
Direction-relevance relates a door (called X) to a direction (called Y) when the direction of X from the location is Y. The verb to be directionally-relevant to means the direction-relevance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6084_436" -->
<a id="c6084_436"></a><blockquote class="code"><p class="quoted">
Understand &quot;[something related by direction-relevance] door&quot; as a door.
</p></blockquote>
<!-- END CODE -->
<p>As an added touch, we respond also to the case where the player postulates a door in some direction when there is no such thing at the moment:</p>
<!-- START CODE "c6085_436" -->
<a id="c6085_436"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error when the player's command includes &quot;[non-door direction] door&quot;:
<br />&#160;&#160;&#160;&#160;say &quot;There is no door in that direction.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6086_436" -->
<a id="c6086_436"></a><blockquote class="code"><p class="quoted">
Definition: a direction (called direction D) is non-door:
<br />&#160;&#160;&#160;&#160;let the target be the room-or-door direction D from the location;
<br />&#160;&#160;&#160;&#160;if the target is a door:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;no;
<br />&#160;&#160;&#160;&#160;yes;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6087_436" -->
<a id="c6087_436"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine west door / x east door / w / x w door / x e door / tie me to the west door / tie the west door to me / push the west door east / push the east door west&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "322: Claims Adjustment" "e82" -->
<a id="e82"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e82" class="eglink"><b>322</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e82" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Claims Adjustment</span></b></a><br />An instant camera that spits out photographs of anything the player chooses to take a picture of.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e82"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example82">
<p>We start by creating a camera and a photograph object. As usual when we want to have a kind of object that can be dispensed in bulk, we start off with a bunch of identical instances of the object out of play (in this case, kept in an out-of-play container called &quot;film roll&quot;); we can then move them into play and give them characteristics when they're needed.</p>
<p>Each photograph can depict exactly one thing -- we're assuming that the player is not a landscape photographer here -- so we create a relation to indicate what is shown by each photograph. We'll then use that relation to determine how photographs are described, named, and parsed:</p>
<!-- START CODE "c6088_82" -->
<a id="c6088_82"></a><blockquote class="code"><p class="quoted">
&quot;Claims Adjustment&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6089_82" -->
<a id="c6089_82"></a><blockquote class="code"><p class="quoted">
A photograph is a kind of thing. 36 photographs are in the film roll.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6090_82" -->
<a id="c6090_82"></a><blockquote class="code"><p class="quoted">
Appearance relates one thing to various photographs. The verb to be shown by means the appearance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6091_82" -->
<a id="c6091_82"></a><blockquote class="code"><p class="quoted">
The description of a photograph is usually &quot;It shows [a random thing which is shown by the item described].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6092_82" -->
<a id="c6092_82"></a><blockquote class="code"><p class="quoted">
Understand &quot;of [something related by reversed appearance]&quot; as a photograph.
</p></blockquote>
<!-- END CODE -->
<p>This allows the player to refer to any photograph by its subject: useful if we have a large number of them.</p>
<p>Now we create an action to let the player use the camera and generate these photograph objects:</p>
<!-- START CODE "c6093_82" -->
<a id="c6093_82"></a><blockquote class="code"><p class="quoted">
The player carries a cheap instant camera.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6094_82" -->
<a id="c6094_82"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [something] with [camera]&quot; as photographing. Understand &quot;photograph [something] with [something preferably held]&quot; as photographing. Photographing is an action applying to one visible thing and one carried thing, requiring light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6095_82" -->
<a id="c6095_82"></a><blockquote class="code"><p class="quoted">
The photographing action has an object called the selected film.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6096_82" -->
<a id="c6096_82"></a><blockquote class="code"><p class="quoted">
Setting action variables for photographing:
<br />&#160;&#160;&#160;&#160;let N be a random photograph in the film roll;
<br />&#160;&#160;&#160;&#160;now the selected film is N.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6097_82" -->
<a id="c6097_82"></a><blockquote class="code"><p class="quoted">
Check photographing:
<br />&#160;&#160;&#160;&#160;if the second noun is not the camera, say &quot;You need a camera for that purpose.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6098_82" -->
<a id="c6098_82"></a><blockquote class="code"><p class="quoted">
Check photographing:
<br />&#160;&#160;&#160;&#160;if the noun is the camera, say &quot;Sadly impossible.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6099_82" -->
<a id="c6099_82"></a><blockquote class="code"><p class="quoted">
Check photographing:
<br />&#160;&#160;&#160;&#160;if the selected film is nothing, say &quot;You're out of film.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6100_82" -->
<a id="c6100_82"></a><blockquote class="code"><p class="quoted">
Carry out photographing:
<br />&#160;&#160;&#160;&#160;now the noun is shown by the selected film;
<br />&#160;&#160;&#160;&#160;move the selected film to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6101_82" -->
<a id="c6101_82"></a><blockquote class="code"><p class="quoted">
Report photographing:
<br />&#160;&#160;&#160;&#160;say &quot;Your camera instantly spits out [a selected film].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we use two activities from the Activities chapter to describe the photographs to the player more elegantly:</p>
<!-- START CODE "c6102_82" -->
<a id="c6102_82"></a><blockquote class="code"><p class="quoted">
After printing the name of a photograph (called target):
<br />&#160;&#160;&#160;&#160;say &quot; of [a random thing which is shown by the target]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6103_82" -->
<a id="c6103_82"></a><blockquote class="code"><p class="quoted">
After printing the plural name of a photograph (called target):
<br />&#160;&#160;&#160;&#160;let N be the holder of the target;
<br />&#160;&#160;&#160;&#160;say &quot; of [a list of things which are shown by photographs which are held by N]&quot;;
<br />&#160;&#160;&#160;&#160;if the number of things which are shown by photographs which are held by N is greater than one, say &quot; (variously)&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And finally we provide a brief scenario to give the player something to take pictures of:</p>
<!-- START CODE "c6104_82" -->
<a id="c6104_82"></a><blockquote class="code"><p class="quoted">
The Treasure Room is a room. &quot;Despite the fancy name, this is no more than a closet -- albeit a closet with its own special circuit on the house alarm.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6105_82" -->
<a id="c6105_82"></a><blockquote class="code"><p class="quoted">
The Treasure Room contains a small Degas, a Ming vase, and a collection of South African krugerrands. The player is carrying insurance forms, a first-class stamp, and a security envelope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6106_82" -->
<a id="c6106_82"></a><blockquote class="code"><p class="quoted">
The description of the forms is &quot;Completely filled out in black ink in block letters: now all you need to do is attach photographic evidence of the objects you wish to insure.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6107_82" -->
<a id="c6107_82"></a><blockquote class="code"><p class="quoted">
Test me with &quot;photograph degas / i / photograph degas / i / x photograph of degas / photograph me / x photograph of me / i / photograph vase / photograph camera / photograph collection / g / i / test more&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6108_82" -->
<a id="c6108_82"></a><blockquote class="code"><p class="quoted">
Test more with &quot;x photograph of collection / x photograph of krugerrands / x photograph of collection of south african krugerrands / photograph photograph of degas / x photograph of photograph of degas&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "323: Quiz Show" "e312" -->
<a id="e312"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e312" class="eglink"><b>323</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e312" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Quiz Show</span></b></a><br />In this example by Mike Tarbert, the player can occasionally be quizzed on random data from a table; the potential answers will only be understood if a question has just been asked.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e312"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example312">
<!-- START CODE "c6109_312" -->
<a id="c6109_312"></a><blockquote class="code"><p class="quoted">
&quot;Quiz Show&quot; by Mike Tarbert
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6110_312" -->
<a id="c6110_312"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6111_312" -->
<a id="c6111_312"></a><blockquote class="code"><p class="quoted">
Answer mode is a truth state that varies.
<br />Current state is a text that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6112_312" -->
<a id="c6112_312"></a><blockquote class="code"><p class="quoted">
Guessing is an action applying to one topic.
<br />Understand &quot;[text]&quot; as guessing when answer mode is true.
</p></blockquote>
<!-- END CODE -->
<p>Because of the &quot;...when&quot; part of this line, random text is only treated as an answer when a question is being asked.</p>
<!-- START CODE "c6113_312" -->
<a id="c6113_312"></a><blockquote class="code"><p class="quoted">
Check guessing (this is the default wrong answer rule):
<br />&#160;&#160;&#160;&#160;if the topic understood is not a topic listed in the Table of Dates of Statehood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Wrong!&quot;;
<br />&#160;&#160;&#160;&#160;now answer mode is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6114_312" -->
<a id="c6114_312"></a><blockquote class="code"><p class="quoted">
Carry out guessing a topic listed in the Table of Dates of Statehood:
<br />&#160;&#160;&#160;&#160;if state entry is the current state:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Correct! ([comment entry], to be exact!)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the score by one;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Wrong!&quot;;
<br />&#160;&#160;&#160;&#160;now answer mode is false.
</p></blockquote>
<!-- END CODE -->
<p>This next rule allows a player to do something other than answer the question, but then makes him wait for another question before answering.</p>
<!-- START CODE "c6115_312" -->
<a id="c6115_312"></a><blockquote class="code"><p class="quoted">
Before doing anything other than guessing:
<br />&#160;&#160;&#160;&#160;if answer mode is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(ignoring the question)[line break]&quot;;
<br />&#160;&#160;&#160;&#160;now answer mode is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6116_312" -->
<a id="c6116_312"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6117_312" -->
<a id="c6117_312"></a><blockquote class="code"><p class="quoted">
The Lab is a room.  Sam is a man in the lab.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6118_312" -->
<a id="c6118_312"></a><blockquote class="code"><p class="quoted">
Every turn when the player is in the lab:
<br />&#160;&#160;&#160;&#160;if a random chance of 3 in 5 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose a random row in the Table of Dates of Statehood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Sam asks you, 'In what year was [state entry] admitted into the Union?'&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current state is state entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now answer mode is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6119_312" -->
<a id="c6119_312"></a><blockquote class="code"><p class="quoted">
Table of Dates of Statehood
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">State</p></td><td class="quotedtablecell"><p class="quoted">Topic</p></td><td class="quotedtablecell"><p class="quoted">Comment</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Florida&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1845&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;March 3rd&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Delaware&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1787&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;December 7th&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Hawaii&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1960&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;July 4th&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6120_312" -->
<a id="c6120_312"></a><blockquote class="code"><p class="quoted">
Test me with &quot;1845 / z / z / 1787 / 1792 / z / 1845 / g&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that the situation will become a little more complicated if we have two or more identical topics in our trivia list; in that case, we would need to loop through the Table of Dates of Statehood explicitly, and only mark the player wrong if none of the lines were found to match. (See the chapter on Tables for many more ways to manipulate table behavior.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "324: Bibliophilia" "e32" -->
<a id="e32"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e32" class="eglink"><b>324</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e32" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bibliophilia</span></b></a><br />A bookshelf with a number of books, where the player's command to examine something will be interpreted as an attempt to look up titles if the bookshelf is present, but otherwise given the usual response.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e32"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example32">
<p>Suppose we want a bookshelf with a very large number of books on it. They aren't to be taken or carried around in the game, but they should be mentioned, and the player should be allowed to look them up by name. Furthermore, the player's attempts to examine something unrecognized should be understood as an attempt to look up a title -- but only when the player is in the presence of the books. The rest of the time such requests should be rejected in the usual way.</p>
<!-- START CODE "c6121_32" -->
<a id="c6121_32"></a><blockquote class="code"><p class="quoted">
&quot;Bibliophilia&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6122_32" -->
<a id="c6122_32"></a><blockquote class="code"><p class="quoted">
The Graduate Lounge is a room. &quot;Shabby sofas; plastic cups remaining from the afternoon's pre-lecture espresso; a collection of Xena and Hercules figurines posed for ironic effect. It's somewhat depressing at this hour, when everyone has gone home.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6123_32" -->
<a id="c6123_32"></a><blockquote class="code"><p class="quoted">
The Classics Reading Room is south of the Lounge. &quot;Not as large a collection as the one in the Library, but it contains copies of everything really essential for reference.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6124_32" -->
<a id="c6124_32"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [text]&quot; as examining as a book when the player is in the Reading Room. Understand &quot;look up [text]&quot; as examining as a book when the player is in the Reading Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6125_32" -->
<a id="c6125_32"></a><blockquote class="code"><p class="quoted">
Examining as a book is an action applying to one topic.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6126_32" -->
<a id="c6126_32"></a><blockquote class="code"><p class="quoted">
Carry out examining as a book:
<br />&#160;&#160;&#160;&#160;say &quot;You can't find any such text.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6127_32" -->
<a id="c6127_32"></a><blockquote class="code"><p class="quoted">
Instead of examining as a book a topic listed in the Table of Book Titles:
<br />&#160;&#160;&#160;&#160;say &quot;[description entry][paragraph break]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6128_32" -->
<a id="c6128_32"></a><blockquote class="code"><p class="quoted">
Table of Book Titles
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">title</p></td><td class="quotedtablecell"><p class="quoted">description</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Reading Greek Death&quot; or &quot;reading/greek/death&quot; or &quot;greek death&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Reading Greek Death&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A dense orange paperback treatise on the development of Greek eschatology.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;TAPA/Transactions/134-2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;TAPA 134-2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Transactions of the American Philological Association from 2004.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Oxford Classical Dictionary&quot; or &quot;OCD/dictionary/classical/oxford&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Oxford Classical Dictionary&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A hefty reference with short articles on everything from Greek meter to ancient cosmetics.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Collected Dialogues of Plato&quot; or &quot;Plato/dialogues/hamilton/cairns&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Collected Dialogues of Plato&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;All the Platonic dialogues -- some, admittedly, in rather tired translations -- but still a useful single volume, ed. Edith Hamilton and Huntington Cairns.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Adobe Illustrator CS User Guide&quot; or &quot;user guide&quot; or &quot;adobe illustrator&quot; or &quot;adobe/illustrator/cs/user/guide&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Adobe Illustrator CS User Guide&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Hello, how did this get here? A suspiciously familiar name is scribbled inside the front cover...&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6129_32" -->
<a id="c6129_32"></a><blockquote class="code"><p class="quoted">
Some books are scenery in the Reading Room. Understand &quot;copies&quot; or &quot;book&quot; or &quot;shelf&quot; or &quot;shelves&quot; as the books. Instead of examining the books:
<br />&#160;&#160;&#160;&#160;choose a random row in the Table of Book Titles;
<br />&#160;&#160;&#160;&#160;say &quot;You scan the shelves and notice, among others, a volume entitled [italic type][title entry][roman type].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6130_32" -->
<a id="c6130_32"></a><blockquote class="code"><p class="quoted">
Test me with &quot;south / examine ocd / examine books / examine books / examine plato / n / x hercules / s / x hercules&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now if we type &gt;X HERCULES in the Lounge, we will get</p>
<!-- START CODE "c6131_32" -->
<a id="c6131_32"></a><blockquote class="code"><p class="quoted">
&gt;x hercules
<br />You can't see any such thing.
</p></blockquote>
<!-- END CODE -->
<p>thanks to our somewhat slovenly implementation of the Lounge scenery; but in the Reading Room,</p>
<!-- START CODE "c6132_32" -->
<a id="c6132_32"></a><blockquote class="code"><p class="quoted">
&gt;x hercules
<br />You can't find any such text.
</p></blockquote>
<!-- END CODE -->
<p>In practice we might also want to extend our coverage somewhat to handle a case where the player tried to take books from the bookshelf: currently that would not be understood.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "325: Pot of Petunias" "e298" -->
<a id="e298"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e298" class="eglink"><b>325</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e298" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pot of Petunias</span></b></a><br />Responding sensibly to a pot of petunias falling from the sky.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e298"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example298">
<p>Suppose we have an object that makes a dramatic entrance on the scene, like so:</p>
<!-- START CODE "c6133_298" -->
<a id="c6133_298"></a><blockquote class="code"><p class="quoted">
&quot;Pot of Petunias&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6134_298" -->
<a id="c6134_298"></a><blockquote class="code"><p class="quoted">
Wide Open Field is a room. &quot;A big field under a big sky. The clouds are puffy, the trees are handsome.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6135_298" -->
<a id="c6135_298"></a><blockquote class="code"><p class="quoted">
Some clouds and some trees are scenery in Wide Open Field. The description of the clouds is &quot;That one looks like Yoda's head.&quot; The description of the trees is &quot;You've never been much good at botany, so it's anyone's guess what kind they are.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6136_298" -->
<a id="c6136_298"></a><blockquote class="code"><p class="quoted">
A rock is in Wide Open Field. The description of the rock is &quot;It looks like it's been here from the dawn of time.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6137_298" -->
<a id="c6137_298"></a><blockquote class="code"><p class="quoted">
The broken flower pot is a thing. The description of the broken flower pot is &quot;It contains the remains of some abused petunias.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6138_298" -->
<a id="c6138_298"></a><blockquote class="code"><p class="quoted">
At 9:01 am:
<br />&#160;&#160;&#160;&#160;move the broken flower pot to the location;
<br />&#160;&#160;&#160;&#160;say &quot;Quite unexpectedly, a flower pot falls from the sky and breaks open on the ground. Good thing you weren't standing six inches to the left.&quot;;
<br />&#160;&#160;&#160;&#160;set pronouns from the broken flower pot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6139_298" -->
<a id="c6139_298"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x it / x it / x it&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we leave out the &quot;set pronouns...&quot; line here, we'll wind up with the following very unsatisfactory end to our test transcript:</p>
<!-- START CODE "c6140_298" -->
<a id="c6140_298"></a><blockquote class="code"><p class="quoted">
Quite unexpectedly, a flower pot falls from the sky and breaks open on the ground. Good thing you weren't standing six inches to the left.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6141_298" -->
<a id="c6141_298"></a><blockquote class="code"><p class="quoted">
&gt;[3] x it
<br />It looks like it's been here from the dawn of time.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "326: Masochism Deli" "e297" -->
<a id="e297"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e297" class="eglink"><b>326</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e297" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Masochism Deli</span></b></a><br />Multiple potatoes, with rules to make the player drop the hot potato first and pick it up last.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e297"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example297">
<p>Here the player has several potatoes; we would like to make him more likely to drop the hot one, and more likely to pick up the cold one, all else being equal. At the same time, we want to phrase our rules so that they don't make the player try to take something he's already holding, or drop something he isn't.</p>
<p>So:</p>
<!-- START CODE "c6142_297" -->
<a id="c6142_297"></a><blockquote class="code"><p class="quoted">
&quot;Masochism Deli&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6143_297" -->
<a id="c6143_297"></a><blockquote class="code"><p class="quoted">
The Masochism Deli is a room. &quot;Recent restructurings of corporate policy restrict the 'lunch hour' to exactly thirty-two minutes, which means that no one has time to go out. Instead, you and your coworkers eat here, in the company's very own themed lunch room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6144_297" -->
<a id="c6144_297"></a><blockquote class="code"><p class="quoted">
The plural of potato is potatoes. A potato is a kind of thing. A potato is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6145_297" -->
<a id="c6145_297"></a><blockquote class="code"><p class="quoted">
Temperature is a kind of value. The temperatures are hot and cold. A potato has a temperature. A potato is usually cold.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6146_297" -->
<a id="c6146_297"></a><blockquote class="code"><p class="quoted">
Understand the temperature property as describing a potato. Before printing the name of a potato (called subject): say &quot;[temperature of subject] &quot;. Before printing the plural name of a potato (called subject): say &quot;[temperature of subject] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6147_297" -->
<a id="c6147_297"></a><blockquote class="code"><p class="quoted">
Does the player mean dropping a hot potato which is carried by the player: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6148_297" -->
<a id="c6148_297"></a><blockquote class="code"><p class="quoted">
Does the player mean taking a cold potato which is not carried by the player: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6149_297" -->
<a id="c6149_297"></a><blockquote class="code"><p class="quoted">
The player carries three potatoes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6150_297" -->
<a id="c6150_297"></a><blockquote class="code"><p class="quoted">
After dropping a hot potato:
<br />&#160;&#160;&#160;&#160;say &quot;The guy from Cube B sneers at your lack of potato-holding stamina.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6151_297" -->
<a id="c6151_297"></a><blockquote class="code"><p class="quoted">
When play begins: now a random potato is hot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6152_297" -->
<a id="c6152_297"></a><blockquote class="code"><p class="quoted">
Test me with &quot;inventory / drop potato / g / g / get potato / g / i / get potato&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "327: The Best Till Last" "e30" -->
<a id="e30"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e30" class="eglink"><b>327</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e30" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Best Till Last</span></b></a><br />Reordering multiple objects for dramatic effect.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e30"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example30">
<p>If a single command asks to do many things, some dull and some exciting, we may want to save the good ones for the end.</p>
<!-- START CODE "c6153_30" -->
<a id="c6153_30"></a><blockquote class="code"><p class="quoted">
&quot;The Best Till Last&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6154_30" -->
<a id="c6154_30"></a><blockquote class="code"><p class="quoted">
The Funky Ignition Lounge is a room. &quot;This is where all evenings end.&quot; The stick of gelignite, the solid magnesium footstool, the vetiver candle, and the vodka bottle are here.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6155_30" -->
<a id="c6155_30"></a><blockquote class="code"><p class="quoted">
The burn description of the vetiver candle is &quot;It burns right down, expensively but gothically.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6156_30" -->
<a id="c6156_30"></a><blockquote class="code"><p class="quoted">
The player carries an inexpensive firework. The description of the firework is &quot;It is a cardboard tube with red and green stripes along the outside, and a fuse sticking out of the end.&quot; The burn description of the firework is &quot;It ignites gloriously! You take a few hasty steps back in order to avoid burning yourself, and not a moment too soon. Red and green sparks fly out of the tube, and there's a whistling noise punctuated by several loud cracks.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6157_30" -->
<a id="c6157_30"></a><blockquote class="code"><p class="quoted">
The player carries a lighter. The description of the lighter is &quot;You don't smoke, but you like to have access to flame now and then anyway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6158_30" -->
<a id="c6158_30"></a><blockquote class="code"><p class="quoted">
Burning it with is an action applying to one thing and one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6159_30" -->
<a id="c6159_30"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [things] with [something preferably held]&quot; as burning it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6160_30" -->
<a id="c6160_30"></a><blockquote class="code"><p class="quoted">
The block burning rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6161_30" -->
<a id="c6161_30"></a><blockquote class="code"><p class="quoted">
A thing has some text called the burn description.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6162_30" -->
<a id="c6162_30"></a><blockquote class="code"><p class="quoted">
Check burning something:
<br />&#160;&#160;&#160;&#160;if the player carries the lighter:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try burning the noun with the lighter;
<br />&#160;&#160;&#160;&#160;else:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try burning the noun with the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6163_30" -->
<a id="c6163_30"></a><blockquote class="code"><p class="quoted">
Check burning something with something when the second noun is not the lighter:
<br />&#160;&#160;&#160;&#160;say &quot;Your trusty lighter is the best flame source available to you.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6164_30" -->
<a id="c6164_30"></a><blockquote class="code"><p class="quoted">
Check burning something with something:
<br />&#160;&#160;&#160;&#160;if the burn description of the noun is &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Best not.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6165_30" -->
<a id="c6165_30"></a><blockquote class="code"><p class="quoted">
Carry out burning something with something:
<br />&#160;&#160;&#160;&#160;remove the noun from play.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6166_30" -->
<a id="c6166_30"></a><blockquote class="code"><p class="quoted">
Report burning something with something:
<br />&#160;&#160;&#160;&#160;say &quot;[burn description of the noun][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6167_30" -->
<a id="c6167_30"></a><blockquote class="code"><p class="quoted">
A multiple action processing rule when the action name part of the current action is the burning it with action (this is the orderly burn rule):
<br />&#160;&#160;&#160;&#160;let L be the multiple object list;
<br />&#160;&#160;&#160;&#160;let dull list be a list of objects;
<br />&#160;&#160;&#160;&#160;let fun list be a list of objects;
<br />&#160;&#160;&#160;&#160;repeat with item running through L:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the burn description of the item is &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add item to dull list;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add item to fun list;
<br />&#160;&#160;&#160;&#160;let F be the dull list;
<br />&#160;&#160;&#160;&#160;add fun list to F;
<br />&#160;&#160;&#160;&#160;alter the multiple object list to F.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6168_30" -->
<a id="c6168_30"></a><blockquote class="code"><p class="quoted">
Test me with &quot;burn all with lighter&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "328: Western Art History 305" "e162" -->
<a id="e162"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e162" class="eglink"><b>328</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e162" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Western Art History 305</span></b></a><br />Allowing EXAMINE to see multiple objects with a single command.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e162"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example162">
<p>In a gallery, there are many individual things to look at, but you can also get a general impression by just examining them as a collection.</p>
<p>First, we'll make a kind for the paintings exhibited in the gallery, and then we'll also make a special object to represent all of them as a mass:</p>
<!-- START CODE "c6169_162" -->
<a id="c6169_162"></a><blockquote class="code"><p class="quoted">
&quot;Western Art History 305&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6170_162" -->
<a id="c6170_162"></a><blockquote class="code"><p class="quoted">
A painting is a kind of thing. A painting is usually fixed in place. Understand &quot;painting&quot; as a painting. Understand &quot;paintings&quot; as the plural of painting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6171_162" -->
<a id="c6171_162"></a><blockquote class="code"><p class="quoted">
The painting-collective is a thing. The printed name of the painting-collective is &quot;paintings&quot;. The description of the painting-collective is &quot;There's [a list of visible paintings].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We could if we wanted tweak the description to be different in style in different rooms of the gallery, but this will do for now. Next we need to make it possible to type something like EXAMINE PAINTINGS, which normally wouldn't work because the Standard Rules don't tell Inform to recognise multiple objects with the EXAMINE command (unlike, say, DROP or TAKE). This is easy:</p>
<!-- START CODE "c6172_162" -->
<a id="c6172_162"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [things]&quot; as examining.
</p></blockquote>
<!-- END CODE -->
<p>Now to make use of the special object. If the player types EXAMINE PAINTINGS, the multiple object list will become a list of the visible paintings. The following rule looks at this list: if it contains more than one painting, it replaces them with the painting-collective instead. Now there's only one examining action, so we get a reply like &quot;There's an abstract painting, a pointilist painting and a French academic painting.&quot; instead of a list of descriptions of each in turn.</p>
<!-- START CODE "c6173_162" -->
<a id="c6173_162"></a><blockquote class="code"><p class="quoted">
A multiple action processing rule when the current action is examining (this is the examine kinds rule):
<br />&#160;&#160;&#160;&#160;let L be the multiple object list;
<br />&#160;&#160;&#160;&#160;let F be L;
<br />&#160;&#160;&#160;&#160;let the painting count be 0;
<br />&#160;&#160;&#160;&#160;repeat with item running through L:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is a painting:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the painting count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;remove the item from F;
<br />&#160;&#160;&#160;&#160;if the painting count is greater than one:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add the painting-collective to F;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alter the multiple object list to F.
</p></blockquote>
<!-- END CODE -->
<p>And now some art to try this out on:</p>
<!-- START CODE "c6174_162" -->
<a id="c6174_162"></a><blockquote class="code"><p class="quoted">
Gallery is a room. &quot;Various paintings hang on the walls of this gallery, awaiting critical attention. A side chamber to the north contains smaller works.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6175_162" -->
<a id="c6175_162"></a><blockquote class="code"><p class="quoted">
The abstract painting, the pointilist painting, and the French academic painting are paintings in the Gallery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6176_162" -->
<a id="c6176_162"></a><blockquote class="code"><p class="quoted">
North of the Gallery is the Side Chamber. A handsome miniature is a painting in the Side Chamber. The description of the handsome miniature is &quot;The miniature depicts a uniformed soldier of the late 18th century, with braid on his shoulders and a curl in his beard.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6177_162" -->
<a id="c6177_162"></a><blockquote class="code"><p class="quoted">
The player carries a small notebook. The description of the notebook is &quot;It contains the notes you've taken so far towards a paper for Western Art History 305. So far you're still feeling a bit uninspired.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6178_162" -->
<a id="c6178_162"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x paintings / x all / n / x paintings / x all&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "329: Query" "e311" -->
<a id="e311"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e311" class="eglink"><b>329</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e311" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Query</span></b></a><br />Catching all questions that begin with WHO, WHAT, WHERE, and similar question words, and responding with the instruction to use commands, instead.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e311"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example311">
<p>First, we create a single &quot;[query]&quot; token so that we can capture all instances of such sentences in a single line:</p>
<!-- START CODE "c6179_311" -->
<a id="c6179_311"></a><blockquote class="code"><p class="quoted">
&quot;Query&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6180_311" -->
<a id="c6180_311"></a><blockquote class="code"><p class="quoted">
Blank Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6181_311" -->
<a id="c6181_311"></a><blockquote class="code"><p class="quoted">
Understand &quot;who&quot; or &quot;what&quot; or &quot;when&quot; or &quot;where&quot; or &quot;why&quot; or &quot;how&quot; or &quot;who's&quot; or &quot;what's&quot; or &quot;when's&quot; or &quot;where's&quot; or &quot;why's&quot; or &quot;how's&quot; as &quot;[query]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6182_311" -->
<a id="c6182_311"></a><blockquote class="code"><p class="quoted">
Understand &quot;[query] [text]&quot; as a mistake (&quot;[story title] understands commands, such as '[command prompt]examine [a random thing that can be seen by the player]', but not questions. For more instructions, type HELP.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6183_311" -->
<a id="c6183_311"></a><blockquote class="code"><p class="quoted">
Test me with &quot;who am I? / who are you? / where is this place?&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now the game will respond to all questions novice players might type with this reminder to look for help information.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "330: The Gorge at George" "e374" -->
<a id="e374"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e374" class="eglink"><b>330</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e374" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Gorge at George</span></b></a><br />If the player tries to TALK TO a character, suggest alternative modes of conversation.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e374"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example374">
<!-- START CODE "c6184_374" -->
<a id="c6184_374"></a><blockquote class="code"><p class="quoted">
&quot;Gorge at George&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6185_374" -->
<a id="c6185_374"></a><blockquote class="code"><p class="quoted">
The Dusty Lot is a room. &quot;A few miles up the road from the concert venue, but at least it's cheap to park here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6186_374" -->
<a id="c6186_374"></a><blockquote class="code"><p class="quoted">
The motorcyclist is a man in the Dusty Lot. &quot;A man clad in [a list of things worn by the motorcyclist] leans against his Harley and watches you without saying anything.&quot; The Harley is scenery in the Lot. The motorcyclist wears a black leather jacket and shades. Understand &quot;man&quot; or &quot;guy&quot; as the motorcyclist.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6187_374" -->
<a id="c6187_374"></a><blockquote class="code"><p class="quoted">
Understand &quot;talk to [someone]&quot; as a mistake (&quot;To start a conversation, try to ASK [the noun] ABOUT something or TELL [the noun] ABOUT something.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6188_374" -->
<a id="c6188_374"></a><blockquote class="code"><p class="quoted">
Instead of asking the motorcyclist about something:
<br />&#160;&#160;&#160;&#160;say &quot;He smirks cryptically.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6189_374" -->
<a id="c6189_374"></a><blockquote class="code"><p class="quoted">
Instead of telling the motorcyclist about something:
<br />&#160;&#160;&#160;&#160;say &quot;This does not seem to interest him much.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6190_374" -->
<a id="c6190_374"></a><blockquote class="code"><p class="quoted">
Test me with &quot;talk to motorcyclist / ask motorcyclist about himself / tell motorcyclist about me&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "331: Hot Glass Looks Like Cold Glass" "e105" -->
<a id="e105"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e105" class="eglink"><b>331</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e105" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hot Glass Looks Like Cold Glass</span></b></a><br />Responding to references to a property that the player isn't yet allowed to mention (or when not to use "understand as a mistake").</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e105"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example105">
<p>Suppose we have a situation where the player is allowed to talk about the heat of an object only if he's properly equipped to detect it.</p>
<!-- START CODE "c6191_105" -->
<a id="c6191_105"></a><blockquote class="code"><p class="quoted">
&quot;Hot Glass Looks Like Cold Glass&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6192_105" -->
<a id="c6192_105"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6193_105" -->
<a id="c6193_105"></a><blockquote class="code"><p class="quoted">
Heat is a kind of value. The heats are hot, warm, room temperature, and cold. A thing has a heat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6194_105" -->
<a id="c6194_105"></a><blockquote class="code"><p class="quoted">
Understand the heat property as referring to a thing when the player wears the infrared goggles.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6195_105" -->
<a id="c6195_105"></a><blockquote class="code"><p class="quoted">
The Test Kitchen is a room. &quot;Your own personal lab, ready for scrupulously scientific recipe research. You hope. The previous three runs of this did not go well.&quot; The pair of infrared goggles is carried by the player. The description is &quot;A pair of head-mounted IR goggles which look very foolish when worn.&quot; The goggles are wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6196_105" -->
<a id="c6196_105"></a><blockquote class="code"><p class="quoted">
A glass dish is a kind of container. A glass dish is transparent. Three room temperature glass dishes are on the counter. Two hot glass dishes are on the counter. Two cold glass dishes are on the counter. The counter is scenery in the Test Kitchen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6197_105" -->
<a id="c6197_105"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than examining to a hot glass dish:
<br />&#160;&#160;&#160;&#160;say &quot;Ow! Crikey! You swear, and Claudia makes a sympathetic hiss. 'You're going to have a mark from that for sure,' she comments.&quot;;
<br />&#160;&#160;&#160;&#160;decrease the score by 2.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6198_105" -->
<a id="c6198_105"></a><blockquote class="code"><p class="quoted">
Instead of doing something when a hot glass dish is the second noun:
<br />&#160;&#160;&#160;&#160;say &quot;You brush [the second noun], and wince, but manage to conceal that from Claudia.&quot;;
<br />&#160;&#160;&#160;&#160;decrement the score.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6199_105" -->
<a id="c6199_105"></a><blockquote class="code"><p class="quoted">
Before printing the name of a glass dish when the player wears the goggles: say &quot;[heat] &quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6200_105" -->
<a id="c6200_105"></a><blockquote class="code"><p class="quoted">
Before printing the plural name of a glass dish when the player wears the goggles: say &quot;[heat] &quot;
</p></blockquote>
<!-- END CODE -->
<p>So far, so good. Now, what if the player tries to GET HOT DISH when the goggles are off? &quot;You can't see any such thing.&quot; doesn't seem like quite the right response: he can see such a thing. He just doesn't know which it is.</p>
<p>We could go on to write a mistake rule that would scold the player for trying &quot;get [heat] [text]&quot; when not wearing the goggles. The problem is that this would not cover any other phrasing of the command, nor would it account for all the many other things the player might try to do with an object specified by heat.</p>
<p>What we really want is to catch all instances of the player using the property name when not allowed to do so; and for this purpose we can borrow a trick from the chapter on Activities:</p>
<!-- START CODE "c6201_105" -->
<a id="c6201_105"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player wears the goggles, make no decision;
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;[heat]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Without the IR goggles on, you cannot tell hot things from cold at sight.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6202_105" -->
<a id="c6202_105"></a><blockquote class="code"><p class="quoted">
Claudia is a woman in the Test Kitchen. &quot;Your assistant Claudia stands by with [a list of things carried by Claudia].&quot; The description of Claudia is &quot;Infinitely patient and a very good stenographer. She is studiously avoiding giving you any sort of look that might be construed as mocking.&quot; Claudia carries a notepad, a brined chicken breast, a blowtorch, and a cup of heavy cream.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6203_105" -->
<a id="c6203_105"></a><blockquote class="code"><p class="quoted">
Instead of asking Claudia for something which is carried by Claudia:
<br />&#160;&#160;&#160;&#160;move the second noun to the player;
<br />&#160;&#160;&#160;&#160;say &quot;'Check, [second noun],' repeats Claudia, in the tone of one who has seen too many medical dramas. She does hand it over, though.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6204_105" -->
<a id="c6204_105"></a><blockquote class="code"><p class="quoted">
Instead of asking Claudia for something:
<br />&#160;&#160;&#160;&#160;say &quot;She clears her throat faintly and glances at [the second noun], as though to say that it's not hers to give.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6205_105" -->
<a id="c6205_105"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get all / drop all / look / wear goggles / look / ask claudia for cream / put cream in hot dish / put cream in cold dish / remove goggles / get hot dish&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "332: Some Assembly Required" "e345" -->
<a id="e345"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e345" class="eglink"><b>332</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e345" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Some Assembly Required</span></b></a><br />Building different styles of shirt from component sleeves and collars.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e345"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example345">
<p>We now have the mechanisms in place to do some fairly sophisticated renaming of objects. For instance:</p>
<!-- START CODE "c6206_345" -->
<a id="c6206_345"></a><blockquote class="code"><p class="quoted">
&quot;Some Assembly Required&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6207_345" -->
<a id="c6207_345"></a><blockquote class="code"><p class="quoted">
Garment type is a kind of value. The garment types are vest, t-shirt, polo shirt, mandarin blouse, button-down, shell, experiment.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6208_345" -->
<a id="c6208_345"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;assign identities.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6209_345" -->
<a id="c6209_345"></a><blockquote class="code"><p class="quoted">
When play begins: assign identities.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6210_345" -->
<a id="c6210_345"></a><blockquote class="code"><p class="quoted">
To assign identities:
<br />&#160;&#160;&#160;&#160;repeat with item running through torsos:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reassess item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6211_345" -->
<a id="c6211_345"></a><blockquote class="code"><p class="quoted">
To reassess (item - a torso):
<br />&#160;&#160;&#160;&#160;if the number of things which are part of the item is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now garment type of the item is vest;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if exactly two short sleeves are part of the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a collar is part of the item,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now garment type of the item is polo shirt;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now garment type of the item is t-shirt;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if exactly two long sleeves are part of the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a collar is part of the item,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now garment type of the item is button-down;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now garment type of the item is mandarin blouse;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if a collar is part of the item and the number of sleeves which are part of the item is 0, now garment type of the item is shell;
<br />&#160;&#160;&#160;&#160;otherwise now garment type of the item is experiment.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6212_345" -->
<a id="c6212_345"></a><blockquote class="code"><p class="quoted">
Before cutting something which is worn by the player:
<br />&#160;&#160;&#160;&#160;try taking off the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6213_345" -->
<a id="c6213_345"></a><blockquote class="code"><p class="quoted">
Instead of cutting something when something is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;You cut up [the noun], snipping off [a list of things which are part of the noun].&quot;;
<br />&#160;&#160;&#160;&#160;now every thing which is part of the noun is in the holder of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6214_345" -->
<a id="c6214_345"></a><blockquote class="code"><p class="quoted">
Instead of cutting something which is part of something:
<br />&#160;&#160;&#160;&#160;say &quot;You carefully snip [the noun] free.&quot;;
<br />&#160;&#160;&#160;&#160;now the player carries the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6215_345" -->
<a id="c6215_345"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a torso: say &quot;[garment type]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6216_345" -->
<a id="c6216_345"></a><blockquote class="code"><p class="quoted">
A torso is a kind of thing. A torso is always wearable. Understand &quot;shirt&quot; or &quot;blouse&quot; as a torso. A torso has a garment type. Understand the garment type property as describing a torso. A sleeve is a kind of thing. A short sleeve is a kind of sleeve. A long sleeve is a kind of sleeve. A collar is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6217_345" -->
<a id="c6217_345"></a><blockquote class="code"><p class="quoted">
Understand &quot;sew [something] to [something]&quot; as affixing it to. Affixing it to is an action applying to two things. Carry out affixing something to something: now the noun is part of the second noun. Report affixing something to something: assign identities; say &quot;You sew [the noun] on, creating [a second noun].&quot; Understand the command &quot;stitch&quot; as &quot;sew&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6218_345" -->
<a id="c6218_345"></a><blockquote class="code"><p class="quoted">
Instead of affixing something to something when the second noun is worn: say &quot;You're wearing [the second noun]!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6219_345" -->
<a id="c6219_345"></a><blockquote class="code"><p class="quoted">
Instead of affixing a torso to something:
<br />&#160;&#160;&#160;&#160;if the second noun is a torso, say &quot;Couture for Siamese twins is a daring field, but a bit of a niche market.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise try affixing the second noun to the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6220_345" -->
<a id="c6220_345"></a><blockquote class="code"><p class="quoted">
Instead of affixing a sleeve to something when at least two sleeves are part of the second noun: say &quot;[The second noun] already sports [a list of sleeves that are part of the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6221_345" -->
<a id="c6221_345"></a><blockquote class="code"><p class="quoted">
Instead of affixing a collar to something when a collar is part of the second noun: say &quot;[The second noun] already sports [a list of collars that are part of the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6222_345" -->
<a id="c6222_345"></a><blockquote class="code"><p class="quoted">
Instead of examining something when something is part of the noun: say &quot;Stitched to [the noun] [is-are a list of things which are part of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here is where the issue of precedence arises. We want to encourage Inform to select a cuttable object that is part of something else, rather than one of the spares:</p>
<!-- START CODE "c6223_345" -->
<a id="c6223_345"></a><blockquote class="code"><p class="quoted">
Definition: a thing is removable if it is part of something. Understand &quot;cut [removable thing]&quot; as cutting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6224_345" -->
<a id="c6224_345"></a><blockquote class="code"><p class="quoted">
The Boutique is a room. &quot;Still festively strewn with the confetti and streamers of the Grand Opening party, and still almost totally customer-free.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6225_345" -->
<a id="c6225_345"></a><blockquote class="code"><p class="quoted">
The player carries a torso. The player carries three short sleeves. The player carries two long sleeves. The player carries two collars.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6226_345" -->
<a id="c6226_345"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sew collar to shirt / i / sew short sleeve to shirt / g / i / x polo shirt / cut collar / i / cut shirt / sew long sleeve to shirt / i / sew long sleeve to shirt / i / sew collar to shirt / g / i / wear button-down&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "333: Lakeside Living" "e212" -->
<a id="e212"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_17.html#e212" class="eglink"><b>333</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17.html#e212" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lakeside Living</span></b></a><br />Similar to "Lemonade", but with bodies of liquid that can never be depleted, and some adjustments to the "fill" command so that it will automatically attempt to fill from a large liquid source if possible.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e212"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example212">
<p>Much of what follows is identical to &quot;Lemonade&quot; earlier; the new material begins at Part 2.</p>
<!-- START CODE "c6227_212" -->
<a id="c6227_212"></a><blockquote class="code"><p class="quoted">
&quot;Lakeside Living&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6228_212" -->
<a id="c6228_212"></a><blockquote class="code"><p class="quoted">
A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6229_212" -->
<a id="c6229_212"></a><blockquote class="code"><p class="quoted">
A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called current volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6230_212" -->
<a id="c6230_212"></a><blockquote class="code"><p class="quoted">
The fluid capacity of a fluid container is usually 12.0 fl oz. The current volume of a fluid container is usually 0.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6231_212" -->
<a id="c6231_212"></a><blockquote class="code"><p class="quoted">
Liquid is a kind of value. The liquids are water, absinthe, and iced tea. A fluid container has a liquid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6232_212" -->
<a id="c6232_212"></a><blockquote class="code"><p class="quoted">
Instead of examining a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You catch just a hint of [the liquid of the noun] at the bottom.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] contains [current volume of the noun in rough terms] of [liquid of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6233_212" -->
<a id="c6233_212"></a><blockquote class="code"><p class="quoted">
To say (amount - a volume) in rough terms:
<br />&#160;&#160;&#160;&#160;if the amount is less than 0.5 fl oz:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a swallow or two&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let estimate be ounces part of amount;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[estimate in words] or [estimate plus 1 in words] fluid ounces&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;about [ounces part of amount in words] fluid ounce[s]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6234_212" -->
<a id="c6234_212"></a><blockquote class="code"><p class="quoted">
Before printing the name of a fluid container (called the target) while not drinking or pouring:
<br />&#160;&#160;&#160;&#160;if the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;empty &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6235_212" -->
<a id="c6235_212"></a><blockquote class="code"><p class="quoted">
After printing the name of a fluid container (called the target) while not examining or pouring:
<br />&#160;&#160;&#160;&#160;unless the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; of [liquid of the target]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6236_212" -->
<a id="c6236_212"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] has too narrow a mouth to accept anything but liquids.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6237_212" -->
<a id="c6237_212"></a><blockquote class="code"><p class="quoted">
Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6238_212" -->
<a id="c6238_212"></a><blockquote class="code"><p class="quoted">
Understand &quot;drink from [fluid container]&quot; as drinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6239_212" -->
<a id="c6239_212"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is no more [liquid of the noun] within.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the current volume of the noun by 0.2 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current volume of the noun is less than 0.0 fl oz, now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You take a sip of [the liquid of the noun][if the noun is empty], leaving [the noun] empty[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6240_212" -->
<a id="c6240_212"></a><blockquote class="code"><p class="quoted">
Part 2 - Filling
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6241_212" -->
<a id="c6241_212"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;fill&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<p>Here we want Inform to prefer full liquid sources to other containers when it chooses an end to a player's unfinished or ambiguous command. And so:</p>
<!-- START CODE "c6242_212" -->
<a id="c6242_212"></a><blockquote class="code"><p class="quoted">
Understand &quot;fill [fluid container] with/from [full liquid source]&quot; as filling it with. Understand &quot;fill [fluid container] with/from [fluid container]&quot; as filling it with.
</p></blockquote>
<!-- END CODE -->
<p>Both grammar lines point to the same ultimate outcome; the purpose of specifying both is to tell Inform to check thoroughly for full liquid sources before falling back on other fluid containers when making its decisions.</p>
<!-- START CODE "c6243_212" -->
<a id="c6243_212"></a><blockquote class="code"><p class="quoted">
Understand &quot;fill [something] with/from [something]&quot; as filling it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6244_212" -->
<a id="c6244_212"></a><blockquote class="code"><p class="quoted">
Filling it with is an action applying to two things. Carry out filling it with: try pouring the second noun into the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6245_212" -->
<a id="c6245_212"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [fluid container] in/into/on/onto [fluid container]&quot; as pouring it into. Understand &quot;empty [fluid container] into [fluid container]&quot; as pouring it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6246_212" -->
<a id="c6246_212"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [something] in/into/on/onto [something]&quot; as pouring it into. Understand &quot;empty [something] into [something]&quot; as pouring it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6247_212" -->
<a id="c6247_212"></a><blockquote class="code"><p class="quoted">
Pouring it into is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6248_212" -->
<a id="c6248_212"></a><blockquote class="code"><p class="quoted">
Check pouring it into:
<br />&#160;&#160;&#160;&#160;if the noun is not a fluid container, say &quot;You can't pour [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a fluid container, say &quot;You can't pour liquids into [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the second noun, say &quot;You can hardly pour [the noun] into itself.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the liquid of the noun is not the liquid of the second noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second noun is empty, now the liquid of the second noun is the liquid of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;Mixing [the liquid of the noun] with [the liquid of the second noun] would give unsavory results.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;No more [liquid of the noun] remains in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is full, say &quot;[The second noun] cannot contain any more than it already holds.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6249_212" -->
<a id="c6249_212"></a><blockquote class="code"><p class="quoted">
Carry out pouring it into:
<br />&#160;&#160;&#160;&#160;let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;
<br />&#160;&#160;&#160;&#160;if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;
<br />&#160;&#160;&#160;&#160;increase the current volume of the second noun by available capacity;
<br />&#160;&#160;&#160;&#160;decrease the current volume of the noun by available capacity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6250_212" -->
<a id="c6250_212"></a><blockquote class="code"><p class="quoted">
Report pouring it into:
<br />&#160;&#160;&#160;&#160;say &quot;[if the noun is empty][The noun] is now empty;[otherwise][The noun] now contains [current volume of the noun in rough terms] of [liquid of the noun]; [end if]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[the second noun] contains [current volume of the second noun in rough terms] of [liquid of the second noun][if the second noun is full], and is now full[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6251_212" -->
<a id="c6251_212"></a><blockquote class="code"><p class="quoted">
Understand the liquid property as describing a fluid container. Understand &quot;of&quot; as a fluid container.
</p></blockquote>
<!-- END CODE -->
<p>And now we add our liquid source kind, which will represent lakes, absinthe fountains, and any other infinite supplies of liquid we might need. Note that 3276.7 is the largest possible number of fluid ounces available to us.</p>
<!-- START CODE "c6252_212" -->
<a id="c6252_212"></a><blockquote class="code"><p class="quoted">
A liquid source is a kind of fluid container. A liquid source has a liquid. A liquid source is usually scenery. The fluid capacity of a liquid source is usually 3276.7 fl oz. The current volume of a liquid source is usually 3276.7 fl oz. Instead of examining a liquid source: say &quot;[The noun] is full of [liquid of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6253_212" -->
<a id="c6253_212"></a><blockquote class="code"><p class="quoted">
Carry out pouring a liquid source into something: now the current volume of the noun is 3276.7 fl oz.
</p></blockquote>
<!-- END CODE -->
<p>We want filling things from liquid sources to work the same way as usual, with the distinction that a) the liquid source never depletes in quantity (hence the carry-out rule resetting its fullness); and b) we should report the results a bit differently as well:</p>
<!-- START CODE "c6254_212" -->
<a id="c6254_212"></a><blockquote class="code"><p class="quoted">
After pouring a liquid source into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;You fill [the second noun] up with [liquid of the noun] from [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>On the other hand, pouring liquids into a liquid source needs to work completely differently from pouring liquids into anything else. Let's say we're going to allow any liquid at all to be dumped into rivers and streams (environmental protections evidently are not very well-enforced in this scenario):</p>
<!-- START CODE "c6255_212" -->
<a id="c6255_212"></a><blockquote class="code"><p class="quoted">
Instead of pouring a fluid container into a liquid source:
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;[The noun] is already empty.&quot; instead;
<br />&#160;&#160;&#160;&#160;now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;say &quot;You dump out [the noun] into [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>A couple of minor refinements:</p>
<!-- START CODE "c6256_212" -->
<a id="c6256_212"></a><blockquote class="code"><p class="quoted">
Swimming is an action applying to nothing. Understand &quot;swim&quot; or &quot;dive&quot; as swimming.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6257_212" -->
<a id="c6257_212"></a><blockquote class="code"><p class="quoted">
Instead of swimming in the presence of a liquid source:
<br />&#160;&#160;&#160;&#160;say &quot;You don't feel like a dip just now.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6258_212" -->
<a id="c6258_212"></a><blockquote class="code"><p class="quoted">
Before inserting something into a liquid source: say &quot;[The noun] would get lost and never be seen again.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6259_212" -->
<a id="c6259_212"></a><blockquote class="code"><p class="quoted">
Part 3 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6260_212" -->
<a id="c6260_212"></a><blockquote class="code"><p class="quoted">
The Lakeside is a room. The Lakeside swing is an enterable supporter in the Lakeside. &quot;Here you are by the lake, enjoying a summery view.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6261_212" -->
<a id="c6261_212"></a><blockquote class="code"><p class="quoted">
The glass is a fluid container carried by the player. The liquid of the glass is absinthe. The current volume of the glass is 0.8 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6262_212" -->
<a id="c6262_212"></a><blockquote class="code"><p class="quoted">
The pitcher is a fluid container in the Lakeside. The fluid capacity of the pitcher is 32.0 fl oz. The current volume of the pitcher is 20.0 fl oz. The liquid of the pitcher is absinthe.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6263_212" -->
<a id="c6263_212"></a><blockquote class="code"><p class="quoted">
The lake is a liquid source. It is in the Lakeside.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6264_212" -->
<a id="c6264_212"></a><blockquote class="code"><p class="quoted">
The player wears a bathing outfit. The description of the bathing outfit is &quot;Stylishly striped in blue and white, and daringly cut to reveal almost all of your calves, and quite a bit of upper arm, as well. You had a moral struggle, purchasing it; but mercifully the lakeshore is sufficiently secluded that no one can see you in this immodest apparel.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6265_212" -->
<a id="c6265_212"></a><blockquote class="code"><p class="quoted">
Instead of taking off the outfit: say &quot;What odd ideas come into your head sometimes!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6266_212" -->
<a id="c6266_212"></a><blockquote class="code"><p class="quoted">
Test me with &quot;fill glass / empty absinthe into lake / fill glass / swim / drink lake / drink / x water / x lake&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
