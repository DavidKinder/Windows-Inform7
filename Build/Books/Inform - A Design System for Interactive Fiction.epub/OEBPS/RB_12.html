<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>Chapter 12: Typography, Layout, and Multimedia Effects</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 12: Typography, Layout, and Multimedia Effects</p>
<p class="chaptercontents"><a href="RB_12.html#s1" class="standardlink"><span class="chaptercontentsitem">§12.1. Typography</span></a>; <a href="RB_12.html#s2" class="standardlink"><span class="chaptercontentsitem">§12.2. The Status Line</span></a>; <a href="RB_12.html#s3" class="standardlink"><span class="chaptercontentsitem">§12.3. Footnotes</span></a>; <a href="RB_12.html#s4" class="standardlink"><span class="chaptercontentsitem">§12.4. Timed Input</span></a>; <a href="RB_12.html#s5" class="standardlink"><span class="chaptercontentsitem">§12.5. Glulx Multimedia Effects</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="RB_1.html" class="standardlink">Contents of <i>The Inform Recipe Book</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_11.html" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_11.html" class="standardlink">Chapter 11: Out Of World Actions and Effects</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_13.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_13.html" class="standardlink">Chapter 13: Testing and Publishing</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§12.1. Typography</p>
<p>Story files produced by Inform tend not to contain elaborate typographical effects. They would only distract. Like a novel, a classic work of IF is best presented in an elegant but unobtrusive font. Inform does, however, provide for italic and bold-face, and also for a typewriter-style fixed pitch of lettering:</p>
<!-- START CODE "c16374" -->
<a id="c16374"></a><blockquote class="code"><p class="quoted">
&quot;This is an [italic type]italicised[roman type] word.&quot;
<br />&quot;This is an [bold type]emboldened[roman type] word.&quot;
<br />&quot;This is a [fixed letter spacing]typewritten[variable letter spacing] word.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Authors making very frequent use of these might like to borrow the briefer definitions in <span class="boldface">Chanel Version 1</span>.</p>
<p>A very wide range of letter-forms is normally available (and even more in quoted text), so that the writer seldom needs to not worry whether, say, a sentence like</p>
<!-- START CODE "c16375" -->
<a id="c16375"></a><blockquote class="code"><p class="quoted">
A ticket to Tromsø via Østfold is in the Íslendingabók.
</p></blockquote>
<!-- END CODE -->
<p>will work. <span class="boldface">The Über-complète clavier</span> is an exhaustive test of such exotica.</p>
<p>Coloured type is trickier, and its availability depends on the story file format. For a Z-machine story, <span class="boldface">Garibaldi 2</span> demonstrates this.</p>
<p>Finally, <span class="boldface">Tilt 3</span> combines unusual letterforms (suit symbols) with red and black colours to render hands of cards typographically.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_12.html" class="standardlink">Start of Chapter 12: Typography, Layout, and Multimedia Effects</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_11.html#s6" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_11.html#s6" class="standardlink">Back to Chapter 11: Out Of World Actions and Effects: §11.6. Ending The Story</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_12.html#s2" class="standardlink">Onward to §12.2. The Status Line</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e164" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e164" class="standardlink">Example 69: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Garibaldi 2</b>&#160;&#160;&#160; Adding coloured text to the example of door-status readouts.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e71" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e71" class="standardlink">Example 453: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Chanel Version 1</b>&#160;&#160;&#160; Making paired italic and boldface tags like those used by HTML for web pages.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e385" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e385" class="standardlink">Example 450: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Tilt 3</b>&#160;&#160;&#160; Displaying the card suits from our deck of cards with red and black colored unicode symbols.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e403" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e403" class="standardlink">Example 70: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Über-complète clavier</b>&#160;&#160;&#160; This example provides a fairly stringent test of exotic lettering.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§12.2. The Status Line</p>
<p>The status line is the reverse-coloured bar along the top of the window during play, which conventionally, but not necessarily, shows the current location, the score (or sometimes the time of day) and the number of turns so far. It has been highly traditional since the early 1980s (Infocom's customer newsletter was for many years called &quot;The Status Line&quot;): it has become the visual identifier of IF. It plays the same role for IF that a header with chapter name and page number plays in a printed book.</p>
<p>The status line is ordinarily printed from two named pieces of text, the &quot;left hand status line&quot; and the &quot;right hand status line&quot;. These can be changed during play, so for instance,</p>
<!-- START CODE "c16376" -->
<a id="c16376"></a><blockquote class="code"><p class="quoted">
When play begins, change the right hand status line to &quot;Time: [time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The examples below offer miscellaneous alternatives, and are fairly self-descriptive.</p>
<p class="crossreference"><a href="RB_5.html#s6" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>Viewpoint</b></a><i> for a way to make the status line list the player's current identity</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_12.html" class="standardlink">Start of Chapter 12: Typography, Layout, and Multimedia Effects</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_12.html#s1" class="standardlink">Back to §12.1. Typography</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_12.html#s3" class="standardlink">Onward to §12.3. Footnotes</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e361" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e361" class="standardlink">Example 114: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Politics as Usual</b>&#160;&#160;&#160; Have the status line indicate the current region of the map.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e131" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e131" class="standardlink">Example 350: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ways Out</b>&#160;&#160;&#160; A status line that lists the available exits from the current location.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e39" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e39" class="standardlink">Example 387: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Blankness</b>&#160;&#160;&#160; Emptying the status line during the first screen of the game.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e63" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e63" class="standardlink">Example 412: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Capital City</b>&#160;&#160;&#160; To arrange that the location information normally given on the left-hand side of the status line appears in block capitals.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e395" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e395" class="standardlink">Example 452: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Status line with centered text, the hard way</b>&#160;&#160;&#160; A status line which has only the name of the location, centered.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e130" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e130" class="standardlink">Example 351: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Guided Tour</b>&#160;&#160;&#160; A status line that lists the available exits from the current location, changing the names of these exits depending on whether the room has been visited or not.</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e394" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e394" class="standardlink">Example 115: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Centered</b>&#160;&#160;&#160; Replacing the two-part status line with one that centers only the room name at the top of the screen.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§12.3. Footnotes</p>
<p><span class="boldface">Ibid.</span> provides a version of the traditional Infocom-style approach to footnotes, which number off in the order encountered.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_12.html" class="standardlink">Start of Chapter 12: Typography, Layout, and Multimedia Effects</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_12.html#s2" class="standardlink">Back to §12.2. The Status Line</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_12.html#s4" class="standardlink">Onward to §12.4. Timed Input</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e152" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e152" class="standardlink">Example 300: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ibid.</b>&#160;&#160;&#160; A system which allows the author to assign footnotes to descriptions, and permits the player to retrieve them again by number, using "the number understood". Footnotes will automatically number themselves, according to the order in which the player discovers them.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§12.4. Timed Input</p>
<p>Inform normally expects a purely turn-based story: the player acts, the story responds and waits for the player to act again.</p>
<p>Occasionally, however, we may want to offer a different mode of interaction, for instance with turns in which the player has limited time to come up with his next act. Likewise, we might want to have text that printed itself to the screen gradually, to represent dialogue with pauses, or the speed of a typewriter placing letters on a page.</p>
<p>It's best to be careful with these effects: overdone, they can be very annoying to players who prefer to read at a faster speed. Nonetheless, they do have their uses.</p>
<p>Inform does not have standard syntax to handle real-time delays and output, but there are several extensions that provide this capacity. Erik Temple's extension Real Time Delays, for instance, allows us to specify a delay in milliseconds before continuing with whatever aspect of the story is currently in progress.</p>
<p class="crossreference"><a href="RB_4.html#s1" class="xreflink"><img class="asterisk" alt="*" src="images/xref.png" />&#160;<i>See </i><b>The Passage Of Time</b></a><i> for ways to keep track of clock-time within the story</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_12.html" class="standardlink">Start of Chapter 12: Typography, Layout, and Multimedia Effects</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_12.html#s3" class="standardlink">Back to §12.3. Footnotes</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#s5" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_12.html#s5" class="standardlink">Onward to §12.5. Glulx Multimedia Effects</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§12.5. Glulx Multimedia Effects</p>
<p>Glulx is one of the two basic story file formats to which Inform can work. It is the more powerful of the two, and modern-day Inform uses it by default. At one time it was a less universally playable format, but today players rarely have any trouble getting it to work.</p>
<p>Among its powers are the ability to display images, play back sound effects, and read and write external files to the disc. With care and a certain amount of fuss, this can even give a playing story file limited Internet connectivity, although it should be stressed that this can only be done if the player sets up his computer just right and runs an auxiliary program beside the story itself. That will mostly be too much to ask, if the player is playing offline, but when the story file is being run on an interpreter running at a server - so that the player simply sends commands to it and sees responses back on a web page - one could easily imagine setting up the server to provide these auxiliary programs, without any extra difficulty for the player.</p>
<p>Many of the more advanced multimedia abilities of Glulx are best unlocked using extensions available from the Inform website or the Public Library. As of this writing, extensions exist to help authors create complex multi-windowed displays (including per-location pictures, visual status bars, and even limited animations and gradually-revealed maps).</p>
<p>There is also work in progress on sound-management to allow the author to play sounds in multiple channels at once, to change sound volumes, and to create fade-in and fade-out effects.</p>
<p>Without extensions, all these abilities are within reach for an author who is willing to do some fairly advanced programming.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_12.html" class="standardlink">Start of Chapter 12: Typography, Layout, and Multimedia Effects</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="RB_12.html#s4" class="standardlink">Back to §12.4. Timed Input</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_13.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_13.html#s1" class="standardlink">Onward to Chapter 13: Testing and Publishing: §13.1. Testing</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_12.html#e334" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="RB_12.html#e334" class="standardlink">Example 445: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Flathead News Network</b>&#160;&#160;&#160; Using external files, together with a simple Unix script running in the background, to provide live news headlines inside a story file.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 12: Typography, Layout, and Multimedia Effects</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="RB_12.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="RB_12.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_13.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="RB_13.html" class="standardlink">Chapter 13: Testing and Publishing</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "69: Garibaldi 2" "e164" -->
<a id="e164"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e164" class="eglink"><b>69</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e164" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Garibaldi 2</span></b></a><br />Adding coloured text to the example of door-status readouts.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_5.html#e164"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example164">
<p>The extension &quot;Basic Screen Effects&quot; provides a few more type styles, in the form of coloured lettering. The colours available are red, yellow, green, blue, white, magenta, and cyan, as well as the usual black; and to restore the player's default screen colour, we say &quot;default letters&quot;.</p>
<p>Thus if we wanted to highlight locked and unlocked doors in our security readout example:</p>
<!-- START CODE "c16377_164" -->
<a id="c16377_164"></a><blockquote class="code"><p class="quoted">
&quot;Garibaldi&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16378_164" -->
<a id="c16378_164"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16379_164" -->
<a id="c16379_164"></a><blockquote class="code"><p class="quoted">
The security readout is a device. The description of the readout is &quot;The screen is blank.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16380_164" -->
<a id="c16380_164"></a><blockquote class="code"><p class="quoted">
Instead of examining the switched on security readout:
<br />&#160;&#160;&#160;&#160;say &quot;The screen reads: [fixed letter spacing]&quot;;
<br />&#160;&#160;&#160;&#160;say line break;
<br />&#160;&#160;&#160;&#160;repeat with item running through doors:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say line break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;  [item] ([front side of the item]/[back side of the item]): [if the item is locked][green letters]LOCKED[default letters][otherwise][red letters]UNLOCKED[default letters][end if]&quot;;
<br />&#160;&#160;&#160;&#160;say variable letter spacing;
<br />&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16381_164" -->
<a id="c16381_164"></a><blockquote class="code"><p class="quoted">
The player carries the security readout.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16382_164" -->
<a id="c16382_164"></a><blockquote class="code"><p class="quoted">
The Docking Bay is a room. The inner airlock is a door. It is north of the Docking Bay and south of the Zocalo. The inner airlock is lockable and unlocked.  The outer airlock is lockable and locked. It is a door. It is south of the Docking Bay and north of Space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16383_164" -->
<a id="c16383_164"></a><blockquote class="code"><p class="quoted">
The quarantine seal is a door. It is west of the Zocalo and east of Medlab. Quarantine seal is locked.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16384_164" -->
<a id="c16384_164"></a><blockquote class="code"><p class="quoted">
The security pass unlocks the inner airlock. The player carries the security pass.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16385_164" -->
<a id="c16385_164"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x readout / turn on readout / x readout / lock inner airlock with security pass / x readout&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that this extension does not currently produce the desired effects when compiling with the Glulx setting; to see it working, make sure that the settings tab is set to compile to the Z-machine.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "453: Chanel Version 1" "e71" -->
<a id="e71"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e71" class="eglink"><b>453</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e71" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Chanel Version 1</span></b></a><br />Making paired italic and boldface tags like those used by HTML for web pages.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_27.html#e71"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example71">
<p>HTML uses angled brackets to achieve effects, and places italicised text between &lt;i&gt; and &lt;/i&gt; tags; and similarly boldface between &lt;b&gt; and &lt;/b&gt;. We can mimic this very easily by setting each up as a segmented substitution:</p>
<!-- START CODE "c16386_71" -->
<a id="c16386_71"></a><blockquote class="code"><p class="quoted">
&quot;Chanel Version 1&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16387_71" -->
<a id="c16387_71"></a><blockquote class="code"><p class="quoted">
To say i  -- beginning say_i -- running on: (- style underline; -).
<br />To say /i  -- ending say_i -- running on: (- style roman; -).
<br />To say b -- beginning say_b -- running on: (- style bold; -).
<br />To say /b -- ending say_b -- running on: (- style roman; -).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16388_71" -->
<a id="c16388_71"></a><blockquote class="code"><p class="quoted">
Place Vendôme is a room. &quot;[i]Fashion fades, only style remains the same[/i] ([b]Coco Chanel[/b]). And this elegant drawing-room, once a milliner's shop, is a case in point.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16389_71" -->
<a id="c16389_71"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere, say &quot;[i]Don't spend time beating on a wall, hoping to transform it into a door.[/i] ([b]Coco Chanel[/b]) This one is a wall.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16390_71" -->
<a id="c16390_71"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We have had to use square instead of angle brackets, but then, &quot;in order to be irreplaceable one must always be different&quot; (Coco Chanel).</p>
<p>(Marking these as substitutions which run on prevents unexpected paragraph breaks if they should appear immediately after the end of a sentence.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "450: Tilt 3" "e385" -->
<a id="e385"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e385" class="eglink"><b>450</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e385" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tilt 3</span></b></a><br />Displaying the card suits from our deck of cards with red and black colored unicode symbols.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_27.html#e385"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example385">
<p>Books and articles about card-playing traditionally abbreviate card names into a simple two-symbol notation: a number or letter representing the card rank, followed by a symbol indicating the card suit. Suppose that we want to emulate this notation when taking inventory in our poker game.</p>
<p>The trick here is that colored output is done in different ways by the Z-Machine and by Glulx, so we'll need two different versions of the same section in order to produce this output. The relevant source is right at the beginning:</p>
<!-- START CODE "c16391_385" -->
<a id="c16391_385"></a><blockquote class="code"><p class="quoted">
&quot;Tilt&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16392_385" -->
<a id="c16392_385"></a><blockquote class="code"><p class="quoted">
Section 0 - Colored Output in Two Forms
</p></blockquote>
<!-- END CODE -->
<p>For the suit symbols, we'll want the Unicode extension included with Inform:</p>
<!-- START CODE "c16393_385" -->
<a id="c16393_385"></a><blockquote class="code"><p class="quoted">
Include Unicode Character Names by Graham Nelson.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16394_385" -->
<a id="c16394_385"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a card (called target) while grouping together:
<br />&#160;&#160;&#160;&#160;say &quot;[rank of the target as abbreviated value][suit of the target as symbol]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16395_385" -->
<a id="c16395_385"></a><blockquote class="code"><p class="quoted">
To say (current suit - a suit) as symbol:
<br />&#160;&#160;&#160;&#160;if current suit is diamonds, say &quot;[red letters][unicode black diamond suit][default letters]&quot;;
<br />&#160;&#160;&#160;&#160;if current suit is spades, say &quot;[unicode black spade suit]&quot;;
<br />&#160;&#160;&#160;&#160;if current suit is clubs, say &quot;[unicode black club suit]&quot;;
<br />&#160;&#160;&#160;&#160;if current suit is hearts, say &quot;[red letters][unicode black heart suit][default letters]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16396_385" -->
<a id="c16396_385"></a><blockquote class="code"><p class="quoted">
Section 0Z (for Z-machine only)
</p></blockquote>
<!-- END CODE -->
<p>The Basic Screen Effects extension bundled with Inform includes mechanisms to change the text color, so for the Z-machine, we need only include this:</p>
<!-- START CODE "c16397_385" -->
<a id="c16397_385"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16398_385" -->
<a id="c16398_385"></a><blockquote class="code"><p class="quoted">
Section 0G (for Glulx only)
</p></blockquote>
<!-- END CODE -->
<p>Under Glulx, we need slightly more set-up: Glulx requires that we define special user font styles when we plan to make display changes. A fuller discussion of this (and of how to define new colors) appears in the documentation of &quot;Glulx Text Effects&quot;, but an implementation sufficient to our purposes would be</p>
<!-- START CODE "c16399_385" -->
<a id="c16399_385"></a><blockquote class="code"><p class="quoted">
Include Glulx Text Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16400_385" -->
<a id="c16400_385"></a><blockquote class="code"><p class="quoted">
Table of User Styles (continued)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">style name</p></td><td class="quotedtablecell"><p class="quoted">glulx color</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">special-style-1</p></td><td class="quotedtablecell"><p class="quoted">g-pure-red</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16401_385" -->
<a id="c16401_385"></a><blockquote class="code"><p class="quoted">
Table of Common Color Values (continued)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">glulx color value</p></td><td class="quotedtablecell"><p class="quoted">assigned number</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">g-pure-red</p></td><td class="quotedtablecell"><p class="quoted">16711680</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16402_385" -->
<a id="c16402_385"></a><blockquote class="code"><p class="quoted">
To say red letters: say first custom style.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16403_385" -->
<a id="c16403_385"></a><blockquote class="code"><p class="quoted">
To say default letters: say roman type.
</p></blockquote>
<!-- END CODE -->
<p>From here, the rest of the source is mostly as we've seen in previous examples:</p>
<!-- START CODE "c16404_385" -->
<a id="c16404_385"></a><blockquote class="code"><p class="quoted">
Section 1 - Cards
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16405_385" -->
<a id="c16405_385"></a><blockquote class="code"><p class="quoted">
Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand &quot;heart&quot; as hearts. Understand &quot;club&quot; as clubs. Understand &quot;diamond&quot; as diamonds. Understand &quot;spade&quot; as spades.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16406_385" -->
<a id="c16406_385"></a><blockquote class="code"><p class="quoted">
A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16407_385" -->
<a id="c16407_385"></a><blockquote class="code"><p class="quoted">
52 cards are in the card repository.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16408_385" -->
<a id="c16408_385"></a><blockquote class="code"><p class="quoted">
To say (count - a number) as a card value:
<br />&#160;&#160;&#160;&#160;choose row count in the Table of Value Names;
<br />&#160;&#160;&#160;&#160;say &quot;[term entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16409_385" -->
<a id="c16409_385"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a card (called target):
<br />&#160;&#160;&#160;&#160;say &quot;[rank of the target as a card value] of [suit of the target]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16410_385" -->
<a id="c16410_385"></a><blockquote class="code"><p class="quoted">
To say (count - a number) as abbreviated value:
<br />&#160;&#160;&#160;&#160;choose row count in the Table of Value Names;
<br />&#160;&#160;&#160;&#160;say &quot;[abbrev entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16411_385" -->
<a id="c16411_385"></a><blockquote class="code"><p class="quoted">
Table of Value Names
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">term</p></td><td class="quotedtablecell"><p class="quoted">value</p></td><td class="quotedtablecell"><p class="quoted">abbrev</p></td><td class="quotedtablecell"><p class="quoted">topic</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ace&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;ace/A&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;deuce&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;deuce/two&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;3&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;3&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;4&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;4&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;5&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;5&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;6&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;6&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;7&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;7&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;8&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;8&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;9&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;9&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;10&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;10&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;jack&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;11&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;J&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;jack/knave/J&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;queen&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;12&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Q&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;queen/Q&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;king&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;13&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;K&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;king/K&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16412_385" -->
<a id="c16412_385"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;of [suit]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while the player's command includes &quot;of&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cut the matched text;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Value Names:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while the player's command includes topic entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;replace the matched text with value entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16413_385" -->
<a id="c16413_385"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;reconstitute deck.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16414_385" -->
<a id="c16414_385"></a><blockquote class="code"><p class="quoted">
To reconstitute deck:
<br />&#160;&#160;&#160;&#160;let current suit be hearts;
<br />&#160;&#160;&#160;&#160;now every card is in the card repository;
<br />&#160;&#160;&#160;&#160;while a card is in the card repository:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with current rank running from 1 to 13:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let item be a random card in card repository;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now rank of item is current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now suit of item is current suit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now item is in the deck of cards;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current suit is the suit after the current suit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16415_385" -->
<a id="c16415_385"></a><blockquote class="code"><p class="quoted">
Section 2 - The Deck and the Discard Pile
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16416_385" -->
<a id="c16416_385"></a><blockquote class="code"><p class="quoted">
The Empty Room is a room. &quot;Nothing to see here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16417_385" -->
<a id="c16417_385"></a><blockquote class="code"><p class="quoted">
The deck of cards is in the Empty Room. It is a closed unopenable container. The description is &quot;A standard poker deck.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16418_385" -->
<a id="c16418_385"></a><blockquote class="code"><p class="quoted">
The discard pile is a closed unopenable container. The description is &quot;Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16419_385" -->
<a id="c16419_385"></a><blockquote class="code"><p class="quoted">
To decide what number is the rounded number of (described set - a description of objects):
<br />&#160;&#160;&#160;&#160;let N be the number of members of the described set;
<br />&#160;&#160;&#160;&#160;let R be N divided by 5;
<br />&#160;&#160;&#160;&#160;let total be R times 5;
<br />&#160;&#160;&#160;&#160;decide on total.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16420_385" -->
<a id="c16420_385"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of something: do nothing instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16421_385" -->
<a id="c16421_385"></a><blockquote class="code"><p class="quoted">
Section 3 - Drawing and Discarding Actions
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16422_385" -->
<a id="c16422_385"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;take&quot; and &quot;carry&quot; and &quot;hold&quot; and &quot;get&quot; and &quot;drop&quot; and &quot;throw&quot; and &quot;discard&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16423_385" -->
<a id="c16423_385"></a><blockquote class="code"><p class="quoted">
Understand &quot;take [text]&quot; or &quot;get [text]&quot; or &quot;drop [text]&quot; as a mistake (&quot;Here, you only draw and discard. Nothing else matters at the moment.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16424_385" -->
<a id="c16424_385"></a><blockquote class="code"><p class="quoted">
Understand &quot;draw&quot; or &quot;draw card&quot; or &quot;draw a card&quot; as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16425_385" -->
<a id="c16425_385"></a><blockquote class="code"><p class="quoted">
Setting action variables for drawing:
<br />&#160;&#160;&#160;&#160;now the card drawn is a random card which is in the deck of cards.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16426_385" -->
<a id="c16426_385"></a><blockquote class="code"><p class="quoted">
Check drawing:
<br />&#160;&#160;&#160;&#160;if the card drawn is nothing, say &quot;The deck is completely depleted.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16427_385" -->
<a id="c16427_385"></a><blockquote class="code"><p class="quoted">
Check drawing:
<br />&#160;&#160;&#160;&#160;if the number of cards carried by the player is greater than four,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;This is a five-card game; you must discard something before drawing anything further.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16428_385" -->
<a id="c16428_385"></a><blockquote class="code"><p class="quoted">
Carry out drawing:
<br />&#160;&#160;&#160;&#160;move the card drawn to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16429_385" -->
<a id="c16429_385"></a><blockquote class="code"><p class="quoted">
Report drawing:
<br />&#160;&#160;&#160;&#160;say &quot;You draw [a card drawn].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16430_385" -->
<a id="c16430_385"></a><blockquote class="code"><p class="quoted">
Understand &quot;discard [card]&quot; as discarding. Discarding is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16431_385" -->
<a id="c16431_385"></a><blockquote class="code"><p class="quoted">
Check discarding:
<br />&#160;&#160;&#160;&#160;if the player does not carry the noun, say &quot;You can only discard cards from your own hand.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16432_385" -->
<a id="c16432_385"></a><blockquote class="code"><p class="quoted">
Carry out discarding:
<br />&#160;&#160;&#160;&#160;now the noun is in the discard pile;
<br />&#160;&#160;&#160;&#160;if the discard pile is not visible, move the discard pile to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16433_385" -->
<a id="c16433_385"></a><blockquote class="code"><p class="quoted">
Report discarding:
<br />&#160;&#160;&#160;&#160;say &quot;You toss [the noun] nonchalantly onto the discard pile.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16434_385" -->
<a id="c16434_385"></a><blockquote class="code"><p class="quoted">
Section 4 - Assessing Hands
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16435_385" -->
<a id="c16435_385"></a><blockquote class="code"><p class="quoted">
Before listing contents while taking inventory: group cards together.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16436_385" -->
<a id="c16436_385"></a><blockquote class="code"><p class="quoted">
Before grouping together cards:
<br />&#160;&#160;&#160;&#160;if the number of cards carried by the player is 5:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the hand-ranking rules;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the rule succeeded, say &quot;[the outcome of the rulebook]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;some random cards&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the outcome of the rulebook is pair outcome, say &quot; of [rank of the first thing held by the player as a card value]s&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[number of cards carried by the player in words] assorted cards&quot;;
<br />&#160;&#160;&#160;&#160;say &quot; (&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16437_385" -->
<a id="c16437_385"></a><blockquote class="code"><p class="quoted">
Rule for grouping together cards:
<br />&#160;&#160;&#160;&#160;say &quot;[list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16438_385" -->
<a id="c16438_385"></a><blockquote class="code"><p class="quoted">
To say list hand:
<br />&#160;&#160;&#160;&#160;let chosen card be the first thing held by the player;
<br />&#160;&#160;&#160;&#160;while chosen card is a card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[chosen card]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now chosen card is the next thing held after chosen card;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if chosen card is a card, say &quot;-&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16439_385" -->
<a id="c16439_385"></a><blockquote class="code"><p class="quoted">
After grouping together cards:
<br />&#160;&#160;&#160;&#160;say &quot;)&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16440_385" -->
<a id="c16440_385"></a><blockquote class="code"><p class="quoted">
The hand-ranking rules is a rulebook. The hand-ranking rules have outcomes royal flush, straight flush, four of a kind, full house, flush, straight, three of a kind, two pairs, pair, high card.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16441_385" -->
<a id="c16441_385"></a><blockquote class="code"><p class="quoted">
The hand-ranking rulebook has a truth state called the flushness.
<br />The hand-ranking rulebook has a truth state called the straightness.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16442_385" -->
<a id="c16442_385"></a><blockquote class="code"><p class="quoted">
The hand-ranking rulebook has a number called the pair count.
<br />The hand-ranking rulebook has a number called the triple count.
<br />The hand-ranking rulebook has a number called the quadruple count.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16443_385" -->
<a id="c16443_385"></a><blockquote class="code"><p class="quoted">
A card can be sorted or unsorted. A card is usually unsorted.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16444_385" -->
<a id="c16444_385"></a><blockquote class="code"><p class="quoted">
Definition: a card is high if its rank is 11 or more.
<br />Definition: a card is low if its rank is 4 or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16445_385" -->
<a id="c16445_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the initial sort rule):
<br />&#160;&#160;&#160;&#160;now every card is unsorted;
<br />&#160;&#160;&#160;&#160;while the player carries an unsorted card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let item be the lowest unsorted card held by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move item to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is sorted;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after initial sort: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16446_385" -->
<a id="c16446_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the finding flushness rule):
<br />&#160;&#160;&#160;&#160;let called suit be the suit of a random card carried by the player;
<br />&#160;&#160;&#160;&#160;if every card carried by the player is called suit, now flushness is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16447_385" -->
<a id="c16447_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the finding straightness rule):
<br />&#160;&#160;&#160;&#160;now straightness is true;
<br />&#160;&#160;&#160;&#160;let N be the rank of the highest card which is carried by the player;
<br />&#160;&#160;&#160;&#160;repeat with current rank running from N - 4 to N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the test rank is the current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the player carries a matching card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current rank is N - 4 and the current rank is 9 and the player carries an ace card, do nothing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now straightness is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16448_385" -->
<a id="c16448_385"></a><blockquote class="code"><p class="quoted">
A card can be quadrupled, tripled, paired or uncombined.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16449_385" -->
<a id="c16449_385"></a><blockquote class="code"><p class="quoted">
Test rank is a number that varies. Definition: a card is matching if its rank is the test rank.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16450_385" -->
<a id="c16450_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the counting multiples rule):
<br />&#160;&#160;&#160;&#160;now every card is uncombined;
<br />&#160;&#160;&#160;&#160;repeat with current rank running from 1 to 13:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now test rank is current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let N be the number of matching cards held by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is 4:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the quadruple count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every matching card held by the player is quadrupled;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is 3:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the triple count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every matching card held by the player is tripled;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is 2:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the pair count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every matching card held by the player is paired.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16451_385" -->
<a id="c16451_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the move aces up unless there's a low straight rule):
<br />&#160;&#160;&#160;&#160;unless the straightness is true and the lowest card carried by the player is an ace card and the rank of the highest card carried by the player is 5,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every ace card which is carried by the player is carried by the player;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after ace movement rule: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16452_385" -->
<a id="c16452_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the move pairs forward rule):
<br />&#160;&#160;&#160;&#160;while the player carries a paired card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let selection be the lowest paired card which is carried by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the selection to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the selection is uncombined;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after pairs movement: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16453_385" -->
<a id="c16453_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the raise ace pairs rule):
<br />&#160;&#160;&#160;&#160;if the player carries exactly two ace cards:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through ace cards which are carried by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move item to the player;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after paired-ace movement: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16454_385" -->
<a id="c16454_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the move multiples forward rule):
<br />&#160;&#160;&#160;&#160;while the player carries a tripled card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let selection be the lowest tripled card which is carried by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the selection to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the selection is uncombined;
<br />&#160;&#160;&#160;&#160;while the player carries a quadrupled card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let selection be the lowest quadrupled card which is carried by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the selection to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the selection is uncombined;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after multiples movement rule: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16455_385" -->
<a id="c16455_385"></a><blockquote class="code"><p class="quoted">
Definition: a card is ace if its rank is 1.
<br />Definition: a card is king if its rank is 13.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16456_385" -->
<a id="c16456_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the royal-flush rule):
<br />&#160;&#160;&#160;&#160;if flushness is true and straightness is true and the highest card carried by the player is king and the lowest card carried by the player is ace, royal flush.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16457_385" -->
<a id="c16457_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the straight-flushes rule):
<br />&#160;&#160;&#160;&#160;if flushness is true and straightness is true, straight flush.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16458_385" -->
<a id="c16458_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the four-of-a-kind rule):
<br />&#160;&#160;&#160;&#160;if the quadruple count is 1, four of a kind.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16459_385" -->
<a id="c16459_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the full-house rule):
<br />&#160;&#160;&#160;&#160;if the pair count is 1 and the triple count is 1, full house.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16460_385" -->
<a id="c16460_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the flushes rule):
<br />&#160;&#160;&#160;&#160;if flushness is true, flush.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16461_385" -->
<a id="c16461_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the straights rule):
<br />&#160;&#160;&#160;&#160;if straightness is true, straight.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16462_385" -->
<a id="c16462_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the three-of-a-kind rule):
<br />&#160;&#160;&#160;&#160;if triple count is 1, three of a kind.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16463_385" -->
<a id="c16463_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the two-pair rule):
<br />&#160;&#160;&#160;&#160;if the pair count is 2, two pairs.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16464_385" -->
<a id="c16464_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the pair rule):
<br />&#160;&#160;&#160;&#160;if the pair count is 1, pair.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16465_385" -->
<a id="c16465_385"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the default rule):
<br />&#160;&#160;&#160;&#160;high card.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16466_385" -->
<a id="c16466_385"></a><blockquote class="code"><p class="quoted">
Sort-debugging is a truth state that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16467_385" -->
<a id="c16467_385"></a><blockquote class="code"><p class="quoted">
Section 5 - Testing hand identification - Not for release
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16468_385" -->
<a id="c16468_385"></a><blockquote class="code"><p class="quoted">
Understand &quot;debug sorting&quot; as debugging hand sorting. Debugging hand sorting is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16469_385" -->
<a id="c16469_385"></a><blockquote class="code"><p class="quoted">
Carry out debugging hand sorting:
<br />&#160;&#160;&#160;&#160;if sort-debugging is false, now sort-debugging is true;
<br />&#160;&#160;&#160;&#160;otherwise now sort-debugging is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16470_385" -->
<a id="c16470_385"></a><blockquote class="code"><p class="quoted">
Report debugging hand sorting:
<br />&#160;&#160;&#160;&#160;say &quot;Sort debugging is now [if sort-debugging is true]on[otherwise]off[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16471_385" -->
<a id="c16471_385"></a><blockquote class="code"><p class="quoted">
Test me with &quot;draw / g / g / g / g / force hand / g / g / g / g / g / g / g / g / g / g / g / g&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16472_385" -->
<a id="c16472_385"></a><blockquote class="code"><p class="quoted">
Table of Testing Hands
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">set suit</p></td><td class="quotedtablecell"><p class="quoted">set rank</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[royal flush]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">13</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">[straight flush]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">8</p></td><td class="quotedtablecell"><p class="quoted">[four of a kind]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[full house]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">[flush]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[straight]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">13</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">[three of a kind]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">[two pairs]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">6</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">[two pairs, ace high]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">6</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">[pair]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">[high]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[tricky sorting: low straight]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16473_385" -->
<a id="c16473_385"></a><blockquote class="code"><p class="quoted">
Understand &quot;force hand&quot; as forcing a hand. Forcing a hand is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16474_385" -->
<a id="c16474_385"></a><blockquote class="code"><p class="quoted">
Current marker is a number that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16475_385" -->
<a id="c16475_385"></a><blockquote class="code"><p class="quoted">
Carry out forcing a hand:
<br />&#160;&#160;&#160;&#160;repeat with item running through cards which are carried by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment current marker;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if current marker is greater than the number of filled rows in the Table of Testing Hands, now current marker is 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row current marker in the Table of Testing Hands;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the suit of item is the set suit entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the rank of item is the set rank entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16476_385" -->
<a id="c16476_385"></a><blockquote class="code"><p class="quoted">
Report forcing a hand:
<br />&#160;&#160;&#160;&#160;try taking inventory.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "70: The Über-complète clavier" "e403" -->
<a id="e403"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e403" class="eglink"><b>70</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e403" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Über-complète clavier</span></b></a><br />This example provides a fairly stringent test of exotic lettering.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_5.html#e403"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example403">
<p>The following example puts Inform's support for exotic lettering through its paces. It was useful in testing Inform but is not a very instructive read: still, it does provide a test story file for interpreters, so we are including the source here as an example.</p>
<!-- START CODE "c16477_403" -->
<a id="c16477_403"></a><blockquote class="code"><p class="quoted">
&quot;The Über-complète clavier&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16478_403" -->
<a id="c16478_403"></a><blockquote class="code"><p class="quoted">
The story headline is &quot;Pushing the Limits of Unicode in IF&quot;. The story description is &quot;This is a demanding test for Unicode compliance by Z-machine interpreters.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16479_403" -->
<a id="c16479_403"></a><blockquote class="code"><p class="quoted">
Include Unicode Character Names by Graham Nelson.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16480_403" -->
<a id="c16480_403"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16481_403" -->
<a id="c16481_403"></a><blockquote class="code"><p class="quoted">
The Château Bibliothèque Français is east of the Deutsche Universität Bücherei. &quot;From this Borgesian construction, doorways lead into anterooms in each of the four cardinal directions.&quot; South of the Bibliothèque is the Miscellany Mañana. North of the Bibliothèque is the Íslendingabók. East of the Bibliothèque is Alphabet Soup.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16482_403" -->
<a id="c16482_403"></a><blockquote class="code"><p class="quoted">
A framed photograph of Icelandic Prime Minister Halldór Ásgrímsson, a ruler measuring Ångströms, a Bokmål-Lëtzebuergesch Lëtzebuergesch-Bokmål dictionary and a ticket to Tromsø via Østfold are in the Íslendingabók.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16483_403" -->
<a id="c16483_403"></a><blockquote class="code"><p class="quoted">
A paper by Karl Weierstraß, a general feeling of Ärger, an old Österreich passport and the Bach Clavier-Übung open at the fugue à 4 are in the Bücherei.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16484_403" -->
<a id="c16484_403"></a><blockquote class="code"><p class="quoted">
The painting of École normale superiéure students singing Ça ira, the frankly lesser-known journal of Niccolò Polo, Così fan tutte on CD, an extract of Herodotus concerning Artaÿctes and the exit sign reading À BIENTÔT are in the Bibliothèque.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16485_403" -->
<a id="c16485_403"></a><blockquote class="code"><p class="quoted">
A wicker basket marked CHLOË is in the Bibliothèque. A ginger cat is in the basket.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16486_403" -->
<a id="c16486_403"></a><blockquote class="code"><p class="quoted">
A guide to Æsop for naïve æsthetes, Lönnrot's Kalevala, a creed according to the Bahá'ís, FALARÃO magazine, an Estonian poem by Tõnu Trubetsky, a Portuguese-Italian recipe for macarrão, a stripy hanging CANDY PIÑATA bag, a ¿¡Punctuation Turned Upside Down¿¡ pamphlet, an Italian brewers' anti-violence poster declaring  BÓTTE NON BÒTTE, a map of È and a dusty book titled The Parnasum of Luís Vaz bearing CAMÕES on its spine are in Miscellany Mañana.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16487_403" -->
<a id="c16487_403"></a><blockquote class="code"><p class="quoted">
The description of the map is &quot;È is a province in the People's Republic of China.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16488_403" -->
<a id="c16488_403"></a><blockquote class="code"><p class="quoted">
In Mañana is something called ÂÊÎÔÛ - The Official Journal of the Society for Vowels bearing Circumflexes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16489_403" -->
<a id="c16489_403"></a><blockquote class="code"><p class="quoted">
In Mañana is something called âêîôû comic - the youth edition.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16490_403" -->
<a id="c16490_403"></a><blockquote class="code"><p class="quoted">
The description of Alphabet Soup is &quot;A bewildering place of glyphs, sigils and signs. The Library proper leads back west: steps lead upwards to an Observatory, or downwards into what seems to be a dangerous area. A gaming lounge lies to the south.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16491_403" -->
<a id="c16491_403"></a><blockquote class="code"><p class="quoted">
The Greek Alphabet, the Cyrillic Alphabet, the Hebrew alphabet, and the embossed plaque are in Alphabet Soup. The description of the Greek alphabet is &quot;αβγδεζηθικλμνξοπρςστυφχψω.&quot;. The description of the Hebrew alphabet is &quot;אבגדהוזחטיךכלםמןנסעףפץצקרשת.&quot;. The description of the Cyrillic alphabet is &quot;абвгдежзийклмнопрстуфхцчшщъыьэюя.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16492_403" -->
<a id="c16492_403"></a><blockquote class="code"><p class="quoted">
Instead of examining the plaque:
<br />&#160;&#160;&#160;&#160;say &quot;It seems to be a sign in Braille: &quot;;
<br />&#160;&#160;&#160;&#160;say unicode Braille pattern dots-24, &quot; (I), &quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unicode Braille pattern dots-1345, &quot; (N), &quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unicode Braille pattern dots-124, &quot; (F), &quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unicode Braille pattern dots-135, &quot; (O), &quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unicode Braille pattern dots-1235, &quot; (R), &quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unicode Braille pattern dots-134, &quot; (M).&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16493_403" -->
<a id="c16493_403"></a><blockquote class="code"><p class="quoted">
The Gaming Lounge is south of Alphabet Soup. The chess position and the book of puzzle canons are in the Gaming Lounge.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16494_403" -->
<a id="c16494_403"></a><blockquote class="code"><p class="quoted">
The Georges de la Tour painting Le Tricheur is in the Gaming Lounge. &quot;Hanging on one wall is Georges de la Tour's masterpiece Le Tricheur (the card-sharp). Visible are 8[unicode black diamond suit], 9[unicode black diamond suit], A[unicode black diamond suit], A[unicode black spade suit], 6[unicode black club suit] but not one of them has a [unicode black heart suit].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16495_403" -->
<a id="c16495_403"></a><blockquote class="code"><p class="quoted">
The description of Le Tricheur is &quot;If they'd been dice-players instead, they might have thrown [unicode die face-1], [unicode die face-2], [unicode die face-3], [unicode die face-4], [unicode die face-5] or [unicode die face-6], but as it is they stick to cards.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16496_403" -->
<a id="c16496_403"></a><blockquote class="code"><p class="quoted">
The description of the book of canons is &quot;A typical fugue is no. 13 (Tovey: [unicode eighth note] = 110) in F[unicode music sharp sign] minor, but you can also make out keys like A[unicode music flat sign] and G[unicode music natural sign].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16497_403" -->
<a id="c16497_403"></a><blockquote class="code"><p class="quoted">
The empty square text is text that varies. To say empty: say the empty square text.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16498_403" -->
<a id="c16498_403"></a><blockquote class="code"><p class="quoted">
To display the board:
<br />&#160;&#160;&#160;&#160;say empty, empty, empty, empty, empty, empty, unicode black chess king, empty, line break;
<br />&#160;&#160;&#160;&#160;say empty, empty, empty, unicode black chess queen, empty, empty, unicode black chess pawn, empty, line break;
<br />&#160;&#160;&#160;&#160;say unicode black chess pawn, empty, empty, unicode black chess bishop, unicode black chess pawn, empty, empty, unicode black chess pawn, line break;
<br />&#160;&#160;&#160;&#160;say empty, empty, empty, unicode black chess pawn, empty, unicode black chess rook, empty, empty, line break;
<br />&#160;&#160;&#160;&#160;say empty, unicode black chess pawn, empty, unicode white chess pawn, unicode black chess pawn, empty, empty, empty, line break;
<br />&#160;&#160;&#160;&#160;say empty, empty, empty, unicode black chess bishop, unicode white chess queen, empty, unicode white chess pawn, unicode white chess pawn, line break;
<br />&#160;&#160;&#160;&#160;say unicode white chess pawn, unicode white chess pawn, empty, unicode white chess bishop, empty, unicode black chess rook, unicode white chess bishop, empty, line break;
<br />&#160;&#160;&#160;&#160;say empty, unicode white chess knight, empty, empty, unicode white chess rook, empty, unicode white chess rook, unicode white chess king, line break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16499_403" -->
<a id="c16499_403"></a><blockquote class="code"><p class="quoted">
Instead of examining the chess position:
<br />&#160;&#160;&#160;&#160;say &quot;Fritz Saemisch - Aron Nimzowitsch, Copenhagen 1923: the Immortal Zugzwang Game. Nimzowitsch (black), observing that white will very soon have to play a terrible move, has just advanced his h pawn for no reason other than to wait. So it is white to play...&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[fixed letter spacing]......k. [line break]...q..p. [line break]p..bp..p [line break]...p.r.. [line break].p.Pp... [line break]...bQ.PP [line break]PP.B.rB. [line break].N..R.RK [variable letter spacing][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;'White must, willy-nilly, eventually throw himself upon the sword', in Nimzowitsch's commentary. &quot;;
<br />&#160;&#160;&#160;&#160;say &quot;We will now try to display the same position using chess-piece symbols in a Unicode font.&quot;;
<br />&#160;&#160;&#160;&#160;say fixed letter spacing;
<br />&#160;&#160;&#160;&#160;now the empty square text is &quot; &quot;;
<br />&#160;&#160;&#160;&#160;display the board;
<br />&#160;&#160;&#160;&#160;say variable letter spacing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16500_403" -->
<a id="c16500_403"></a><blockquote class="code"><p class="quoted">
The Astrological Observatory is above Alphabet Soup.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16501_403" -->
<a id="c16501_403"></a><blockquote class="code"><p class="quoted">
The planets are in the Observatory. &quot;Diagrams of the planets are scattered across the dome: Sun [unicode Sun], Mercury [unicode Mercury], Venus [unicode Female Sign], Earth [unicode Earth], Moon [unicode First Quarter Moon] and [unicode Last Quarter Moon], Mars [unicode Male Sign], Jupiter [unicode Jupiter], Saturn [unicode Saturn], Uranus [unicode Uranus], Neptune [unicode Neptune], Pluto [unicode Pluto] and one or two comets [unicode Comet]. Fainter, but all around, you see stars black [unicode black star] and white [unicode white star].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16502_403" -->
<a id="c16502_403"></a><blockquote class="code"><p class="quoted">
The constellations are in the Observatory. &quot;Ringing the dome are the constellations: Aries [unicode Aries], Taurus [unicode Taurus], Gemini [unicode Gemini], Cancer [unicode Cancer], Leo [unicode Leo], Virgo [unicode Virgo], Libra [unicode Libra], Scorpius [unicode Scorpius], Sagittarius [unicode Sagittarius], Capricorn [unicode Capricorn], Aquarius [unicode Aquarius], Pisces [unicode Pisces].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16503_403" -->
<a id="c16503_403"></a><blockquote class="code"><p class="quoted">
The weather almanac is in the Observatory. The description of the almanac is &quot;Here nightly observers scrawl in hasty abbreviations for the current weather conditions: clear weather [unicode Black Sun with Rays], cloudy [unicode cloud], rain [unicode umbrella], snow [unicode snowman], lightning [unicode lightning], thunderstorm [unicode thunderstorm].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16504_403" -->
<a id="c16504_403"></a><blockquote class="code"><p class="quoted">
The Danger Zone is below Alphabet Soup. The printed name of the Danger Zone is &quot;[unicode skull and crossbones] Danger Zone [unicode skull and crossbones]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16505_403" -->
<a id="c16505_403"></a><blockquote class="code"><p class="quoted">
The warning signs are in the Danger Zone. &quot;A variety of international-standard warning standards suggest that this may not be the safest place: [unicode skull and crossbones], [unicode caution sign], [unicode radioactive sign], [unicode biohazard sign].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This example text was used to produce a story file which has been tried against both Zoom for Mac OS X and Windows Frotz. The Latin, Greek, Cyrillic and Hebrew text all functioned perfectly on both, but a point of difference showed when writing the Hebrew alphabet: Zoom wrote this right-to-left, Windows Frotz left-to-right. The exotic symbols displayed on Zoom (though others not mentioned above, such as &quot;[unicode staff of hermes]&quot;, did not): but most appeared only as black squares on Windows Frotz, exceptions being the astrological signs for Venus and Mars and the musical note.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "114: Politics as Usual" "e361" -->
<a id="e361"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e361" class="eglink"><b>114</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e361" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Politics as Usual</span></b></a><br />Have the status line indicate the current region of the map.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e361"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example361">
<p>Suppose a game with a large map entirely subdivided into regions. We could define:</p>
<!-- START CODE "c16506_361" -->
<a id="c16506_361"></a><blockquote class="code"><p class="quoted">
&quot;Politics as Usual&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16507_361" -->
<a id="c16507_361"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[map region of the location]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16508_361" -->
<a id="c16508_361"></a><blockquote class="code"><p class="quoted">
Washington is west of Idaho.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16509_361" -->
<a id="c16509_361"></a><blockquote class="code"><p class="quoted">
Red is a region. Blue is a region. Idaho is in red. Washington is in blue.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16510_361" -->
<a id="c16510_361"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / w&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that, since regions can be stacked, we technically can be within more than one region at once. In the Port Royal example, for instance, the Tavern region is inside the Inland region. If there is any ambiguity, &quot;the map region of the location&quot; will be construed as &quot;the smallest region that the location belongs to&quot;: so we would see &quot;Tavern&quot; rather than &quot;Inland&quot; in the status bar, when the player was in the Feathers or the Feathers Bedroom.</p>
<p>Some extra finesse would be necessary if the names of map regions were very long or if there were some rooms that were not considered to belong to any region at all.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "350: Ways Out" "e131" -->
<a id="e131"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e131" class="eglink"><b>350</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e131" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ways Out</span></b></a><br />A status line that lists the available exits from the current location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e131"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example131">
<p>A not-uncommon device in games with large maps is a list of available exits printed in the status bar. We might do this so:</p>
<!-- START CODE "c16511_131" -->
<a id="c16511_131"></a><blockquote class="code"><p class="quoted">
&quot;Ways Out&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16512_131" -->
<a id="c16512_131"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;Exits: [exit list]&quot;;
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;[location]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16513_131" -->
<a id="c16513_131"></a><blockquote class="code"><p class="quoted">
To say exit list:
<br />&#160;&#160;&#160;&#160;let place be location;
<br />&#160;&#160;&#160;&#160;repeat with way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let place be the room way from the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if place is a room, say &quot; [way]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We may find that printing out full directions makes the status line unpleasantly crowded. Fortunately, it isn't hard to provide a set of abbreviations to use in this context:</p>
<!-- START CODE "c16514_131" -->
<a id="c16514_131"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a direction (called the way) while constructing the status line:
<br />&#160;&#160;&#160;&#160;choose row with a heading of the way in the Table of Abbreviation;
<br />&#160;&#160;&#160;&#160;say &quot;[shortcut entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16515_131" -->
<a id="c16515_131"></a><blockquote class="code"><p class="quoted">
Table of Abbreviation
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">heading</p></td><td class="quotedtablecell"><p class="quoted">shortcut</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">north</p></td><td class="quotedtablecell"><p class="quoted">&quot;N&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">northeast</p></td><td class="quotedtablecell"><p class="quoted">&quot;NE&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">northwest</p></td><td class="quotedtablecell"><p class="quoted">&quot;NW&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">east</p></td><td class="quotedtablecell"><p class="quoted">&quot;E&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">southeast</p></td><td class="quotedtablecell"><p class="quoted">&quot;SE&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">south</p></td><td class="quotedtablecell"><p class="quoted">&quot;S&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">southwest</p></td><td class="quotedtablecell"><p class="quoted">&quot;SW&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">west</p></td><td class="quotedtablecell"><p class="quoted">&quot;W&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">up</p></td><td class="quotedtablecell"><p class="quoted">&quot;U&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">down</p></td><td class="quotedtablecell"><p class="quoted">&quot;D&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">inside</p></td><td class="quotedtablecell"><p class="quoted">&quot;IN&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">outside</p></td><td class="quotedtablecell"><p class="quoted">&quot;OUT&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16516_131" -->
<a id="c16516_131"></a><blockquote class="code"><p class="quoted">
Dome is a room. North of Dome is North Chapel. South of the Dome is South Chapel. West of the Dome is Western End. Quiet Corner is northwest of the Dome, north of Western End, and west of North Chapel. Loud Corner is east of North Chapel, northeast of Dome, and north of Eastern End. Eastern End is north of Dim Corner and east of Dome. Dim Corner is southeast of Dome and east of South Chapel. Ruined Corner is southwest of Dome, west of South Chapel, and south of Western End.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16517_131" -->
<a id="c16517_131"></a><blockquote class="code"><p class="quoted">
The church door is east of Eastern End and west of the Courtyard. The church door is a door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16518_131" -->
<a id="c16518_131"></a><blockquote class="code"><p class="quoted">
Test me with &quot;w / n / e / e / s / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Everywhere else, the names of directions will still be printed out in full in the usual way.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "387: Blankness" "e39" -->
<a id="e39"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e39" class="eglink"><b>387</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e39" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Blankness</span></b></a><br />Emptying the status line during the first screen of the game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e39"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example39">
<p>Occasionally we want to print something as our first screen and then pause the game. By default, Inform will print a rather odd status line, with &quot;You&quot; on the left side and &quot;0&quot; on the right. This is because the left hand status line is set to display the location, but (because we're not done with the when-play-begins rules) the player has not yet even been moved to a room.</p>
<p>We can tidy this up in the &quot;starting the virtual machine&quot; activity, by temporarily changing the status line content. We will not provide game-pausing code here, because that is easily done by extension; so:</p>
<!-- START CODE "c16519_39" -->
<a id="c16519_39"></a><blockquote class="code"><p class="quoted">
&quot;Blankness&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16520_39" -->
<a id="c16520_39"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16521_39" -->
<a id="c16521_39"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;take me home&quot;;
<br />&#160;&#160;&#160;&#160;wait for any key;
<br />&#160;&#160;&#160;&#160;say &quot; yeah&quot;;
<br />&#160;&#160;&#160;&#160;wait for any key;
<br />&#160;&#160;&#160;&#160;say &quot; yeah&quot;;
<br />&#160;&#160;&#160;&#160;pause the game;
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;[location]&quot;;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[turn count]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16522_39" -->
<a id="c16522_39"></a><blockquote class="code"><p class="quoted">
Before starting the virtual machine:
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;&quot;;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16523_39" -->
<a id="c16523_39"></a><blockquote class="code"><p class="quoted">
Paradise City is a room. The description of Paradise City is &quot;The grass is green and the girls are pretty.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Quite a modest effect, but occasionally useful.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "412: Capital City" "e63" -->
<a id="e63"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e63" class="eglink"><b>412</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e63" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Capital City</span></b></a><br />To arrange that the location information normally given on the left-hand side of the status line appears in block capitals.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_20.html#e63"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example63">
<p>Not much is needed for this. The only noteworthy point is that it doesn't work by changing the LHSL to &quot;[the player's surroundings in upper case]&quot;: it cannot do this because &quot;the player's surroundings&quot; is not a value. Instead, &quot;[the player's surroundings]&quot; is a text substitution sometimes printing the name of a room, sometimes printing &quot;Darkness&quot;, and so on. We must therefore load it into a text first, and then apply &quot;...in upper case&quot;.</p>
<!-- START CODE "c16524_63" -->
<a id="c16524_63"></a><blockquote class="code"><p class="quoted">
&quot;Capital City&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16525_63" -->
<a id="c16525_63"></a><blockquote class="code"><p class="quoted">
Capital City is a room. East is Lower Caissons. South of Lower Caissons
<br />is San Seriffe. East of San Seriffe is a dark room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16526_63" -->
<a id="c16526_63"></a><blockquote class="code"><p class="quoted">
To say the player's capitalised surroundings:
<br />&#160;&#160;&#160;&#160;let the masthead be &quot;[the player's surroundings]&quot; in upper case;
<br />&#160;&#160;&#160;&#160;say the masthead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16527_63" -->
<a id="c16527_63"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;[the player's capitalised surroundings]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16528_63" -->
<a id="c16528_63"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / s / e&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "452: Status line with centered text, the hard way" "e395" -->
<a id="e395"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e395" class="eglink"><b>452</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e395" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Status line with centered text, the hard way</span></b></a><br />A status line which has only the name of the location, centered.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_27.html#e395"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example395">
<p>Making major changes to display features, such as the construction of the status line, sometimes requires that we rely on Inform 6 in bulk; here is how we might produce the Trinity-style status line, with the location centered at the top center of the screen.</p>
<!-- START CODE "c16529_395" -->
<a id="c16529_395"></a><blockquote class="code"><p class="quoted">
&quot;Corner of No and Where&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16530_395" -->
<a id="c16530_395"></a><blockquote class="code"><p class="quoted">
No is a room. Where is west of No.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16531_395" -->
<a id="c16531_395"></a><blockquote class="code"><p class="quoted">
Rule for constructing the status line:
<br />&#160;&#160;&#160;&#160;print the location in the center of the status line;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16532_395" -->
<a id="c16532_395"></a><blockquote class="code"><p class="quoted">
To print the location in the center of the status line:
<br />&#160;&#160;&#160;&#160;(- PrintCenteredStatus(); -).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16533_395" -->
<a id="c16533_395"></a><blockquote class="code"><p class="quoted">
Include (-
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16534_395" -->
<a id="c16534_395"></a><blockquote class="code"><p class="quoted">
Array printed_text --&gt; 64;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16535_395" -->
<a id="c16535_395"></a><blockquote class="code"><p class="quoted">
[ PrintCenteredStatus i j;
<br />&#160;&#160;&#160;&#160;@set_cursor 1 0;
<br />&#160;&#160;&#160;&#160;i = 0-&gt;33;
<br />&#160;&#160;&#160;&#160;spaces(i);
<br />&#160;&#160;&#160;&#160;@output_stream 3 printed_text;
<br />&#160;&#160;&#160;&#160;print (name) location;
<br />&#160;&#160;&#160;&#160;@output_stream -3;
<br />&#160;&#160;&#160;&#160;j = (i - (printed_text--&gt;0))/2;
<br />&#160;&#160;&#160;&#160;@set_cursor 1 j;
<br />&#160;&#160;&#160;&#160;print (name) location;
<br />&#160;&#160;&#160;&#160;spaces j-1;
<br />];
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16536_395" -->
<a id="c16536_395"></a><blockquote class="code"><p class="quoted">
-)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16537_395" -->
<a id="c16537_395"></a><blockquote class="code"><p class="quoted">
Test me with &quot;w / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In fact, as we've already seen, many extra modifications to the display behavior are possible using Basic Screen Effects.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "351: Guided Tour" "e130" -->
<a id="e130"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e130" class="eglink"><b>351</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e130" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Guided Tour</span></b></a><br />A status line that lists the available exits from the current location, changing the names of these exits depending on whether the room has been visited or not.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_18.html#e130"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example130">
<p>It may sometimes be helpful to prompt the player with a list of exits printed up in the status line. For instance, here is a status line that will print the names of nearby rooms, as well as all the doors the player can see:</p>
<!-- START CODE "c16538_130" -->
<a id="c16538_130"></a><blockquote class="code"><p class="quoted">
&quot;Guided Tour&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16539_130" -->
<a id="c16539_130"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;Nearby: [if a room is adjacent][the list of adjacent rooms][end if][if a room is adjacent and a door is visible] and [end if][if a door is visible][the list of visible doors][end if]&quot;;
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Of course, we may not want to tell the player what glories are to be found in locations he hasn't yet explored.</p>
<!-- START CODE "c16540_130" -->
<a id="c16540_130"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of an unvisited room (called the target) while constructing the status line:
<br />&#160;&#160;&#160;&#160;let aim be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;say &quot;something [aim]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Even when we have seen a room, we might still want a reminder about how to get there:</p>
<!-- START CODE "c16541_130" -->
<a id="c16541_130"></a><blockquote class="code"><p class="quoted">
After printing the name of a visited room (called the target) while constructing the status line:
<br />&#160;&#160;&#160;&#160;let aim be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;say &quot; ([aim])&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We may also find that printing out full directions makes the status line unpleasantly crowded. Fortunately, it isn't hard to provide a set of abbreviations to use in this context:</p>
<!-- START CODE "c16542_130" -->
<a id="c16542_130"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a direction (called the aim) while constructing the status line:
<br />&#160;&#160;&#160;&#160;choose row with a heading of the aim in the Table of Abbreviation;
<br />&#160;&#160;&#160;&#160;say &quot;[shortcut entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16543_130" -->
<a id="c16543_130"></a><blockquote class="code"><p class="quoted">
Table of Abbreviation
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">heading</p></td><td class="quotedtablecell"><p class="quoted">shortcut</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">north</p></td><td class="quotedtablecell"><p class="quoted">&quot;N&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">northeast</p></td><td class="quotedtablecell"><p class="quoted">&quot;NE&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">northwest</p></td><td class="quotedtablecell"><p class="quoted">&quot;NW&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">east</p></td><td class="quotedtablecell"><p class="quoted">&quot;E&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">southeast</p></td><td class="quotedtablecell"><p class="quoted">&quot;SE&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">south</p></td><td class="quotedtablecell"><p class="quoted">&quot;S&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">southwest</p></td><td class="quotedtablecell"><p class="quoted">&quot;SW&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">west</p></td><td class="quotedtablecell"><p class="quoted">&quot;W&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">up</p></td><td class="quotedtablecell"><p class="quoted">&quot;U&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">down</p></td><td class="quotedtablecell"><p class="quoted">&quot;D&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">inside</p></td><td class="quotedtablecell"><p class="quoted">&quot;in&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">outside</p></td><td class="quotedtablecell"><p class="quoted">&quot;out&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Everywhere else, the names of directions will still be printed out in full in the usual way. And now we give it a little map to work with:</p>
<!-- START CODE "c16544_130" -->
<a id="c16544_130"></a><blockquote class="code"><p class="quoted">
Dome is a room. North of Dome is North Chapel. South of the Dome is South Chapel. West of the Dome is Western End. Quiet Corner is northwest of the Dome, north of Western End, and west of North Chapel. Loud Corner is east of North Chapel, northeast of Dome, and north of Eastern End. Eastern End is north of Dim Corner and east of Dome. Dim Corner is southeast of Dome and east of South Chapel. Ruined Corner is southwest of Dome, west of South Chapel, and south of Western End.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16545_130" -->
<a id="c16545_130"></a><blockquote class="code"><p class="quoted">
The church door is east of Eastern End and west of the Courtyard. The church door is a door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16546_130" -->
<a id="c16546_130"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / w / s&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that while this looks fine in some places, other locations exceed the limits of what the status-line can hold: if any given room is going to have a large number of exits, this kind of listing will almost certainly not fit. So apply cautiously.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "115: Centered" "e394" -->
<a id="e394"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e394" class="eglink"><b>115</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e394" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Centered</span></b></a><br />Replacing the two-part status line with one that centers only the room name at the top of the screen.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_8.html#e394"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example394">
<p>If we want to lay out the status line in some other way than with left-hand and right-hand entries, it is possible to do this as well. Later we will learn about the &quot;rule for constructing the status line&quot;, but here is a basic effect using this rule and an Inform extension included as part of the standard distribution, called Basic Screen Effects.</p>
<!-- START CODE "c16547_394" -->
<a id="c16547_394"></a><blockquote class="code"><p class="quoted">
&quot;Centered&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16548_394" -->
<a id="c16548_394"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;After months of boring through the Earth's crust in this metal-jawed vehicle, you break through...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16549_394" -->
<a id="c16549_394"></a><blockquote class="code"><p class="quoted">
The Hollow Core is a room. &quot;Truly a magnificent sight: the land curves up away from you in every direction, covered with the cities and fields of the Core People. Molten rock runs in the canals, bringing heat and light to every home.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16550_394" -->
<a id="c16550_394"></a><blockquote class="code"><p class="quoted">
At the center of the Earth hangs a dense black sun.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16551_394" -->
<a id="c16551_394"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16552_394" -->
<a id="c16552_394"></a><blockquote class="code"><p class="quoted">
Rule for constructing the status line:
<br />&#160;&#160;&#160;&#160;center &quot;[location]&quot; at row 1;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16553_394" -->
<a id="c16553_394"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Basic Screen Effects also provides a mechanism for building complicated status lines of more than one row. To read its documentation, we include the extension, press Go!, and then consult the contents index that results.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "300: Ibid." "e152" -->
<a id="e152"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e152" class="eglink"><b>300</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e152" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ibid.</span></b></a><br />A system which allows the author to assign footnotes to descriptions, and permits the player to retrieve them again by number, using "the number understood". Footnotes will automatically number themselves, according to the order in which the player discovers them.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_17.html#e152"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example152">
<p>&quot;Hitchhiker's Guide to the Galaxy&quot; introduced the idea of footnoted descriptions, and various IF games since have toyed with the idea. The recommended implementation in Inform 6 involved keeping an assortment of footnote objects around, but in Inform 7 the table is a much tidier way of handling the same problem.</p>
<!-- START CODE "c16554_152" -->
<a id="c16554_152"></a><blockquote class="code"><p class="quoted">
&quot;Ibid.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16555_152" -->
<a id="c16555_152"></a><blockquote class="code"><p class="quoted">
The Ship Inn is a room. &quot;Here you are in a lovely pub which your guidebook assures you is extremely authentic. [1 as a footnote].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16556_152" -->
<a id="c16556_152"></a><blockquote class="code"><p class="quoted">
To your left sits a party of Italians, with their guidebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16557_152" -->
<a id="c16557_152"></a><blockquote class="code"><p class="quoted">
To your right is a silent, but not unappealing, young man.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16558_152" -->
<a id="c16558_152"></a><blockquote class="code"><p class="quoted">
A party of Italians and a silent young man are people in the Ship Inn. The Italians and the young man are scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16559_152" -->
<a id="c16559_152"></a><blockquote class="code"><p class="quoted">
The table is a supporter in the Ship Inn. On the table is a mysterious pie. The description of the pie is &quot;Your waitress told you it was the specialty of the day, Steak and Owl Pie. [2 as a footnote].&quot; The pie is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16560_152" -->
<a id="c16560_152"></a><blockquote class="code"><p class="quoted">
Table of Footnotes
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">assignment</p></td><td class="quotedtablecell"><p class="quoted">note</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a number</p></td><td class="quotedtablecell"><p class="quoted">&quot;Francis Drake ate here, if the sign on the door is to be believed&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">--</p></td><td class="quotedtablecell"><p class="quoted">&quot;this is unlikely, considering that owls are protected animals in England these days [3 as a footnote]&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">--</p></td><td class="quotedtablecell"><p class="quoted">&quot;moreover, you can't imagine that owl would be very tasty&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16561_152" -->
<a id="c16561_152"></a><blockquote class="code"><p class="quoted">
Footnotes mentioned is a number that varies.
</p></blockquote>
<!-- END CODE -->
<p>Whenever we mention a footnote for the first time, we need to assign it a number, which we will use consistently thereafter. And it's probably a good idea to protect ourselves against the author accidentally using a number too large for the footnote table, too. So:</p>
<!-- START CODE "c16562_152" -->
<a id="c16562_152"></a><blockquote class="code"><p class="quoted">
To say (footnote - a number) as a footnote:
<br />&#160;&#160;&#160;&#160;if footnote &gt; number of filled rows in the Table of Footnotes:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Programming error: footnote assignment out of range.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row footnote in the Table of Footnotes;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is an assignment entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;([assignment entry])&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment footnotes mentioned;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row footnote in the Table of Footnotes;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now assignment entry is footnotes mentioned;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;([assignment entry])&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now, in order to let the player view these footnotes, we'll need to parse numbers.</p>
<!-- START CODE "c16563_152" -->
<a id="c16563_152"></a><blockquote class="code"><p class="quoted">
Understand &quot;footnote [number]&quot; as looking up a footnote.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16564_152" -->
<a id="c16564_152"></a><blockquote class="code"><p class="quoted">
Looking up a footnote is an action applying to one number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16565_152" -->
<a id="c16565_152"></a><blockquote class="code"><p class="quoted">
Check looking up a footnote:
<br />&#160;&#160;&#160;&#160;if the number understood &gt; footnotes mentioned, say &quot;You haven't seen any such footnote.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the number understood &lt; 1, say &quot;Footnotes are numbered from 1.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16566_152" -->
<a id="c16566_152"></a><blockquote class="code"><p class="quoted">
Carry out looking up a footnote:
<br />&#160;&#160;&#160;&#160;choose row with assignment of number understood in the Table of Footnotes;
<br />&#160;&#160;&#160;&#160;say &quot;([assignment entry]): [note entry].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16567_152" -->
<a id="c16567_152"></a><blockquote class="code"><p class="quoted">
Test me with &quot;footnote 1 / examine pie / footnote 2 / footnote 3&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This method does require us to keep track of where a footnote appears in the table. If we found this inconvenient, we could add a column to the footnote table so that we could invoke it with tags like &quot;[appearance quip as a footnote]&quot;.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "445: Flathead News Network" "e334" -->
<a id="e334"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="RB_12.html#e334" class="eglink"><b>445</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_12.html#e334" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Flathead News Network</span></b></a><br />Using external files, together with a simple Unix script running in the background, to provide live news headlines inside a story file.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="WI_23.html#e334"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example334">
<p>This example can only work if we have a separate program running in the background while the story file is being played, and as such it will only work if we set things up in a special way. Exactly how to do this will vary from platform to platform.</p>
<p>First, the source text for the Inform end of the communication line:</p>
<!-- START CODE "c16568_334" -->
<a id="c16568_334"></a><blockquote class="code"><p class="quoted">
&quot;Flathead News Network&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16569_334" -->
<a id="c16569_334"></a><blockquote class="code"><p class="quoted">
The file of RSS Requests is called &quot;rssrequest&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16570_334" -->
<a id="c16570_334"></a><blockquote class="code"><p class="quoted">
The file of RSS Responses (owned by project &quot;RSS-SCRIPT&quot;) is called &quot;rssreply&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16571_334" -->
<a id="c16571_334"></a><blockquote class="code"><p class="quoted">
To request (RSS feed address - text):
<br />&#160;&#160;&#160;&#160;mark the file of RSS Responses as not ready to read;
<br />&#160;&#160;&#160;&#160;write the RSS feed address to the file of RSS Requests.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16572_334" -->
<a id="c16572_334"></a><blockquote class="code"><p class="quoted">
Newsroom is a room. &quot;This is the secret nerve-centre of FNN, the Flathead News Network.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16573_334" -->
<a id="c16573_334"></a><blockquote class="code"><p class="quoted">
The BBC button is in the Newsroom. Instead of pushing the BBC button: say &quot;Bong!&quot;; request &quot;newsrss.bbc.co.uk/rss/newsonline_uk_edition/front_page/rss.xml&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16574_334" -->
<a id="c16574_334"></a><blockquote class="code"><p class="quoted">
The NASA button is in the Newsroom. Instead of pushing the NASA button: say &quot;Bang!&quot;; request &quot;www.nasa.gov/rss/breaking_news.rss&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16575_334" -->
<a id="c16575_334"></a><blockquote class="code"><p class="quoted">
The WHO button is in the Newsroom. Instead of pushing the WHO button: say &quot;Bing!&quot;; request &quot;http://www.doctorwhonews.net&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16576_334" -->
<a id="c16576_334"></a><blockquote class="code"><p class="quoted">
A screen is in the Newsroom.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16577_334" -->
<a id="c16577_334"></a><blockquote class="code"><p class="quoted">
Instead of examining the screen:
<br />&#160;&#160;&#160;&#160;if ready to read the file of RSS Responses, say &quot;From the screen you read:[line break][text of the file of RSS Responses]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;The screen remains blank for now.&quot;
</p></blockquote>
<!-- END CODE -->
<p>As far as the story file is concerned, then, it sends a request down the communication line by writing the chosen RSS feed to the file named &quot;rssrequest&quot;, and expects a reply to come back down the line by being written to the file &quot;rssreply&quot;. However, the story file needs to expect that this might take some time. (Maybe forever, if there is no program responding, or if the Internet connection is not working.) The story file marks the &quot;rssreply&quot; file as not ready before it makes a request; if it subsequently finds that the file is now ready, that must mean that the other program has done the honours, and that all is well. In the mean time, &quot;The screen remains blank for now.&quot;</p>
<p>Now for the RSS-SCRIPT program. The following provides a crude but workable program suitable for running as a Perl script on a system which provides the standard Internet fetching program &quot;curl&quot;: Mac OS X, for instance. (If you have OS X, you can paste the following into a (Unix-format) text file called &quot;rss-script.pl&quot;, place it in your home folder, open the Terminal utility, type &quot;perl rss-script.pl&quot;, and then hide the Terminal window again.)</p>
<!-- START CODE "c16578_334" -->
<a id="c16578_334"></a><blockquote class="code"><p class="quoted">
for (;;) { # repeat forever:
<br />&#160;&#160;&#160;&#160;system(&quot;sleep 1&quot;); # wait 1 second
<br />&#160;&#160;&#160;&#160;open REQUEST, &quot;rssrequest.glkdata&quot; or next;
<br />&#160;&#160;&#160;&#160;# the request file has been detected:
<br />&#160;&#160;&#160;&#160;$header_line = &lt;REQUEST&gt;; # the header line
<br />&#160;&#160;&#160;&#160;$rss_feed = &lt;REQUEST&gt;; # the actual content - the RSS feed URL
<br />&#160;&#160;&#160;&#160;close REQUEST;
<br />&#160;&#160;&#160;&#160;if ($header_line =~ m/^\*/) { # if the request file is marked ready
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;$rss = system(&quot;curl $rss_feed &gt;rawrss.txt&quot;); # download the RSS feed
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;# read the RSS XML into a single Perl string:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;open RAWRSS, &quot;rawrss.txt&quot; or next;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;$raw = &quot;&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while ($nl = &lt;RAWRSS&gt;) {
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;$raw = $raw.&quot; &quot;.$nl;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;close RAWRSS;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;# look for the title and description of the first item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ($raw =~ m/\&lt;item\&gt;\&lt;title.*?\&gt;(.*?)\&lt;\/title\&gt;.*?\&lt;description.*?\&gt;(.*?)\&lt;\/description\&gt;/) {
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;# write the reply:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;open REPLY, &quot;&gt;rssreply.glkdata&quot; or next;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;print REPLY &quot;* //RSS-SCRIPT// rssreply\n&quot;, $1, &quot;\n&quot;, $2, &quot;\n&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;close REPLY;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;# request safely dealt with, so we can remove it:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;system(&quot;rm 'rssrequest.glkdata'&quot;);
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
<br />&#160;&#160;&#160;&#160;}
<br />}
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
