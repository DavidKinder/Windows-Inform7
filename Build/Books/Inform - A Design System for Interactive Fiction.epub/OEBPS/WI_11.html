<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>Chapter 11: Phrases</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 11: Phrases</p>
<p class="chaptercontents"><a href="WI_11.html#s1" class="standardlink"><span class="chaptercontentsitem">§11.1. What are phrases?</span></a>; <a href="WI_11.html#s2" class="standardlink"><span class="chaptercontentsitem">§11.2. The phrasebook</span></a>; <a href="WI_11.html#s3" class="standardlink"><span class="chaptercontentsitem">§11.3. Pattern matching</span></a>; <a href="WI_11.html#s4" class="standardlink"><span class="chaptercontentsitem">§11.4. The showme phrase</span></a>; <a href="WI_11.html#s5" class="standardlink"><span class="chaptercontentsitem">§11.5. Conditions and questions</span></a>; <a href="WI_11.html#s6" class="standardlink"><span class="chaptercontentsitem">§11.6. If</span></a>; <a href="WI_11.html#s7" class="standardlink"><span class="chaptercontentsitem">§11.7. Begin and end</span></a>; <a href="WI_11.html#s8" class="standardlink"><span class="chaptercontentsitem">§11.8. Otherwise</span></a>; <a href="WI_11.html#s9" class="standardlink"><span class="chaptercontentsitem">§11.9. While</span></a>; <a href="WI_11.html#s10" class="standardlink"><span class="chaptercontentsitem">§11.10. Repeat</span></a>; <a href="WI_11.html#s11" class="standardlink"><span class="chaptercontentsitem">§11.11. Repeat running through</span></a>; <a href="WI_11.html#s12" class="standardlink"><span class="chaptercontentsitem">§11.12. Next and break</span></a>; <a href="WI_11.html#s13" class="standardlink"><span class="chaptercontentsitem">§11.13. Stop</span></a>; <a href="WI_11.html#s14" class="standardlink"><span class="chaptercontentsitem">§11.14. Phrase options</span></a>; <a href="WI_11.html#s15" class="standardlink"><span class="chaptercontentsitem">§11.15. Let and temporary variables</span></a>; <a href="WI_11.html#s16" class="standardlink"><span class="chaptercontentsitem">§11.16. New conditions, new adjectives</span></a>; <a href="WI_11.html#s17" class="standardlink"><span class="chaptercontentsitem">§11.17. Phrases to decide other things</span></a>; <a href="WI_11.html#s18" class="standardlink"><span class="chaptercontentsitem">§11.18. The value after and the value before</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="WI_1.html" class="standardlink">Contents of <i>Writing with Inform</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_10.html" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_10.html" class="standardlink">Chapter 10: Scenes</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html" class="standardlink">Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§11.1. What are phrases?</p>
<p>Phrases are instructions to Inform to do something, or to decide whether something is true or false, or to produce a value, or to say something. Inform has around 350 phrases built-in, and the chapters so far have already defined about 100 of those. In this chapter we'll see some key phrases for organising instructions of what to do, and also see how to define entirely new phrases.</p>
<p>Just to run through the four sorts of phrase with examples:</p>
<p>(a) Phrases to do something. These are the ones used in the body of a rule. For example,</p>
<!-- START CODE "c2819" -->
<a id="c2819"></a><blockquote class="code"><p class="quoted">
When Train Stop begins:
<br />&#160;&#160;&#160;&#160;move the Flying Scotsman to the Station;
<br />&#160;&#160;&#160;&#160;say &quot;The Flying Scotsman pulls up at the platform.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Rules like this begin with a &quot;preamble&quot;, the beginning part which tells Inform when or how they apply, and then follow on with a list of instructions - here, just two of them. &quot;move ... to ...&quot; and &quot;say ...&quot; are both phrases. Inform provides about 130 of these built-in. It's actually not quite true that they all do something, because one of them is:</p>
<!-- START PHRASE "defn119" -->
<div class="definition"><a id="defn119"></a><p class="defnprototype"><b>do nothing</b></p>
<!-- END PHRASE -->
<!-- definition of ph_nothing -->

<p>This phrase does nothing at all. It is very occasionally useful to make a rule which does nothing:</p>
<!-- START CODE "c2820" -->
<a id="c2820"></a><blockquote class="code"><p class="quoted">
This is the largely ineffective rule:
<br />&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>(b) Phrases to decide whether a condition is true. These are the ones which can  be used in an &quot;if&quot;:</p>
<!-- START CODE "c2821" -->
<a id="c2821"></a><blockquote class="code"><p class="quoted">
if action requires light: ...
</p></blockquote>
<!-- END CODE -->
<p>Not all conditions come from phrases. For example, &quot;if the front door is closed&quot; and &quot;if Peter is wearing the sandals&quot; have meanings which come from the verbs &quot;to be&quot; and &quot;to wear&quot;. Inform provides about 60 built-in conditions, which give a friendly wording for questions which would be lengthy or difficult to write in any other way.</p>
<p>(c) Phrases to decide a value. For example:</p>
<!-- START CODE "c2822" -->
<a id="c2822"></a><blockquote class="code"><p class="quoted">
square root of 16
</p></blockquote>
<!-- END CODE -->
<p>produces a number, 4 of course, and can be used whenever a number is expected. Inform provides about 100 built-in phrases like this.</p>
<p>(d) Text substitutions. These are actually just phrases whose definition begins with &quot;To say ...&quot;. Example:</p>
<!-- START CODE "c2823" -->
<a id="c2823"></a><blockquote class="code"><p class="quoted">
&quot;It's now [time of day in words].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Inform provides about 60 built-in text substitutions.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_10.html#s9" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_10.html#s9" class="standardlink">Back to Chapter 10: Scenes: §10.9. Why are scenes designed this way?</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s2" class="standardlink">Onward to §11.2. The phrasebook</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§11.2. The phrasebook</p>
<p>The Phrasebook is Inform's collection of recognised phrases, and it can always be browsed using the Index panel of the same name. Even the smallest project has a good-sized phrasebook, since it contains all of the built-in phrases. But most projects also define new phrases of their own.</p>
<p>Here is a simple definition of a new phrase:</p>
<!-- START CODE "c2824" -->
<a id="c2824"></a><blockquote class="code"><p class="quoted">
To spring the trap:
<br />&#160;&#160;&#160;&#160;say &quot;'Sproing!' go the hinges and, with a flash of silver, the enormous blades whisk together!&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<p>Inform allows us to use whatever conventions of layout we prefer, but it's customary to use indentation like this, dividing off the preamble from the phrases which follow. As can be seen, definitions of new phrases look very like rules.</p>
<p>What makes this definition a simple one is that the wording is fixed. The only way to use this would be from another phrase or rule, like so:</p>
<!-- START CODE "c2825" -->
<a id="c2825"></a><blockquote class="code"><p class="quoted">
Instead of entering the cage:
<br />&#160;&#160;&#160;&#160;spring the trap.
</p></blockquote>
<!-- END CODE -->
<p>In the next section we'll see how to give more complicated definitions which, like &quot;move ... to ...&quot;, allow for the wording to change with the circumstances.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s1" class="standardlink">Back to §11.1. What are phrases?</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s3" class="standardlink">Onward to §11.3. Pattern matching</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§11.3. Pattern matching</p>
<p>In this section, let's make the following new phrase:</p>
<!-- START CODE "c2826" -->
<a id="c2826"></a><blockquote class="code"><p class="quoted">
To admire (item - an object):
<br />&#160;&#160;&#160;&#160;say &quot;You take a long look at [item].&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This does very little, of course, but it does allow the wording to be different each time the phrase is used:</p>
<!-- START CODE "c2827" -->
<a id="c2827"></a><blockquote class="code"><p class="quoted">
admire the diamonds;
<br />admire Mr Cogito;
<br />admire the honey sandwich;
</p></blockquote>
<!-- END CODE -->
<p>and our single definition covers all of these possibilities. The bracketed part of the definition, &quot;(item - an object)&quot;, tells Inform to expect an object in that position, and Inform enforces this carefully. So this definition might tell Inform what &quot;admire the barricade&quot; means, but not what</p>
<!-- START CODE "c2828" -->
<a id="c2828"></a><blockquote class="code"><p class="quoted">
admire &quot;blue cheese&quot;;
<br />admire 63;
</p></blockquote>
<!-- END CODE -->
<p>mean. Unless some other definition sorts the matter out, Inform will reply to uses like this with a Problem message:</p>
<!-- START CODE "c2829" -->
<a id="c2829"></a><blockquote class="code"><p class="quoted">
<span class="boldface">Problem.</span> You wrote 'admire 63' <img alt="Reveal.png" src="images/Reveal.png" />, but '63' has the wrong kind of value: a number rather than an object.
</p></blockquote>
<!-- END CODE -->
<p>The object does not need to be named literally, but can be anything which works out to be an object: for instance,</p>
<!-- START CODE "c2830" -->
<a id="c2830"></a><blockquote class="code"><p class="quoted">
After dropping something in the Auction House:
<br />&#160;&#160;&#160;&#160;admire the noun.
</p></blockquote>
<!-- END CODE -->
<p>which Inform allows because &quot;noun&quot;, here, is a name for the object which is being acted on.</p>
<p>Inform decides which definition to apply in a process called &quot;pattern matching&quot;.</p>
<p>The bracketed part of the example definition has the form &quot;(name - kind)&quot;. The definition only applies if the text supplied agrees with the &quot;kind&quot; part - for instance, the diamonds agreed with &quot;object&quot;, but 63 did not. If the definition  does apply, then the Inform works through the rest of the phrase using &quot;name&quot; to mean whatever value matched. For example:</p>
<!-- START CODE "c2831" -->
<a id="c2831"></a><blockquote class="code"><p class="quoted">
To slam shut (box - an open container):
<br />&#160;&#160;&#160;&#160;say &quot;With great panache, you slam shut [the box].&quot;;
<br />&#160;&#160;&#160;&#160;now the box is closed.
</p></blockquote>
<!-- END CODE -->
<p>When this phrase is followed, &quot;box&quot; means whatever open container the pattern-matcher found when it was called for. For example, if Inform reads</p>
<!-- START CODE "c2832" -->
<a id="c2832"></a><blockquote class="code"><p class="quoted">
slam shut the Dutch armoire;
</p></blockquote>
<!-- END CODE -->
<p>then it acts on this by following the definition of &quot;slam shut ...&quot;, using the Dutch armoire object as the value of &quot;box&quot;, so it prints:</p>
<!-- START CODE "c2833" -->
<a id="c2833"></a><blockquote class="code"><p class="quoted">
With great panache, you slam shut the Dutch armoire.
</p></blockquote>
<!-- END CODE -->
<p>and renders it closed.</p>
<p>In fact any description can be given in the definition, and that includes a single, specific value. For instance, we could define:</p>
<!-- START CODE "c2834" -->
<a id="c2834"></a><blockquote class="code"><p class="quoted">
To grant (bonus - a number) points:
<br />&#160;&#160;&#160;&#160;increase the score by the bonus.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2835" -->
<a id="c2835"></a><blockquote class="code"><p class="quoted">
To grant (bonus - 7) points:
<br />&#160;&#160;&#160;&#160;say &quot;You shiver uncontrollably.&quot;
</p></blockquote>
<!-- END CODE -->
<p>which would withhold this unlucky bounty. That would mean that:</p>
<!-- START CODE "c2836" -->
<a id="c2836"></a><blockquote class="code"><p class="quoted">
grant 7 points;
<br />grant seven points;
</p></blockquote>
<!-- END CODE -->
<p>would each produce uncontrollable shivers, because Inform uses the definition applying to the number 7; but</p>
<!-- START CODE "c2837" -->
<a id="c2837"></a><blockquote class="code"><p class="quoted">
grant six points;
</p></blockquote>
<!-- END CODE -->
<p>would increase the score by 6. In general Inform always follows the principle that more specific definitions take priority over more general ones. So although the definitions:</p>
<!-- START CODE "c2838" -->
<a id="c2838"></a><blockquote class="code"><p class="quoted">
To grant (bonus - a number) points: ...
<br />To grant (bonus - 7) points: ...
</p></blockquote>
<!-- END CODE -->
<p>both apply to the case of &quot;grant 7 points&quot;, Inform uses the second, because it's the more specific of the two possibilities.</p>
<p>Sometimes it will not be possible to tell if the value supplied meets the requirements until the story is actually playing. If, at run-time, no definition fits some phrase which has to be carried out, a run-time problem message is produced.</p>
<p>Finally, and more straightforwardly, we can specify variations in wording using slashes between alternative words in a &quot;To ...&quot; definition. For instance:</p>
<!-- START CODE "c2839" -->
<a id="c2839"></a><blockquote class="code"><p class="quoted">
To grant (bonus - a number) point/points: ...
</p></blockquote>
<!-- END CODE -->
<p>allows the final word to be either &quot;point&quot; or &quot;points&quot;. Slashes like this can only be used with literal words, not bracketed values, and give alternative forms only of a single word at a time; the alternative &quot;--&quot; means &quot;no word at all&quot;, and thus makes it optional:</p>
<!-- START CODE "c2840" -->
<a id="c2840"></a><blockquote class="code"><p class="quoted">
To grant (bonus - a number) point/points/--: ...
</p></blockquote>
<!-- END CODE -->
<p>makes &quot;grant 3&quot; do the same as &quot;grant 3 points&quot;.</p>
<p>If we need more variation than that, we should make more than one definition.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s2" class="standardlink">Back to §11.2. The phrasebook</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s4" class="standardlink">Onward to §11.4. The showme phrase</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e3" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e3" class="standardlink">Example 169: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ahem</b>&#160;&#160;&#160; Writing a phrase, with several variant forms, whose function is to follow a rule several times.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e139" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e139" class="standardlink">Example 170: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Ferragamo Again</b>&#160;&#160;&#160; Using the same phrase to produce different results with different characters.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§11.4. The showme phrase</p>
<p>We've already seen the SHOWME command, which can be typed into the Story panel to look at the state of something, usually a thing or room. SHOWME is a testing command which has no effect once the work is released; eventual players can't use it.</p>
<p>Inform also has a phrase called &quot;showme&quot;, which works in much the same way:</p>
<!-- START PHRASE "defn120" -->
<div class="definition"><a id="defn120"></a><p class="defnprototype"><b>showme </b>(value)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_showme -->

<p>This phrase is intended for testing purposes only. If used in a story file running inside the Inform application, it prints a line of text showing the given value and its kind; in a Released story file, it does nothing at all. Example:</p>
<!-- START CODE "c2841" -->
<a id="c2841"></a><blockquote class="code"><p class="quoted">
When play begins: showme 11.
</p></blockquote>
<!-- END CODE -->
<p>produces</p>
<!-- START CODE "c2842" -->
<a id="c2842"></a><blockquote class="code"><p class="quoted">
number: 11
</p></blockquote>
<!-- END CODE -->
<p>More usefully:</p>
<!-- START CODE "c2843" -->
<a id="c2843"></a><blockquote class="code"><p class="quoted">
Every turn: showme the score.
</p></blockquote>
<!-- END CODE -->
<p>Now, every turn, we get a line in the story's transcript like so:</p>
<!-- START CODE "c2844" -->
<a id="c2844"></a><blockquote class="code"><p class="quoted">
&quot;score&quot; = number: 0
</p></blockquote>
<!-- END CODE -->
<p>Inform uses the quotation marks and equals sign to show that it had to do some work to find the answer. &quot;score&quot; wasn't a constant value - it was a variable, and Inform had to look up the current value.</p>

<!-- end definition -->
</div>

<p>&quot;showme&quot; is a convenient way to see what's going on inside a phrase which isn't behaving as expected, or to find out the kind of a value. Here are some trickier examples. Suppose our design includes:</p>
<!-- START CODE "c2845" -->
<a id="c2845"></a><blockquote class="code"><p class="quoted">
The matching key of the blue door is the brass Yale key.
</p></blockquote>
<!-- END CODE -->
<p>If we then try this:</p>
<!-- START CODE "c2846" -->
<a id="c2846"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;showme matching key of the blue door.
</p></blockquote>
<!-- END CODE -->
<p>we get, when the story starts up,</p>
<!-- START CODE "c2847" -->
<a id="c2847"></a><blockquote class="code"><p class="quoted">
&quot;matching key of the blue door&quot; = object: brass Yale key
</p></blockquote>
<!-- END CODE -->
<p>Why is this an &quot;object&quot;, when we know that the key is actually a &quot;thing&quot;? After all, if we &quot;showme key&quot; instead, we get:</p>
<!-- START CODE "c2848" -->
<a id="c2848"></a><blockquote class="code"><p class="quoted">
thing: brass Yale key
</p></blockquote>
<!-- END CODE -->
<p>The answer is a little technical: it's because Inform guarantees that the matching key is always an object, but not that it's always a thing - it just happens to be a thing at the moment. There's not really a contradiction, because a &quot;thing&quot; is a kind of &quot;object&quot;, so in fact the key is both. If we try &quot;showme matching key&quot;, we get something like this:</p>
<!-- START CODE "c2849" -->
<a id="c2849"></a><blockquote class="code"><p class="quoted">
objects valued property: property 23
</p></blockquote>
<!-- END CODE -->
<p>which is even more technical - people never need to print the names of abstract property names during play, so Inform doesn't provide any good way of doing it. It is reduced to printing out an internal ID number (&quot;property 23&quot;) instead of the name (&quot;matching key&quot;). This can't be helped: &quot;showme&quot; is a way to lift the lid and see what's going on inside Inform's machinery, and some of the corners are dark.</p>
<p>All the same, &quot;showme&quot; can be very useful in tinkering with rules to make them work properly. It prints nothing at all in a Release version of a project, so it's impossible for these private notes to be shown accidentally to our eventual readers.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s3" class="standardlink">Back to §11.3. Pattern matching</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s5" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s5" class="standardlink">Onward to §11.5. Conditions and questions</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§11.5. Conditions and questions</p>
<p>A variety of &quot;conditions&quot; have already appeared in this documentation. A condition is a phrase which describes a situation which might be true, or might be false, and examples might include:</p>
<!-- START CODE "c2850" -->
<a id="c2850"></a><blockquote class="code"><p class="quoted">
Mr Kite is in Bishopsgate
<br />the score is greater than 10
<br />Sherlock Holmes suspects a woman
</p></blockquote>
<!-- END CODE -->
<p>These are all examples of sentences, formed by putting nouns either side of a verb, and clearly a wide range of conditions can be written this way. But there are also a few special conditions built into Inform which have a fixed wording, and test questions difficult to address with ordinary sentences. For instance:</p>
<!-- START PHRASE "defn121" -->
<div class="definition"><a id="defn121"></a><p class="defnprototype"><b>if in darkness:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_indarkness -->

<p>This condition is true if the player currently has no light to see by. Note that the test is more complicated than simply testing</p>
<!-- START CODE "c2851" -->
<a id="c2851"></a><blockquote class="code"><p class="quoted">
if the player is in a dark room, ...
</p></blockquote>
<!-- END CODE -->
<p>since the player might have a torch, or be inside a cage which is itself in a dark room, and so on.</p>

<!-- end definition -->
</div>

<p>Another example of a condition not easily written as a sentence is:</p>
<!-- START PHRASE "defn122" -->
<div class="definition"><a id="defn122"></a><p class="defnprototype"><b>if player consents:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_consents -->

<p>This condition is unusual in doing something and not simply making a silent check: it waits for the player to type YES (or Y) or NO (or N) at the keyboard, and then is true if the answer was yes. Example:</p>
<!-- START CODE "c2852" -->
<a id="c2852"></a><blockquote class="code"><p class="quoted">
say &quot;Are you quite sure you want to kiss the Queen? &quot;;
<br />if the player consents:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>Whether it's put to the player like this or not, testing a condition is really asking a question, and there is always a yes/no answer. In Inform this answer is not usually a value (unlike in some other computer programming languages), but it can be made into one.</p>
<p>Firstly, we need a special kind of value to hold answers like this. It's called &quot;truth state&quot;, and it has just two possible values, written as &quot;true&quot; and &quot;false&quot;. We then need:</p>
<!-- START PHRASE "defn123" -->
<div class="definition"><a id="defn123"></a><p class="defnprototype"><b>whether or not </b>(a condition)<b> ... truth state</b></p>
<!-- END PHRASE -->
<!-- definition of ph_whether -->

<p>This phrase converts a condition into its result as a value, which is always either &quot;true&quot; or &quot;false&quot;. Example:</p>
<!-- START CODE "c2853" -->
<a id="c2853"></a><blockquote class="code"><p class="quoted">
whether or not 20 is an odd number
</p></blockquote>
<!-- END CODE -->
<p>produces the truth state &quot;false&quot;. This is mostly useful for storing up results to look at later:</p>
<!-- START CODE "c2854" -->
<a id="c2854"></a><blockquote class="code"><p class="quoted">
let victory be whether or not all the treasures are in the cabinet;
</p></blockquote>
<!-- END CODE -->
<p>and then subsequently:</p>
<!-- START CODE "c2855" -->
<a id="c2855"></a><blockquote class="code"><p class="quoted">
if victory is true, ...
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>As another example, in most stories this:</p>
<!-- START CODE "c2856" -->
<a id="c2856"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;showme whether or not in darkness.
</p></blockquote>
<!-- END CODE -->
<p>...will produce a line:</p>
<!-- START CODE "c2857" -->
<a id="c2857"></a><blockquote class="code"><p class="quoted">
&quot;whether or not in darkness&quot; = truth state: false
</p></blockquote>
<!-- END CODE -->
<p>In short, &quot;truth state&quot; is a kind of value like any other. That means it can be the kind of a variable:</p>
<!-- START CODE "c2858" -->
<a id="c2858"></a><blockquote class="code"><p class="quoted">
Salvation earned is a truth state that varies.
</p></blockquote>
<!-- END CODE -->
<p>and it can similarly be used in table columns, lists, or anywhere else where values are allowed.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s4" class="standardlink">Back to §11.4. The showme phrase</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s6" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s6" class="standardlink">Onward to §11.6. If</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e303" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e303" class="standardlink">Example 171: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Proposal</b>&#160;&#160;&#160; Asking the player a yes/no question which he must answer, and another which he may answer or not as he chooses.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s6"></a>§11.6. If</p>
<p>Inform's most powerful phrases are those which control the others, making them repeat, or be skipped.</p>
<!-- START PHRASE "defn124" -->
<div class="definition"><a id="defn124"></a><p class="defnprototype"><b>if </b>(a condition)<b> , </b>(a phrase)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>if </b>(a condition)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_if -->

<p>This phrase causes the single phrase, or block of phrases, following it to be obeyed only if the condition is true. (If the condition must contain a comma for some reason, the block form should be used.) Example:</p>
<!-- START CODE "c2859" -->
<a id="c2859"></a><blockquote class="code"><p class="quoted">
if the red door is open, say &quot;You could try going east?&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>The sense of an &quot;if&quot; can be reversed by using the word &quot;unless&quot; instead:</p>
<!-- START PHRASE "defn125" -->
<div class="definition"><a id="defn125"></a><p class="defnprototype"><b>unless </b>(a condition)<b> , </b>(a phrase)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>unless </b>(a condition)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_unless -->

<p>This phrase causes the single phrase, or block of phrases, following it to be obeyed only if the condition is false. (If the condition must contain a comma for some reason, the block form should be used.) Example:</p>
<!-- START CODE "c2860" -->
<a id="c2860"></a><blockquote class="code"><p class="quoted">
unless the red door is closed, say &quot;You could try going east?&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>&quot;Unless&quot; is clearly unnecessary, but it can be a good way to make the source text easier for humans to read.</p>
<p>As we have seen, there are many different forms of condition in Inform. They usually take a form quite like an assertion sentence, except that they're questions and not statements of fact. For example:</p>
<!-- START CODE "c2861" -->
<a id="c2861"></a><blockquote class="code"><p class="quoted">
if the score is 10, ...
<br />if all of the people are in the Atrium, ...
</p></blockquote>
<!-- END CODE -->
<p>Questions like this are checked by Inform to see if they make sense. The following doesn't, for instance:</p>
<!-- START CODE "c2862" -->
<a id="c2862"></a><blockquote class="code"><p class="quoted">
if 10 is a door, say &quot;Huzzah!&quot;;
</p></blockquote>
<!-- END CODE -->
<p>This produces the baffled reply:</p>
<!-- START CODE "c2863" -->
<a id="c2863"></a><blockquote class="code"><p class="quoted">
<span class="boldface">Problem.</span> In the line 'if 10 is a door, say &quot;Huzzah!&quot;' <img alt="Reveal.png" src="images/Reveal.png" />, I can't determine whether or not '10 is a door', because it seems to ask if a number is some sort of door.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s5" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s5" class="standardlink">Back to §11.5. Conditions and questions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s7" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s7" class="standardlink">Onward to §11.7. Begin and end</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s7"></a>§11.7. Begin and end</p>
<p>In practice it is not enough to apply &quot;if&quot; to a single phrase alone: we want to give a whole list of phrases to be followed repeatedly, or to be followed only if a condition holds.</p>
<p>We do this by grouping them together, and there are two ways to do this. One is as follows:</p>
<!-- START CODE "c2864" -->
<a id="c2864"></a><blockquote class="code"><p class="quoted">
To comment upon (whatever - a thing):
<br />&#160;&#160;&#160;&#160;if whatever is transparent, say &quot;I see right through this!&quot;;
<br />&#160;&#160;&#160;&#160;if whatever is an open door:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Oh look, an open door!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if whatever is openable, say &quot;But you could always shut it.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here we group two phrases together under the same &quot;if&quot;. Note that the comma has been replaced by a colon, and that the indentation in the list of phrases shows how they are grouped together. In the example above, the source moves two tabs in from the margin; the maximum allowed is 25.</p>
<p>Indentation is the convention used in this manual and in the examples, but not everybody likes this Pythonesque syntax. So Inform also recognises a more explicit form, in which the beginning and ending are marked with the words &quot;begin&quot; and &quot;end&quot;:</p>
<!-- START CODE "c2865" -->
<a id="c2865"></a><blockquote class="code"><p class="quoted">
To comment upon (whatever - a thing):
<br />&#160;&#160;&#160;&#160;if whatever is transparent, say &quot;I see right through this!&quot;;
<br />&#160;&#160;&#160;&#160;if whatever is an open door
<br />&#160;&#160;&#160;&#160;begin;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Oh look, an open door!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if whatever is openable, say &quot;But you could always shut it.&quot;;
<br />&#160;&#160;&#160;&#160;end if.
</p></blockquote>
<!-- END CODE -->
<p>(Pythonesque because it's a style popularised by the programming language Python, named in turn after &quot;Monty Python's Flying Circus&quot;.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s6" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s6" class="standardlink">Back to §11.6. If</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s8" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s8" class="standardlink">Onward to §11.8. Otherwise</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e242" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e242" class="standardlink">Example 172: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Matreshka</b>&#160;&#160;&#160; A SEARCH [room] action that will open every container the player can see, stopping only when there don't remain any that are closed, unlocked, and openable.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e284" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e284" class="standardlink">Example 173: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Princess and the Pea</b>&#160;&#160;&#160; The player is unable to sleep on a mattress (or stack of mattresses) because the bottom one has something uncomfortable under it.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s8"></a>§11.8. Otherwise</p>
<p>We often need code which does one thing in one circumstance, and another the rest of the time. We could do this like so:</p>
<!-- START CODE "c2866" -->
<a id="c2866"></a><blockquote class="code"><p class="quoted">
if N is 2:
<br />&#160;&#160;&#160;&#160;...
<br />if N is not 2:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>but this is not very elegant, and besides, what if the action we take when N is 2 changes N so that it becomes something else?</p>
<p>Instead we use &quot;otherwise&quot;:</p>
<!-- START PHRASE "defn126" -->
<div class="definition"><a id="defn126"></a><p class="defnprototype"><b>otherwise if </b>(a condition)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>otherwise unless </b>(a condition)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>otherwise </b>(a phrase)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>else if </b>(a condition)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>else unless </b>(a condition)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>else </b>(a phrase)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_otherwise -->

<p>This phrase can only be used as part of an &quot;if ...:&quot; or &quot;unless: ...&quot;, and provides an alternative block of phrases to follow if the first block isn't followed. Example:</p>
<!-- START CODE "c2867" -->
<a id="c2867"></a><blockquote class="code"><p class="quoted">
if N is 2:
<br />&#160;&#160;&#160;&#160;...
<br />otherwise:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>When there is only a single phrase we can use the shortened form:</p>
<!-- START CODE "c2868" -->
<a id="c2868"></a><blockquote class="code"><p class="quoted">
if N is 2, say &quot;Hooray, N is 2!&quot;;
<br />otherwise say &quot;Boo, N is not 2...&quot;;
</p></blockquote>
<!-- END CODE -->
<p>We can also supply an alternative condition:</p>
<!-- START CODE "c2869" -->
<a id="c2869"></a><blockquote class="code"><p class="quoted">
if N is 1:
<br />&#160;&#160;&#160;&#160;...
<br />otherwise if N is 2:
<br />&#160;&#160;&#160;&#160;...
<br />otherwise if N is greater than 4:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>At most one of the &quot;...&quot; clauses is ever reached - the first which works out.</p>

<!-- end definition -->
</div>

<p>If the chain of conditions being tried consists of checking the same value over and over, we can use a convenient abbreviated form:</p>
<!-- START PHRASE "defn127" -->
<div class="definition"><a id="defn127"></a><p class="defnprototype"><b>if </b>(value)<b> is:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_switch -->

<p>This phrase switches between a variety of possible blocks of phrases to follow, depending on the value given. Example:</p>
<!-- START CODE "c2870" -->
<a id="c2870"></a><blockquote class="code"><p class="quoted">
if the dangerous item is:
<br />&#160;&#160;&#160;&#160;-- the electric hairbrush:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Mind your head.&quot;;
<br />&#160;&#160;&#160;&#160;-- the silver spoon:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Steer clear of the cutlery drawer.&quot;
</p></blockquote>
<!-- END CODE -->
<p>One alternative is allowed to be &quot;otherwise&quot;, which is used only if none of the other cases apply, and which therefore guarantees that in any situation exactly one of the blocks will be followed.</p>
<!-- START CODE "c2871" -->
<a id="c2871"></a><blockquote class="code"><p class="quoted">
if N is:
<br />&#160;&#160;&#160;&#160;-- 1: say &quot;1.&quot;;
<br />&#160;&#160;&#160;&#160;-- 2: say &quot;2.&quot;;
<br />&#160;&#160;&#160;&#160;-- otherwise: say &quot;Neither 1 nor 2.&quot;;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>This form of &quot;if&quot; layout is not allowed to use &quot;begin&quot; and &quot;end&quot; instead of indentation: it would look too messy, and would scarcely be an abbreviation. It is also not allowed to use &quot;unless&quot; instead of &quot;if&quot;, because the result would be too tangled to follow.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s7" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s7" class="standardlink">Back to §11.7. Begin and end</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s9" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s9" class="standardlink">Onward to §11.9. While</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e372" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e372" class="standardlink">Example 174: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Numberless</b>&#160;&#160;&#160; A simple exercise in printing the names of random numbers, comparing the use of "otherwise if...", a switch statement, or a table-based alternative.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s9"></a>§11.9. While</p>
<p>The next control phrase is &quot;while&quot;, which has the form:</p>
<!-- START PHRASE "defn128" -->
<div class="definition"><a id="defn128"></a><p class="defnprototype"><b>while </b>(a condition)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_while -->

<p>This phrase causes the block of phrases following it to be repeated over and over for as long the condition is true. If it isn't even true the first time, the block is skipped over and nothing happens. Example:</p>
<!-- START CODE "c2872" -->
<a id="c2872"></a><blockquote class="code"><p class="quoted">
while someone (called the victim) is in the Crypt:
<br />&#160;&#160;&#160;&#160;say &quot;A bolt of lightning strikes [the victim]!&quot;;
<br />&#160;&#160;&#160;&#160;now the victim is in the Afterlife;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>We must be careful not to commit mistakes like the following:</p>
<!-- START CODE "c2873" -->
<a id="c2873"></a><blockquote class="code"><p class="quoted">
while eggs is eggs:
<br />&#160;&#160;&#160;&#160;say &quot;again and &quot;;
</p></blockquote>
<!-- END CODE -->
<p>which, as sure as eggs is eggs (which is very sure indeed), writes out</p>
<!-- START CODE "c2874" -->
<a id="c2874"></a><blockquote class="code"><p class="quoted">
again and again and again and again and again and ...
</p></blockquote>
<!-- END CODE -->
<p>forever. (Inform won't prevent this: we will find out the hard way when the story is played.) While we would probably never write anything so blatant as that, the mistake is all too easy to commit in disguised form. We should never design a loop, as repetitions like this are called, without worrying about if and when it will finish.</p>
<p>As with &quot;if&quot;, we can use &quot;begin&quot; and &quot;end&quot; instead of a tabulated layout if we want to --</p>
<!-- START CODE "c2875" -->
<a id="c2875"></a><blockquote class="code"><p class="quoted">
while ...
<br />begin;
<br />&#160;&#160;&#160;&#160;...
<br />end while.
</p></blockquote>
<!-- END CODE -->
<p>(The &quot;begin&quot; of an &quot;if&quot; must of course match an &quot;end if&quot;, not an &quot;end while&quot;, and so on.)</p>
<p>Experience shows that it is much more legible to lay out &quot;while&quot; loops as blocks, even in these rare cases when only a single phrase forms the body of the block.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s8" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s8" class="standardlink">Back to §11.8. Otherwise</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s10" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s10" class="standardlink">Onward to §11.10. Repeat</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s10"></a>§11.10. Repeat</p>
<p>The other kind of loop in Inform is &quot;repeat&quot;. The trouble with &quot;while&quot; is that it's not obvious at a glance when or whether the loop will finish, and nor is there any book-keeping to measure progress. A &quot;repeat&quot; loop is much more predictable, and is more or less certain to finish.</p>
<p>There are several forms of &quot;repeat&quot;, of which the simplest is similar to the old FOR/NEXT loop from the home-computer programming language BASIC, for those with long memories:</p>
<!-- START PHRASE "defn129" -->
<div class="definition"><a id="defn129"></a><p class="defnprototype"><b>repeat with </b>(a name not so far used)<b> running from </b>(arithmetic value)<b> to </b>(arithmetic value)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>repeat with </b>(a name not so far used)<b> running from </b>(enumerated value)<b> to </b>(enumerated value)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_repeat -->

<p>This phrase causes the block of phrases following it to be repeated once for each value in the given range, storing that value in the named variable. (The variable exists only temporarily, within the repetition.) Example:</p>
<!-- START CODE "c2876" -->
<a id="c2876"></a><blockquote class="code"><p class="quoted">
repeat with counter running from 1 to 10:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>This, and runs through the given phrases ten times. Within those phrases, a special value called &quot;counter&quot; has the value 1 the first time through, then the value 2, then 3 and so on up to 10. (It can of course be called whatever we like: this is only an example.) The range can be from any kind where ranges make sense - anything on which arithmetic can be done, so for instance</p>
<!-- START CODE "c2877" -->
<a id="c2877"></a><blockquote class="code"><p class="quoted">
repeat with moment running from 4 PM to 4:07 PM:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>and also any enumeration:</p>
<!-- START CODE "c2878" -->
<a id="c2878"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, orange, yellow, green, blue, indigo and violet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2879" -->
<a id="c2879"></a><blockquote class="code"><p class="quoted">
...
<br />&#160;&#160;&#160;&#160;repeat with hue running from orange to indigo:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>We are allowed to &quot;nest&quot; loops, that is, to put one inside another.</p>
<!-- START CODE "c2880" -->
<a id="c2880"></a><blockquote class="code"><p class="quoted">
To plot a grid with size (S - a number):
<br />&#160;&#160;&#160;&#160;repeat with x running from 1 to S:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Row [x]:&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with y running from 1 to S:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; [y]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;.&quot;
</p></blockquote>
<!-- END CODE -->
<p>If we then write</p>
<!-- START CODE "c2881" -->
<a id="c2881"></a><blockquote class="code"><p class="quoted">
plot a grid with size 5;
</p></blockquote>
<!-- END CODE -->
<p>then the result is</p>
<!-- START CODE "c2882" -->
<a id="c2882"></a><blockquote class="code"><p class="quoted">
Row 1: 1 2 3 4 5.
<br />Row 2: 1 2 3 4 5.
<br />Row 3: 1 2 3 4 5.
<br />Row 4: 1 2 3 4 5.
<br />Row 5: 1 2 3 4 5.
</p></blockquote>
<!-- END CODE -->
<p>Thus the innermost phrase, the say which mentions &quot;y&quot;, happens 25 times.</p>
<p>Whenever dealing with numbers in Inform we may need to remember that if the Settings for the project are set to use the Z-machine, the range is restricted to -32768 up to 32767. Repeating with a counter up to exactly 32767 is hazardous, because the counter can never break through this barrier: it's infinity, so far as Inform is concerned, and that can cause the repetitions to go on forever. (On Glulx, numbers can be very much larger.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s9" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s9" class="standardlink">Back to §11.9. While</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s11" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s11" class="standardlink">Onward to §11.11. Repeat running through</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e230" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e230" class="standardlink">Example 175: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Wonka's Revenge</b>&#160;&#160;&#160; A lottery drum which redistributes the tickets inside whenever the player spins it.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s11"></a>§11.11. Repeat running through</p>
<p>Inform is not used very much for numerical work, so the kind of repeat loop described in the previous section is not much used. Inform's natural domain is really the world of things and rooms, so the following kind of repeat is much more useful.</p>
<!-- START PHRASE "defn130" -->
<div class="definition"><a id="defn130"></a><p class="defnprototype"><b>repeat with </b>(a name not so far used)<b> running through </b>(description of values)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_runthrough -->

<p>This phrase causes the block of phrases following it to be repeated once for each value matching the description, storing that value in the named variable. (The variable exists only temporarily, within the repetition.) Example:</p>
<!-- START CODE "c2883" -->
<a id="c2883"></a><blockquote class="code"><p class="quoted">
repeat with item running through open containers:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>If there are no containers, or they are all closed, the phrases will not be followed at all. Inform will issue a Problem message if the range of the loop may be infinite: for example, it won't allow:</p>
<!-- START CODE "c2884" -->
<a id="c2884"></a><blockquote class="code"><p class="quoted">
repeat with X running through odd numbers:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>On the other hand it will allow:</p>
<!-- START CODE "c2885" -->
<a id="c2885"></a><blockquote class="code"><p class="quoted">
repeat with T running through times:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>which repeats 1440 times, starting with T at midnight and finishing at 11:59 PM. See the Kinds index for which kinds of value can be repeated through.</p>

<!-- end definition -->
</div>

<p>As with counting the &quot;number of ...&quot; objects satisfying some property, we can run through a wide variety of possibilities - any description whose range is possible for Inform to search. For example:</p>
<!-- START CODE "c2886" -->
<a id="c2886"></a><blockquote class="code"><p class="quoted">
repeat with dinner guest running through the people in the Dining Room:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2887" -->
<a id="c2887"></a><blockquote class="code"><p class="quoted">
repeat with possession running through things carried:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2888" -->
<a id="c2888"></a><blockquote class="code"><p class="quoted">
repeat with event running through non-recurring scenes which are happening:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>The following lists the whereabouts of all men in lighted rooms:</p>
<!-- START CODE "c2889" -->
<a id="c2889"></a><blockquote class="code"><p class="quoted">
repeat with suspect running through the men who are in a lighted room:
<br />&#160;&#160;&#160;&#160;say &quot;[The suspect] is in [the location of the suspect].&quot;;
</p></blockquote>
<!-- END CODE -->
<p>One small note of caution: if what the &quot;repeat&quot; loop does is to change the things being repeated through, changing in particular whether items not yet reached will qualify to be repeated through, the results can be unexpected. Rather than writing &quot;repeat with X running through D&quot;, it may be safer to try &quot;while there is D (called X)&quot;, though note that this will only finish if X is always changed so that it no longer qualifies.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s10" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s10" class="standardlink">Back to §11.10. Repeat</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s12" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s12" class="standardlink">Onward to §11.12. Next and break</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e19" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e19" class="standardlink">Example 176: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Strictly Ballroom</b>&#160;&#160;&#160; People who select partners for dance lessons each turn.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s12"></a>§11.12. Next and break</p>
<p>So &quot;repeat&quot; and &quot;while&quot; phrases cause a block of other phrases to be repeated, over and over. The number of repetitions and the flow of &quot;control&quot; has so far been controlled only by the way the original loop was described.</p>
<p>But in fact it's also possible to change this from inside the block being repeated, using these:</p>
<!-- START PHRASE "defn131" -->
<div class="definition"><a id="defn131"></a><p class="defnprototype"><b>next</b></p>
<!-- END PHRASE -->
<!-- definition of ph_next -->

<p>This phrase can only be used inside a &quot;repeat&quot; or &quot;while&quot; block, and causes the current repetition of the block to finish immediately. That either means the next repetition begins, or (if we are already at the last one) the loop ends too. Example:</p>
<!-- START CODE "c2890" -->
<a id="c2890"></a><blockquote class="code"><p class="quoted">
repeat with X running from 1 to 10:
<br />&#160;&#160;&#160;&#160;if X is 4, next;
<br />&#160;&#160;&#160;&#160;say &quot;[X] &quot;.
</p></blockquote>
<!-- END CODE -->
<p>produces the text &quot;1 2 3 5 6 7 8 9 10 &quot;, with no &quot;4&quot; because the &quot;say&quot; phrase was never reached on the fourth repetition.</p>

<!-- end definition -->
</div>

<p>In Monopoly terms, &quot;next&quot; is &quot;Advance to Go&quot; rather than &quot;go directly, do not pass Go, do not collect $200&quot; - the next iteration begins with the variable, if there is one, having cleanly moved on to the next value, just as if the loop had been run through in the normal way. (&quot;Next&quot; is called &quot;continue&quot; in a fair number of programming languages, so Inform issues a specific problem message to help people who forget this.)</p>
<!-- START PHRASE "defn132" -->
<div class="definition"><a id="defn132"></a><p class="defnprototype"><b>break</b></p>
<!-- END PHRASE -->
<!-- definition of ph_break -->

<p>This phrase can only be used inside &quot;repeat&quot;, &quot;while&quot; block, and causes both the current repetition and the entire loop to finish immediately. Example:</p>
<!-- START CODE "c2891" -->
<a id="c2891"></a><blockquote class="code"><p class="quoted">
repeat with X running from 1 to 10:
<br />&#160;&#160;&#160;&#160;if X is 7, break;
<br />&#160;&#160;&#160;&#160;say &quot;[X] &quot;.
</p></blockquote>
<!-- END CODE -->
<p>produces the text &quot;1 2 3 4 5 6 &quot;, with nothing after &quot;6&quot; because the loop was broken at that point. The &quot;say&quot; wasn't reached on the 7th repetition, and the 8th, 9th and 10th never happened.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s11" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s11" class="standardlink">Back to §11.11. Repeat running through</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s13" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s13" class="standardlink">Onward to §11.13. Stop</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s13"></a>§11.13. Stop</p>
<p>Now that it's possible to define phrases where different things are done in different circumstances, we sometimes want to halt early. This is what &quot;stop&quot; is for.</p>
<!-- START PHRASE "defn133" -->
<div class="definition"><a id="defn133"></a><p class="defnprototype"><b>stop</b></p>
<!-- END PHRASE -->
<!-- definition of ph_stop -->

<p>This phrase causes the current rule to end immediately. It is most often used in the definition of other phrases:</p>
<!-- START CODE "c2892" -->
<a id="c2892"></a><blockquote class="code"><p class="quoted">
To judge the score:
<br />&#160;&#160;&#160;&#160;if the score is 0, stop;
<br />&#160;&#160;&#160;&#160;say &quot;The score is [score in words] more than it was a half-hour ago.&quot;
</p></blockquote>
<!-- END CODE -->
<p>In the case when the score is 0, the &quot;stop&quot; ends the phrase immediately, so that the subsequent text is printed only if the score is not 0.</p>
<p>&quot;Stop&quot; can also be used in action rules, though this is not very good style - it's clearer to use &quot;stop the action&quot;, which is exactly equivalent.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s12" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s12" class="standardlink">Back to §11.12. Next and break</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s14" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s14" class="standardlink">Onward to §11.14. Phrase options</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s14"></a>§11.14. Phrase options</p>
<p>There are sometimes several slightly different ways to perform a given task but which have substantially the same definition. In the following example:</p>
<!-- START CODE "c2893" -->
<a id="c2893"></a><blockquote class="code"><p class="quoted">
To go hiking, into the woods or up the mountain:
<br />&#160;&#160;&#160;&#160;if into the woods, say &quot;Watch out for badgers.&quot;;
<br />&#160;&#160;&#160;&#160;if up the mountain, say &quot;Better take your compass.&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;You go hiking.&quot;
</p></blockquote>
<!-- END CODE -->
<p>...a phrase has been set up which can be used in three ways:</p>
<!-- START CODE "c2894" -->
<a id="c2894"></a><blockquote class="code"><p class="quoted">
go hiking;
<br />go hiking, into the woods;
<br />go hiking, up the mountain;
</p></blockquote>
<!-- END CODE -->
<p>Note that commas must be used to divide these &quot;phrase options&quot; from the rest of the text of the phrase. Within the definition of the phrase, the option's name is a valid condition, and</p>
<!-- START CODE "c2895" -->
<a id="c2895"></a><blockquote class="code"><p class="quoted">
if up the mountain, ...
</p></blockquote>
<!-- END CODE -->
<p>tests whether it is set; we can also test if it is not set using:</p>
<!-- START CODE "c2896" -->
<a id="c2896"></a><blockquote class="code"><p class="quoted">
if not up the mountain, ...
</p></blockquote>
<!-- END CODE -->
<p>A more substantial example from the Standard Rules is given by a phrase used mostly for internal, technical reasons:</p>
<!-- START PHRASE "defn134" -->
<div class="definition"><a id="defn134"></a><p class="defnprototype"><b>list the contents of </b>(object)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_listcontents -->

<p>This phrase produces a list of all things whose holder is the given object, according to Inform's traditional conventions for room descriptions and inventory listings. Example:</p>
<!-- START CODE "c2897" -->
<a id="c2897"></a><blockquote class="code"><p class="quoted">
list the contents of Marley Wood, as a sentence, with newlines
<br />and including all contents;
</p></blockquote>
<!-- END CODE -->
<p>Where this is possible, it's generally better to use &quot;[list of things in ...]&quot; instead, which produces the same result in an acceptable way for the middle of a sentence.</p>

<!-- end definition -->
</div>

<p>Note that this phrase is allowed to have multiple options specified, whereas &quot;go hiking&quot; above was not: this is because it was defined thus:</p>
<!-- START CODE "c2898" -->
<a id="c2898"></a><blockquote class="code"><p class="quoted">
To list the contents of (something - an object), with newlines, indented, as a sentence, including contents, including all contents, giving inventory information, giving brief inventory information, using the definite article, listing marked items only, prefacing with is/are, not listing concealed items, suppressing all articles and/or with extra indentation: ...
</p></blockquote>
<!-- END CODE -->
<p>The significant difference is the word &quot;and/or&quot; instead of &quot;or&quot;, which signals that more than one option can apply at a time.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s13" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s13" class="standardlink">Back to §11.13. Stop</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s15" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s15" class="standardlink">Onward to §11.15. Let and temporary variables</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e126" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e126" class="standardlink">Example 177: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Equipment List</b>&#160;&#160;&#160; Overview of all the phrase options associated with listing, and examples of how to change the inventory list into some other standard formats.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s15"></a>§11.15. Let and temporary variables</p>
<p>A variable, as we have seen, is a name for a value which changes, though always remaining of the same kind. For instance, if &quot;target&quot; is a number variable (or &quot;number that varies&quot;) then it may change value from 2 to 4, but not from 2 to &quot;fishknife&quot;.</p>
<p>To make complicated decisions, phrases often need to remember values on a temporary basis. We have already seen this for the counter in a &quot;repeat&quot; loop, which exists only inside that loop, and then is no longer needed.</p>
<p>We can also make temporary variables using &quot;let&quot;:</p>
<!-- START PHRASE "defn135" -->
<div class="definition"><a id="defn135"></a><p class="defnprototype"><b>let </b>(a name not so far used)<b> be </b>(value)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>let </b>(a temporary named value)<b> be </b>(value)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_let -->

<p>This phrase creates a new temporary variable, starting it with the value supplied. The variable lasts only for the present block of phrases, which certainly means that it lasts only for the current rule. Examples:</p>
<!-- START CODE "c2899" -->
<a id="c2899"></a><blockquote class="code"><p class="quoted">
let outer bull be 25;
<br />let the current appearance be &quot;reddish brown&quot;;
<br />let the special room be Marley Wood;
</p></blockquote>
<!-- END CODE -->
<p>The kinds of these are deduced from the values given, so that, for instance,</p>
<!-- START CODE "c2900" -->
<a id="c2900"></a><blockquote class="code"><p class="quoted">
say &quot;The outer bull scores [the outer bull in words] when you practice archery in [special room].&quot;
</p></blockquote>
<!-- END CODE -->
<p>produces</p>
<!-- START CODE "c2901" -->
<a id="c2901"></a><blockquote class="code"><p class="quoted">
The outer bull scores twenty-five when you practice archery in Marley Wood.
</p></blockquote>
<!-- END CODE -->
<p>The variable name should be a new one; if it's the name of an existing one, then the kinds must agree. So:</p>
<!-- START CODE "c2902" -->
<a id="c2902"></a><blockquote class="code"><p class="quoted">
let outer bull be 25;
<br />let outer bull be 50;
</p></blockquote>
<!-- END CODE -->
<p>is a legal combination, because the second &quot;let&quot; simply changes the value of the existing &quot;outer bull&quot; variable to a different number.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn136" -->
<div class="definition"><a id="defn136"></a><p class="defnprototype"><b>let </b>(a name not so far used)<b> be </b>(name of kind)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_letdefault -->

<p>This phrase creates a new temporary variable of the given kind. The variable lasts only for the present block of phrases, which certainly means that it lasts only for the current rule. Example:</p>
<!-- START CODE "c2903" -->
<a id="c2903"></a><blockquote class="code"><p class="quoted">
let inner bull be a number;
</p></blockquote>
<!-- END CODE -->
<p>The variable created holding the default value for that kind - in this case, the number 0. A handful of very obscure kinds have no default values, and then a problem message is produced. Inform also disallows:</p>
<!-- START CODE "c2904" -->
<a id="c2904"></a><blockquote class="code"><p class="quoted">
let the conveyance be a vehicle;
</p></blockquote>
<!-- END CODE -->
<p>because temporary variables aren't allowed to have kinds more specific than &quot;object&quot;. (This is a good thing: suppose there are no vehicles in the world?) It's quite safe in such cases to use</p>
<!-- START CODE "c2905" -->
<a id="c2905"></a><blockquote class="code"><p class="quoted">
let the conveyance be an object;
</p></blockquote>
<!-- END CODE -->
<p>instead, which creates it as the special object value &quot;nothing&quot;.</p>

<!-- end definition -->
</div>

<p>Temporary variables made by &quot;let&quot; are only temporarily in existence while a phrase is being carried out. Their values often change: we could say</p>
<!-- START CODE "c2906" -->
<a id="c2906"></a><blockquote class="code"><p class="quoted">
let x be 10;
<br />now x is 11;
</p></blockquote>
<!-- END CODE -->
<p>for instance, or indeed we could &quot;let x be 10&quot; and then &quot;let x be 11&quot;. But although we are allowed to change the value, we are not allowed to change the kind of value. The name &quot;x&quot; must always have the same kind of value throughout the phrase to which it belongs, so the following will not be allowed:</p>
<!-- START CODE "c2907" -->
<a id="c2907"></a><blockquote class="code"><p class="quoted">
let x be 45;
<br />now x is &quot;Norway&quot;;
</p></blockquote>
<!-- END CODE -->
<p>(The difference between using &quot;let&quot; and &quot;now&quot; here is that &quot;let&quot; can create a new temporary variable, whereas &quot;now&quot; can only alter things already existing: on the other hand, &quot;now&quot; can change many other things as well, whereas &quot;let&quot; applies only to temporary variables.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s14" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s14" class="standardlink">Back to §11.14. Phrase options</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s16" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s16" class="standardlink">Onward to §11.16. New conditions, new adjectives</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e422" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e422" class="standardlink">Example 178: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>M. Melmoth's Duel</b>&#160;&#160;&#160; Three basic ways to inject random or not-so-random variations into text.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s16"></a>§11.16. New conditions, new adjectives</p>
<p>We can create new conditions by defining a phrase with &quot;to decide whether&quot; (or equivalently &quot;to decide if&quot;):</p>
<!-- START CODE "c2908" -->
<a id="c2908"></a><blockquote class="code"><p class="quoted">
To decide whether danger lurks:
<br />&#160;&#160;&#160;&#160;if in darkness, decide yes;
<br />&#160;&#160;&#160;&#160;if the Control Room has been visited, decide no;
<br />&#160;&#160;&#160;&#160;decide yes.
</p></blockquote>
<!-- END CODE -->
<p>If the player is indeed in darkness, the decision is &quot;yes&quot; because the &quot;decide yes&quot; stops the process right there. We can now write, for instance,</p>
<!-- START CODE "c2909" -->
<a id="c2909"></a><blockquote class="code"><p class="quoted">
if danger lurks, ...
</p></blockquote>
<!-- END CODE -->
<p>In fact, &quot;danger lurks&quot; is now a condition as good as any other, and can be used wherever a condition would be given. Rules can apply only &quot;when danger lurks&quot;, for instance.</p>
<!-- START PHRASE "defn137" -->
<div class="definition"><a id="defn137"></a><p class="defnprototype"><b>yes</b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>decide yes</b></p>
<!-- END PHRASE -->
<!-- definition of ph_yes -->

<p>This phrase can only be used in the definition of a phrase to decide whether a condition holds. It ends the decision process immediately and makes the condition true.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn138" -->
<div class="definition"><a id="defn138"></a><p class="defnprototype"><b>no</b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>decide no</b></p>
<!-- END PHRASE -->
<!-- definition of ph_no -->

<p>This phrase can only be used in the definition of a phrase to decide whether a condition holds. It ends the decision process immediately and makes the condition false.</p>

<!-- end definition -->
</div>

<p>We can also supply definitions of adjectives like this. So far, new adjectives have been defined like so:</p>
<!-- START CODE "c2910" -->
<a id="c2910"></a><blockquote class="code"><p class="quoted">
Definition: a supporter is occupied if it is described and something is on it.
</p></blockquote>
<!-- END CODE -->
<p>If we want to give a definition which involves more complex logic, we can use a special form allowing us to make arbitrary decisions. In this longer format, the same definition would look like so:</p>
<!-- START CODE "c2911" -->
<a id="c2911"></a><blockquote class="code"><p class="quoted">
Definition: a supporter is occupied:
<br />&#160;&#160;&#160;&#160;if it is undescribed, decide no;
<br />&#160;&#160;&#160;&#160;if something is on it, decide yes;
<br />&#160;&#160;&#160;&#160;decide no.
</p></blockquote>
<!-- END CODE -->
<p>Here &quot;it&quot; refers to the supporter in question. Note that there are now two colons in this sentence, one after &quot;Definition&quot;, the other after the clause being defined. But that apart, it's a phrase like any other: it must end in &quot;yes&quot; or &quot;no&quot; just as the &quot;danger lurks&quot; example must. &quot;Decide no&quot; and &quot;decide yes&quot; are needed so often that they can be abbreviated by leaving out &quot;decide&quot;:</p>
<!-- START CODE "c2912" -->
<a id="c2912"></a><blockquote class="code"><p class="quoted">
Definition: a supporter is occupied:
<br />&#160;&#160;&#160;&#160;if it is undescribed, no;
<br />&#160;&#160;&#160;&#160;if something is on it, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s15" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s15" class="standardlink">Back to §11.15. Let and temporary variables</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s17" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s17" class="standardlink">Onward to §11.17. Phrases to decide other things</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e278" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e278" class="standardlink">Example 179: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Owen's Law</b>&#160;&#160;&#160; OUT always means "move to an outdoors room, or else to a room with more exits than this one has"; IN always means the opposite.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s17"></a>§11.17. Phrases to decide other things</p>
<p>A condition is a yes/no decision, but we can also take decisions where the result is a value. Suppose we want to create a concept of the &quot;grand prize&quot;, which will have different values at different times in play. Each time the &quot;grand prize&quot; is referred to, Inform will have to decide what its value is, and the following tells Inform how to make that decision:</p>
<!-- START CODE "c2913" -->
<a id="c2913"></a><blockquote class="code"><p class="quoted">
To decide which treasure is the grand prize:
<br />&#160;&#160;&#160;&#160;if the Dark Room has been visited, decide on the silver bars;
<br />&#160;&#160;&#160;&#160;decide on the plover's egg.
</p></blockquote>
<!-- END CODE -->
<p>Note that we have to say what kind the answer will be: here it's a kind of thing called &quot;treasure&quot; (which we're supposing has already been created), and as it turns out only two treasures are ever eligible anyway (we're also supposing that the plover's egg and the silver bars are treasures already created, of course). And note also that the phrase must in all cases end with a &quot;decide on ...&quot; to say what the answer is:</p>
<!-- START PHRASE "defn139" -->
<div class="definition"><a id="defn139"></a><p class="defnprototype"><b>decide on </b>(value)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_decideon -->

<p>This phrase can only be used in the body of a definition of a phrase to decide a value. It causes the calculation to end immediately, with the outcome being the given value, which must be of the kind expected. Example:</p>
<!-- START CODE "c2914" -->
<a id="c2914"></a><blockquote class="code"><p class="quoted">
To decide which number is double (N - a number):
<br />&#160;&#160;&#160;&#160;let D be N times N;
<br />&#160;&#160;&#160;&#160;decide on D.
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>Now that we have &quot;grand prize&quot; created, we can use it just as we would use any other value, so for instance:</p>
<!-- START CODE "c2915" -->
<a id="c2915"></a><blockquote class="code"><p class="quoted">
if taking the grand prize, ...
</p></blockquote>
<!-- END CODE -->
<p>As this is something of a dialect difference between English speakers, &quot;what&quot; and &quot;which&quot; are synonymous here, i.e., we could equally well write something like:</p>
<!-- START CODE "c2916" -->
<a id="c2916"></a><blockquote class="code"><p class="quoted">
To decide what number is the target score: ...
</p></blockquote>
<!-- END CODE -->
<p>(A phrase to decide if something-or-other is exactly the same thing as a phrase to decide a truth state, and indeed, if we want to then we can use &quot;decide on T&quot;, where T is a truth state, in its definition. For instance:</p>
<!-- START CODE "c2917" -->
<a id="c2917"></a><blockquote class="code"><p class="quoted">
To decide if time is short:
<br />&#160;&#160;&#160;&#160;if the time of day is after 10 PM, decide on true;
<br />&#160;&#160;&#160;&#160;...
<br />&#160;&#160;&#160;&#160;decide on whether or not Jennifer is hurried.
</p></blockquote>
<!-- END CODE -->
<p>&quot;Decide on true&quot; is exactly equivalent to the more normally used &quot;decide yes&quot;, and of course it is optional. The last line is more interesting since it effectively delegates the answer to another condition.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s16" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s16" class="standardlink">Back to §11.16. New conditions, new adjectives</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s18" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_11.html#s18" class="standardlink">Onward to §11.18. The value after and the value before</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e440" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e440" class="standardlink">Example 180: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Witnessed 2</b>&#160;&#160;&#160; A piece of ghost-hunting equipment that responds depending on whether or not the meter is on and a ghost is visible or touchable from the current location.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e388" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e388" class="standardlink">Example 181: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>A Haughty Spirit</b>&#160;&#160;&#160; Windows overlooking lower spaces which will prevent the player from climbing through if the lower space is too far below.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s18"></a>§11.18. The value after and the value before</p>
<p>A point which has come up several times in recent chapters is that enumerated kinds of value have a natural ordering. For example, if we write:</p>
<!-- START CODE "c2918" -->
<a id="c2918"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, orange, yellow, green, blue, indigo and violet.
</p></blockquote>
<!-- END CODE -->
<p>...then we not only have seven possible values, we have put them into a sequence, in order of their naming. We can't perform arithmetic on colours, of course, but we can perform comparisons on them. Thus &quot;red &lt; yellow&quot; is true, while &quot;green &gt;= violet&quot; is not. (More on comparisons in the chapter on Numbers and Equations, which also covers arithmetic.)</p>
<p>It's also sometimes useful to get at the sequence directly. First, the two ends:</p>
<!-- START PHRASE "defn140" -->
<div class="definition"><a id="defn140"></a><p class="defnprototype"><b>first value of </b>(name of kind)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_enumfirst -->

<p>This phrase produces the first-created value of the given kind, which should be an enumeration. Example: if we have</p>
<!-- START CODE "c2919" -->
<a id="c2919"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, orange, yellow, green, blue, indigo and violet.
</p></blockquote>
<!-- END CODE -->
<p>then &quot;first value of colour&quot; is red.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn141" -->
<div class="definition"><a id="defn141"></a><p class="defnprototype"><b>last value of </b>(name of kind)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_enumlast -->

<p>This phrase produces the last-created value of the given kind, which should be an enumeration. Example: if we have</p>
<!-- START CODE "c2920" -->
<a id="c2920"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, orange, yellow, green, blue, indigo and violet.
</p></blockquote>
<!-- END CODE -->
<p>then &quot;last value of colour&quot; is violet.</p>

<!-- end definition -->
</div>

<p>And now how to step forward and back:</p>
<!-- START PHRASE "defn142" -->
<div class="definition"><a id="defn142"></a><p class="defnprototype"><b></b>(name of kind)<b> after </b>(enumerated value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_enumafter -->

<p>This phrase produces the next-created value of the given kind, which should be an enumeration. Example: if we have</p>
<!-- START CODE "c2921" -->
<a id="c2921"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, orange, yellow, green, blue, indigo and violet.
</p></blockquote>
<!-- END CODE -->
<p>then &quot;colour after orange&quot; is yellow.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn143" -->
<div class="definition"><a id="defn143"></a><p class="defnprototype"><b></b>(name of kind)<b> before </b>(enumerated value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_enumbefore -->

<p>This phrase produces the previous-created value of the given kind, which should be an enumeration. Example: if we have</p>
<!-- START CODE "c2922" -->
<a id="c2922"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, orange, yellow, green, blue, indigo and violet.
</p></blockquote>
<!-- END CODE -->
<p>then &quot;colour before blue&quot; is green.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#s17" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_11.html#s17" class="standardlink">Back to §11.17. Phrases to decide other things</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html#s1" class="standardlink">Onward to Chapter 12: Advanced Actions: §12.1. A recap of actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e124" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e124" class="standardlink">Example 182: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Entropy</b>&#160;&#160;&#160; All objects in the game have a heat, but if not kept insulated they will tend toward room temperature (and at a somewhat exaggerated rate).</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11.html#e309" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_11.html#e309" class="standardlink">Example 183: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Hang of Thursdays</b>&#160;&#160;&#160; Turns take a quarter day each, and the game rotates through the days of the week.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 11: Phrases</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_11.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_11.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_12.html" class="standardlink">Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "169: Ahem" "e3" -->
<a id="e3"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e3" class="eglink"><b>169</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e3" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ahem</span></b></a><br />Writing a phrase, with several variant forms, whose function is to follow a rule several times.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e3"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example3">
<p>As we see in the example here, it is possible to use slashed variations in more than one place in a phrase, and to offer a number of separate forms. The main rule of thumb to remember is that value inputs for the phrase should always be separated by some text; so</p>
<!-- START CODE "c2923_3" -->
<a id="c2923_3"></a><blockquote class="code"><p class="quoted">
To do/follow (chosen rule - a rule) exactly/precisely/just/-- (N - a number) time/times:
<br />&#160;&#160;&#160;&#160;....
</p></blockquote>
<!-- END CODE -->
<p>would cause a problem when we tried to call it with</p>
<!-- START CODE "c2924_3" -->
<a id="c2924_3"></a><blockquote class="code"><p class="quoted">
follow the throat-clearing rule 2 times.
</p></blockquote>
<!-- END CODE -->
<p>In general, we probably don't need to make our phrase definitions quite so flexible as this, but it's a good idea to account for &quot;a&quot; vs. &quot;the&quot;, and for the possibility of using singular and plural forms, especially when writing extensions or other source to be shared.</p>
<!-- START CODE "c2925_3" -->
<a id="c2925_3"></a><blockquote class="code"><p class="quoted">
 &quot;Ahem&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2926_3" -->
<a id="c2926_3"></a><blockquote class="code"><p class="quoted">
To do/follow (chosen rule - a rule) exactly/precisely/just (N - a number) time/times:
<br />&#160;&#160;&#160;&#160;repeat with index running from 1 to N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow chosen rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2927_3" -->
<a id="c2927_3"></a><blockquote class="code"><p class="quoted">
This is the throat-clearing rule:
<br />&#160;&#160;&#160;&#160;say &quot;'Ahem,' says [a random visible person who is not the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2928_3" -->
<a id="c2928_3"></a><blockquote class="code"><p class="quoted">
After waiting:
<br />&#160;&#160;&#160;&#160;do the throat-clearing rule just one time.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2929_3" -->
<a id="c2929_3"></a><blockquote class="code"><p class="quoted">
Instead of listening:
<br />&#160;&#160;&#160;&#160;follow the throat-clearing rule precisely three times.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2930_3" -->
<a id="c2930_3"></a><blockquote class="code"><p class="quoted">
Instead of smelling:
<br />&#160;&#160;&#160;&#160;follow the throat-clearing rule exactly 2 times.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2931_3" -->
<a id="c2931_3"></a><blockquote class="code"><p class="quoted">
Chateau Marmont is a room. Tom, Jack, Zsa-Zsa, and Wilma-Faye are people in the Chateau. Zsa-Zsa and Wilma-Faye are women.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2932_3" -->
<a id="c2932_3"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wait / smell / listen&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "170: Ferragamo Again" "e139" -->
<a id="e139"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e139" class="eglink"><b>170</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e139" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ferragamo Again</span></b></a><br />Using the same phrase to produce different results with different characters.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e139"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example139">
<p>Here we use phrases that match individual items where possible, and the general kind otherwise:</p>
<!-- START CODE "c2933_139" -->
<a id="c2933_139"></a><blockquote class="code"><p class="quoted">
&quot;Ferragamo Again&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2934_139" -->
<a id="c2934_139"></a><blockquote class="code"><p class="quoted">
The Break Room is a room. Vanessa, Tina, and Lisa are women in the Break Room. Mark and Holman are men in the Break Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2935_139" -->
<a id="c2935_139"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;ask&quot; and &quot;tell&quot; and &quot;answer&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2936_139" -->
<a id="c2936_139"></a><blockquote class="code"><p class="quoted">
Understand &quot;talk about [any subject]&quot; as talking about. Talking about is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2937_139" -->
<a id="c2937_139"></a><blockquote class="code"><p class="quoted">
Understand &quot;talk about [text]&quot; as talking randomly about. Talking randomly about is an action applying to one topic. Carry out talking randomly about: say &quot;Mostly you're interested in [the list of subjects].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2938_139" -->
<a id="c2938_139"></a><blockquote class="code"><p class="quoted">
Carry out talking about something:
<br />&#160;&#160;&#160;&#160;now the previous subject is the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2939_139" -->
<a id="c2939_139"></a><blockquote class="code"><p class="quoted">
Report talking about something:
<br />&#160;&#160;&#160;&#160;say &quot;You chat for a while about [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2940_139" -->
<a id="c2940_139"></a><blockquote class="code"><p class="quoted">
A subject is a kind of thing. Assyrian vowel sounds, designer handbags, and instant run-off voting are subjects. Understand &quot;linguistics&quot; and &quot;mute&quot; and &quot;stop&quot; as sounds. Understand &quot;prada&quot; and &quot;tods&quot; and &quot;coach&quot; and &quot;carmen marc valvo&quot; as designer handbags. Understand &quot;reform&quot; and &quot;election&quot; and &quot;election fraud&quot; and &quot;two-party system&quot; and &quot;Diebold&quot; as instant run-off voting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2941_139" -->
<a id="c2941_139"></a><blockquote class="code"><p class="quoted">
To say (annoyed-person - a person) gestures in irritation:
<br />&#160;&#160;&#160;&#160;say &quot;[The annoyed-person] sighs heavily. [run paragraph on]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2942_139" -->
<a id="c2942_139"></a><blockquote class="code"><p class="quoted">
To say (annoyed-person - Vanessa) gestures in irritation:
<br />&#160;&#160;&#160;&#160;say &quot;[The annoyed-person] takes off her glasses and polishes them on her sleeve. [run paragraph on]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2943_139" -->
<a id="c2943_139"></a><blockquote class="code"><p class="quoted">
To say (annoyed-person - Holman) gestures in irritation:
<br />&#160;&#160;&#160;&#160;say &quot;Holman bobs his head. [run paragraph on]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2944_139" -->
<a id="c2944_139"></a><blockquote class="code"><p class="quoted">
The previous subject is a subject that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2945_139" -->
<a id="c2945_139"></a><blockquote class="code"><p class="quoted">
Instead of talking about something for more than one turn:
<br />&#160;&#160;&#160;&#160;if the noun is the previous subject, say &quot;[a random visible person who is not the player gestures in irritation]Maybe you should let this one go.[line break][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2946_139" -->
<a id="c2946_139"></a><blockquote class="code"><p class="quoted">
Test me with &quot;talk about chocolate / talk about vowel sounds / g / talk about handbags / talk about prada / talk about tods&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "171: Proposal" "e303" -->
<a id="e303"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e303" class="eglink"><b>171</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e303" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Proposal</span></b></a><br />Asking the player a yes/no question which he must answer, and another which he may answer or not as he chooses.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e303"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example303">
<p>Suppose we want to ask the player a question where he might say yes or no in response. There are two possible forms of this: the modal question where the player must pick one to proceed, and the non-modal question where he might also type other verbs.</p>
<!-- START CODE "c2947_303" -->
<a id="c2947_303"></a><blockquote class="code"><p class="quoted">
&quot;Proposal&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2948_303" -->
<a id="c2948_303"></a><blockquote class="code"><p class="quoted">
The story genre is &quot;A Worked Example about Yes/No Questions&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2949_303" -->
<a id="c2949_303"></a><blockquote class="code"><p class="quoted">
Section 1 - Asking a Modal Yes/No Question
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2950_303" -->
<a id="c2950_303"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;Do you like Mr Spruce? &quot;;
<br />&#160;&#160;&#160;&#160;if player consents, now Spruce is handsome;
<br />&#160;&#160;&#160;&#160;otherwise now Spruce is ugly;
<br />&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2951_303" -->
<a id="c2951_303"></a><blockquote class="code"><p class="quoted">
Section 2 - Mr Spruce's Non-Modal Question
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2952_303" -->
<a id="c2952_303"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2953_303" -->
<a id="c2953_303"></a><blockquote class="code"><p class="quoted">
The Conservatory is a room. &quot;You are in a room full of plants.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2954_303" -->
<a id="c2954_303"></a><blockquote class="code"><p class="quoted">
Mr Spruce is a man in the Conservatory. Mr Spruce can be apprehensive or calm. Mr Spruce is calm. Mr Spruce can be handsome or ugly.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2955_303" -->
<a id="c2955_303"></a><blockquote class="code"><p class="quoted">
At 9:02 AM: say &quot;Mr Spruce flings himself to his knees and implores you to become his lawfully wedded wife.&quot;;
<br />&#160;&#160;&#160;&#160;now Mr Spruce is apprehensive;
<br />&#160;&#160;&#160;&#160;Mr Spruce gives up in two minutes from now.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2956_303" -->
<a id="c2956_303"></a><blockquote class="code"><p class="quoted">
At the time when Mr Spruce gives up:
<br />&#160;&#160;&#160;&#160;say &quot;Mr Spruce sighs heavily, seeing that you don't intend to reply. 'Never mind, my dear, I'll ask later. Perhaps I should have spoken to your Papa first... yes, a gently-bred female... no wonder...'&quot;;
<br />&#160;&#160;&#160;&#160;now Mr Spruce is calm;
<br />&#160;&#160;&#160;&#160;Mr Spruce departs in one minute from now.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2957_303" -->
<a id="c2957_303"></a><blockquote class="code"><p class="quoted">
At the time when Mr Spruce departs:
<br />&#160;&#160;&#160;&#160;if the player can see Mr Spruce, say &quot;Mr Spruce takes his leave of you.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Mr Spruce pokes his head in to say that he is leaving.&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;Well, that is over...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2958_303" -->
<a id="c2958_303"></a><blockquote class="code"><p class="quoted">
Instead of saying yes in the presence of an ugly apprehensive Mr Spruce:
<br />&#160;&#160;&#160;&#160;now Mr Spruce is calm;
<br />&#160;&#160;&#160;&#160;say &quot;Remembering what your mother said to you about the stock exchange and Dear Papa, you close your eyes and accept Mr Spruce.&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;Alas for your maiden hopes.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2959_303" -->
<a id="c2959_303"></a><blockquote class="code"><p class="quoted">
Instead of saying yes in the presence of a handsome apprehensive Mr Spruce:
<br />&#160;&#160;&#160;&#160;now Mr Spruce is calm;
<br />&#160;&#160;&#160;&#160;say &quot;You are silent with delight for a moment before you say yes, yes!&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;How Genevieve Stubbs will cry!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2960_303" -->
<a id="c2960_303"></a><blockquote class="code"><p class="quoted">
Instead of saying no in the presence of an ugly apprehensive Mr Spruce:
<br />&#160;&#160;&#160;&#160;now Mr Spruce is calm;
<br />&#160;&#160;&#160;&#160;say &quot;Gently you inform Mr Spruce that it is impossible. He seems less deflated than you had expected.&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;Odd, that...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2961_303" -->
<a id="c2961_303"></a><blockquote class="code"><p class="quoted">
Instead of saying no in the presence of a handsome apprehensive Mr Spruce:
<br />&#160;&#160;&#160;&#160;now Mr Spruce is calm;
<br />&#160;&#160;&#160;&#160;say &quot;You lower your eyes and refuse petulantly, hoping to stir him to a more ardent repetition of these same requests. But then -- alack! -- he says 'I see how it is!' in a strangled voice, and strides from the room!&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;A fatal error!&quot;
</p></blockquote>
<!-- END CODE -->
<p>And since the player might SAY YES TO SPRUCE, we had better reroute the relevant options:</p>
<!-- START CODE "c2962_303" -->
<a id="c2962_303"></a><blockquote class="code"><p class="quoted">
Instead of answering Mr Spruce that &quot;no&quot;, try saying no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2963_303" -->
<a id="c2963_303"></a><blockquote class="code"><p class="quoted">
Instead of answering Mr Spruce that &quot;yes&quot;, try saying yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2964_303" -->
<a id="c2964_303"></a><blockquote class="code"><p class="quoted">
Instead of asking Mr Spruce to try saying yes, try saying yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2965_303" -->
<a id="c2965_303"></a><blockquote class="code"><p class="quoted">
Instead of asking Mr Spruce to try saying no, try saying no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2966_303" -->
<a id="c2966_303"></a><blockquote class="code"><p class="quoted">
Instead of saying sorry, try saying no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2967_303" -->
<a id="c2967_303"></a><blockquote class="code"><p class="quoted">
Instead of asking Mr Spruce to try saying sorry, try saying no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2968_303" -->
<a id="c2968_303"></a><blockquote class="code"><p class="quoted">
Instead of answering Mr Spruce that &quot;sorry&quot;, try saying no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2969_303" -->
<a id="c2969_303"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / yes&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2970_303" -->
<a id="c2970_303"></a><blockquote class="code"><p class="quoted">
Test more with &quot;z / z / z / no&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "172: Matreshka" "e242" -->
<a id="e242"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e242" class="eglink"><b>172</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e242" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Matreshka</span></b></a><br />A SEARCH [room] action that will open every container the player can see, stopping only when there don't remain any that are closed, unlocked, and openable.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e242"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example242">
<!-- START CODE "c2971_242" -->
<a id="c2971_242"></a><blockquote class="code"><p class="quoted">
&quot;Matreshka&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2972_242" -->
<a id="c2972_242"></a><blockquote class="code"><p class="quoted">
Ransacking is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2973_242" -->
<a id="c2973_242"></a><blockquote class="code"><p class="quoted">
Check ransacking:
<br />&#160;&#160;&#160;&#160;if the noun is not the location, say &quot;You can hardly search [the noun] from here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2974_242" -->
<a id="c2974_242"></a><blockquote class="code"><p class="quoted">
Carry out ransacking:
<br />&#160;&#160;&#160;&#160;while the player can see a closed openable unlocked container (called target):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[target]: [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try opening the target.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2975_242" -->
<a id="c2975_242"></a><blockquote class="code"><p class="quoted">
Report ransacking:
<br />&#160;&#160;&#160;&#160;say &quot;You can see nothing further worth searching.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2976_242" -->
<a id="c2976_242"></a><blockquote class="code"><p class="quoted">
The Russian Gift Shop is a room. In the Russian Gift Shop is a large wooden doll. It is closed and openable. In the large wooden doll is a medium wooden doll. It is closed and openable. In the medium wooden doll is a small wooden doll. It is closed and openable. In the small wooden doll is a tiny solid wooden doll.
</p></blockquote>
<!-- END CODE -->
<p>And now we need to borrow from a later chapter for the command that will make this work:</p>
<!-- START CODE "c2977_242" -->
<a id="c2977_242"></a><blockquote class="code"><p class="quoted">
Understand &quot;search [any visited room]&quot; as ransacking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2978_242" -->
<a id="c2978_242"></a><blockquote class="code"><p class="quoted">
Test me with &quot;search gift shop&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "173: Princess and the Pea" "e284" -->
<a id="e284"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e284" class="eglink"><b>173</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e284" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Princess and the Pea</span></b></a><br />The player is unable to sleep on a mattress (or stack of mattresses) because the bottom one has something uncomfortable under it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_8.html#e284"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example284">
<p>The main point here is that we need to figure out where the stack meets the floor:</p>
<!-- START CODE "c2979_284" -->
<a id="c2979_284"></a><blockquote class="code"><p class="quoted">
&quot;Princess and the Pea&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2980_284" -->
<a id="c2980_284"></a><blockquote class="code"><p class="quoted">
The Topmost Turret is a room. A mattress is a kind of supporter. A mattress is always enterable. A mattress is portable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2981_284" -->
<a id="c2981_284"></a><blockquote class="code"><p class="quoted">
A large mattress is a mattress in the Turret. A medium mattress is a mattress in the Turret. A small mattress is a mattress in the Turret.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2982_284" -->
<a id="c2982_284"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when the player is on a mattress (called the bed):
<br />&#160;&#160;&#160;&#160;let the item be the bed;
<br />&#160;&#160;&#160;&#160;while the holder of the item is not a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the item be the holder of the item;
<br />&#160;&#160;&#160;&#160;say &quot;You can still feel something very uncomfortable under [the item].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2983_284" -->
<a id="c2983_284"></a><blockquote class="code"><p class="quoted">
Instead of sleeping:
<br />&#160;&#160;&#160;&#160;say &quot;You can't sleep standing up!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2984_284" -->
<a id="c2984_284"></a><blockquote class="code"><p class="quoted">
Instead of looking under a mattress, say &quot;You scout around, but are unable to determine what's causing you this discomfort. If only your maid Winnie were here. She's very good at this.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2985_284" -->
<a id="c2985_284"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sleep / enter small / sleep / get up / get small / put small on medium / get on small / sleep / get up / g / get medium / put medium on large / get on small / look / sleep&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "174: Numberless" "e372" -->
<a id="e372"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e372" class="eglink"><b>174</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e372" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Numberless</span></b></a><br />A simple exercise in printing the names of random numbers, comparing the use of "otherwise if...", a switch statement, or a table-based alternative.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e372"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example372">
<!-- START CODE "c2986_372" -->
<a id="c2986_372"></a><blockquote class="code"><p class="quoted">
&quot;Numberless&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2987_372" -->
<a id="c2987_372"></a><blockquote class="code"><p class="quoted">
The Rambling Warren is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2988_372" -->
<a id="c2988_372"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let N be a random number between 1 and 5;
<br />&#160;&#160;&#160;&#160;if N is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;N is one.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if N is 2:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;N is two.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if N is 3:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;N is three.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;N is more than the number of your toes.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The final &quot;otherwise&quot; here will fire only if none of the earlier conditions applies; we could leave it out and print nothing in the case that N is 4 or 5.</p>
<p>The more compact way to do this is to create a list of values that our number could match; in many programming languages this is called a switch statement. For example:</p>
<!-- START CODE "c2989_372" -->
<a id="c2989_372"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let Y be a random number between 6 and 10;
<br />&#160;&#160;&#160;&#160;if Y is:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-- 6: say &quot;Six is the magic number!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-- 7: say &quot;The number of the day is seven!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-- otherwise: say &quot;Today's magic number is boring.&quot;
</p></blockquote>
<!-- END CODE -->
<p>As a final option, we can use a construction we've seen only briefly before now: a table. The use of tables will be explained more fully in their own chapter, but here we see in brief that we can assign a number of values to one column of a table and then use that table to look up output:</p>
<!-- START CODE "c2990_372" -->
<a id="c2990_372"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let X be a random number between 11 and 14;
<br />&#160;&#160;&#160;&#160;if X is a number listed in the Table of Switching, say &quot;[output entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;X is greater than the number of your noses!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2991_372" -->
<a id="c2991_372"></a><blockquote class="code"><p class="quoted">
Table of Switching
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">number</p></td><td class="quotedtablecell"><p class="quoted">output</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11</p></td><td class="quotedtablecell"><p class="quoted">&quot;X is eleven!&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">&quot;X is twelve!&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">&quot;X is thirteen!&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2992_372" -->
<a id="c2992_372"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z&quot;.
</p></blockquote>
<!-- END CODE -->
<p>As we shall see, things other than text can be stored in tables, so we could also use a table as a way to look up objects or even rules to carry out.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "175: Wonka's Revenge" "e230" -->
<a id="e230"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e230" class="eglink"><b>175</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e230" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Wonka's Revenge</span></b></a><br />A lottery drum which redistributes the tickets inside whenever the player spins it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e230"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example230">
<!-- START CODE "c2993_230" -->
<a id="c2993_230"></a><blockquote class="code"><p class="quoted">
&quot;Wonka's Revenge&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2994_230" -->
<a id="c2994_230"></a><blockquote class="code"><p class="quoted">
The Caribou Lodge is a room. &quot;Hundreds of expectant faces are turned your way from every table.&quot; A lottery drum is in the Lodge. &quot;Before you is the lottery drum[if we have spun the drum], ready to disgorge a ticket[otherwise], waiting to be spun[end if].&quot; In the drum are a red ticket, an orange ticket, a yellow ticket, a green ticket, a blue ticket, a purple ticket, and a ticket of pure gold. The drum is closed and openable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2995_230" -->
<a id="c2995_230"></a><blockquote class="code"><p class="quoted">
Understand &quot;spin [something]&quot; as spinning.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2996_230" -->
<a id="c2996_230"></a><blockquote class="code"><p class="quoted">
Spinning is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2997_230" -->
<a id="c2997_230"></a><blockquote class="code"><p class="quoted">
Check spinning: if the noun is an open container which contains something, say &quot;[The list of things in the noun] would fly out.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2998_230" -->
<a id="c2998_230"></a><blockquote class="code"><p class="quoted">
Carry out spinning a container:
<br />&#160;&#160;&#160;&#160;shuffle the contents of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2999_230" -->
<a id="c2999_230"></a><blockquote class="code"><p class="quoted">
Report spinning:
<br />&#160;&#160;&#160;&#160;if the noun contains something, say &quot;You rattle [if the noun is transparent][the list of things in the noun][otherwise]the stuff[end if] in [the noun].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Nothing results of your shaking [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Inform keeps track of the order in which things have been put into a container. If we want to change that order without the player's intervention, we can move the things ourselves.</p>
<!-- START CODE "c3000_230" -->
<a id="c3000_230"></a><blockquote class="code"><p class="quoted">
To shuffle the contents of (basket - a container):
<br />&#160;&#160;&#160;&#160;let moves be the number of things in the basket;
<br />&#160;&#160;&#160;&#160;repeat with counter running from 1 to moves:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move a random thing in the basket to the basket.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3001_230" -->
<a id="c3001_230"></a><blockquote class="code"><p class="quoted">
After opening the drum when we have spun the drum for the first time:
<br />&#160;&#160;&#160;&#160;if something (called the pick) is in the drum:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try searching the drum;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The pick] it is, then.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try taking the pick;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the pick is the ticket of pure gold, end the story finally;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise end the story saying &quot;Oh well, better luck next time.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3002_230" -->
<a id="c3002_230"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open drum / look in drum / close drum / spin drum / open drum&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "176: Strictly Ballroom" "e19" -->
<a id="e19"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e19" class="eglink"><b>176</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e19" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Strictly Ballroom</span></b></a><br />People who select partners for dance lessons each turn.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e19"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example19">
<p>Many simple repetitions can effectively be done with a &quot;now...&quot; instruction: it is quicker to say</p>
<!-- START CODE "c3003_19" -->
<a id="c3003_19"></a><blockquote class="code"><p class="quoted">
now every person is angry
</p></blockquote>
<!-- END CODE -->
<p>than</p>
<!-- START CODE "c3004_19" -->
<a id="c3004_19"></a><blockquote class="code"><p class="quoted">
repeat with offended party running through people:
<br />&#160;&#160;&#160;&#160;now the offended party is angry.
</p></blockquote>
<!-- END CODE -->
<p>Repeat comes in handy when we have something a bit more complicated to do with each item:</p>
<!-- START CODE "c3005_19" -->
<a id="c3005_19"></a><blockquote class="code"><p class="quoted">
&quot;Strictly Ballroom&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3006_19" -->
<a id="c3006_19"></a><blockquote class="code"><p class="quoted">
A person can be alert or occupied. A person is usually alert.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3007_19" -->
<a id="c3007_19"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the player is occupied.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3008_19" -->
<a id="c3008_19"></a><blockquote class="code"><p class="quoted">
Dance is a kind of value. The dances are waltzes, polkas, cha-chas, charlestons, fox-trots, tangos, lambadas, and two-steps.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3009_19" -->
<a id="c3009_19"></a><blockquote class="code"><p class="quoted">
The current round is a dance that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3010_19" -->
<a id="c3010_19"></a><blockquote class="code"><p class="quoted">
Manner is a kind of value. The manners are swiftly, primly, energetically, suavely, seductively, elegantly, and badly.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3011_19" -->
<a id="c3011_19"></a><blockquote class="code"><p class="quoted">
Every turn: now the current round is a random dance.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3012_19" -->
<a id="c3012_19"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with dancer running through people who are not the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if dancer is alert:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now dancer is occupied;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let partner be a random alert person who is not the dancer;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if partner is a person:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now partner is occupied;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The dancer] [the current round][if a random chance of 1 in 5 succeeds] [a random manner][end if] with [partner]. &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[paragraph break][The dancer] is forced to be a wallflower. Poor [dancer]. &quot;;
<br />&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<p>Notice we did not say &quot;repeat with dancer running through alert people who are not the player...&quot;. This is because Inform would draw up a list of alert people at the beginning of the repeat, and not take into account which people became occupied partway through the repetition. If we want to make sure that each person dances only with one other person, we have to continue checking alertness each time we run through the repetition.</p>
<p>After all the partners are assigned, we can set up for the next turn by making everyone alert again, and for this we do not need &quot;repeat&quot;:</p>
<!-- START CODE "c3013_19" -->
<a id="c3013_19"></a><blockquote class="code"><p class="quoted">
Every turn: now every person is alert; now the player is occupied.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3014_19" -->
<a id="c3014_19"></a><blockquote class="code"><p class="quoted">
Before doing something to someone: now the noun is occupied.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3015_19" -->
<a id="c3015_19"></a><blockquote class="code"><p class="quoted">
Before doing something when the second noun is a person: now the second noun is occupied.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3016_19" -->
<a id="c3016_19"></a><blockquote class="code"><p class="quoted">
Instead of doing something to someone: say &quot;You successfully distract [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3017_19" -->
<a id="c3017_19"></a><blockquote class="code"><p class="quoted">
The Pacific Ballroom is a room. &quot;A rather utilitarian space at the moment, since this is a class and not a party.&quot; Timmy, Tommy, Joey, George, Mary, Martha, Yvette, McQueen, Linus, and Patricia are people in the Pacific Ballroom.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3018_19" -->
<a id="c3018_19"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / ask linus about blanket / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "177: Equipment List" "e126" -->
<a id="e126"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e126" class="eglink"><b>177</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e126" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Equipment List</span></b></a><br />Overview of all the phrase options associated with listing, and examples of how to change the inventory list into some other standard formats.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e126"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example126">
<p>Most of the phrase options above are relatively self-explanatory; a few are less so. Here is an overview:</p>
<p>&quot;With newlines&quot; tells Inform to put a new line before each listed object. Indented tells it to indent contents of objects, when listing these.</p>
<p>&quot;Giving inventory information&quot; means to append information such as (closed) or (being worn) to objects.</p>
<p>&quot;As a sentence&quot; means to put &quot;and&quot; before the last object and commas between them; this is usually not used in conjunction with newline listing. &quot;As a sentence&quot; obeys whatever conventions about the use of the serial comma we may have established with the &quot;Use serial comma&quot; option.</p>
<p>&quot;Including contents&quot; means to list the contents of open or transparent containers and all supporters, whereas including all contents means to list the contents of all containers, even opaque closed ones.</p>
<p>&quot;Tersely&quot;, perhaps unexpectedly, puts parentheses around objects listed as the contents of other objects.</p>
<p>&quot;Giving brief inventory information&quot; omits most of the inventory tags, such as &quot;(open)&quot; and &quot;(worn)&quot;, but does list &quot;(closed)&quot; for closed containers which might not otherwise be obviously openable.</p>
<p>&quot;Using the definite article&quot; means prefixing objects with &quot;the&quot;, if applicable, rather than &quot;a&quot;.</p>
<p>&quot;Listing marked items only&quot; means including only objects that have already been declared &quot;marked for listing&quot;.</p>
<p>&quot;Prefacing with is-are&quot; means that Inform will write &quot;is&quot; before the list if it contains only one item, and &quot;are&quot; if the list contains more than one.</p>
<p>&quot;Not listing concealed items&quot; means to omit from the list anything which is scenery.</p>
<p>Finally, &quot;with extra indentation&quot; means that the whole list should be indented slightly, in emulation of the default inventory listing.</p>
<p>With this information, we can try rewriting the inventory behavior to emulate the standard or to explore alternate versions:</p>
<!-- START CODE "c3019_126" -->
<a id="c3019_126"></a><blockquote class="code"><p class="quoted">
&quot;Equipment List&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3020_126" -->
<a id="c3020_126"></a><blockquote class="code"><p class="quoted">
The Watery Room is a room. The player carries a snorkel and a waterproof sack. The waterproof sack contains an undersea map, a diving guide, a cup, and 500 Argentine pesos. The cup contains a worm. The player wears a swimsuit and a pair of flippers. The sack is openable and open.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3021_126" -->
<a id="c3021_126"></a><blockquote class="code"><p class="quoted">
Inventory listing style is a kind of value. The inventory listing styles are tall, wide, curt, minimal, divided tall, and divided wide. Current inventory listing style is an inventory listing style that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3022_126" -->
<a id="c3022_126"></a><blockquote class="code"><p class="quoted">
Understand &quot;inventory [inventory listing style]&quot; as requesting styled inventory. Requesting styled inventory is an action applying to an inventory listing style. It is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3023_126" -->
<a id="c3023_126"></a><blockquote class="code"><p class="quoted">
Carry out requesting styled inventory:
<br />&#160;&#160;&#160;&#160;now current inventory listing style is the inventory listing style understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3024_126" -->
<a id="c3024_126"></a><blockquote class="code"><p class="quoted">
Report requesting styled inventory:
<br />&#160;&#160;&#160;&#160;say &quot;Inventory listing is now set to [current inventory listing style].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We begin by emulating the standard inventory listing style:</p>
<!-- START CODE "c3025_126" -->
<a id="c3025_126"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory when current inventory listing style is tall:
<br />&#160;&#160;&#160;&#160;if the number of things enclosed by the player is 0, say &quot;You are empty-handed.&quot; instead;
<br />&#160;&#160;&#160;&#160;say &quot;You are carrying: [line break]&quot;;
<br />&#160;&#160;&#160;&#160;list the contents of the player, with newlines, indented, giving inventory information, including contents, with extra indentation.
</p></blockquote>
<!-- END CODE -->
<p>Here we offer the alternative of listing everything together as a paragraph:</p>
<!-- START CODE "c3026_126" -->
<a id="c3026_126"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory when current inventory listing style is wide:
<br />&#160;&#160;&#160;&#160;if the number of things enclosed by the player is 0, say &quot;You are empty-handed.&quot; instead;
<br />&#160;&#160;&#160;&#160;say &quot;You are carrying &quot;;
<br />&#160;&#160;&#160;&#160;list the contents of the player, giving inventory information, as a sentence, including contents;
<br />&#160;&#160;&#160;&#160;say &quot;.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This may be unsatisfactory, however. Items that are inside other items are not set off from those merely carried by the player. One way around this is to use terse listing, giving such descriptions as &quot;a waterproof sack (in which are an undersea map, a diving guide, a cup (in which is a worm) and a 500 Argentine pesos)&quot; as opposed to the more confusing &quot; a waterproof sack (open), inside which are an undersea map, a diving guide, a cup, inside which is a worm and a 500 Argentine pesos&quot;.</p>
<!-- START CODE "c3027_126" -->
<a id="c3027_126"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory when current inventory listing style is curt:
<br />&#160;&#160;&#160;&#160;if the number of things enclosed by the player is 0, say &quot;You are empty-handed.&quot; instead;
<br />&#160;&#160;&#160;&#160;say &quot;You are carrying &quot;;
<br />&#160;&#160;&#160;&#160;list the contents of the player, tersely, giving brief inventory information, as a sentence, including contents;
<br />&#160;&#160;&#160;&#160;say &quot;.&quot;
</p></blockquote>
<!-- END CODE -->
<p>If, using the above style, we close the sack, we will still get &quot;(closed)&quot; after the sack's listing. The following minimalist listing style abolishes even that nicety:</p>
<!-- START CODE "c3028_126" -->
<a id="c3028_126"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory when current inventory listing style is minimal:
<br />&#160;&#160;&#160;&#160;if the number of things enclosed by the player is 0, say &quot;You are empty-handed.&quot; instead;
<br />&#160;&#160;&#160;&#160;say &quot;You are carrying &quot;;
<br />&#160;&#160;&#160;&#160;list the contents of the player, tersely, as a sentence, including contents;
<br />&#160;&#160;&#160;&#160;say &quot;.&quot;
</p></blockquote>
<!-- END CODE -->
<p>If we want to list worn things separately from carried things, we have occasion to put &quot;listing marked items only&quot; to work:</p>
<!-- START CODE "c3029_126" -->
<a id="c3029_126"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory when the current inventory listing style is divided wide:
<br />&#160;&#160;&#160;&#160;if the number of things enclosed by the player is 0, say &quot;You are empty-handed.&quot; instead;
<br />&#160;&#160;&#160;&#160;say &quot;You are wearing &quot;;
<br />&#160;&#160;&#160;&#160;now all things enclosed by the player are unmarked for listing;
<br />&#160;&#160;&#160;&#160;now all things worn by the player are marked for listing;
<br />&#160;&#160;&#160;&#160;if no things worn by the player are marked for listing, say &quot;nothing&quot;;
<br />&#160;&#160;&#160;&#160;otherwise list the contents of the player, as a sentence, listing marked items only;
<br />&#160;&#160;&#160;&#160;say &quot;.[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;You are carrying &quot;;
<br />&#160;&#160;&#160;&#160;now all things carried by the player are marked for listing;
<br />&#160;&#160;&#160;&#160;now all things worn by the player are unmarked for listing;
<br />&#160;&#160;&#160;&#160;if no things carried by the player are marked for listing, say &quot;nothing&quot;;
<br />&#160;&#160;&#160;&#160;otherwise list the contents of the player, as a sentence, tersely, giving brief inventory information, listing marked items only;
<br />&#160;&#160;&#160;&#160;say &quot;.[paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And similarly for a tall divided inventory:</p>
<!-- START CODE "c3030_126" -->
<a id="c3030_126"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory when the current inventory listing style is divided tall:
<br />&#160;&#160;&#160;&#160;if the number of things enclosed by the player is 0, say &quot;You are empty-handed.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player carries something:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now all things enclosed by the player are unmarked for listing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now all things carried by the player are marked for listing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are carrying: [line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;list the contents of the player, with newlines, indented, giving inventory information, including contents, with extra indentation, listing marked items only;
<br />&#160;&#160;&#160;&#160;if the player wears something:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now all things enclosed by the player are unmarked for listing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now all things worn by the player are marked for listing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are wearing: [line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;list the contents of the player, with newlines, indented, including contents, with extra indentation, listing marked items only.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3031_126" -->
<a id="c3031_126"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / inventory wide / i / inventory curt / i / close sack / i / open sack / inventory minimal / i / close sack / i / open sack / inventory divided wide / i / inventory divided tall / i / drop all / i / take all / take off swimsuit / take off flippers / i / i divided wide / i / wear swimsuit / drop all / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "178: M. Melmoth's Duel" "e422" -->
<a id="e422"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e422" class="eglink"><b>178</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e422" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">M. Melmoth's Duel</span></b></a><br />Three basic ways to inject random or not-so-random variations into text.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_2.html#e422"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example422">
<!-- START CODE "c3032_422" -->
<a id="c3032_422"></a><blockquote class="code"><p class="quoted">
&quot;M. Melmoth's Duel&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3033_422" -->
<a id="c3033_422"></a><blockquote class="code"><p class="quoted">
Saint-Germain-des-Prés is a room. &quot;Haunt of artists, of the coffee-drinking sort, and of cafés, of the artist-haunted sort, you once again find yourself outside M. Melmoth's hotel. Today [one of]the recently-fallen rain runs down the gutters of the 6th[or]sunlight glints even off the blackened windows of the Abbey[or]crowds of vulgar children play chase around the lampposts[at random], and you long to be indoors.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3034_422" -->
<a id="c3034_422"></a><blockquote class="code"><p class="quoted">
The Hôtel d'Alsace is inside from Saint-Germain-des-Prés. &quot;Typical. Oscar writes you a letter announcing his own imminent demise - 'My wallpaper and I are fighting a duel to the death. One or other of us has got to go.' - and then you get there and he's out, no doubt procuring paint the colour of absinthe, if he isn't procuring the painter.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3035_422" -->
<a id="c3035_422"></a><blockquote class="code"><p class="quoted">
Tint is a kind of value. The tints are green, aquamarine and darkish purple.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3036_422" -->
<a id="c3036_422"></a><blockquote class="code"><p class="quoted">
The wallpaper is fixed in place in the Hôtel. The wallpaper has a tint. &quot;In this light, the wallpaper has a distinctly [tint of the wallpaper] wash. [if the tint of the wallpaper is darkish purple]You particularly dislike purple.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3037_422" -->
<a id="c3037_422"></a><blockquote class="code"><p class="quoted">
Before going to the Hôtel: now the wallpaper is a random tint.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3038_422" -->
<a id="c3038_422"></a><blockquote class="code"><p class="quoted">
After going from the Hôtel, say &quot;You leave, shaking your head. But within twenty-four hours, you are back, as you always knew you would be.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3039_422" -->
<a id="c3039_422"></a><blockquote class="code"><p class="quoted">
Test me with &quot;in / out / look / in / out / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "179: Owen's Law" "e278" -->
<a id="e278"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e278" class="eglink"><b>179</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e278" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Owen's Law</span></b></a><br />OUT always means "move to an outdoors room, or else to a room with more exits than this one has"; IN always means the opposite.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e278"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example278">
<p>Suppose we want the game to interpret &quot;GO OUT&quot; as &quot;move towards an outdoors room, or towards a room with more exits than the current room&quot;, while &quot;GO IN&quot; means &quot;move toward a room with fewer exits, or towards an indoors room&quot;. Thus going in repeatedly within a building would lead towards dead-ends, while going out repeatedly would lead towards the center of the building and then towards an exit to the outside world.</p>
<p>We start by encoding these rules as definitions:</p>
<!-- START CODE "c3040_278" -->
<a id="c3040_278"></a><blockquote class="code"><p class="quoted">
&quot;Owen's Law&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3041_278" -->
<a id="c3041_278"></a><blockquote class="code"><p class="quoted">
A room can be indoors or outdoors. A room is usually indoors.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3042_278" -->
<a id="c3042_278"></a><blockquote class="code"><p class="quoted">
Definition: a room is outward:
<br />&#160;&#160;&#160;&#160;if it is not adjacent, no;
<br />&#160;&#160;&#160;&#160;if it is indoors and the location is outdoors, no;
<br />&#160;&#160;&#160;&#160;if it is outdoors and the location is indoors, yes;
<br />&#160;&#160;&#160;&#160;if the number of rooms adjacent to it is greater than the number of rooms adjacent to the location, yes;
<br />&#160;&#160;&#160;&#160;otherwise no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3043_278" -->
<a id="c3043_278"></a><blockquote class="code"><p class="quoted">
Definition: a room is inward:
<br />&#160;&#160;&#160;&#160;if it is not adjacent, no;
<br />&#160;&#160;&#160;&#160;if it is outdoors and the location is indoors, no;
<br />&#160;&#160;&#160;&#160;if it is indoors and the location is outdoors, yes;
<br />&#160;&#160;&#160;&#160;if the number of rooms adjacent to it is less than the number of rooms adjacent to the location, yes;
<br />&#160;&#160;&#160;&#160;otherwise no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3044_278" -->
<a id="c3044_278"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere when the noun is outside: try exiting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3045_278" -->
<a id="c3045_278"></a><blockquote class="code"><p class="quoted">
Instead of exiting when the player is in a room:
<br />&#160;&#160;&#160;&#160;if at least one room is outward:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the destination be a random outward room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to	 the destination;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(that is, [way])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try going the way instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It's not entirely obvious which way you mean. &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the listing available exits activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3046_278" -->
<a id="c3046_278"></a><blockquote class="code"><p class="quoted">
Instead of going inside when the room inside from the location is not a room and at least one room is inward:
<br />&#160;&#160;&#160;&#160;if more than one room is inward:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the listing available exits activity;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the destination be a random inward room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to the destination;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(that is, [way])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try going the way instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3047_278" -->
<a id="c3047_278"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere:
<br />&#160;&#160;&#160;&#160;carry out the listing available exits activity.
</p></blockquote>
<!-- END CODE -->
<p>This &quot;listing available exits&quot; is a refinement borrowed from a future chapter, which allows us to specify special listing and printing rules:</p>
<!-- START CODE "c3048_278" -->
<a id="c3048_278"></a><blockquote class="code"><p class="quoted">
Listing available exits is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3049_278" -->
<a id="c3049_278"></a><blockquote class="code"><p class="quoted">
Rule for listing available exits:
<br />&#160;&#160;&#160;&#160;if going inside and an adjacent room is inward:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From here 'in' could reasonably mean [a list of adjacent inward rooms].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if exiting and an adjacent room is outward:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From here 'out' could reasonably mean [a list of outward adjacent rooms].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;From here you can go [a list of adjacent rooms].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3050_278" -->
<a id="c3050_278"></a><blockquote class="code"><p class="quoted">
Before printing the name of a room (called the target) while listing available exits:
<br />&#160;&#160;&#160;&#160;let aim be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;say &quot;[aim] to the &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3051_278" -->
<a id="c3051_278"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of an unvisited room which is not the location:
<br />&#160;&#160;&#160;&#160;say &quot;unknown location&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3052_278" -->
<a id="c3052_278"></a><blockquote class="code"><p class="quoted">
Dune is an outdoors room. &quot;Hundreds of feet of dune stretch west to the beach, crisscrossed with dune-buggy tracks and the footprints of birds. To the east is a low-lying, boxy concrete installation.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3053_278" -->
<a id="c3053_278"></a><blockquote class="code"><p class="quoted">
Ocean Shores Military Installation is east of the Dune. It is an outdoors room. &quot;The World War II emplacements, built in case of Japanese invasion, have never been destroyed, though with all the weapons and furnishings gone it is difficult to make much sense of the original structure. A doorway leads west into concrete-lined darkness; a rusty but reliable ladder ascends to a walkway overlooking the sea.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3054_278" -->
<a id="c3054_278"></a><blockquote class="code"><p class="quoted">
Walkway is above Ocean Shores Military Installation. &quot;From here you have a long view of the dunes and the Pacific Ocean, complete with the rotting hull of a long-stranded vessel.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3055_278" -->
<a id="c3055_278"></a><blockquote class="code"><p class="quoted">
Dark Echoing Room is inside from Ocean Shores Military Installation. Dank Dripping Room is east of Dark Echoing Room. Narrow Room is south of Dark Echoing Room. Small Sealed Chamber is north of Dark Echoing Room. Room Smelling of Animal Urine is north of Dank Dripping Room. The description of a room is usually &quot;It is dark in here, and feels unsafe.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3056_278" -->
<a id="c3056_278"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / u / d / in / s / out / n / out / e / in / out / out / out&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "180: Witnessed 2" "e440" -->
<a id="e440"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e440" class="eglink"><b>180</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e440" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Witnessed 2</span></b></a><br />A piece of ghost-hunting equipment that responds depending on whether or not the meter is on and a ghost is visible or touchable from the current location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e440"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example440">
<!-- START CODE "c3057_440" -->
<a id="c3057_440"></a><blockquote class="code"><p class="quoted">
&quot;Witnessed&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3058_440" -->
<a id="c3058_440"></a><blockquote class="code"><p class="quoted">
The player carries a device called a Trifield Natural EMF Meter. The description of the Meter is &quot;This cost a pretty penny off the internet, but it's worth it: according to the website it has been programmed by PhD physicists to ignore manmade sources of fields and to respond only to paranormal EMF changes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3059_440" -->
<a id="c3059_440"></a><blockquote class="code"><p class="quoted">
It also features an optional Tone Alarm, which can be turned on to indicate when readings spike. If the alarm is off, the meter just reads out the magnetic and electric field levels on a scale from 0-100 microteslas, or 0-1000 V/m.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3060_440" -->
<a id="c3060_440"></a><blockquote class="code"><p class="quoted">
Since both fields are important, you keep the meter set to SUM mode. The meter has its own optional backlighting, so that you can see the reading even if your flashlight is off. Currently it is reading at [meter setting].&quot; A Tone Alarm is part of the Meter. It is a device. The description of the Tone Alarm is &quot;The Tone Alarm will make a noise, if the EMF picks up a spike.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3061_440" -->
<a id="c3061_440"></a><blockquote class="code"><p class="quoted">
To decide what number is meter setting:
<br />&#160;&#160;&#160;&#160;if the meter is switched off, decide on 0;
<br />&#160;&#160;&#160;&#160;if a ghost is touchable, decide on 35;
<br />&#160;&#160;&#160;&#160;if a ghost is visible, decide on 12;
<br />&#160;&#160;&#160;&#160;decide on 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3062_440" -->
<a id="c3062_440"></a><blockquote class="code"><p class="quoted">
After switching on the meter:
<br />&#160;&#160;&#160;&#160;say &quot;You turn on the meter. The needle steadies at [meter setting].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3063_440" -->
<a id="c3063_440"></a><blockquote class="code"><p class="quoted">
Every turn: if the meter setting is greater than 10 and the Tone Alarm is switched on, say &quot;[The Tone Alarm] shrieks.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3064_440" -->
<a id="c3064_440"></a><blockquote class="code"><p class="quoted">
Thirtieth Street Station is a room. &quot;A huge, high, rectangular room with coffered ceilings, which looks grand but mostly makes you feel lonely and small. There are long benches in rows down the middle of the room, and an information desk with the train times, and a series of ticket windows, none of which matters very much at the moment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3065_440" -->
<a id="c3065_440"></a><blockquote class="code"><p class="quoted">
The benches are an enterable supporter. They are scenery in the Station. The information desk is scenery in the Station. Some ticket windows are scenery in the Station. Instead of examining scenery in the Station: say &quot;You're fairly sure that whatever is going on here has nothing to do with [the noun].&quot; Understand &quot;window&quot; as ticket windows.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3066_440" -->
<a id="c3066_440"></a><blockquote class="code"><p class="quoted">
The mural is fixed in place in Thirtieth Street. &quot;At the north side of the station is a particularly pointless and empty annex to the main room. It is dominated by a huge relief of sorts, and this is what you remember.&quot; Understand &quot;metal&quot; or &quot;relief&quot; or &quot;huge&quot; as the mural. The description of the mural is &quot;It is both stylized and confusing, but you think it might be supposed to represent the various tasks and occupations of Philadelphia's population. The portions closer to the ground look as though they have recently been subjected to a light dusting of talcum powder. No unusual prints are evident.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3067_440" -->
<a id="c3067_440"></a><blockquote class="code"><p class="quoted">
The wind chimes are fixed in place in Thirtieth Street. &quot;Carefully attached to the wall with a piece of duct tape and a hook is a light-weight set of wind chimes. Someone else has been here before you, it seems.&quot; The description is &quot;Several of your friends use wind chimes as a sort of ghost alarm, since ghosts sometimes cause very localized movements of air when there is no natural breeze.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3068_440" -->
<a id="c3068_440"></a><blockquote class="code"><p class="quoted">
A ghost is a kind of person. The pale figure is a ghost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3069_440" -->
<a id="c3069_440"></a><blockquote class="code"><p class="quoted">
At 9:03 AM: move the pale figure to the location; say &quot;You shiver with some sort of presence.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3070_440" -->
<a id="c3070_440"></a><blockquote class="code"><p class="quoted">
Test me with &quot;turn on alarm / turn on meter / z / z / z / x figure&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "181: A Haughty Spirit" "e388" -->
<a id="e388"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e388" class="eglink"><b>181</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e388" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">A Haughty Spirit</span></b></a><br />Windows overlooking lower spaces which will prevent the player from climbing through if the lower space is too far below.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e388"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example388">
<p>Suppose we have a game in which the player can climb through windows which overlook rooms below. We want him to be allowed to climb out windows to reach a room on the same level or at most one level lower than the one he's on; otherwise, he should get a refusal, saying that he would break his neck.</p>
<p>To figure out the height distance between the start room and the destination room, we might have a repeat loop look at all the directions one has to follow along the &quot;best route&quot; path between the two rooms, and record any ups and downs; then subtract the number of &quot;up&quot; steps from the number of &quot;down&quot; steps, and report what remains.</p>
<!-- START CODE "c3071_388" -->
<a id="c3071_388"></a><blockquote class="code"><p class="quoted">
&quot;A Haughty Spirit&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3072_388" -->
<a id="c3072_388"></a><blockquote class="code"><p class="quoted">
To decide what number is the distance (first place - a room) rises above (second place - a room):
<br />&#160;&#160;&#160;&#160;let the total distance be the number of moves from the first place to the second place;
<br />&#160;&#160;&#160;&#160;if the total distance is less than 1, decide on 0;
<br />&#160;&#160;&#160;&#160;let count of down moves be 0;
<br />&#160;&#160;&#160;&#160;let count of up moves be 0;
<br />&#160;&#160;&#160;&#160;let next place be the first place;
<br />&#160;&#160;&#160;&#160;repeat with counter running from 1 to the total distance:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the next place to the second place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is down, let count of down moves be the count of down moves plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is up, let the count of up moves be the count of up moves plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let next place be the room the way from next place;
<br />&#160;&#160;&#160;&#160;let the decision be the count of down moves minus the count of up moves;
<br />&#160;&#160;&#160;&#160;decide on the decision.
</p></blockquote>
<!-- END CODE -->
<p>Now we just have to create windows and some action rules for interacting with them...</p>
<!-- START CODE "c3073_388" -->
<a id="c3073_388"></a><blockquote class="code"><p class="quoted">
A window is a kind of thing. A window is always fixed in place. A window can be open or closed. A window is usually closed. A window can be openable or unopenable. A window is usually openable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3074_388" -->
<a id="c3074_388"></a><blockquote class="code"><p class="quoted">
Understand &quot;climb through [something]&quot; as entering. Understand &quot;jump through/out [something]&quot; as entering.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3075_388" -->
<a id="c3075_388"></a><blockquote class="code"><p class="quoted">
Before entering a closed window:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] would have to be opened first.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3076_388" -->
<a id="c3076_388"></a><blockquote class="code"><p class="quoted">
Instead of entering a window:
<br />&#160;&#160;&#160;&#160;if the noun overlooks a room (called the far side):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let fall be the distance the location rises above the far side;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if fall is greater than 1, say &quot;You'd break your neck.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You tumble into [the far side].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the player to the far side;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There's nowhere to go.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3077_388" -->
<a id="c3077_388"></a><blockquote class="code"><p class="quoted">
Instead of examining a window:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] [if the noun is open]opens over[otherwise]gives a view of[end if] [the list of rooms overlooked by the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here we must anticipate a little from the chapter on Relations, and provide ourselves with a way of keeping track of how windows and rooms relate to one another:</p>
<!-- START CODE "c3078_388" -->
<a id="c3078_388"></a><blockquote class="code"><p class="quoted">
Overlooking relates various windows to various rooms. The verb to overlook means the overlooking relation. The initial appearance of a window is usually &quot;[The item described] overlooks [the list of rooms overlooked by the item described].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3079_388" -->
<a id="c3079_388"></a><blockquote class="code"><p class="quoted">
The Square Keep is above the Winding Staircase. The Winding Staircase is above the Motte. A crown and a broken sword are in the Motte. The Bailey is west of the Motte.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3080_388" -->
<a id="c3080_388"></a><blockquote class="code"><p class="quoted">
The long window is in the Keep. The long window overlooks the Bailey and the Motte. The narrow window is in the Winding Staircase. The narrow window overlooks the Bailey.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3081_388" -->
<a id="c3081_388"></a><blockquote class="code"><p class="quoted">
Test me with &quot;jump through window / open window / jump through window / d / x narrow window / open window / climb through window / e / up / down&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We could then add rules to allow the player to look through windows and see things in the rooms below, but that would require more material from later chapters.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "182: Entropy" "e124" -->
<a id="e124"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e124" class="eglink"><b>182</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e124" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Entropy</span></b></a><br />All objects in the game have a heat, but if not kept insulated they will tend toward room temperature (and at a somewhat exaggerated rate).</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e124"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example124">
<!-- START CODE "c3082_124" -->
<a id="c3082_124"></a><blockquote class="code"><p class="quoted">
&quot;Entropy&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3083_124" -->
<a id="c3083_124"></a><blockquote class="code"><p class="quoted">
Heat is a kind of value. The heats are frosty, cold, cool, room temperature, warm, hot, and scalding. Everything has a heat. The heat of a thing is usually room temperature.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3084_124" -->
<a id="c3084_124"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with item running through things which are not in an insulated container:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the heat of the item is greater than room temperature, now the heat of the item is the heat before the heat of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the heat of the item is less than room temperature, now the heat of the item is the heat after the heat of the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3085_124" -->
<a id="c3085_124"></a><blockquote class="code"><p class="quoted">
Definition: a container is insulated if it is closed and it is opaque.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3086_124" -->
<a id="c3086_124"></a><blockquote class="code"><p class="quoted">
The vacuum thermos is an opaque closed openable container carried by the player. In the vacuum thermos is a frosty thing called an ice cube.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3087_124" -->
<a id="c3087_124"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the heat of the ice cube is greater than cold:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the ice cube is visible, say &quot;The ice cube melts! 'HA ha,' says Maxwell, in a very unsporting, some might say demonic, way.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ice cube is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3088_124" -->
<a id="c3088_124"></a><blockquote class="code"><p class="quoted">
Before printing the name of something: say &quot;[heat] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3089_124" -->
<a id="c3089_124"></a><blockquote class="code"><p class="quoted">
Equilibrium is a room. &quot;A perfectly smooth chamber sealed from the outside world. You can't at this moment work out where the exit is, though possibly that is just because the lighting is so very very even and diffuse. And doesn't come from anywhere that you can see, either.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3090_124" -->
<a id="c3090_124"></a><blockquote class="code"><p class="quoted">
Maxwell is a man in Equilibrium.  &quot;Maxwell perches awkwardly on a stool across from you[if Maxwell has something], holding [a list of things carried by Maxwell][end if].&quot; He is carrying a box of Chinese food. The Chinese food is scalding. &quot;A discarded [item described] lies on the floor.&quot; The description of Maxwell is &quot;He has the faintly peevish look of one who has not been properly fed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3091_124" -->
<a id="c3091_124"></a><blockquote class="code"><p class="quoted">
Every turn when Maxwell has the food:
<br />&#160;&#160;&#160;&#160;if the heat of the Chinese food is greater than warm, say &quot;Maxwell takes a bite, and swears.&quot;;
<br />&#160;&#160;&#160;&#160;if the heat of the Chinese food is warm, say &quot;Maxwell eats as fast as he can, enjoying the food while it's at just the right temperature.&quot;;
<br />&#160;&#160;&#160;&#160;if the heat of the Chinese food is less than warm:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Maxwell sadly stabs at his leftovers with a chopstick, but does not try to eat any more.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the food to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3092_124" -->
<a id="c3092_124"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / open thermos / close thermos / open thermos&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "183: The Hang of Thursdays" "e309" -->
<a id="e309"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_11.html#e309" class="eglink"><b>183</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_11.html#e309" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Hang of Thursdays</span></b></a><br />Turns take a quarter day each, and the game rotates through the days of the week.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_4.html#e309"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example309">
<!-- START CODE "c3093_309" -->
<a id="c3093_309"></a><blockquote class="code"><p class="quoted">
&quot;The Hang of Thursdays&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3094_309" -->
<a id="c3094_309"></a><blockquote class="code"><p class="quoted">
The Stage is a room. Rule for printing the name of the stage: say &quot;[current weekday] [current time period]&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3095_309" -->
<a id="c3095_309"></a><blockquote class="code"><p class="quoted">
A weekday is a kind of value. The weekdays are Saturday, Sunday, Monday, Tuesday, Wednesday, Thursday, Friday. The current weekday is a weekday that varies. The current weekday is Saturday.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3096_309" -->
<a id="c3096_309"></a><blockquote class="code"><p class="quoted">
A time period is a kind of value. The time periods are morning, afternoon, evening, night. The current time period is a time period that varies. The current time period is afternoon.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3097_309" -->
<a id="c3097_309"></a><blockquote class="code"><p class="quoted">
This is the new advance time rule:
<br />&#160;&#160;&#160;&#160;if the current time period is less than night:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current time period is the time period after the current time period;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current time period is morning;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current weekday is the weekday after the current weekday.
</p></blockquote>
<!-- END CODE -->
<p>Now we need to borrow from a later chapter to make these instructions apply to the passage of time:</p>
<!-- START CODE "c3098_309" -->
<a id="c3098_309"></a><blockquote class="code"><p class="quoted">
The new advance time rule is listed instead of the advance time rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3099_309" -->
<a id="c3099_309"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
