<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>Chapter 15: Numbers and Equations</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 15: Numbers and Equations</p>
<p class="chaptercontents"><a href="WI_15.html#s1" class="standardlink"><span class="chaptercontentsitem">§15.1. How do we measure things?</span></a>; <a href="WI_15.html#s2" class="standardlink"><span class="chaptercontentsitem">§15.2. Numbers and real numbers</span></a>; <a href="WI_15.html#s3" class="standardlink"><span class="chaptercontentsitem">§15.3. Real number conversions</span></a>; <a href="WI_15.html#s4" class="standardlink"><span class="chaptercontentsitem">§15.4. Printing real numbers</span></a>; <a href="WI_15.html#s5" class="standardlink"><span class="chaptercontentsitem">§15.5. Arithmetic</span></a>; <a href="WI_15.html#s6" class="standardlink"><span class="chaptercontentsitem">§15.6. Powers and logarithms</span></a>; <a href="WI_15.html#s7" class="standardlink"><span class="chaptercontentsitem">§15.7. Trigonometry</span></a>; <a href="WI_15.html#s8" class="standardlink"><span class="chaptercontentsitem">§15.8. Units</span></a>; <a href="WI_15.html#s9" class="standardlink"><span class="chaptercontentsitem">§15.9. Multiple notations</span></a>; <a href="WI_15.html#s10" class="standardlink"><span class="chaptercontentsitem">§15.10. Scaling and equivalents</span></a>; <a href="WI_15.html#s11" class="standardlink"><span class="chaptercontentsitem">§15.11. Named notations</span></a>; <a href="WI_15.html#s12" class="standardlink"><span class="chaptercontentsitem">§15.12. Making the verb "to weigh"</span></a>; <a href="WI_15.html#s13" class="standardlink"><span class="chaptercontentsitem">§15.13. The Metric Units extension</span></a>; <a href="WI_15.html#s14" class="standardlink"><span class="chaptercontentsitem">§15.14. Notations including more than one number</span></a>; <a href="WI_15.html#s15" class="standardlink"><span class="chaptercontentsitem">§15.15. The parts of a number specification</span></a>; <a href="WI_15.html#s16" class="standardlink"><span class="chaptercontentsitem">§15.16. Understanding specified numbers</span></a>; <a href="WI_15.html#s17" class="standardlink"><span class="chaptercontentsitem">§15.17. Totals</span></a>; <a href="WI_15.html#s18" class="standardlink"><span class="chaptercontentsitem">§15.18. Equations</span></a>; <a href="WI_15.html#s19" class="standardlink"><span class="chaptercontentsitem">§15.19. Arithmetic with units</span></a>; <a href="WI_15.html#s20" class="standardlink"><span class="chaptercontentsitem">§15.20. Multiplication of units</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="WI_1.html" class="standardlink">Contents of <i>Writing with Inform</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_14.html" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_14.html" class="standardlink">Chapter 14: Adaptive Text and Responses</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_16.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_16.html" class="standardlink">Chapter 16: Tables</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§15.1. How do we measure things?</p>
<p>In a poem, or in a novel, exact scientific measurements are not the point. So a writer who wants to set up ways to describe the sky at different times might go for something like this:</p>
<!-- START CODE "c4513" -->
<a id="c4513"></a><blockquote class="code"><p class="quoted">
The sky can be cadmium, mackerel, overcast or cornflower.
</p></blockquote>
<!-- END CODE -->
<p>And nobody is interested in the sun angle, the percentage of cloud cover, or any of the other numbers behind all of this. Similarly, if we walk into a familiar office which has been disturbed, we might well say &quot;Look! The filing cabinet is in the middle of the floor.&quot; We are not likely to exclaim &quot;Look! The filing cabinet is 1.2m from the east wall and 2.1m from the north wall.&quot;</p>
<p>But some writers of interactive fiction do like to make use of physical realism. For instance, it's easier to forbid a bulky object being taken through a narrow doorway if there is a way to measure and compare sizes.</p>
<p>Most computer programs write numbers in the same way, whatever they're used for. But human beings don't. If someone says &quot;How far is Duluth?&quot;, we're more likely to say &quot;100 miles&quot; than just &quot;100&quot;. This is a useful feature of natural language, because it means we always know how to translate that number into reality - it's 100 miles, not 100 km, or 100 inches; and it's definitely a distance, not 100 apples or 100 kilograms.</p>
<p>Inform lets us use plain numbers if we want to, but it also allows us to create numerical kinds of value:</p>
<!-- START CODE "c4514" -->
<a id="c4514"></a><blockquote class="code"><p class="quoted">
A distance is a kind of value. 5 miles specifies a distance.
</p></blockquote>
<!-- END CODE -->
<p>That kind of definition, and the consequences, will be the subject of this chapter. But we will first look a little harder at the two numerical kinds of value we get for free: &quot;number&quot; and &quot;real number&quot;.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_14.html#s12" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_14.html#s12" class="standardlink">Back to Chapter 14: Adaptive Text and Responses: §14.12. The RESPONSES testing command</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s2" class="standardlink">Onward to §15.2. Numbers and real numbers</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§15.2. Numbers and real numbers</p>
<p>Inform uses two different kinds of numerical quantity: &quot;number&quot; and &quot;real number&quot;. Neither is better than the other: they're different approaches, each good for a different purpose.</p>
<p>What Inform calls a &quot;number&quot; is a whole number, positive, negative or zero. The range of numbers we can hold is not unlimited - if the format Setting for a project is the Z-machine, then we have:</p>
<!-- START CODE "c4515" -->
<a id="c4515"></a><blockquote class="code"><p class="quoted">
-32768, -32767, ..., -3, -2, -1, 0, 1, 2, 3, ..., 32767
</p></blockquote>
<!-- END CODE -->
<p>and if it is set to Glulx, then we have:</p>
<!-- START CODE "c4516" -->
<a id="c4516"></a><blockquote class="code"><p class="quoted">
-2147483648, -2147483647, ..., -3, -2, -1, 0, 1, 2, 3, ..., 2147483647
</p></blockquote>
<!-- END CODE -->
<p>Numbers from zero to twelve may be written out, but larger ones must be written as numerals. So &quot;twelve&quot; or &quot;12&quot;, but &quot;13&quot; only.</p>
<p>If we're using Glulx, Inform also has &quot;real numbers&quot; such as</p>
<!-- START CODE "c4517" -->
<a id="c4517"></a><blockquote class="code"><p class="quoted">
2.1718, 4.0, -1633.9
</p></blockquote>
<!-- END CODE -->
<p>which are not restricted to whole numbers, but which are stored only approximately: only about six to nine decimal digits can be relied on. For example,</p>
<!-- START CODE "c4518" -->
<a id="c4518"></a><blockquote class="code"><p class="quoted">
showme 1.2345654321;
<br />showme 1.2345667890;
</p></blockquote>
<!-- END CODE -->
<p>produces</p>
<!-- START CODE "c4519" -->
<a id="c4519"></a><blockquote class="code"><p class="quoted">
real number: 1.23457
<br />real number: 1.23457
</p></blockquote>
<!-- END CODE -->
<p>because these two numbers are so close together that Inform can't tell them apart. But we do also get the ability to represent enormously large or small quantities, and to help with that, Inform can read and write &quot;scientific notation&quot;. For example,</p>
<!-- START CODE "c4520" -->
<a id="c4520"></a><blockquote class="code"><p class="quoted">
let Avogadro's number be 6.022141 x 10^23;
</p></blockquote>
<!-- END CODE -->
<p>is equivalent to typing</p>
<!-- START CODE "c4521" -->
<a id="c4521"></a><blockquote class="code"><p class="quoted">
let Avogadro's number be 602214100000000000000000.0;
</p></blockquote>
<!-- END CODE -->
<p>The &quot;x 10^23&quot; part tells Inform that the decimal point belongs 23 places to the left of where it's written. (In scientific papers, the 23 would be printed as a superscript -- it's 10 to the power 23 -- but that's not convenient to type in to the source text, so we use the &quot;^&quot; symbol to indicate superscript.) The range we can hold is roughly:</p>
<!-- START CODE "c4522" -->
<a id="c4522"></a><blockquote class="code"><p class="quoted">
1.18 x 10^−38 to 3.4 x 10^38
</p></blockquote>
<!-- END CODE -->
<p>It's hard to convey just how enormously different these two numbers are: if we used them to measure widths in meters, one would be a hundred trillion trillion times smaller than an atom, the other a billion times larger than the entire visible universe. Scientific notation is the ultimate adjustable spanner.</p>
<p>Inform also allows the two most famous real numbers in mathematics to be given by their names:</p>
<!-- START CODE "c4523" -->
<a id="c4523"></a><blockquote class="code"><p class="quoted">
pi
<br />e
</p></blockquote>
<!-- END CODE -->
<p>which are close to 3.14159265 and 2.7182818 respectively. (Lower case letters must be used: these can't be written &quot;Pi&quot; or &quot;E&quot;.  Euler's constant gamma, always in the bronze medal position, will have to be written out longhand as 0.5772156649.)</p>
<p>Most computer programming languages traditionally write floating-point numbers using the E notation, like so:</p>
<!-- START CODE "c4524" -->
<a id="c4524"></a><blockquote class="code"><p class="quoted">
6.022141E+23;
</p></blockquote>
<!-- END CODE -->
<p>Inform will follow suit if the use option &quot;Use engineering notation.&quot; is set, but by default it isn't.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s1" class="standardlink">Back to §15.1. How do we measure things?</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s3" class="standardlink">Onward to §15.3. Real number conversions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e4" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e4" class="standardlink">Example 253: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Alias</b>&#160;&#160;&#160; A telephone with phone numbers of the standard American seven-digit length.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§15.3. Real number conversions</p>
<p>This section notes down some technicalities about real numbers which need to be put down in writing somewhere, but won't affect most people most of the time.</p>
<p>Inform allows us to use numbers whenever real numbers are expected, and converts them automatically. For example,</p>
<!-- START CODE "c4525" -->
<a id="c4525"></a><blockquote class="code"><p class="quoted">
cosine of 2
</p></blockquote>
<!-- END CODE -->
<p>is read as if it were</p>
<!-- START CODE "c4526" -->
<a id="c4526"></a><blockquote class="code"><p class="quoted">
cosine of 2.0
</p></blockquote>
<!-- END CODE -->
<p>and produces -0.41615 either way. This conversion goes from exactness to approximation, so we may lose a little accuracy: real numbers measure to an accuracy of about 1 part in 16000000, so they'll have trouble telling the difference between 16000000 and 16000001. But this is unlikely to matter, since real numbers are used only for approximate calculations anyway.</p>
<p>The ordinary arithmetic operations work on both numbers and real numbers, so the meaning of &quot;N plus M&quot; depends on the kinds of N and M. In general the rule is that if either is a real number then the other one is automatically converted, and real arithmetic is used. So:</p>
<!-- START CODE "c4527" -->
<a id="c4527"></a><blockquote class="code"><p class="quoted">
3 divided by 2 = 1
<br />3 divided by 2.0 = 1.5
<br />3.0 divided by 2 = 1.5
<br />3.0 divided by 2.0 = 1.5
</p></blockquote>
<!-- END CODE -->
<p>In general we can't do the reverse, that is, we can't silently use a real number where a number is expected. For example,</p>
<!-- START CODE "c4528" -->
<a id="c4528"></a><blockquote class="code"><p class="quoted">
word number 1.6 in &quot;The Great Wall of China&quot;
</p></blockquote>
<!-- END CODE -->
<p>makes no sense. But we can explicitly convert them:</p>
<!-- START PHRASE "defn182" -->
<div class="definition"><a id="defn182"></a><p class="defnprototype"><b></b>(real number)<b> to the nearest whole number ... number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_nearestwholenumber -->

<p>This phrase performs signed addition on the given values, whose kinds must agree, and produces the result. Examples:</p>
<!-- START CODE "c4529" -->
<a id="c4529"></a><blockquote class="code"><p class="quoted">
1.4 to the nearest whole number = 1
<br />1.6 to the nearest whole number = 2
<br />-1.6 to the nearest whole number = -2
</p></blockquote>
<!-- END CODE -->
<p>We probably ought to bear in mind that the limited range of &quot;number&quot; means that the nearest whole number might not be all that near. For example:</p>
<!-- START CODE "c4530" -->
<a id="c4530"></a><blockquote class="code"><p class="quoted">
6 x 10^23 to the nearest whole number = 2147483647
</p></blockquote>
<!-- END CODE -->
<p>because 2147483647 is the highest value a &quot;number&quot; can have.</p>

<!-- end definition -->
</div>

<p>Finally, real number can also store two interesting not-really-number sorts of value. First, we have</p>
<!-- START CODE "c4531" -->
<a id="c4531"></a><blockquote class="code"><p class="quoted">
plus infinity, minus infinity
</p></blockquote>
<!-- END CODE -->
<p>which are used to keep track of what happens when we divide by really small quantities. It's mathematically impossible to divide by 0, but this can be hard to avoid when we're using real numbers, because they're only approximately stored - so it's not always possible to say whether they're exactly 0 or not. So in real number arithmetic,</p>
<!-- START CODE "c4532" -->
<a id="c4532"></a><blockquote class="code"><p class="quoted">
showme 1.0 divided by 0.0;
</p></blockquote>
<!-- END CODE -->
<p>doesn't throw a run-time problem the way that</p>
<!-- START CODE "c4533" -->
<a id="c4533"></a><blockquote class="code"><p class="quoted">
showme 1 divided by 0;
</p></blockquote>
<!-- END CODE -->
<p>does. Instead, it produces &quot;plus infinity&quot;. Infinity behaves roughly the way we might expect - for example, &quot;2 divided by plus infinity&quot; produces 0 - but once it comes into a calculation the result probably lies on some extreme and won't be very useful. Amusingly, the following is correct Inform syntax:</p>
<!-- START CODE "c4534" -->
<a id="c4534"></a><blockquote class="code"><p class="quoted">
plus infinity to the nearest whole number
</p></blockquote>
<!-- END CODE -->
<p>and evaluates of course to 2147483647. We can use the adjectives &quot;infinite&quot; and &quot;finite&quot; to talk about these numbers: plus infinity and minus infinity are infinite, everything else is finite.</p>
<p>The same problem occurs for calculations like square roots. It's impossible to take the square root of a negative number, but we don't want to throw a run-time problem, because approximation means we can't always guarantee to stay the right side of 0. So for a few calculations like this, Inform generates what's called a &quot;nonexistent&quot; real number. We can use the adjectives nonexistent or existent to talk about this. Every number mentioned on this page so far is &quot;existent&quot;, including the infinities. The only way to get a nonexistent number is to carry out an impossible mathematical operation such as</p>
<!-- START CODE "c4535" -->
<a id="c4535"></a><blockquote class="code"><p class="quoted">
logarithm of -10
</p></blockquote>
<!-- END CODE -->
<p>(The design of &quot;real number&quot; here follows well established trade-offs for scientific computing. Inform follows the IEEE-754 binary32 standard for floating-point arithmetic, so Inform's &quot;real number&quot; behaves very like the &quot;float&quot; type in C, C++, Java and similar programming languages. A &quot;nonexistent&quot; number is what's often called a NaN - a Not-a-Number.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s2" class="standardlink">Back to §15.2. Numbers and real numbers</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s4" class="standardlink">Onward to §15.4. Printing real numbers</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§15.4. Printing real numbers</p>
<!-- START PHRASE "defn183" -->
<div class="definition"><a id="defn183"></a><p class="defnprototype"><b>say &quot;[</b>(real number)<b> to </b>(number)<b> decimal places]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_realplaces -->

<p>This text substitution writes out the number to the given number of decimal places. Examples:</p>
<!-- START CODE "c4536" -->
<a id="c4536"></a><blockquote class="code"><p class="quoted">
&quot;The semicircle is roughly [pi to 3 decimal places] paces around.&quot;
</p></blockquote>
<!-- END CODE -->
<p>produces &quot;The semicircle is roughly 3.142 paces around.&quot; The number of places can only usefully be from 1 to 8. Note that, for example, &quot;[1.235 x 10^-7 to 3 decimal places]&quot; produces 0.0; &quot;[1.235678 x 10^8 to 3 decimal places]&quot; produces &quot;1.236 × 10^8&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn184" -->
<div class="definition"><a id="defn184"></a><p class="defnprototype"><b>say &quot;[</b>(real number)<b> in decimal notation]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_decimal -->

<p>This text substitution writes out the number in decimal form, that is, avoiding &quot;x 10^n&quot; even for very large or very small quantities. For example,</p>
<!-- START CODE "c4537" -->
<a id="c4537"></a><blockquote class="code"><p class="quoted">
&quot;[1.23457 x 10^8 in decimal notation]&quot;
</p></blockquote>
<!-- END CODE -->
<p>produces 123457000.0 rather than 1.23457 x 10^8. This can look pretty extreme: for example, &quot;[1.8983 x 10^27 in decimal notation]&quot;, the mass of the planet Jupiter in kilograms, produces 1898296960000000000000000000.0.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn185" -->
<div class="definition"><a id="defn185"></a><p class="defnprototype"><b>say &quot;[</b>(real number)<b> to </b>(number)<b> decimal places in decimal notation]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_decimalplaces -->

<p>This text substitution writes out the number in decimal form, but rounding to the accuracy given.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn186" -->
<div class="definition"><a id="defn186"></a><p class="defnprototype"><b>say &quot;[</b>(real number)<b> in scientific notation]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_scientific -->

<p>This text substitution writes out the number in scientific form, that is, using &quot;x 10^n&quot; even for easy-to-judge quantities. For example,</p>
<!-- START CODE "c4538" -->
<a id="c4538"></a><blockquote class="code"><p class="quoted">
&quot;[the reciprocal of 137 in scientific notation]&quot;
</p></blockquote>
<!-- END CODE -->
<p>produces 7.29927 x 10^-3 rather than 0.0073. This can look odd: for example, &quot;[pi in scientific notation]&quot; comes out as 3.14159 × 10^0 rather than 3.14159.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn187" -->
<div class="definition"><a id="defn187"></a><p class="defnprototype"><b>say &quot;[</b>(real number)<b> to </b>(number)<b> decimal places in scientific notation]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_scientificplaces -->

<p>This text substitution writes out the number in scientific form, but rounding to the accuracy given.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s3" class="standardlink">Back to §15.3. Real number conversions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s5" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s5" class="standardlink">Onward to §15.5. Arithmetic</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§15.5. Arithmetic</p>
<p>We are allowed to perform about the same operations on numbers as are provided by a simple office calculator, starting with addition, subtraction, multiplication and division. We can use the traditional typewriter symbols for these, +, -, * and /, or can spell them out in words as &quot;plus&quot;, &quot;minus&quot;, &quot;times&quot; (or &quot;multiplied by&quot;), and &quot;divided by&quot;. Definitively:</p>
<!-- START PHRASE "defn188" -->
<div class="definition"><a id="defn188"></a><p class="defnprototype"><b></b>(arithmetic value)<b> + </b>(arithmetic value)<b> ... value</b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b></b>(arithmetic value)<b> plus </b>(arithmetic value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_plus -->

<p>This phrase performs signed addition on the given values, whose kinds must agree, and produces the result. Examples:</p>
<!-- START CODE "c4539" -->
<a id="c4539"></a><blockquote class="code"><p class="quoted">
200 + 1 = 201
<br />10:04 AM + two minutes = 10:06 AM
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn189" -->
<div class="definition"><a id="defn189"></a><p class="defnprototype"><b></b>(arithmetic value)<b> - </b>(arithmetic value)<b> ... value</b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b></b>(arithmetic value)<b> minus </b>(arithmetic value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_minus -->

<p>This phrase performs signed subtraction on the given values, whose kinds must agree, and produces the result. Examples:</p>
<!-- START CODE "c4540" -->
<a id="c4540"></a><blockquote class="code"><p class="quoted">
200 - 1 = 199
<br />10:04 AM - two minutes = 10:02 AM
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn190" -->
<div class="definition"><a id="defn190"></a><p class="defnprototype"><b></b>(arithmetic value)<b> * </b>(arithmetic value)<b> ... value</b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b></b>(arithmetic value)<b> times </b>(arithmetic value)<b> ... value</b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b></b>(arithmetic value)<b> multiplied by </b>(arithmetic value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_times -->

<p>This phrase performs signed multiplication on the given values, whose kinds must be dimensionally compatible, and produces the result. Examples:</p>
<!-- START CODE "c4541" -->
<a id="c4541"></a><blockquote class="code"><p class="quoted">
201 times 3 = 603
<br />two minutes times 4 = eight minutes
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn191" -->
<div class="definition"><a id="defn191"></a><p class="defnprototype"><b></b>(arithmetic value)<b> / </b>(arithmetic value)<b> ... value</b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b></b>(arithmetic value)<b> divided by </b>(arithmetic value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_divide -->

<p>This phrase performs signed division on the given values, whose kinds must be dimensionally compatible, and produces the result. Examples:</p>
<!-- START CODE "c4542" -->
<a id="c4542"></a><blockquote class="code"><p class="quoted">
201 divided by 3 = 67
<br />202 divided by 3 = 67
<br />202.0 divided by 3 = 67.33334
<br />twenty minutes divided by 4 = five minutes
<br />twenty minutes divided by five minutes = 4
</p></blockquote>
<!-- END CODE -->
<p>Division rounds whole-number values down to the nearest whole number. An attempt to divide a number by 0 will cause a run-time problem message; but an attempt to divide a real number by 0 will instead produce plus infinity or minus infinity.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn192" -->
<div class="definition"><a id="defn192"></a><p class="defnprototype"><b>remainder after dividing </b>(arithmetic value)<b> by </b>(arithmetic value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_remainder -->

<p>This phrase performs signed division on the given values, whose kinds must be dimensionally compatible, and then produces the remainder. Examples:</p>
<!-- START CODE "c4543" -->
<a id="c4543"></a><blockquote class="code"><p class="quoted">
remainder after dividing 201 by 5 = 1
<br />remainder after dividing twenty minutes by 7 = six minutes
</p></blockquote>
<!-- END CODE -->
<p>It is mathematically impossible to divide by 0, so any attempt to find the remainder after dividing a number by 0 will cause a run-time problem message. For a real number this won't arise and the remainder will usually be 0.0.</p>

<!-- end definition -->
</div>

<p>The verbal and symbolic forms of these phrases are equivalent:</p>
<!-- START CODE "c4544" -->
<a id="c4544"></a><blockquote class="code"><p class="quoted">
the score + 10
<br />the score plus 10
</p></blockquote>
<!-- END CODE -->
<p>It's probably better style to spell them out in full when writing text, and keep the symbols for writing equations, as we'll see later on in the chapter. (If we do use the symbols, then spaces around them are obligatory: to Inform, they are words which just happen to be spelt with symbols instead of letters.)</p>
<p>Arithmetic often produces fussily exact answers which seem inappropriate in a conversation. Nobody says &quot;Steeple Barton is 7.655 miles down the road&quot;, but &quot;Steeple Barton is eight miles down the road&quot; sounds perfectly normal. In order to make that sort of report easier to make, Inform provides another arithmetic operation, one that's not found in most computer programming languages:</p>
<!-- START PHRASE "defn193" -->
<div class="definition"><a id="defn193"></a><p class="defnprototype"><b></b>(arithmetic value)<b> to the nearest </b>(arithmetic value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_nearest -->

<p>This phrase rounds the given value off, rounding upward in boundary cases. Examples:</p>
<!-- START CODE "c4545" -->
<a id="c4545"></a><blockquote class="code"><p class="quoted">
201 to the nearest 5 = 200
<br />205 to the nearest 10 = 210
<br />10:27 AM to the nearest five minutes = 10:25 AM
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>Inform has very few mathematical functions built in as phrases, because these aren't very often needed in story-telling. But it does provide these:</p>
<!-- START PHRASE "defn194" -->
<div class="definition"><a id="defn194"></a><p class="defnprototype"><b>square root of </b>(arithmetic value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_squareroot -->

<p>This phrase produces an approximate square root, to the nearest integer, of the given value, which must be of a kind which has square roots. Example:</p>
<!-- START CODE "c4546" -->
<a id="c4546"></a><blockquote class="code"><p class="quoted">
square root of 16 = 4
</p></blockquote>
<!-- END CODE -->
<p>Trying to take the square root of a negative number will cause a run-time problem, because then we can't even nearly solve it.</p>
<p>(Warning: this is slow to compute if the Z-machine setting is used. For</p>
<p>best performance, use Glulx.)</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn195" -->
<div class="definition"><a id="defn195"></a><p class="defnprototype"><b>real square root of </b>(arithmetic value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_realsquareroot -->

<p>This phrase produces a square root, as accurately as a real number can hold it, of the given value, which must be of a kind which has square roots. Example:</p>
<!-- START CODE "c4547" -->
<a id="c4547"></a><blockquote class="code"><p class="quoted">
real square root of 2 = 1.41421
</p></blockquote>
<!-- END CODE -->
<p>The real square root of a negative number is nonexistent.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn196" -->
<div class="definition"><a id="defn196"></a><p class="defnprototype"><b>cube root of </b>(arithmetic value)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_cuberoot -->

<p>This phrase produces an approximate cube root, to the nearest integer, of the given value, which must be of a kind which has cube roots. Example:</p>
<!-- START CODE "c4548" -->
<a id="c4548"></a><blockquote class="code"><p class="quoted">
cube root of 27 = 3
<br />cube root of -27 = -3
</p></blockquote>
<!-- END CODE -->
<p>(Warning: this is not very accurate if the Z-machine setting is used. For</p>
<p>best performance, use Glulx.)</p>

<!-- end definition -->
</div>

<p>We can compare numbers using either the traditional computer-programming symbols, or using words:</p>
<!-- START CODE "c4549" -->
<a id="c4549"></a><blockquote class="code"><p class="quoted">
if the score is less than 10
<br />if the score &lt; 10
</p></blockquote>
<!-- END CODE -->
<p>and similarly for &quot;greater than&quot;, &quot;at least&quot; and &quot;at most&quot;, with the symbols &quot;&gt;&quot;, &quot;&gt;=&quot; and &quot;&lt;=&quot;. But we are not allowed the equals sign: for that we need only use &quot;is&quot; -</p>
<!-- START CODE "c4550" -->
<a id="c4550"></a><blockquote class="code"><p class="quoted">
if the score is 10
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s4" class="standardlink">Back to §15.4. Printing real numbers</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s6" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s6" class="standardlink">Onward to §15.6. Powers and logarithms</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s6"></a>§15.6. Powers and logarithms</p>
<p>If the last section provided a basic office calculator, this section and the next provide the more exotic rows of buttons found on a scientific calculator. All of these are done using real number arithmetic. To start with some dull ones, here are two ways to round off numbers:</p>
<!-- START PHRASE "defn197" -->
<div class="definition"><a id="defn197"></a><p class="defnprototype"><b>ceiling of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_ceiling -->

<p>Produces the smallest integer value greater than or equal to the one given. Examples:</p>
<!-- START CODE "c4551" -->
<a id="c4551"></a><blockquote class="code"><p class="quoted">
ceiling of pi = 4.0
<br />ceiling of -16.315 = -16.0
</p></blockquote>
<!-- END CODE -->
<p>(Note that the result is still a real number; it simply has no fractional part any more.)</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn198" -->
<div class="definition"><a id="defn198"></a><p class="defnprototype"><b>floor of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_floor -->

<p>Produces the largest integer value less than or equal to the one given. Examples:</p>
<!-- START CODE "c4552" -->
<a id="c4552"></a><blockquote class="code"><p class="quoted">
floor of pi = 3.0
<br />floor of -16.315 = -17.0
</p></blockquote>
<!-- END CODE -->
<p>(Note that the result is still a real number; it simply has no fractional part any more.)</p>

<!-- end definition -->
</div>

<p>Two more easy functions:</p>
<!-- START PHRASE "defn199" -->
<div class="definition"><a id="defn199"></a><p class="defnprototype"><b>absolute value of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_absolutevalue -->

<p>Removes the sign from a value, leaving positive numbers alone but making negative ones positive. Examples:</p>
<!-- START CODE "c4553" -->
<a id="c4553"></a><blockquote class="code"><p class="quoted">
absolute value of 62.1 = 62.1
<br />absolute value of 0 = 0.0
<br />absolute value of -62.1 = 62.1
<br />absolute value of minus infinity = plus infinity
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn200" -->
<div class="definition"><a id="defn200"></a><p class="defnprototype"><b>reciprocal of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_reciprocal -->

<p>Calculates 1/x, that is, divides up 1 into this many pieces. Examples:</p>
<!-- START CODE "c4554" -->
<a id="c4554"></a><blockquote class="code"><p class="quoted">
reciprocal of -2 = -0.5
<br />reciprocal of 0.1 = 10.0
<br />reciprocal of 7 = 0.14286
<br />reciprocal of plus infinity = 0.0
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>Now for taking powers. In general we have:</p>
<!-- START PHRASE "defn201" -->
<div class="definition"><a id="defn201"></a><p class="defnprototype"><b></b>(real number)<b> to the power </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_power -->

<p>Computes x to the power y. Examples:</p>
<!-- START CODE "c4555" -->
<a id="c4555"></a><blockquote class="code"><p class="quoted">
2 to the power 4 = 16.0
<br />100 to the power 0.5 = 10.0
<br />7 to the power -1 = 0.14286
<br />pi to the power 0 = 1.0
</p></blockquote>
<!-- END CODE -->
<p>In the words of the Glulx specification document (section 2.12), &quot;the special cases are breathtaking&quot;: if you need to know exactly what, say, &quot;minus infinity to the power Y&quot; will do for different cases of Y, refer to the details of the &quot;pow&quot; opcode.</p>

<!-- end definition -->
</div>

<p>To compute square roots, it's more efficient to use &quot;real square root of X&quot; function than &quot;X to the power 0.5&quot;, though both work. To obtain the Nth root of X, we might use:</p>
<!-- START CODE "c4556" -->
<a id="c4556"></a><blockquote class="code"><p class="quoted">
X to the power (reciprocal of N)
</p></blockquote>
<!-- END CODE -->
<p>being careful to use &quot;reciprocal of N&quot; rather than &quot;1 divided by N&quot; to make sure we're using real and not integer arithmetic.</p>
<p>Similarly, the following is more efficient than &quot;e to the power ...&quot;, but equivalent to it:</p>
<!-- START PHRASE "defn202" -->
<div class="definition"><a id="defn202"></a><p class="defnprototype"><b>exponential of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_exp -->

<p>Computes e to the given power, where e is the base of natural logarithms. Examples:</p>
<!-- START CODE "c4557" -->
<a id="c4557"></a><blockquote class="code"><p class="quoted">
exponential of 0 = 1.0
<br />exponential of 1 = e = 2.7182818
<br />exponential of -10 = 4.53999 x 10^-5
<br />exponential of 10 = 22026.46484
<br />exponential of logarithm of 7.12 = 7.12
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>The reverse of taking powers is taking logarithms.</p>
<!-- START PHRASE "defn203" -->
<div class="definition"><a id="defn203"></a><p class="defnprototype"><b>logarithm to base </b>(number)<b> of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_logarithmto -->

<p>Finds what power the base would have to be raised to in order to get this value. Examples:</p>
<!-- START CODE "c4558" -->
<a id="c4558"></a><blockquote class="code"><p class="quoted">
logarithm to base 10 of 1000000 = 6.0
<br />logarithm to base 10 of 350 = 2.54407
<br />logarithm to base 2 of 256 = 8.0
</p></blockquote>
<!-- END CODE -->
<p>Logarithms of zero or negative numbers are nonexistent. Note that &quot;logarithm to base 10 of ...&quot; is what most calculators call simply &quot;log&quot;, but Inform doesn't: it uses &quot;log&quot; for natural logarithms.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn204" -->
<div class="definition"><a id="defn204"></a><p class="defnprototype"><b>natural</b>/--<b> logarithm of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_logarithm -->

<p>Finds what power e would have to be raised to in order to get this value. Examples:</p>
<!-- START CODE "c4559" -->
<a id="c4559"></a><blockquote class="code"><p class="quoted">
logarithm of e = 1.0
<br />logarithm of 1 = 0.0
<br />logarithm of 1000 = 6.90776
<br />logarithm of exponential of 7.12 = 7.12
</p></blockquote>
<!-- END CODE -->
<p>Logarithms of zero or negative numbers are nonexistent. This is the function which most calculators label as &quot;ln&quot;, for &quot;log natural&quot;, but in mathematical and scientific papers it's more often written &quot;log&quot;, and Inform follows that convention.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s5" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s5" class="standardlink">Back to §15.5. Arithmetic</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s7" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s7" class="standardlink">Onward to §15.7. Trigonometry</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s7"></a>§15.7. Trigonometry</p>
<p>We have twelve functions left to cover, though they are all closely related.</p>
<!-- START PHRASE "defn205" -->
<div class="definition"><a id="defn205"></a><p class="defnprototype"><b></b>(real number)<b> degrees ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_degrees -->

<p>Inform measures angles in radians, a convention in which the angle for a half circle is pi, and a right angle is pi divided by 2. This is better from a mathematical point of view, but in practice most people think about angles using degrees, where 180 degrees is a half-circle and a right angle is 90 degrees. This phrase helps with that by converting from degrees to radians: in other words, it multiplies by 0.0174532925, since that's roughly 1/180th of pi. Examples:</p>
<!-- START CODE "c4560" -->
<a id="c4560"></a><blockquote class="code"><p class="quoted">
sine of 90 degrees = 0.0
<br />cosine of 60 degrees = 0.5
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn206" -->
<div class="definition"><a id="defn206"></a><p class="defnprototype"><b>sine of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_sine -->

<p>The length of the upright of a right-angled triangle with this angle and a hypotenuse of length 1, where angle is measured in radians. Examples:</p>
<!-- START CODE "c4561" -->
<a id="c4561"></a><blockquote class="code"><p class="quoted">
sine of 0 = 0
<br />sine of 45 degrees = 0.70711
<br />sine of (pi divided by 4) = 0.70711
<br />sine of (pi divided by 2) = 1.0
<br />sine of pi = 0
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn207" -->
<div class="definition"><a id="defn207"></a><p class="defnprototype"><b>cosine of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_cosine -->

<p>The length of the base of a right-angled triangle with this angle and a hypotenuse of length 1, where angle is measured in radians. Examples:</p>
<!-- START CODE "c4562" -->
<a id="c4562"></a><blockquote class="code"><p class="quoted">
cosine of 0 = 1.0
<br />cosine of 45 degrees = 0.70711
<br />cosine of (pi divided by 4) = 0.70711
<br />cosine of (pi divided by 2) = 0.0
<br />cosine of pi = -1.0
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn208" -->
<div class="definition"><a id="defn208"></a><p class="defnprototype"><b>tangent of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_tangent -->

<p>The ratio of the upright length to the base length in a right-angled triangle with this angle and a hypotenuse of length 1, where angle is measured in radians. Examples:</p>
<!-- START CODE "c4563" -->
<a id="c4563"></a><blockquote class="code"><p class="quoted">
tangent of 0 = 0.0
<br />tangent of 45 degrees = 1.0
<br />tangent of (pi divided by 4) = 1.0
<br />tangent of (pi divided by 2) = plus infinity
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn209" -->
<div class="definition"><a id="defn209"></a><p class="defnprototype"><b>arcsine of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_arcsine -->

<p>The inverse of the sine function.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn210" -->
<div class="definition"><a id="defn210"></a><p class="defnprototype"><b>arccosine of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_arccosine -->

<p>The inverse of the cosine function.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn211" -->
<div class="definition"><a id="defn211"></a><p class="defnprototype"><b>arctangent of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_arctangent -->

<p>The inverse of the tangent function.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn212" -->
<div class="definition"><a id="defn212"></a><p class="defnprototype"><b>hyperbolic sine of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_hyperbolicsine -->

<p>The hyperbolic sine function, often written &quot;sinh&quot; but pronounced &quot;shine&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn213" -->
<div class="definition"><a id="defn213"></a><p class="defnprototype"><b>hyperbolic cosine of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_hyperboliccosine -->

<p>The hyperbolic cosine function, often written &quot;cosh&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn214" -->
<div class="definition"><a id="defn214"></a><p class="defnprototype"><b>hyperbolic tangent of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_hyperbolictangent -->

<p>The hyperbolic tangent function, often written &quot;tanh&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn215" -->
<div class="definition"><a id="defn215"></a><p class="defnprototype"><b>hyperbolic arcsine of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_hyperbolicarcsine -->

<p>The inverse of the hyperbolic sine function.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn216" -->
<div class="definition"><a id="defn216"></a><p class="defnprototype"><b>hyperbolic arccosine of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_hyperbolicarccosine -->

<p>The inverse of the hyperbolic cosine function.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn217" -->
<div class="definition"><a id="defn217"></a><p class="defnprototype"><b>hyperbolic arctangent of </b>(real number)<b> ... real number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_hyperbolicarctangent -->

<p>The inverse of the hyperbolic tangent function.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s6" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s6" class="standardlink">Back to §15.6. Powers and logarithms</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s8" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s8" class="standardlink">Onward to §15.8. Units</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s8"></a>§15.8. Units</p>
<p>Suppose we want to talk about how tall people are. We could just create a &quot;number&quot; property, like this:</p>
<!-- START CODE "c4564" -->
<a id="c4564"></a><blockquote class="code"><p class="quoted">
A person has a number called height.
</p></blockquote>
<!-- END CODE -->
<p>But then we would have to write lines like &quot;Isabella has height 68&quot;, which nobody would naturally say. What we want is to be able to write &quot;Isabella is 5 foot 8.&quot; Perhaps the computer will need to store that measurement as the number 68 in some register or other, but we don't want to know about that.</p>
<p>&quot;5 foot 8&quot; is a complicated notation in a way - it involves both feet and inches - so let's start with a simpler example:</p>
<!-- START CODE "c4565" -->
<a id="c4565"></a><blockquote class="code"><p class="quoted">
A weight is a kind of value. 10kg specifies a weight.
</p></blockquote>
<!-- END CODE -->
<p>This is a little different to the kinds of value seen so far, which were all created like so:</p>
<!-- START CODE "c4566" -->
<a id="c4566"></a><blockquote class="code"><p class="quoted">
A colour is a kind of value. The colours are red, green and blue.
</p></blockquote>
<!-- END CODE -->
<p>We can't mix the two styles: a new kind of value will either be numerical at heart (&quot;10kg&quot;) or verbal at heart (&quot;blue&quot;).</p>
<p>The effect of &quot;10kg specifies a weight&quot; is to tell Inform that this is the notation for writing a constant &quot;weight&quot;. So, for instance,</p>
<!-- START CODE "c4567" -->
<a id="c4567"></a><blockquote class="code"><p class="quoted">
The maximum load is a weight that varies. The maximum load is 8000kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4568" -->
<a id="c4568"></a><blockquote class="code"><p class="quoted">
if the maximum load is greater than 8000kg, ...
</p></blockquote>
<!-- END CODE -->
<p>Inform is then careful not to allow weights to be mixed up with other numerical values. For instance, it won't allow &quot;if the maximum load is 400&quot;, because 400 is a number, not a weight.</p>
<p>More or less anything we can do with numbers, we can now do with weights. For instance, we can write:</p>
<!-- START CODE "c4569" -->
<a id="c4569"></a><blockquote class="code"><p class="quoted">
The Weighbridge is a room. &quot;A sign declares that the maximum load is [maximum load].&quot;
</p></blockquote>
<!-- END CODE -->
<p>...which will produce the text &quot;A sign declares that the maximum load is 8000kg.&quot;</p>
<p>Numerical kinds of value are sometimes called &quot;units&quot;, because one of their main uses is to allow us to write quantities using scientific units such as kilograms. But they have other uses too. We have a great deal of freedom in creating notations like &quot;10kg&quot;, or &quot;4 foot 10&quot; - the main thing is that new notations must not already mean a value. So &quot;10 specifies a weight&quot; will not be allowed, because 10 specifies a number already.</p>
<p><span class="boldface">By default we can only write whole-number values.</span> As we've seen, Inform can handle both integer (whole-number) and real arithmetic, and they each have their advantages. The default here is to use whole numbers, so</p>
<!-- START CODE "c4570" -->
<a id="c4570"></a><blockquote class="code"><p class="quoted">
10 kg specifies a weight.
</p></blockquote>
<!-- END CODE -->
<p>will store only whole numbers of kilograms (unless clever scaling tricks are used: see the next section). That may be fine, but if we need to handle a wider range of weights, or do scientific calculations that need to be more accurate, this is better:</p>
<!-- START CODE "c4571" -->
<a id="c4571"></a><blockquote class="code"><p class="quoted">
1.0 kg specifies a weight.
</p></blockquote>
<!-- END CODE -->
<p>Here Inform can see from the decimal point in the prototype number that real numbers will be involved. We can still write &quot;8000kg&quot;, but we can now also write &quot;1.9885 x 10^30 kg&quot; (the mass of the Sun) or &quot;9.109383 x 10^−31 kg&quot; (the mass of an electron). On the other hand, any calculations we do will be limited in accuracy to about 6 to 9 decimal places, exactly as for real numbers.</p>
<p><span class="boldface">By default we can only write positive values when whole numbers are used.</span> Sometimes it is unnatural to write negative values, and so Inform will issue a Problem message if this is tried - for instance, Inform would not allow us to write a weight of -4 kg. (This doesn't mean that arithmetic on units is forbidden to get a negative result: we may want to work out the difference between two weights. Inform's Problem message is simply to try to prevent the accidental writing of incorrect values.) If we do want the ability to write negative values in the source text, we signal that in the notation itself:</p>
<!-- START CODE "c4572" -->
<a id="c4572"></a><blockquote class="code"><p class="quoted">
-10 kg specifies a weight.
</p></blockquote>
<!-- END CODE -->
<p>That alerts Inform that both positive and negative values for this unit make sense.</p>
<p>If we set up a spread of multiple notations (see the next section) then this is automatically enabled, because then we're clearly dealing with proper physics, where negative values are common; and similarly if we use real numbers (as above).</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s7" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s7" class="standardlink">Back to §15.7. Trigonometry</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s9" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s9" class="standardlink">Onward to §15.9. Multiple notations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e379" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e379" class="standardlink">Example 254: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>rBGH</b>&#160;&#160;&#160; The player character's height is selected randomly at the start of play.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e166" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e166" class="standardlink">Example 255: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lethal Concentration 1</b>&#160;&#160;&#160; A poisonous gas that spreads from room to room, incapacitating or killing the player when it reaches sufficient levels.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e314" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e314" class="standardlink">Example 256: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Wonderland</b>&#160;&#160;&#160; Hiking Mount Rainier, with attention to which locations are higher and which lower than the present location.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e165" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e165" class="standardlink">Example 257: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lethal Concentration 2</b>&#160;&#160;&#160; Poisonous gas again, only this time it sinks.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s9"></a>§15.9. Multiple notations</p>
<p>Going back to our weight example:</p>
<!-- START CODE "c4573" -->
<a id="c4573"></a><blockquote class="code"><p class="quoted">
A weight is a kind of value. 10kg specifies a weight.
</p></blockquote>
<!-- END CODE -->
<p>The notation here is a single word, even if it contains digits as well as letters - &quot;10kg&quot;. But it doesn't have to be one word. These would have worked, too:</p>
<!-- START CODE "c4574" -->
<a id="c4574"></a><blockquote class="code"><p class="quoted">
10kg net specifies a weight.
<br />10 kg specifies a weight.
</p></blockquote>
<!-- END CODE -->
<p>In fact, we are allowed to have all three at once, as alternatives:</p>
<!-- START CODE "c4575" -->
<a id="c4575"></a><blockquote class="code"><p class="quoted">
A weight is a kind of value. 10kg specifies a weight. 10kg net specifies a weight. 10 kg specifies a weight.
</p></blockquote>
<!-- END CODE -->
<p>If we often have to deal with large weights, it becomes a little cumbersome to keep on writing something like &quot;80000kg&quot;. An engineer would write &quot;80 tonnes&quot; for this. Similarly, we wouldn't like road maps to use light years, or speed limit signs to use furlongs per fortnight. So it's sometimes useful to provide a spread of different notations, at different scale factors, for the same kind of value. Here's one way of setting up the tonne, that is, the metric ton:</p>
<!-- START CODE "c4576" -->
<a id="c4576"></a><blockquote class="code"><p class="quoted">
1 tonne specifies a weight scaled up by 1000.
</p></blockquote>
<!-- END CODE -->
<p>This really is an alternative way to write the same thing: for instance, Inform will allow &quot;25kg plus 3 tonne&quot;, the result being &quot;3.025 tonne&quot;.</p>
<p>That's all very well, but a value like &quot;3 tonne&quot; reads a little oddly, even if it's correct in theory. Outside of scientific journals with old-school copy editing, most people would write &quot;3 tonnes&quot;, not &quot;3 tonne&quot;. Here's a better try:</p>
<!-- START CODE "c4577" -->
<a id="c4577"></a><blockquote class="code"><p class="quoted">
1 tonne (singular) specifies a weight scaled up by 1000.
<br />2 tonnes (plural) specifies a weight scaled up by 1000.
</p></blockquote>
<!-- END CODE -->
<p>Now Inform will not only recognise both forms, but also use the right one when printing back.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s8" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s8" class="standardlink">Back to §15.8. Units</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s10" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s10" class="standardlink">Onward to §15.10. Scaling and equivalents</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s10"></a>§15.10. Scaling and equivalents</p>
<p>As we've seen, there are two ways to store values like lengths or weights: as whole numbers, or as real numbers. If we prefer to use whole numbers, or if real numbers aren't available (for example if we're using the Z-machine setting), then we might run into an awkward problem: when we write</p>
<!-- START CODE "c4578" -->
<a id="c4578"></a><blockquote class="code"><p class="quoted">
1 kg specifies a weight.
</p></blockquote>
<!-- END CODE -->
<p>we make this correspond to the whole number &quot;1&quot;, and that means Inform can never handle weights smaller than 1 kg.</p>
<p>But as we've seen, we can provide differently scaled notations for the same unit:</p>
<!-- START CODE "c4579" -->
<a id="c4579"></a><blockquote class="code"><p class="quoted">
A length is a kind of value. 1m specifies a length.
<br />1km specifies a length scaled up by 1000.
</p></blockquote>
<!-- END CODE -->
<p>And this allows us to write &quot;0.45km&quot; instead of &quot;450m&quot;, if we want to, both having the same effect. &quot;0.45km&quot; doesn't make a real number, despite the decimal point - it's simply another way to write &quot;450m&quot;, stored internally as the whole number 450.</p>
<p>Just as we can scale up, so we can also scale down:</p>
<!-- START CODE "c4580" -->
<a id="c4580"></a><blockquote class="code"><p class="quoted">
1cm specifies a length scaled down by 100.
</p></blockquote>
<!-- END CODE -->
<p>Now we have a spread of three notations, so &quot;3cm&quot;, &quot;0.03m&quot; and &quot;0.00003km&quot; all mean the same thing. But something quite interesting happened at the same time: Inform realised that we want to know lengths to a greater accuracy than just a whole number of meters.</p>
<p>If we're using whole numbers, and we want to resolve down to very small values, that reduces the size of the largest value we can have. For instance, with the Glulx format setting, writing just</p>
<!-- START CODE "c4581" -->
<a id="c4581"></a><blockquote class="code"><p class="quoted">
A length is a kind of value. 1m specifies a length.
</p></blockquote>
<!-- END CODE -->
<p>gives us a range of 1m up to 2147483647m, which is plenty - it's about six times the distance from the Earth to the Moon. Going down to centimeters:</p>
<!-- START CODE "c4582" -->
<a id="c4582"></a><blockquote class="code"><p class="quoted">
A length is a kind of value. 1m specifies a length. 1cm specifies a length scaled down by 100.
</p></blockquote>
<!-- END CODE -->
<p>gives us instead 1cm up to 21474836.47m, which is still enough to represent any possible distance on the Earth's surface. For instance, London to Sydney is about 17000000m.</p>
<p>Left to itself, Inform chooses the scaling for a unit so that it can represent exactly 1 of the smallest notation - so in our example Inform resolves down to 0.01m, not 1m, in order that it can represent 1cm accurately. But we can also fix the scaling ourselves:</p>
<!-- START CODE "c4583" -->
<a id="c4583"></a><blockquote class="code"><p class="quoted">
A length is a kind of value. 1m specifies a length scaled at 10000.
</p></blockquote>
<!-- END CODE -->
<p>Notice &quot;scaled at&quot;, not &quot;scaled down&quot; or &quot;scaled up&quot; - this is now the first notation for length, so there's no existing notation which it could scale up or down. Anyway, now the range is 0.0001m, the width of a human hair, up to 214748.3647m, which is about 130 miles. (The Kinds index automatically keeps track of the range of values represented exactly.) The &quot;scaled at&quot; feature is meaningless if we're using real numbers, so it throws a Problem message.</p>
<p>Finally, for a really deluxe kind of value, we can also provide &quot;equivalent&quot; notations. The idea here is that we might want both miles and kilometers to work, even though they aren't direct scalings of each other. We can only do this approximately, but:</p>
<!-- START CODE "c4584" -->
<a id="c4584"></a><blockquote class="code"><p class="quoted">
1 mile specifies a length equivalent to 1609m.
</p></blockquote>
<!-- END CODE -->
<p>Equivalent notations are never normally used in printing values back (but see the next section) - we wouldn't want Inform to print a sequence of values such as &quot;1.6km&quot;, &quot;1.65km&quot;, &quot;1.056 miles&quot;, ... in an effort to be helpful.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s9" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s9" class="standardlink">Back to §15.9. Multiple notations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s11" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s11" class="standardlink">Onward to §15.11. Named notations</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s11"></a>§15.11. Named notations</p>
<p>When it has a variety of notations to choose from, Inform will normally use the neatest one given the size of the value it is printing. Suppose we've set up &quot;weight&quot;, with three notations:</p>
<!-- START CODE "c4585" -->
<a id="c4585"></a><blockquote class="code"><p class="quoted">
A weight is a kind of value. 10kg specifies a weight.
<br />1 tonne (singular) specifies a weight scaled up by 1000.
<br />2 tonnes (plural) specifies a weight scaled up by 1000.
</p></blockquote>
<!-- END CODE -->
<p>Inform will then print back values like so:</p>
<!-- START CODE "c4586" -->
<a id="c4586"></a><blockquote class="code"><p class="quoted">
45kg -&gt; &quot;45kg&quot;
<br />1000kg -&gt; &quot;1 tonne&quot;
<br />2500kg -&gt; &quot;2.5 tonnes&quot;
<br />80000kg -&gt; &quot;80 tonnes&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note the way Inform goes into decimal places in order to talk about 2500kg in terms of tonnes rather than kilograms - it is minimising the integer part of the unit, but trying to keep it non-zero. So Inform prefers &quot;45kg&quot; to &quot;0.045 tonnes&quot;.</p>
<p>Although Inform's habit of choosing the best notation available is usually just what we want, we sometimes want to make the choice ourselves. For instance, if we were printing out a table of different weights, we might want to give all of them in kilograms, whatever their size. In that case we can, if we want, give names to our different notations:</p>
<!-- START CODE "c4587" -->
<a id="c4587"></a><blockquote class="code"><p class="quoted">
1 tonne (singular, in tonnes) specifies a weight scaled up by 1000.
<br />2 tonnes (plural, in tonnes) specifies a weight scaled up by 1000.
</p></blockquote>
<!-- END CODE -->
<p>Now we could write, for instance:</p>
<!-- START CODE "c4588" -->
<a id="c4588"></a><blockquote class="code"><p class="quoted">
&quot;The weighbridge warns you not to exceed [the maximum load in tonnes].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And the figure will always use tonnes now, even if Inform would normally think it odd: &quot;The weighbridge warns you not to exceed 0.001 tonnes.&quot; But it will still correctly use &quot;tonne&quot; or &quot;tonnes&quot; as appropriate - what has changed is that instead of choosing from all of the weight notations, Inform now chooses from the notations labelled as &quot;in tonnes&quot;.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s10" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s10" class="standardlink">Back to §15.10. Scaling and equivalents</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s12" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s12" class="standardlink">Onward to §15.12. Making the verb "to weigh"</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s12"></a>§15.12. Making the verb "to weigh"</p>
<p>So now we can invent notations for weight. We could, for instance, write:</p>
<!-- START CODE "c4589" -->
<a id="c4589"></a><blockquote class="code"><p class="quoted">
Weight is a kind of value. 1kg specifies a weight. Every thing has a weight.
</p></blockquote>
<!-- END CODE -->
<p>And that allows us to write:</p>
<!-- START CODE "c4590" -->
<a id="c4590"></a><blockquote class="code"><p class="quoted">
The lead pig is in the Salt Mine. The weight of the lead pig is 45kg.
</p></blockquote>
<!-- END CODE -->
<p>But nobody would say it that way: they'd say &quot;The lead pig weighs 45kg.&quot; So what we really need to complete our setup is a verb &quot;to weigh&quot;.</p>
<p>We have already created new verbs, but none of those methods are quite convenient for this. We want to relate something tangible (the lead pig) to something intangible (45kg), and there's no convenient relation to express this; if we set it up as a condition, we'd get something we couldn't assert, only test. Instead, we'll do something different this time:</p>
<!-- START CODE "c4591" -->
<a id="c4591"></a><blockquote class="code"><p class="quoted">
The verb to weigh means the weight property.
</p></blockquote>
<!-- END CODE -->
<p>Previous definitions like this ended &quot;means the ... relation&quot;, rather than &quot;means the ... property&quot;, but the idea is the same. The meaning of &quot;X weighs Y&quot; is that the weight property of X is equal to Y. So we can now write:</p>
<!-- START CODE "c4592" -->
<a id="c4592"></a><blockquote class="code"><p class="quoted">
A thing usually weighs 1kg. The lead pig weighs 45kg.
<br />something weighing 20kg
<br />if three things weigh 5kg, ...
</p></blockquote>
<!-- END CODE -->
<p>And as we saw in the chapter on Descriptions, we can also set up adjectives, comparatives and superlatives:</p>
<!-- START CODE "c4593" -->
<a id="c4593"></a><blockquote class="code"><p class="quoted">
Definition: A thing is heavy if its weight is 20kg or more.
</p></blockquote>
<!-- END CODE -->
<p>which creates &quot;heavy&quot;, &quot;heavier&quot; and &quot;heaviest&quot;.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s11" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s11" class="standardlink">Back to §15.11. Named notations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s13" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s13" class="standardlink">Onward to §15.13. The Metric Units extension</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e431" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e431" class="standardlink">Example 258: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Dimensions</b>&#160;&#160;&#160; This example draws together the previous snippets into a working implementation of the weighbridge.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e365" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e365" class="standardlink">Example 259: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lead Cuts Paper</b>&#160;&#160;&#160; To give every container a breaking strain, that is, a maximum weight of contents which it can bear - so that to put the lead pig into a paper bag invites disaster.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s13"></a>§15.13. The Metric Units extension</p>
<p>To sum all of this up, what started out as a simple business of setting a notation for lengths becomes something quite elaborate when we try to match the actual notations used by scientists and engineers. It's all optional, of course, but as we want more and more of this, we might find ourselves with a spread of notations like this:</p>
<!-- START CODE "c4594" -->
<a id="c4594"></a><blockquote class="code"><p class="quoted">
1mm ... 1cm ... 1m ... 1km
</p></blockquote>
<!-- END CODE -->
<p>In addition we might want equivalents for the inch, the yard and the mile; and verbal forms like the meter and the millimeter, and then alternate spellings like the kilometre; and then both singular and plural forms. And that's just length - what about density, area, pressure, velocity and a dozen other physical quantities? After a while these declarations start to look as vastly fussy as a box of presentation cutlery.</p>
<p>Fortunately the whole set is indeed available in a presentation box, and at no extra charge.</p>
<p>(a) The built-in extension &quot;Metric Units by Graham Nelson&quot; sets up a whole range of scientific units, with all the notations we are likely to want. Real numbers are used throughout, so large and small-scale calculations can be carried out quite accurately. Like the other built-in extensions, it has its own documentation and examples.</p>
<p>(b) The built-in extension &quot;Approximate Metric Units by Graham Nelson&quot; does the same but using whole numbers, scaled about right for human situations. This won't be much use for extensive calculations, and won't be as accurate, but it will work reasonably well if real arithmetic isn't available.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s12" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s12" class="standardlink">Back to §15.12. Making the verb "to weigh"</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s14" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s14" class="standardlink">Onward to §15.14. Notations including more than one number</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s14"></a>§15.14. Notations including more than one number</p>
<p>We've seen quite enough scientific notation for the time being. There are plenty of other notations used in natural language, for everyday concepts, where people don't use a tidy spread of powers of 10. Instead they use mixtures, with some sort of punctuation or text to divide them. For instance, the running time of a piece of music is easier to follow in minutes and seconds than in seconds alone: old-fashioned LP sleeves used to quote running times in the form 4'33.</p>
<!-- START CODE "c4595" -->
<a id="c4595"></a><blockquote class="code"><p class="quoted">
A running time is a kind of value. 3'59 specifies a running time.
</p></blockquote>
<!-- END CODE -->
<p>The choice of &quot;3&quot; here makes no difference, much as the choice of &quot;10&quot; in the weight examples was arbitrary. But the &quot;59&quot; is significant. Numbers after the first one are expected to range from 0 up to the value we quote - so in this case, the number of seconds can be anything from 0 to 59. Or, for instance:</p>
<!-- START CODE "c4596" -->
<a id="c4596"></a><blockquote class="code"><p class="quoted">
A height is a kind of value. 5 foot 11 specifies a height.
</p></blockquote>
<!-- END CODE -->
<p>A specification can contain up to eight numbers like this, but once again we might need to worry about the maximum value which can be stored. For instance, using the 3'59 notation, we can only go up to 546'07 (if we're using the Z-machine format setting) - a little over 9 hours, so the new Tori Amos album will not be a problem, but some of the more punishing German operas might break the bank.</p>
<p>In notations like this, only the first-appearing number part is allowed to be negative, and then only when declared with a minus sign:</p>
<!-- START CODE "c4597" -->
<a id="c4597"></a><blockquote class="code"><p class="quoted">
A secret sign is a kind of value. -2x17 specifies a secret sign with parts mystery and enigma.
</p></blockquote>
<!-- END CODE -->
<p>Here, the mystery can be negative, but not the enigma.</p>
<p>Notations must not contain double-quotation marks because, even though people did once use these to denote minutes of arc, they would simply confuse programs like Inform's user interface which have to keep track of what is quoted text and what is not. But other punctuation marks are fine <span class="italic">provided they occur between two digits</span>. For instance, in</p>
<!-- START CODE "c4598" -->
<a id="c4598"></a><blockquote class="code"><p class="quoted">
A monetary value is a kind of value. $1.99 specifies a monetary value.
</p></blockquote>
<!-- END CODE -->
<p>the full stop between the 1 and the 99 is not interpreted as a division of two sentences; and similarly for colons in examples such as</p>
<!-- START CODE "c4599" -->
<a id="c4599"></a><blockquote class="code"><p class="quoted">
An aspect ratio is a kind of value. 16:9 specifies an aspect ratio.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s13" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s13" class="standardlink">Back to §15.13. The Metric Units extension</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s15" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s15" class="standardlink">Onward to §15.15. The parts of a number specification</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s15"></a>§15.15. The parts of a number specification</p>
<p>We often need to break up a number specification into its pieces. For instance, suppose we want to know the dollars part of $1.99? We can do this by naming the parts:</p>
<!-- START CODE "c4600" -->
<a id="c4600"></a><blockquote class="code"><p class="quoted">
A monetary value is a kind of value. $1.99 specifies a monetary value with parts dollars and cents.
</p></blockquote>
<!-- END CODE -->
<p>We can now find the relevant parts like so. Suppose that &quot;sum&quot; is a monetary value. Then:</p>
<!-- START CODE "c4601" -->
<a id="c4601"></a><blockquote class="code"><p class="quoted">
dollars part of sum
<br />cents part of sum
</p></blockquote>
<!-- END CODE -->
<p>are both numbers, so for instance we can</p>
<!-- START CODE "c4602" -->
<a id="c4602"></a><blockquote class="code"><p class="quoted">
say &quot;Looks like around [dollars part of sum in words] dollar[s].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We can also go the other way:</p>
<!-- START CODE "c4603" -->
<a id="c4603"></a><blockquote class="code"><p class="quoted">
monetary value with dollars part 4 cents part 72
</p></blockquote>
<!-- END CODE -->
<p>produces the monetary value $4.72. (Note the lack of commas or &quot;and&quot;s, and that the parts have to be given in the right order.) This is really intended to be useful when we manipulate such values in unusual ways:</p>
<!-- START CODE "c4604" -->
<a id="c4604"></a><blockquote class="code"><p class="quoted">
An aspect ratio is a kind of value. 16:20 specifies an aspect ratio with parts width and height.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4605" -->
<a id="c4605"></a><blockquote class="code"><p class="quoted">
To decide which aspect ratio is the wider version of (AR - an aspect ratio):
<br />&#160;&#160;&#160;&#160;let W be the width part of AR multiplied by 2;
<br />&#160;&#160;&#160;&#160;let H be the height part of AR;
<br />&#160;&#160;&#160;&#160;let the wider ratio be the aspect ratio with width part W height part H;
<br />&#160;&#160;&#160;&#160;decide on the wider ratio.
</p></blockquote>
<!-- END CODE -->
<p>Declaring the parts of a number specification individually also enables us to tack one or more options onto any of the parts:</p>
<!-- START CODE "c4606" -->
<a id="c4606"></a><blockquote class="code"><p class="quoted">
A monetary value is a kind of value. $1.99 specifies a monetary value with parts dollars and cents (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<p>This declares that the &quot;cents&quot; part is optional - it will be 0 if not specified - and that if omitted, the non-numeric &quot;preamble&quot; before it should also be omitted. Thus &quot;$3&quot; is now valid and equivalent to &quot;$3.00&quot;: indeed it will be the preferred form when Inform prints out a monetary value which is an exact number of dollars. If we had said that &quot;cents&quot; was optional, but not said that the preamble was optional, then &quot;$3.&quot; would have been the form - which is less satisfactory.</p>
<p>There is only one other option: &quot;without leading zeros&quot;, as in the following.</p>
<!-- START CODE "c4607" -->
<a id="c4607"></a><blockquote class="code"><p class="quoted">
An aspect ratio is a kind of value. 16:20 specifies an aspect ratio with parts width and height (without leading zeros).
</p></blockquote>
<!-- END CODE -->
<p>This ensures that when the ratio 4:3 is printed, it will be printed as &quot;4:3&quot; and not &quot;4:03&quot; as would otherwise happen.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s14" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s14" class="standardlink">Back to §15.14. Notations including more than one number</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s16" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s16" class="standardlink">Onward to §15.16. Understanding specified numbers</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e454" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e454" class="standardlink">Example 260: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Zqlran Era 8</b>&#160;&#160;&#160; Creating an alternative system of time for our game, using new units.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s16"></a>§15.16. Understanding specified numbers</p>
<p>It may be worth noting in passing that number specifications, like all other kinds of value, can be understood in typed commands. (See the chapter on Understanding for more on what can go in such square brackets.) For instance:</p>
<!-- START CODE "c4608" -->
<a id="c4608"></a><blockquote class="code"><p class="quoted">
&quot;America Stands Tall&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4609" -->
<a id="c4609"></a><blockquote class="code"><p class="quoted">
The Oval Office is a room. Josh and Toby are men in the Oval. A height is a kind of value. 5 foot 11 specifies a height. A person has a height. Josh is 5 foot 8. Toby is 5 foot 10.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4610" -->
<a id="c4610"></a><blockquote class="code"><p class="quoted">
Height guessing is an action applying to one thing and one height. Understand &quot;guess [someone] is [height]&quot; as height guessing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4611" -->
<a id="c4611"></a><blockquote class="code"><p class="quoted">
Check height guessing: if the noun is not a person, say &quot;You can only guess the height of people.&quot; instead. Carry out height guessing: if the height of the noun is the height understood, say &quot;Spot on!&quot;; if the height of the noun is greater than the height understood, say &quot;No, [the noun] is taller than that.&quot;; if the height of the noun is less than the height understood, say &quot;No, [the noun] is shorter than that.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4612" -->
<a id="c4612"></a><blockquote class="code"><p class="quoted">
Test me with &quot;guess josh is 6 foot 3 / guess josh is 5 foot 9 / guess josh is 5 foot 3 / guess josh is 5 foot 8&quot;.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s15" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s15" class="standardlink">Back to §15.15. The parts of a number specification</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s17" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s17" class="standardlink">Onward to §15.17. Totals</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e368" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e368" class="standardlink">Example 261: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Snip</b>&#160;&#160;&#160; A string which can be cut into arbitrary lengths, and then tied back together.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s17"></a>§15.17. Totals</p>
<p>This chapter began by mentioning arithmetic, and then went on a long diversion to create scientific units, everyday weights and measures, and other notational conveniences. Putting all of that together, it's time now to calculate something with all of these numerical quantities.</p>
<p>Suppose we invent the idea of weight, and give everything a weight of its own. Most items will have a nominal weight of 1kg, but people will be heavier. Going on actuarial tables, we might say:</p>
<!-- START CODE "c4613" -->
<a id="c4613"></a><blockquote class="code"><p class="quoted">
A weight is a kind of value. 10kg specifies a weight. Everything has a weight. A thing usually has weight 1kg. A man usually has weight 80kg. A woman usually has weight 67kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4614" -->
<a id="c4614"></a><blockquote class="code"><p class="quoted">
Definition: A thing is light if its weight is 3kg or less.
<br />Definition: A thing is heavy if its weight is 10kg or more.
</p></blockquote>
<!-- END CODE -->
<p>and this provides us with &quot;lighter&quot;, &quot;lightest&quot;, &quot;heavier&quot; and &quot;heaviest&quot; as before. Now we could say &quot;if Peter is heavier than Paul&quot;, or even &quot;if Peter is heavier than 75kg&quot;, and so forth. We need one more tool:</p>
<!-- START PHRASE "defn218" -->
<div class="definition"><a id="defn218"></a><p class="defnprototype"><b>total </b>(arithmetic values valued property)<b> of </b>(description of values)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_total -->

<p>This phrase produces the total of some property held by all of the values matching the description. A problem message is produced if the values in question can't have that property (&quot;the total carrying capacity of scenes&quot;), or if it holds a kind of value which can't meaningfully be added up (&quot;the total description of open doors&quot;). Example:</p>
<!-- START CODE "c4615" -->
<a id="c4615"></a><blockquote class="code"><p class="quoted">
total carrying capacity of people in the Deep Pool
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>That gives us everything we need for a working balance platform:</p>
<!-- START CODE "c4616" -->
<a id="c4616"></a><blockquote class="code"><p class="quoted">
The balance platform is a supporter in the Weighbridge. &quot;The balance platform is currently weighing [the list of things on the platform]. The scale alongside reads: [total weight of things on the platform].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that this only works because we said that &quot;everything has a weight&quot;: otherwise it would make no sense to add up the weights of things.</p>
<p>This enables us to get the average weight of a group of things, too:</p>
<!-- START CODE "c4617" -->
<a id="c4617"></a><blockquote class="code"><p class="quoted">
the total weight of things on the platform divided by the number of things on the platform
</p></blockquote>
<!-- END CODE -->
<p>But we should be careful that this does not accidentally divide by zero, which it will if the platform has nothing on it! As well as the average, we could find the maximum and minimum weights:</p>
<!-- START CODE "c4618" -->
<a id="c4618"></a><blockquote class="code"><p class="quoted">
the weight of the heaviest thing on the platform
<br />the weight of the lightest thing on the platform
</p></blockquote>
<!-- END CODE -->
<p>We should remember that &quot;the heaviest thing on the platform&quot; may be ambiguous, because there may be several equally heavy things there. That means</p>
<!-- START CODE "c4619" -->
<a id="c4619"></a><blockquote class="code"><p class="quoted">
if the lead pig is the heaviest thing on the platform
</p></blockquote>
<!-- END CODE -->
<p>will only reliably work if there is no possibility of a tie. A safer bet is:</p>
<!-- START CODE "c4620" -->
<a id="c4620"></a><blockquote class="code"><p class="quoted">
if the lead pig is the weight of the heaviest thing on the platform
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s16" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s16" class="standardlink">Back to §15.16. Understanding specified numbers</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s18" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s18" class="standardlink">Onward to §15.18. Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e382" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e382" class="standardlink">Example 262: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Nickel and Dimed</b>&#160;&#160;&#160; A more intricate system of money, this time keeping track of the individual denominations of coins and bills, specifying what gets spent at each transaction, and calculating appropriate change.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s18"></a>§15.18. Equations</p>
<p>Forming totals is all very interesting in its way, but it's book-keeping rather than physics. As a glance at any school science textbook shows, the way to apply physics is to work out an unknown quantity - say, the time taken for a dropped ball to hit the ground - by combining known quantities into an equation - the height it is dropped from, and the strength of gravity.</p>
<p>It's a convention centuries old now that textbooks and research papers never describe these equations in running text. Even for simple formulae, we like to write &quot;F=ma&quot;, not &quot;let the force be the mass times the acceleration&quot;. And the standard way to print this is to break off and display an equation, not to squeeze it into the text as if it were ordinary verbiage. Just as Inform's Tables imitate those in printed books (see the next chapter), so its Equations do.</p>
<p>In this section, we'll use a combination of three equations to work out how soon and how hard an object pushed off a table will hit the floor. First, we'll include Metric Units, to define all of the kinds of value and notations we need.</p>
<!-- START CODE "c4621" -->
<a id="c4621"></a><blockquote class="code"><p class="quoted">
Include Metric Units by Graham Nelson.
</p></blockquote>
<!-- END CODE -->
<p>Now we'll give everything a mass (Metric Units likes to talk about mass instead of weight, but on Earth it's the same thing) and also set up a typical strength for gravity - it's a little less at the poles, a little more at the equator, but this is the conventional approximate value to use.</p>
<!-- START CODE "c4622" -->
<a id="c4622"></a><blockquote class="code"><p class="quoted">
The acceleration due to gravity is an acceleration that varies. The acceleration due to gravity is usually 9.807 m/ss. A thing has a mass. The mass of a thing is usually 10g.
</p></blockquote>
<!-- END CODE -->
<p>To a Renaissance scientist, typically living in a walled European town, a cannon ball was a familiar thing, and it often featured in imaginary experiments:</p>
<!-- START CODE "c4623" -->
<a id="c4623"></a><blockquote class="code"><p class="quoted">
Laboratory is a room. The cannon ball is in the Laboratory. &quot;A cannon ball perches delicately on a lab bench.&quot; The mass of the cannon ball is 2kg.
</p></blockquote>
<!-- END CODE -->
<p>And now we're ready for the three equations. These will all have names, but we could just as easily have numbered them, calling them (say) &quot;Equation 1&quot;, &quot;Equation 2&quot; and &quot;Equation 3&quot;.</p>
<!-- START CODE "c4624" -->
<a id="c4624"></a><blockquote class="code"><p class="quoted">
Equation - Newton's Second Law
<br />&#160;&#160;&#160;&#160;F=ma
<br />where F is a force, m is a mass, a is an acceleration.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4625" -->
<a id="c4625"></a><blockquote class="code"><p class="quoted">
Equation - Principle of Conservation of Energy
<br />&#160;&#160;&#160;&#160;mgh = mv^2/2
<br />where m is a mass, h is a length, v is a velocity, and g is the acceleration due to gravity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4626" -->
<a id="c4626"></a><blockquote class="code"><p class="quoted">
Equation - Galilean Equation for a Falling Body
<br />&#160;&#160;&#160;&#160;v = gt
<br />where g is the acceleration due to gravity, v is a velocity, and t is an elapsed time.
</p></blockquote>
<!-- END CODE -->
<p>An equation has to take the form of one formula equals another, where each formula is made up from symbols defined afterwards. The symbols can be defined as definite values (as &quot;g&quot; is defined in the Galilean Equation), or just by telling Inform their kinds of value (as &quot;v&quot; and &quot;t&quot; are defined).</p>
<p>Equations are read using standard mathematical conventions. So &quot;x + yz&quot; means that we multiply y and z, then add that to x; &quot;ab/cd&quot; divides the product of a and b by the product of c and d. Multiplication signs can be omitted, just as science books normally do (though we can always write them if we want to, using the asterisk *, as usual in computing). The need for brackets is minimised, with any luck, but we can use them if we need to: &quot;x(y+ab)&quot; is legal, for instance.</p>
<p>One difference between Inform's conventions and mathematical ones, though, is that Inform generally ignores upper-versus-lower-case when reading variable names, so it wouldn't be a good idea to write &quot;F = gMm/r^2&quot; and expect &quot;M&quot; and &quot;m&quot; to be different from each other.</p>
<p>Here is the calculation:</p>
<!-- START CODE "c4627" -->
<a id="c4627"></a><blockquote class="code"><p class="quoted">
Instead of pushing the cannon ball:
<br />&#160;&#160;&#160;&#160;let the falling body be the cannon ball;
<br />&#160;&#160;&#160;&#160;let m be the mass of the falling body;
<br />&#160;&#160;&#160;&#160;let h be 1.2m;
<br />&#160;&#160;&#160;&#160;let F be given by Newton's Second Law where a is the acceleration due to gravity;
<br />&#160;&#160;&#160;&#160;let v be given by the Principle of Conservation of Energy;
<br />&#160;&#160;&#160;&#160;let t be given by the Galilean Equation for a Falling Body;
<br />&#160;&#160;&#160;&#160;say &quot;You push [the falling body] off the bench, at a height of [h], and, subject to a downward force of [F], it falls. [t to the nearest 0.01s] later, this mass of [m] hits the floor at [v].&quot;;
<br />&#160;&#160;&#160;&#160;now the falling body is in the location.
</p></blockquote>
<!-- END CODE -->
<p>And the result is:</p>
<!-- START CODE "c4628" -->
<a id="c4628"></a><blockquote class="code"><p class="quoted">
You push the cannon ball off the bench, at a height of 1.2m, and, subject to a downward force of 19.614N, it falls. 0.49s later, this mass of 2.0kg hits the floor at 4.85147 m/s.
</p></blockquote>
<!-- END CODE -->
<p>Not all that fast-moving - it's only about 10 mph, ten times slower than one fired by a Renaissance cannon - but half a second wouldn't give you long to get your foot out of the way.</p>
<p>How was that done? The crucial lines are the ones in the form &quot;let X be given by E...&quot;, which is a new form of &quot;let&quot;.</p>
<!-- START PHRASE "defn219" -->
<div class="definition"><a id="defn219"></a><p class="defnprototype"><b>let </b>(a name not so far used)<b> be given by </b>(equation name)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>let </b>(a temporary named value)<b> be given by </b>(equation name)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_letequation -->

<p>This phrase creates a new temporary variable, starting it with the value found by solving the given equation. The variable lasts only for the present block of phrases, which certainly means that it lasts only for the current rule. Example:</p>
<!-- START CODE "c4629" -->
<a id="c4629"></a><blockquote class="code"><p class="quoted">
let F be given by Newton's Second Law where a is the acceleration due to gravity;
</p></blockquote>
<!-- END CODE -->
<p>There is also a more compact syntax, giving the equation explicitly:</p>
<!-- START CODE "c4630" -->
<a id="c4630"></a><blockquote class="code"><p class="quoted">
let KE be given by KE = mv^2/2 where KE is an energy;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>When we solve with &quot;let&quot;, then, all of the other symbols should either already have values (because they exist as &quot;let&quot; values already made) or else be specified in the line. For instance,</p>
<!-- START CODE "c4631" -->
<a id="c4631"></a><blockquote class="code"><p class="quoted">
let F be given by Newton's Second Law where a is the acceleration due to gravity;
</p></blockquote>
<!-- END CODE -->
<p>is allowed because &quot;F&quot; is one of the symbols in &quot;F = ma&quot;; of the other two symbols, we have a &quot;let&quot; variable called &quot;m&quot; already - it's the mass of the cannon ball - and we declare exactly what &quot;a&quot; is.</p>
<p>The next calculation is more interesting:</p>
<!-- START CODE "c4632" -->
<a id="c4632"></a><blockquote class="code"><p class="quoted">
let v be given by the Principle of Conservation of Energy;
</p></blockquote>
<!-- END CODE -->
<p>Since the equation here is &quot;mgh = mv^2/2&quot;, Inform has to do some algebra to work out &quot;v&quot; in terms of the other unknowns - it's the square root of 2gh, but we don't need to work that out. Inform can't always solve implicit equations - for instance, it can't deduce &quot;m&quot; from this equation - but it's correct on all the easy cases which occur in basic physics, and that enables us to write equations in their most natural form, which is easier to read and understand.</p>
<p>The advantage of setting out an equation formally is that it can be used in many places - we could use Newton's Second Law again for something quite different, for example. But it's a little cumbersome for something simple which we only need once, so this is neater:</p>
<!-- START CODE "c4633" -->
<a id="c4633"></a><blockquote class="code"><p class="quoted">
let KE be given by KE = mv^2/2 where KE is an energy;
</p></blockquote>
<!-- END CODE -->
<p>Here the equation is written out explicitly instead of being named, but otherwise everything works in the same way.</p>
<p>Equations can also contain many of our standard functions, which are written for this purpose with their standard mathematical abbreviations. For example:</p>
<!-- START CODE "c4634" -->
<a id="c4634"></a><blockquote class="code"><p class="quoted">
let x be given by sin x = 1 where x is a real number;
</p></blockquote>
<!-- END CODE -->
<p>works out x as pi divided by 4, which is to say, 90 degrees. The Phrasebook entries on the mathematical functions give their abbreviations, but here they all are as a list:</p>
<!-- START CODE "c4635" -->
<a id="c4635"></a><blockquote class="code"><p class="quoted">
abs, root, ceiling, floor, int, log, exp, sin, cos, tan, arcsin, arccos, arctan, sinh, cosh, tanh, arcsinh, arccosh, arctanh
</p></blockquote>
<!-- END CODE -->
<p>As an example, here's the definition of arcsinh given in the Standard Rules:</p>
<!-- START CODE "c4636" -->
<a id="c4636"></a><blockquote class="code"><p class="quoted">
To decide which real number is the hyperbolic arcsine of (R - a real number):
<br />&#160;&#160;&#160;&#160;let x be given by x = log(R + root(R^2 + 1)) where x is a real number;
<br />&#160;&#160;&#160;&#160;decide on x.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s17" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s17" class="standardlink">Back to §15.17. Totals</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s19" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s19" class="standardlink">Onward to §15.19. Arithmetic with units</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e437" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e437" class="standardlink">Example 263: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Widget Enterprises</b>&#160;&#160;&#160; Allowing the player to set a price for a widget on sale, then determining the resulting sales based on consumer demand, and the resulting profit and loss.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s19"></a>§15.19. Arithmetic with units</p>
<p>The example equations in the previous section carried out quite a lot of arithmetic, but they may have given the impression that Inform always allows arithmetic - which is not true.</p>
<p>This is actually a good thing, because it keeps us from error. For instance, Inform will not allow:</p>
<!-- START CODE "c4637" -->
<a id="c4637"></a><blockquote class="code"><p class="quoted">
Equation - Newton's Totally Bogus Law
<br />&#160;&#160;&#160;&#160;F = m^2
<br />where F is a force, m is a mass.
</p></blockquote>
<!-- END CODE -->
<p>because whatever you get when you square a mass, you don't get a force - in the same way that a length times another length makes an area, not another length. Physicists call this &quot;dimensional analysis&quot;, and it often provides clues about which equations are right. Just after the Second World War, someone correctly worked out the explosive power of an atomic bomb without any classified information simply by guessing what values would appear in the formula, and then finding the simplest equation they could appear in.</p>
<p>In general, Inform will not allow numerical kinds of value to be multiplied or divided by each other (or square or cube rooted) unless we give it instructions that this would make sense.</p>
<p>Of course, there's plenty we can still do without any need for such instructions. For instance, going back to weight,</p>
<!-- START CODE "c4638" -->
<a id="c4638"></a><blockquote class="code"><p class="quoted">
The Weighbridge is a room. &quot;A sign declares that the maximum load is [100kg multiplied by 3].&quot;
</p></blockquote>
<!-- END CODE -->
<p>...will produce the text &quot;A sign declares that the maximum load is 300kg.&quot; Here Inform knows that it makes sense to multiply a weight by 3, and that the result will be a weight. Similarly, Inform allows us to add and subtract weights, and several different forms of division are allowed:</p>
<!-- START CODE "c4639" -->
<a id="c4639"></a><blockquote class="code"><p class="quoted">
The blackboard is in the Weighbridge. &quot;A blackboard propped against one wall reads: '122 / 10 is [122 divided by 10] remainder [remainder after dividing 122 by 10]; but 122kg / 10kg is [122kg divided by 10kg] remainder [remainder after dividing 122kg by 10kg]; and 122kg / 10 is [122kg divided by 10] remainder [remainder after dividing 122kg by 10].'&quot;
</p></blockquote>
<!-- END CODE -->
<p>When we visit the Weighbridge, we find:</p>
<!-- START CODE "c4640" -->
<a id="c4640"></a><blockquote class="code"><p class="quoted">
A blackboard propped against one wall reads: &quot;122 / 10 is 12 remainder 2; but 122kg / 10kg is 12 remainder 2kg; and 122kg / 10 is 12kg remainder 2kg.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Whereas we are not allowed to divide 122 by 10kg: that would make no sense, since 122 is a number and not made up of kilograms. Inform will produce a problem message if we try. Similarly, Inform won't normally allow us to multiply two weights together - but see the next section.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s18" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s18" class="standardlink">Back to §15.18. Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s20" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_15.html#s20" class="standardlink">Onward to §15.20. Multiplication of units</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e67" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e67" class="standardlink">Example 264: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Frozen Assets</b>&#160;&#160;&#160; A treatment of money which keeps track of how much the player has on him, and a BUY command which lets him go shopping.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e20" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e20" class="standardlink">Example 265: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Money for Nothing</b>&#160;&#160;&#160; An OFFER price FOR command, allowing the player to bargain with a flexible seller.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e223" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e223" class="standardlink">Example 266: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Lemonade</b>&#160;&#160;&#160; Containers for liquid which keep track of how much liquid they are holding and of what kind, and allow quantities to be moved from one container to another.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e339" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e339" class="standardlink">Example 267: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Savannah</b>&#160;&#160;&#160; Using the liquid implementation demonstrated in Lemonade for putting out fires.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s20"></a>§15.20. Multiplication of units</p>
<p>To recap, then, it is forbidden to multiply 122kg and 10kg, not because it could never make sense (a scientist might occasionally multiply two weights) but because the result is - what? Not a number, and not a weight any more. But we are allowed to tell Inform what the result ought to be, and once we have done so, the multiplication will be allowed:</p>
<!-- START CODE "c4641" -->
<a id="c4641"></a><blockquote class="code"><p class="quoted">
A length is a kind of value. 10m specifies a length. An area is a kind of value. 10 sq m specifies an area.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4642" -->
<a id="c4642"></a><blockquote class="code"><p class="quoted">
A length times a length specifies an area.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4643" -->
<a id="c4643"></a><blockquote class="code"><p class="quoted">
The balance platform is in the Weighbridge. &quot;The balance platform is 10m by 8m, giving it an area of [10m multiplied by 8m].&quot;
</p></blockquote>
<!-- END CODE -->
<p>which will turn up as:</p>
<!-- START CODE "c4644" -->
<a id="c4644"></a><blockquote class="code"><p class="quoted">
The balance platform is 10m by 8m, giving it an area of 80 sq m.
</p></blockquote>
<!-- END CODE -->
<p>And having told Inform that lengths multiply to area, we could also divide an area by a length to get a length: no further instructions would be needed.</p>
<p>The built-in &quot;Metric Units&quot; extension includes all of the standard ways that physical quantities are multiplied, and a good way to see these is to try out one of the Metric Units examples and look at the Kinds index, which includes a table showing how all of this works.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#s19" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_15.html#s19" class="standardlink">Back to §15.19. Arithmetic with units</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_16.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_16.html#s1" class="standardlink">Onward to Chapter 16: Tables: §16.1. Laying out tables</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e317" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e317" class="standardlink">Example 268: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Depth</b>&#160;&#160;&#160; Receptacles that calculate internal volume and the amount of room available, and  cannot be overfilled.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e134" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e134" class="standardlink">Example 269: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Fabrication</b>&#160;&#160;&#160; A system of assembling clothing from a pattern and materials; both the pattern and the different fabrics have associated prices.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15.html#e355" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_15.html#e355" class="standardlink">Example 270: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>The Speed of Thought</b>&#160;&#160;&#160; Describing scientifically-measured objects in units more familiar to the casual audience.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 15: Numbers and Equations</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_15.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_15.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_16.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_16.html" class="standardlink">Chapter 16: Tables</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "253: Alias" "e4" -->
<a id="e4"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e4" class="eglink"><b>253</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e4" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Alias</span></b></a><br />A telephone with phone numbers of the standard American seven-digit length.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e4"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example4">
<p>Seven-digit telephone numbers are too long for Inform to handle when compiling to the Z-Machine, but they will work under Glulx. To have this example succeed, make sure that you have selected the Glulx option in your settings menu.</p>
<!-- START CODE "c4645_4" -->
<a id="c4645_4"></a><blockquote class="code"><p class="quoted">
&quot;Alias&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4646_4" -->
<a id="c4646_4"></a><blockquote class="code"><p class="quoted">
A telephone is a kind of thing. Understand &quot;phone&quot; or &quot;telephone&quot; as a telephone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4647_4" -->
<a id="c4647_4"></a><blockquote class="code"><p class="quoted">
A phone number is a kind of value. 999-9999 specifies a phone number.
</p></blockquote>
<!-- END CODE -->
<p>Now we borrow some techniques from the Understanding chapter to set up dialing actions:</p>
<!-- START CODE "c4648_4" -->
<a id="c4648_4"></a><blockquote class="code"><p class="quoted">
Understand &quot;dial [phone number] on [telephone]&quot; as dialing it on. Understand &quot;dial [phone number] on [something]&quot; as dialing it on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4649_4" -->
<a id="c4649_4"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;phone&quot; or &quot;telephone&quot; or &quot;call&quot; as &quot;dial&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4650_4" -->
<a id="c4650_4"></a><blockquote class="code"><p class="quoted">
Understand &quot;call [text]&quot; or &quot;phone [text]&quot; or &quot;dial [text]&quot; or &quot;telephone [text]&quot; as a mistake (&quot;That's not a number you know.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4651_4" -->
<a id="c4651_4"></a><blockquote class="code"><p class="quoted">
Dialing it on is an action applying to one phone number and one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4652_4" -->
<a id="c4652_4"></a><blockquote class="code"><p class="quoted">
Report dialing it on:
<br />&#160;&#160;&#160;&#160;say &quot;You dial [the phone number understood].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This much is enough to let us dial telephone numbers and have Inform report that we've done so; it doesn't actually provide a telephone system such that we could reach and converse with other characters (but see the other telephone examples in the recipe book for more on how one might do that).</p>
<p>We'll set up a little political espionage scenario from which our player can make calls:</p>
<!-- START CODE "c4653_4" -->
<a id="c4653_4"></a><blockquote class="code"><p class="quoted">
The Senator's Junior Suite is a room. &quot;The Senator appears, unfortunately, to have very precise habits: little in the room has been moved from its usual place; the trash can is empty; the bed has been remade[if the blue paper is unexamined]. There may in fact be nothing to find here[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4654_4" -->
<a id="c4654_4"></a><blockquote class="code"><p class="quoted">
The bed is an enterable scenery supporter in the Junior Suite.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4655_4" -->
<a id="c4655_4"></a><blockquote class="code"><p class="quoted">
The player is wearing a housekeeping uniform and a brunette wig. The player carries a telephone called a Nokia.
</p></blockquote>
<!-- END CODE -->
<p>Borrowing again from the chapter on Understanding, we might arrange things so that the player knows and can call a few standard numbers with such syntax as CALL HOME:</p>
<!-- START CODE "c4656_4" -->
<a id="c4656_4"></a><blockquote class="code"><p class="quoted">
Understand &quot;home&quot; as 555-9200.
</p></blockquote>
<!-- END CODE -->
<p>And what if we'd like to have the player learn some phone numbers during the game?</p>
<!-- START CODE "c4657_4" -->
<a id="c4657_4"></a><blockquote class="code"><p class="quoted">
A thing can be examined or unexamined. Carry out examining something: now the noun is examined.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4658_4" -->
<a id="c4658_4"></a><blockquote class="code"><p class="quoted">
Understand &quot;Stephen&quot; as 555-2513 when the blue paper is examined.
</p></blockquote>
<!-- END CODE -->
<p>This will understand CALL STEPHEN once the paper is examined; before that, the player will just get the &quot;That's not a number you know&quot; response that Inform uses for all attempts to call unknown names.</p>
<p>We'd better plant this paper for the player to find:</p>
<!-- START CODE "c4659_4" -->
<a id="c4659_4"></a><blockquote class="code"><p class="quoted">
The blue paper is in the drawer. The description of the blue paper is &quot;It reads: 'Call Stephen - 555-2513'.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4660_4" -->
<a id="c4660_4"></a><blockquote class="code"><p class="quoted">
The drawer is part of the dresser. It is closed and openable. The dresser is in The Senator's Junior Suite. The lamp is on the dresser. The description of the dresser is &quot;The single drawer is [if the drawer is open]open[otherwise]shut[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4661_4" -->
<a id="c4661_4"></a><blockquote class="code"><p class="quoted">
Test me with &quot;dial 555-9999 / call home on the telephone / phone the president / call stephen / open drawer / read paper / call stephen / put phone in drawer / close drawer / call stephen&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "254: rBGH" "e379" -->
<a id="e379"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e379" class="eglink"><b>254</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e379" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">rBGH</span></b></a><br />The player character's height is selected randomly at the start of play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_5.html#e379"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example379">
<p>As with ordinary numbers, we can choose random units when this is useful:</p>
<!-- START CODE "c4662_379" -->
<a id="c4662_379"></a><blockquote class="code"><p class="quoted">
&quot;rBGH&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4663_379" -->
<a id="c4663_379"></a><blockquote class="code"><p class="quoted">
The Pharmaceutical Testing Facility is a room. &quot;A [if the player is short]large [end if][if the player is tall]cramped [end if]white space with sterile counters and a[if the player is tall]n uncomfortable little[end if] stool. There is also a mirror, behind which someone must be watching you. But you can't see through to that.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4664_379" -->
<a id="c4664_379"></a><blockquote class="code"><p class="quoted">
A counter, a one-way mirror, and a stool are scenery in the Facility. The stool is an enterable supporter. The counter supports a plate.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4665_379" -->
<a id="c4665_379"></a><blockquote class="code"><p class="quoted">
Height is a kind of value. 5 feet 11 inches specifies a height. 5'11 specifies a height. A person has a height.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4666_379" -->
<a id="c4666_379"></a><blockquote class="code"><p class="quoted">
Definition: a person is tall if its height is 6 feet 0 inches or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4667_379" -->
<a id="c4667_379"></a><blockquote class="code"><p class="quoted">
Definition: a person is short if its height is 5 feet 4 inches or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4668_379" -->
<a id="c4668_379"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the height of the player is a random height between 5 feet 2 inches and 6 feet 4 inches;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[height of player]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4669_379" -->
<a id="c4669_379"></a><blockquote class="code"><p class="quoted">
Instead of examining the player:
<br />&#160;&#160;&#160;&#160;say &quot;You, Test Subject, are [height of the player] tall.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4670_379" -->
<a id="c4670_379"></a><blockquote class="code"><p class="quoted">
The growth pill is a kind of thing. A growth pill is always edible. The description is usually &quot;It is leaf-green and has a reassuring logo of a curling vine on the side. Nothing to worry about, nothing at all.&quot; Two growth pills are on the plate.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4671_379" -->
<a id="c4671_379"></a><blockquote class="code"><p class="quoted">
After eating the growth pill:
<br />&#160;&#160;&#160;&#160;increase the height of the player by 0 feet 6 inches;
<br />&#160;&#160;&#160;&#160;say &quot;Your spine does something frightening and painful, and you find yourself looking down on the room from a wholly new angle.&quot;;
<br />&#160;&#160;&#160;&#160;try looking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4672_379" -->
<a id="c4672_379"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine me / eat pill / examine me / eat pill / examine me&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "255: Lethal Concentration 1" "e166" -->
<a id="e166"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e166" class="eglink"><b>255</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e166" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lethal Concentration 1</span></b></a><br />A poisonous gas that spreads from room to room, incapacitating or killing the player when it reaches sufficient levels.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e166"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example166">
<!-- START CODE "c4673_166" -->
<a id="c4673_166"></a><blockquote class="code"><p class="quoted">
&quot;Lethal Concentration&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4674_166" -->
<a id="c4674_166"></a><blockquote class="code"><p class="quoted">
A concentration is a kind of value. 200.9ppm specifies concentration. 200.9 ppm specifies concentration.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4675_166" -->
<a id="c4675_166"></a><blockquote class="code"><p class="quoted">
A room has a concentration called current concentration. A room has a concentration called former concentration.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4676_166" -->
<a id="c4676_166"></a><blockquote class="code"><p class="quoted">
Probability inverse is a number that varies. [This is expressed as an inverse of the actual probability of diffusion from one room to another, to avoid error.] Probability inverse is 20. [That is, any given molecule of gas has a 5% chance of leaving by a given doorway at any given minute. Probability inverse should never drop below 10, the maximum number of exits from the room.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4677_166" -->
<a id="c4677_166"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;follow the diffusion rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4678_166" -->
<a id="c4678_166"></a><blockquote class="code"><p class="quoted">
The diffusion rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4679_166" -->
<a id="c4679_166"></a><blockquote class="code"><p class="quoted">
A diffusion rule (this is the gas movement rule):
<br />&#160;&#160;&#160;&#160;repeat with space running through rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let sum be 0.0 ppm;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let second space be the room way from the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if second space is a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be the former concentration of the second space minus the former concentration of the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase sum by the difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let sum be sum divided by probability inverse;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current concentration of the space is the former concentration of the space plus the sum.
</p></blockquote>
<!-- END CODE -->
<p>A technical note: it would be possible to write &quot;repeat with space running through rooms... repeat with second space running through rooms adjacent to the space&quot; instead, but in practice this loops through all the rooms * all the rooms again * all the directions (to determine adjacency). Phrasing the loop this way omits the second multiplier. For a map of 25 rooms, this means that the loop runs 25 times faster than it would otherwise, and of course for a larger map the effect would be even more dramatic.</p>
<!-- START CODE "c4680_166" -->
<a id="c4680_166"></a><blockquote class="code"><p class="quoted">
A diffusion rule (this is the resetting concentration rule):
<br />&#160;&#160;&#160;&#160;repeat with space running through rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the former concentration of the space is the current concentration of the space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4681_166" -->
<a id="c4681_166"></a><blockquote class="code"><p class="quoted">
The last diffusion rule (this is the lethal dosage rule):
<br />&#160;&#160;&#160;&#160;if the current concentration of the location is greater than LC50:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The concentration in the air overpowers you...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current concentration of the location is greater than TLV-STEL:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You feel extremely uncomfortable in this environment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4682_166" -->
<a id="c4682_166"></a><blockquote class="code"><p class="quoted">
Instead of doing something when the current concentration of the location is greater than TLV-STEL:
<br />&#160;&#160;&#160;&#160;if going, continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;You can't work in this environment: your eyes and nose sting and it hurts to breathe.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And, for testing purposes, a square grid of rooms:</p>
<!-- START CODE "c4683_166" -->
<a id="c4683_166"></a><blockquote class="code"><p class="quoted">
Room 1A is west of Room 1B. Room 1B is west of Room 1C. Room 1C is west of Room 1D. Room 1D is west of Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4684_166" -->
<a id="c4684_166"></a><blockquote class="code"><p class="quoted">
Room 2A is south of room 1A and west of Room 2B. Room 2B is west of Room 2C and south of Room 1B. Room 2C is west of Room 2D and south of Room 1C. Room 2D is west of Room 2E and south of Room 1D. Room 2E is south of Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4685_166" -->
<a id="c4685_166"></a><blockquote class="code"><p class="quoted">
Room 3A is south of room 2A and west of Room 3B. Room 3B is west of Room 3C and south of Room 2B. Room 3C is west of Room 3D and south of Room 2C. Room 3D is west of Room 3E and south of Room 2D. Room 3E is south of Room 2E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4686_166" -->
<a id="c4686_166"></a><blockquote class="code"><p class="quoted">
Room 4A is south of room 3A and west of Room 4B. Room 4B is west of Room 4C and south of Room 3B. Room 4C is west of Room 4D and south of Room 3C. Room 4D is west of Room 4E and south of Room 3D. Room 4E is south of Room 3E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4687_166" -->
<a id="c4687_166"></a><blockquote class="code"><p class="quoted">
Room 5A is south of room 4A and west of Room 5B. Room 5B is west of Room 5C and south of Room 4B. Room 5C is west of Room 5D and south of Room 4C. Room 5D is west of Room 5E and south of Room 4D. Room 5E is south of Room 4E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4688_166" -->
<a id="c4688_166"></a><blockquote class="code"><p class="quoted">
The former concentration of room 3C is 800.0 ppm.
</p></blockquote>
<!-- END CODE -->
<p>For variety of testing, here is another room set-up, this time with some corridors and walls within; uncommenting it, and commenting out the connected grid, will let us explore what would happen in alternative cases, to prove to ourselves that the model works consistently.</p>
<!-- START CODE "c4689_166" -->
<a id="c4689_166"></a><blockquote class="code"><p class="quoted">
[Room 1A is west of Room 1B. Room 1B is west of Room 1C. Room 1C is west of Room 1D. Room 1D is west of Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4690_166" -->
<a id="c4690_166"></a><blockquote class="code"><p class="quoted">
Room 2A is west of Room 2B. Room 2B is west of Room 2C. Room 2C is west of Room 2D. Room 2D is west of Room 2E. Room 2E is south of Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4691_166" -->
<a id="c4691_166"></a><blockquote class="code"><p class="quoted">
Room 3A is south of room 2A and west of Room 3B. Room 3B is west of Room 3C. Room 3C is west of Room 3D. Room 3D is west of Room 3E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4692_166" -->
<a id="c4692_166"></a><blockquote class="code"><p class="quoted">
Room 4A is west of Room 4B. Room 4B is west of Room 4C. Room 4C is west of Room 4D. Room 4D is west of Room 4E. Room 4E is south of Room 3E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4693_166" -->
<a id="c4693_166"></a><blockquote class="code"><p class="quoted">
Room 5A is south of room 4A and west of Room 5B. Room 5B is west of Room 5C and south of Room 4B. Room 5C is west of Room 5D and south of Room 4C. Room 5D is west of Room 5E and south of Room 4D. Room 5E is south of Room 4E.]
</p></blockquote>
<!-- END CODE -->
<p>For the sake at least of seeing what's going on in the example, let's also provide the player with the means to view the gas diffusion graphically:</p>
<!-- START CODE "c4694_166" -->
<a id="c4694_166"></a><blockquote class="code"><p class="quoted">
The status grid is a device carried by the player. The status grid is switched on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4695_166" -->
<a id="c4695_166"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;try examining the grid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4696_166" -->
<a id="c4696_166"></a><blockquote class="code"><p class="quoted">
Instead of examining the status grid:
<br />&#160;&#160;&#160;&#160;say &quot;[fixed letter spacing][bar][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;|[state of room 1A]|[state of room 1B]|[state of room 1C]|[state of room 1D]|[state of room 1E]|[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[bar][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;|[state of room 2A]|[state of room 2B]|[state of room 2C]|[state of room 2D]|[state of room 2E]|[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[bar][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;|[state of room 3A]|[state of room 3B]|[state of room 3C]|[state of room 3D]|[state of room 3E]|[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[bar][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;|[state of room 4A]|[state of room 4B]|[state of room 4C]|[state of room 4D]|[state of room 4E]|[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[bar][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;|[state of room 5A]|[state of room 5B]|[state of room 5C]|[state of room 5D]|[state of room 5E]|[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[bar][variable letter spacing][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4697_166" -->
<a id="c4697_166"></a><blockquote class="code"><p class="quoted">
To say bar:
<br />&#160;&#160;&#160;&#160;say &quot;----------------------------------------------&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4698_166" -->
<a id="c4698_166"></a><blockquote class="code"><p class="quoted">
TLV is a concentration that varies. TLV is 30.0ppm. [Long-term exposure maximum, safe for 8 hours a day.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4699_166" -->
<a id="c4699_166"></a><blockquote class="code"><p class="quoted">
TLV-STEL is a concentration that varies. TLV-STEL is 50.0ppm. [Short-term exposure maximum, safe for fifteen minutes max.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4700_166" -->
<a id="c4700_166"></a><blockquote class="code"><p class="quoted">
TLV-C is a concentration that varies. TLV-C is 150.0ppm. [Absolute exposure ceiling.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4701_166" -->
<a id="c4701_166"></a><blockquote class="code"><p class="quoted">
LC50 is a concentration that varies. LC50 is 300.0ppm. [Concentration at which 50 percent of test subjects die of exposure, usually expressed in terms of time and body weight; in our LC50 these are factored in for the player's weight for one minute.]
</p></blockquote>
<!-- END CODE -->
<p>The values set for these would depend on the type of poisonous gas in question; we'd want to adjust appropriately.</p>
<!-- START CODE "c4702_166" -->
<a id="c4702_166"></a><blockquote class="code"><p class="quoted">
To say state of (space - a room):
<br />&#160;&#160;&#160;&#160;if the space is the location, say bold type;
<br />&#160;&#160;&#160;&#160;if current concentration of space is less than 10.0ppm, say &quot; &quot;;
<br />&#160;&#160;&#160;&#160;if current concentration of space is less than 100.0ppm, say &quot; &quot;;
<br />&#160;&#160;&#160;&#160;say current concentration of space;
<br />&#160;&#160;&#160;&#160;say roman type.
</p></blockquote>
<!-- END CODE -->
<p>Now, in theory we might also want to account for sources and sinks, items that either inject poisonous gas into the environment or remove it again. For simplicity, we will assume that these contributions can also be calculated in ppm and that the total number of inert and poisonous gas molecules in a room never changes (so if poison gas molecules are added, an equal number of inert molecules are removed). If room pressure were able to change, our model would have to be improved, so let us assume for now that that never happens. We want this sink/source business to calculate before any other portion of the diffusion rulebook, so set it as a first diffusion rule.</p>
<!-- START CODE "c4703_166" -->
<a id="c4703_166"></a><blockquote class="code"><p class="quoted">
A gas source is a kind of thing. A gas source has a concentration called the contribution. The contribution of a gas source is usually 30.0ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4704_166" -->
<a id="c4704_166"></a><blockquote class="code"><p class="quoted">
Room 2B contains a gas source called a spigot. The contribution of the spigot is 50.0ppm. Room 5A contains a gas source.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4705_166" -->
<a id="c4705_166"></a><blockquote class="code"><p class="quoted">
A gas sink is a kind of thing. A gas sink has a concentration called the contribution. The contribution of a gas sink is usually 30.0ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4706_166" -->
<a id="c4706_166"></a><blockquote class="code"><p class="quoted">
Room 5E contains a gas sink called a fan. The contribution of the fan is 80.0ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4707_166" -->
<a id="c4707_166"></a><blockquote class="code"><p class="quoted">
The first diffusion rule (this is the sources and sinks rule):
<br />&#160;&#160;&#160;&#160;follow the sources rule;
<br />&#160;&#160;&#160;&#160;follow the sinks rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4708_166" -->
<a id="c4708_166"></a><blockquote class="code"><p class="quoted">
This is the sinks rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through gas sinks:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let space be the location of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the former concentration of the space by the contribution of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the former concentration of the space is less than 0.0ppm, now the former concentration of the space is 0.0ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4709_166" -->
<a id="c4709_166"></a><blockquote class="code"><p class="quoted">
This is the sources rule:
<br />&#160;&#160;&#160;&#160;repeat with second item running through gas sources:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let space be the location of the second item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the former concentration of the space by the contribution of the second item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the former concentration of the space is less than 0.0ppm, now the former concentration of the space is 0.0ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4710_166" -->
<a id="c4710_166"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "256: Wonderland" "e314" -->
<a id="e314"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e314" class="eglink"><b>256</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e314" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Wonderland</span></b></a><br />Hiking Mount Rainier, with attention to which locations are higher and which lower than the present location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_6.html#e314"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example314">
<p>Suppose we have a landscape with a great deal of up and down variation, where GO UP and GO DOWN will be significant almost everywhere, and specifying them all individually a tremendous pain:</p>
<!-- START CODE "c4711_314" -->
<a id="c4711_314"></a><blockquote class="code"><p class="quoted">
&quot;Wonderland&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4712_314" -->
<a id="c4712_314"></a><blockquote class="code"><p class="quoted">
An altitude is a kind of value. 1000 feet specifies an altitude. A room has an altitude.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4713_314" -->
<a id="c4713_314"></a><blockquote class="code"><p class="quoted">
Definition: a room is low if its altitude is 3000 feet or less. Definition: a room is high if its altitude is 5000 feet or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4714_314" -->
<a id="c4714_314"></a><blockquote class="code"><p class="quoted">
Instead of going down:
<br />&#160;&#160;&#160;&#160;if an adjacent room is lower than the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the valley be the lowest adjacent room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to the valley;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(that is, [way])[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try going the way;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You're in a local valley: there's no down from here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4715_314" -->
<a id="c4715_314"></a><blockquote class="code"><p class="quoted">
Instead of going up:
<br />&#160;&#160;&#160;&#160;if an adjacent room is higher than the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the peak be the highest adjacent room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to the peak;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(that is, [way])[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try going the way;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You're on a local peak.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4716_314" -->
<a id="c4716_314"></a><blockquote class="code"><p class="quoted">
Paradise is a room. Paradise has altitude 5400 feet. &quot;A handsome parking lot, a picnic ground, and the Henry M. Jackson Memorial Visitor Center. The latter offers, for serious climbers, a hot shower; for nature enthusiasts, an interpretive museum; and for car-trippers, a gift shop selling canned slugs. All of which is a largely unsuccessful distraction from the peak of Mt. Rainier beyond.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4717_314" -->
<a id="c4717_314"></a><blockquote class="code"><p class="quoted">
Cougar Rock is southwest of Paradise. The altitude of Cougar Rock is 3180 feet. &quot;Numerous individual campsites and (on the road inventively labeled 'F') a handful of larger campgrounds suitable for church groups and family reunions.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4718_314" -->
<a id="c4718_314"></a><blockquote class="code"><p class="quoted">
Longmire is southwest of Cougar Rock. It has altitude 2760 feet. &quot;A tiny town: it has to offer a few groceries, a post office, and a lodge for people who do not care to camp, all built in a rustic Park Service way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4719_314" -->
<a id="c4719_314"></a><blockquote class="code"><p class="quoted">
Panorama Point is north of Paradise. It has altitude 6800 feet. Camp Muir is north of Panorama Point. It has altitude 10188 feet. Columbia Crest is northwest of Camp Muir. It has altitude 14410 feet. St Andrews Rock is west of Columbia Crest. It has altitude 10992 feet. Camp Schuman is northeast of Columbia Crest. It has altitude 9510 feet.
</p></blockquote>
<!-- END CODE -->
<p>Since Mount Rainier National Park runs to over 235,000 acres, we will omit the rest of the locations, but it does seem fair to give a little more credit to anyone who makes the summit:</p>
<!-- START CODE "c4720_314" -->
<a id="c4720_314"></a><blockquote class="code"><p class="quoted">
Instead of going up in the highest room:
<br />&#160;&#160;&#160;&#160;say &quot;You're standing at the summit of Mt. Rainier, the highest point in the state of Washington. There is no up.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4721_314" -->
<a id="c4721_314"></a><blockquote class="code"><p class="quoted">
Test me with &quot;up / up / up / down / down / up / up&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "257: Lethal Concentration 2" "e165" -->
<a id="e165"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e165" class="eglink"><b>257</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e165" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lethal Concentration 2</span></b></a><br />Poisonous gas again, only this time it sinks.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e165"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example165">
<p>This is a slight variation on the previous gas diffusion example: the main difference is that gas preferentially moves towards lower rooms, and will gradually settle in the bottom floor. We do this by calculating the probability of movement separately for each pair of rooms.</p>
<!-- START CODE "c4722_165" -->
<a id="c4722_165"></a><blockquote class="code"><p class="quoted">
&quot;Lethal Concentration&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4723_165" -->
<a id="c4723_165"></a><blockquote class="code"><p class="quoted">
A concentration is a kind of value. 200.9ppm specifies concentration. 200.9 ppm specifies concentration.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4724_165" -->
<a id="c4724_165"></a><blockquote class="code"><p class="quoted">
A room has a concentration called current concentration. A room has a concentration called former concentration.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4725_165" -->
<a id="c4725_165"></a><blockquote class="code"><p class="quoted">
To decide what number is the probability inverse between (space - a room) and (second space - a room):
<br />&#160;&#160;&#160;&#160;let guess be 20;
<br />&#160;&#160;&#160;&#160;let way be the best route from space to second space;
<br />&#160;&#160;&#160;&#160;if way is up, let guess be 50;
<br />&#160;&#160;&#160;&#160;if way is down, let guess be 10;
<br />&#160;&#160;&#160;&#160;if the guess is less than 10, decide on 10;
<br />&#160;&#160;&#160;&#160;decide on guess.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted, we could introduce other concerns into the calculation here: open and closed doors, windows between rooms, rooms that are outdoors vs. those that are indoors, and so on. The possibilities are numerous, so we will stick with the simple principle that our poison gas sinks.</p>
<!-- START CODE "c4726_165" -->
<a id="c4726_165"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;follow the diffusion rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4727_165" -->
<a id="c4727_165"></a><blockquote class="code"><p class="quoted">
The diffusion rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4728_165" -->
<a id="c4728_165"></a><blockquote class="code"><p class="quoted">
A diffusion rule (this is the gas movement rule):
<br />&#160;&#160;&#160;&#160;repeat with space running through rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let sum be 0.0 ppm;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let second space be the room way from the space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if second space is a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let incoming be the former concentration of the second space divided by the probability inverse between second space and space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let outgoing be the former concentration of the space divided by the probability inverse between space and second space;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be incoming minus outgoing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase sum by the difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current concentration of the space is the former concentration of the space plus the sum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4729_165" -->
<a id="c4729_165"></a><blockquote class="code"><p class="quoted">
A diffusion rule (this is the resetting concentration rule):
<br />&#160;&#160;&#160;&#160;repeat with space running through rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the former concentration of the space is the current concentration of the space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4730_165" -->
<a id="c4730_165"></a><blockquote class="code"><p class="quoted">
The last diffusion rule (this is the lethal dosage rule):
<br />&#160;&#160;&#160;&#160;if the current concentration of the location is greater than LC50:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The concentration in the air overpowers you...&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current concentration of the location is greater than TLV-STEL:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You feel extremely uncomfortable in this environment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4731_165" -->
<a id="c4731_165"></a><blockquote class="code"><p class="quoted">
Instead of doing something when the current concentration of the location is greater than TLV-STEL:
<br />&#160;&#160;&#160;&#160;if going, continue the action;
<br />&#160;&#160;&#160;&#160;say &quot;You can't work in this environment: your eyes and nose sting and it hurts to breathe.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4732_165" -->
<a id="c4732_165"></a><blockquote class="code"><p class="quoted">
Room 1A is west of Room 1B. Room 1B is west of Room 1C. Room 1C is west of Room 1D. Room 1D is west of Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4733_165" -->
<a id="c4733_165"></a><blockquote class="code"><p class="quoted">
Room 2A is west of Room 2B and below room 1A. Room 2B is west of Room 2C and below Room 1B. Room 2C is west of Room 2D and below Room 1C. Room 2D is west of Room 2E and below Room 1D. Room 2E is south of Room 1E and below Room 1E.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4734_165" -->
<a id="c4734_165"></a><blockquote class="code"><p class="quoted">
The former concentration of Room 1C is 800.0 ppm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4735_165" -->
<a id="c4735_165"></a><blockquote class="code"><p class="quoted">
The status grid is a device carried by the player. The status grid is switched on.
</p></blockquote>
<!-- END CODE -->
<p>And just for fun, this time we'll make the grid prettier, too; but this will work only on the Z-machine setting, not Glulx.</p>
<!-- START CODE "c4736_165" -->
<a id="c4736_165"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;try examining the grid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4737_165" -->
<a id="c4737_165"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Instead of examining the status grid:
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light down and right][top bar][unicode box drawings light down and left][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light vertical]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[state of room 1A][state of room 1B][state of room 1C][state of room 1D][state of room 1E]   upstairs[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light vertical and right][middle bar][unicode box drawings light vertical and left][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light vertical]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[state of room 2A][state of room 2B][state of room 2C][state of room 2D][state of room 2E]   downstairs[line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light up and right][bottom bar][unicode box drawings light up and left][variable letter spacing][line break]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4738_165" -->
<a id="c4738_165"></a><blockquote class="code"><p class="quoted">
Include Unicode Character Names by Graham Nelson.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4739_165" -->
<a id="c4739_165"></a><blockquote class="code"><p class="quoted">
To say top bar:
<br />&#160;&#160;&#160;&#160;repeat with N running from 1 to 9:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the remainder after dividing N by 2 is 0, say &quot;[unicode box drawings light down and horizontal]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[unicode box drawings light horizontal]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4740_165" -->
<a id="c4740_165"></a><blockquote class="code"><p class="quoted">
To say middle bar:
<br />&#160;&#160;&#160;&#160;repeat with N running from 1 to 9:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the remainder after dividing N by 2 is 0, say &quot;[unicode box drawings light vertical and horizontal]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[unicode box drawings light triple dash horizontal]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4741_165" -->
<a id="c4741_165"></a><blockquote class="code"><p class="quoted">
To say bottom bar:
<br />&#160;&#160;&#160;&#160;repeat with N running from 1 to 9:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the remainder after dividing N by 2 is 0, say &quot;[unicode box drawings light up and horizontal]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[unicode box drawings light horizontal]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4742_165" -->
<a id="c4742_165"></a><blockquote class="code"><p class="quoted">
TLV is a concentration that varies. TLV is 30.0ppm. [Long-term exposure maximum, safe for 8 hours a day.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4743_165" -->
<a id="c4743_165"></a><blockquote class="code"><p class="quoted">
TLV-STEL is a concentration that varies. TLV-STEL is 50.0ppm. [Short-term exposure maximum, safe for fifteen minutes max.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4744_165" -->
<a id="c4744_165"></a><blockquote class="code"><p class="quoted">
TLV-C is a concentration that varies. TLV-C is 150.0ppm. [Absolute exposure ceiling.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4745_165" -->
<a id="c4745_165"></a><blockquote class="code"><p class="quoted">
LC50 is a concentration that varies. LC50 is 300.0ppm. [Concentration at which 50 percent of test subjects die of exposure, usually expressed in terms of time and body weight; in our LC50 these are factored in for the player's weight for one minute.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4746_165" -->
<a id="c4746_165"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4747_165" -->
<a id="c4747_165"></a><blockquote class="code"><p class="quoted">
To say state of (space - a room):
<br />&#160;&#160;&#160;&#160;if the current concentration of space is less than TLV, say blue letters;
<br />&#160;&#160;&#160;&#160;if the current concentration of space is TLV, say blue letters;
<br />&#160;&#160;&#160;&#160;if the current concentration of space is greater than TLV, say green letters;
<br />&#160;&#160;&#160;&#160;if the current concentration of space is greater than TLV-STEL, say yellow letters;
<br />&#160;&#160;&#160;&#160;if the current concentration of space is greater than TLV-C, say red letters;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode square with diagonal crosshatch fill]&quot;;
<br />&#160;&#160;&#160;&#160;say default letters;
<br />&#160;&#160;&#160;&#160;say &quot;[unicode box drawings light vertical]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4748_165" -->
<a id="c4748_165"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "258: Dimensions" "e431" -->
<a id="e431"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e431" class="eglink"><b>258</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e431" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Dimensions</span></b></a><br />This example draws together the previous snippets into a working implementation of the weighbridge.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e431"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example431">
<p>The following is not a very sophisticated approach, because it does not allow for weight to accumulate: if we put a gold ingot into a paper bag, then put the bag on the balance platform, only the bag's weight will register. But it will do for a first try.</p>
<!-- START CODE "c4749_431" -->
<a id="c4749_431"></a><blockquote class="code"><p class="quoted">
&quot;Dimensions&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4750_431" -->
<a id="c4750_431"></a><blockquote class="code"><p class="quoted">
A length is a kind of value. 10m specifies a length. An area is a kind of value. 10 sq m specifies an area. A length times a length specifies an area.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4751_431" -->
<a id="c4751_431"></a><blockquote class="code"><p class="quoted">
A weight is a kind of value. 10kg specifies a weight. Everything has a weight.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4752_431" -->
<a id="c4752_431"></a><blockquote class="code"><p class="quoted">
The verb to weigh means the weight property. A thing usually weighs 1kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4753_431" -->
<a id="c4753_431"></a><blockquote class="code"><p class="quoted">
Definition: A thing is light if its weight is 3kg or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4754_431" -->
<a id="c4754_431"></a><blockquote class="code"><p class="quoted">
Definition: A thing is heavy if its weight is 10kg or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4755_431" -->
<a id="c4755_431"></a><blockquote class="code"><p class="quoted">
The Weighbridge is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4756_431" -->
<a id="c4756_431"></a><blockquote class="code"><p class="quoted">
A blackboard is in the Weighbridge. &quot;A blackboard propped against one wall reads: '122/10 is [122 divided by 10] remainder [remainder after dividing 122 by 10]; 122kg/10kg is [122kg divided by 10kg] remainder [remainder after dividing 122kg by 10kg]; 122kg/10 is [122kg divided by 10] remainder [remainder after dividing 122kg by 10].'&quot; The blackboard weighs 10kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4757_431" -->
<a id="c4757_431"></a><blockquote class="code"><p class="quoted">
A feather and a lead pig are in the Weighbridge. The lead pig weighs 45kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4758_431" -->
<a id="c4758_431"></a><blockquote class="code"><p class="quoted">
The balance platform is a supporter in the Weighbridge. &quot;The balance platform is 10m by 8m, giving it an area of [10m multiplied by 8m], currently weighing [the list of things on the platform]. The scale alongside reads: [total weight of things on the platform]. [if two things are on the platform]Average weight is: [the total weight of things on the platform divided by the number of things on the platform]. Heaviest item is [the heaviest thing on the platform], at [weight of the heaviest thing on the platform]. Lightest item is [the lightest thing on the platform], at [weight of the lightest thing on the platform].[otherwise]It seems to be able to weigh several things at once.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4759_431" -->
<a id="c4759_431"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get feather / put it on platform / look / get pig / put it on platform / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "259: Lead Cuts Paper" "e365" -->
<a id="e365"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e365" class="eglink"><b>259</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e365" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lead Cuts Paper</span></b></a><br />To give every container a breaking strain, that is, a maximum weight of contents which it can bear - so that to put the lead pig into a paper bag invites disaster.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e365"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example365">
<p>The following shows the kind of &quot;realism&quot; rules which could be introduced using weights. Not entirely realistic: we do not bother to rupture containers out of the player's sight.</p>
<!-- START CODE "c4760_365" -->
<a id="c4760_365"></a><blockquote class="code"><p class="quoted">
&quot;Lead Cuts Paper&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4761_365" -->
<a id="c4761_365"></a><blockquote class="code"><p class="quoted">
A weight is a kind of value. 10kg specifies a weight. Everything has a weight. A thing usually has weight 1kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4762_365" -->
<a id="c4762_365"></a><blockquote class="code"><p class="quoted">
A container has a weight called breaking strain. The breaking strain of a container is usually 50kg. Definition: A container is bursting if the total weight of things in it is greater than its breaking strain.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4763_365" -->
<a id="c4763_365"></a><blockquote class="code"><p class="quoted">
A lead pig, a feather, a silver coin and a paper bag are in a room called the Metallurgy Workshop. The paper bag is a container with breaking strain 2kg.  The lead pig has weight 50kg.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4764_365" -->
<a id="c4764_365"></a><blockquote class="code"><p class="quoted">
Every turn when a container (called the sack) held by someone visible (called the chump) is bursting:
<br />&#160;&#160;&#160;&#160;say &quot;[The sack] splits and breaks under the weight! [if the player is the chump]You discard[otherwise][The chump] discards[end if] its ruined remains, looking miserably down at [the list of things in the sack] on the floor.&quot;;
<br />&#160;&#160;&#160;&#160;now all of the things in the sack are in the location;
<br />&#160;&#160;&#160;&#160;now the sack is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4765_365" -->
<a id="c4765_365"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get bag / get feather / put feather in bag / get pig / put pig in bag / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "260: Zqlran Era 8" "e454" -->
<a id="e454"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e454" class="eglink"><b>260</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e454" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zqlran Era 8</span></b></a><br />Creating an alternative system of time for our game, using new units.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_4.html#e454"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example454">
<p>Suppose that our game takes place on an alien planet that does not follow Earth time. On this planet, we want to track time with different units. We also want time to advance in those units, and we want to be able to set a schedule of timed events.</p>
<!-- START CODE "c4766_454" -->
<a id="c4766_454"></a><blockquote class="code"><p class="quoted">
&quot;Zqlran Era 8&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4767_454" -->
<a id="c4767_454"></a><blockquote class="code"><p class="quoted">
The Barren Lavender Surface of Zql is a room. &quot;It is late twilight on Zql. Overhead, two crescent moons, both green, mark the sluggish passage of time. A cold wind is blowing over the pale purplish ground cover, but it does not penetrate your airtight suit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4768_454" -->
<a id="c4768_454"></a><blockquote class="code"><p class="quoted">
A Zqlran date is a kind of value. 14-88 specifies a Zqlran date with parts zqls and frbs. Current zqlran date is a zqlran date that varies. The current zqlran date is 8-22. Previous zqlran date is a zqlran date that varies. The previous zqlran date is 8-20.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4769_454" -->
<a id="c4769_454"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;[current zqlran date], or [current zqlran date in words]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4770_454" -->
<a id="c4770_454"></a><blockquote class="code"><p class="quoted">
To say (Zqlra - a Zqlran date) in words:
<br />&#160;&#160;&#160;&#160;say &quot;[zqls part of Zqlra] Z, [frbs part of Zqlra] f.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Inform automatically supplies a way to say a new unit, which will look similar to the format in which we defined that unit in the first place. But we can (as shown here) create our own alternative say phrases to express the units in other ways as well.</p>
<p>Next, we need to meddle with time advancement so that time is tracked in Zqlran date rather than in minutes. This requires borrowing a trick from a later chapter, to replace Inform's built-in time handling with an alternative time handling rule of our own:</p>
<!-- START CODE "c4771_454" -->
<a id="c4771_454"></a><blockquote class="code"><p class="quoted">
The Zqlran time rule is listed instead of the advance time rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4772_454" -->
<a id="c4772_454"></a><blockquote class="code"><p class="quoted">
This is the Zqlran time rule:
<br />&#160;&#160;&#160;&#160;increment turn count;
<br />&#160;&#160;&#160;&#160;now the previous zqlran date is current zqlran date;
<br />&#160;&#160;&#160;&#160;increase the current zqlran date by 0-02;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Zql Schedule:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if era entry is greater than previous zqlran date and era entry is not greater than current zqlran date:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say event entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4773_454" -->
<a id="c4773_454"></a><blockquote class="code"><p class="quoted">
Table of Zql Schedule
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">era</p></td><td class="quotedtablecell"><p class="quoted">event</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8-24</p></td><td class="quotedtablecell"><p class="quoted">&quot;A wisp-thin cloud blows rapidly across the face of Nepenthe, the lesser of the two green moons.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8-28</p></td><td class="quotedtablecell"><p class="quoted">&quot;The cloud across Nepenthe clears.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Note that we could if we wished use a different device for scheduling events: this one simply prints text at scheduled eras, but we might also (for instance) make the event entry be a rule for Inform to follow, and tell Inform to carry out that rule at the scheduled time.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "261: Snip" "e368" -->
<a id="e368"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e368" class="eglink"><b>261</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e368" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Snip</span></b></a><br />A string which can be cut into arbitrary lengths, and then tied back together.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e368"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example368">
<!-- START CODE "c4774_368" -->
<a id="c4774_368"></a><blockquote class="code"><p class="quoted">
&quot;Snip!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4775_368" -->
<a id="c4775_368"></a><blockquote class="code"><p class="quoted">
Length is a kind of value. 30 inch specifies a length. 20 in specifies a length. 50 inches specifies a length.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4776_368" -->
<a id="c4776_368"></a><blockquote class="code"><p class="quoted">
A string is a kind of thing. A string has a length. The length of a string is usually 36 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4777_368" -->
<a id="c4777_368"></a><blockquote class="code"><p class="quoted">
Before printing the name of a string, say &quot;[length] piece of &quot;. Rule for printing the plural name of a string: say &quot;[length] pieces of string&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4778_368" -->
<a id="c4778_368"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;cut&quot; as something new. Understand &quot;cut [length] from/off [something]&quot; as trimming it by (with nouns reversed). Understand &quot;cut [something] by [length]&quot; as trimming it by. Understand the command &quot;trim&quot; as &quot;cut&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4779_368" -->
<a id="c4779_368"></a><blockquote class="code"><p class="quoted">
Trimming it by is an action applying to one thing and one length.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4780_368" -->
<a id="c4780_368"></a><blockquote class="code"><p class="quoted">
Check trimming it by:
<br />&#160;&#160;&#160;&#160;if the length understood is 0 inches, say &quot;You're approaching Zeno's string at this point.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the length understood is greater than the length of the noun, say &quot;[The noun] is only [length of the noun] long to start with.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the length understood is the length of the noun, say &quot;[The noun] is already exactly [length of the noun] long.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4781_368" -->
<a id="c4781_368"></a><blockquote class="code"><p class="quoted">
Carry out trimming it by:
<br />&#160;&#160;&#160;&#160;now the length of the noun is the length of the noun minus the length understood;
<br />&#160;&#160;&#160;&#160;let the other half be a random string in the string repository;
<br />&#160;&#160;&#160;&#160;now the length of the other half is the length understood;
<br />&#160;&#160;&#160;&#160;move the other half to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4782_368" -->
<a id="c4782_368"></a><blockquote class="code"><p class="quoted">
Report trimming it by:
<br />&#160;&#160;&#160;&#160;reset string lengths; [we will define this in a moment; it helps guarantee that our descriptions of the strings are correct when we write the output list]
<br />&#160;&#160;&#160;&#160;say &quot;You now have [a list of strings carried by the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4783_368" -->
<a id="c4783_368"></a><blockquote class="code"><p class="quoted">
Understand &quot;cut [something] in half&quot; as halving. Halving is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4784_368" -->
<a id="c4784_368"></a><blockquote class="code"><p class="quoted">
Carry out halving:
<br />&#160;&#160;&#160;&#160;let half measure be the length of the noun divided by 2;
<br />&#160;&#160;&#160;&#160;now the length understood is half measure;
<br />&#160;&#160;&#160;&#160;try trimming the noun by half measure.
</p></blockquote>
<!-- END CODE -->
<p>This fudges slightly, since an odd-length string will be divided into uneven halves. Keeping track of fractional inches would complicate matters, though, so let's assume for now that this doesn't matter.</p>
<!-- START CODE "c4785_368" -->
<a id="c4785_368"></a><blockquote class="code"><p class="quoted">
The player carries a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4786_368" -->
<a id="c4786_368"></a><blockquote class="code"><p class="quoted">
The Scissors Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4787_368" -->
<a id="c4787_368"></a><blockquote class="code"><p class="quoted">
The string repository contains 35 strings.
</p></blockquote>
<!-- END CODE -->
<p>Since our initial string is 36 inches long and it is impossible for the player to divide it into pieces smaller than an inch each, we need a total of 36 items to represent all the string-bits: one that the player carries at the outset, and 35 others. We should bear in mind that it is usually a good idea to use the smallest number of spare objects we can get away with: writing a game that required 1000 strings in the string repository would place silly demands on the resources of the system, so it's best to avoid that sort of thing if possible.</p>
<p>Now with a bit of fiddling we can also teach Inform to recognize descriptors such as &quot;the shortest string&quot;:</p>
<!-- START CODE "c4788_368" -->
<a id="c4788_368"></a><blockquote class="code"><p class="quoted">
Ordinariness is a kind of value. The ordinarinesses are longest, medium, shortest. A string has an ordinariness. Understand the ordinariness property as referring to a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4789_368" -->
<a id="c4789_368"></a><blockquote class="code"><p class="quoted">
Definition: a string is small if its length is 2 in or less. Definition: a string is large if its length is 20 in or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4790_368" -->
<a id="c4790_368"></a><blockquote class="code"><p class="quoted">
Before reading a command:
<br />&#160;&#160;&#160;&#160;reset string lengths.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4791_368" -->
<a id="c4791_368"></a><blockquote class="code"><p class="quoted">
To reset string lengths:
<br />&#160;&#160;&#160;&#160;let upper measure be the length of the largest visible string;
<br />&#160;&#160;&#160;&#160;let lower measure be the length of the smallest visible string;
<br />&#160;&#160;&#160;&#160;repeat with item running through strings:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ordinariness of the item is medium;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the length of the item is the upper measure, now the item is longest;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the length of the item is the lower measure, now the item is shortest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4792_368" -->
<a id="c4792_368"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;shorter&quot;, replace the matched text with &quot;shortest&quot;;
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;longer&quot;, replace the matched text with &quot;longest&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4793_368" -->
<a id="c4793_368"></a><blockquote class="code"><p class="quoted">
Instead of tying a string to a string:
<br />&#160;&#160;&#160;&#160;move the second noun to the string repository;
<br />&#160;&#160;&#160;&#160;now the length of the noun is the length of the noun plus the length of the second noun;
<br />&#160;&#160;&#160;&#160;decrease the length of the noun by 1 inch;
<br />&#160;&#160;&#160;&#160;say &quot;You end up with [a noun], as some is taken up by the knot.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is still a little incomplete because we cannot refer to strings by their lengths, as in &quot;the 2 inch string&quot; and so on. To do this, we borrow a line from the chapter on Understanding:</p>
<!-- START CODE "c4794_368" -->
<a id="c4794_368"></a><blockquote class="code"><p class="quoted">
Understand the length property as referring to a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4795_368" -->
<a id="c4795_368"></a><blockquote class="code"><p class="quoted">
Test me with &quot;trim string by 4 in / cut longer string in half / cut longest string in half / cut shortest string in half / g / g / tie longest string to shortest string / tie longest string to medium string / i / x 16 inch string / drop 8 inch string / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "262: Nickel and Dimed" "e382" -->
<a id="e382"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e382" class="eglink"><b>262</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e382" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Nickel and Dimed</span></b></a><br />A more intricate system of money, this time keeping track of the individual denominations of coins and bills, specifying what gets spent at each transaction, and calculating appropriate change.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e382"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example382">
<p>Typically games which keep track of the player's wealth need only do so as an abstract number, but occasionally it becomes useful to represent money as physical coins and bills. Here is an example that does exactly that:</p>
<!-- START CODE "c4796_382" -->
<a id="c4796_382"></a><blockquote class="code"><p class="quoted">
&quot;Nickel and Dimed&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4797_382" -->
<a id="c4797_382"></a><blockquote class="code"><p class="quoted">
Section 1 - Currency
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4798_382" -->
<a id="c4798_382"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents. A thing has a price. The price of a thing is usually $0.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4799_382" -->
<a id="c4799_382"></a><blockquote class="code"><p class="quoted">
Money is a kind of thing. Coin is a kind of money.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4800_382" -->
<a id="c4800_382"></a><blockquote class="code"><p class="quoted">
A dollar bill is a kind of money. The price of a dollar bill is $1.00. The printed name of a dollar bill is &quot;dollar bill&quot;. Rule for printing the plural name of a dollar bill: say &quot;dollar bills&quot;. The description of a dollar bill is &quot;It has George Washington's head on the front, which with a bit of creative folding can be scrunched to look like a mushroom. All important things really are learned in kindergarten.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4801_382" -->
<a id="c4801_382"></a><blockquote class="code"><p class="quoted">
A five-dollar bill is a kind of money. The price of a five-dollar bill is $5.00. Understand &quot;five&quot; or &quot;five dollar&quot; as the five-dollar bill. The description of a five-dollar bill is &quot;Abraham Lincoln. He looks slightly less dignified here than he does on the penny.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4802_382" -->
<a id="c4802_382"></a><blockquote class="code"><p class="quoted">
A hundred-dollar bill is a kind of money. The price of the hundred-dollar bill is $100.00. Understand &quot;hundred&quot; or &quot;hundred dollar&quot; as the hundred-dollar bill. Understand &quot;dollar&quot; as the dollar bill. The description of a hundred-dollar bill is &quot;It's got Benjamin Franklin, who always gets shafted: a denomination too large for anyone to carry conveniently, and a lot of local fame in Philadelphia.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Our choice of understand rules guarantees that &quot;five dollar&quot; will be understood as the five, but &quot;dollar&quot; alone as the single. We will learn more about &quot;understand&quot; in later chapters, but here is a test to check the functionality:</p>
<!-- START CODE "c4803_382" -->
<a id="c4803_382"></a><blockquote class="code"><p class="quoted">
Test bills with &quot;x hundred dollar bill / x five dollar bill / x hundred / x five / x dollar / x dollar bill&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4804_382" -->
<a id="c4804_382"></a><blockquote class="code"><p class="quoted">
A quarter is a kind of coin. The price of a quarter is $0.25. The description of a quarter is &quot;One of the old-fashioned variety, not a state quarter.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4805_382" -->
<a id="c4805_382"></a><blockquote class="code"><p class="quoted">
A dime is a kind of coin. The price of a dime is $0.10. The description of a dime is &quot;Franklin Roosevelt, trying not to look too annoyed that his coin is so small and thin.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4806_382" -->
<a id="c4806_382"></a><blockquote class="code"><p class="quoted">
A nickel is a kind of coin. The price of a nickel is $0.05. The description of a nickel is &quot;A chubby coin, but you've always liked Thomas Jefferson, and the Monticello on the back is a nice touch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4807_382" -->
<a id="c4807_382"></a><blockquote class="code"><p class="quoted">
A penny is a kind of coin. The price of a penny is $0.01. The description of the penny is &quot;A profile of Abe Lincoln. Sometime soon they'll stop minting these, you're sure of it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4808_382" -->
<a id="c4808_382"></a><blockquote class="code"><p class="quoted">
Section 2 - Ownership
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4809_382" -->
<a id="c4809_382"></a><blockquote class="code"><p class="quoted">
Ownership relates one person (called the owner) to various things. The verb to own means the ownership relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4810_382" -->
<a id="c4810_382"></a><blockquote class="code"><p class="quoted">
Definition: a thing is owned if the player owns it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4811_382" -->
<a id="c4811_382"></a><blockquote class="code"><p class="quoted">
Instead of buying something which is owned by the player:
<br />&#160;&#160;&#160;&#160;say &quot;You already own [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4812_382" -->
<a id="c4812_382"></a><blockquote class="code"><p class="quoted">
Instead of going somewhere when the player encloses something (called the stolen goods) which is not owned by the player:
<br />&#160;&#160;&#160;&#160;if the owner of the stolen goods is not a person:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the player owns the stolen goods;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;if the owner of the stolen goods can see the player,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Hey there buddy, not so fast,' says [the owner of the stolen goods]. 'You going to buy [the stolen goods] first, or am I gonna call the cops?'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4813_382" -->
<a id="c4813_382"></a><blockquote class="code"><p class="quoted">
After taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;Altogether, you've got [the player's cash] on your person.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4814_382" -->
<a id="c4814_382"></a><blockquote class="code"><p class="quoted">
To decide what price is the player's cash:
<br />&#160;&#160;&#160;&#160;let sum be the total price of money enclosed by the player;
<br />&#160;&#160;&#160;&#160;decide on sum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4815_382" -->
<a id="c4815_382"></a><blockquote class="code"><p class="quoted">
To decide what price is the sum in (item - a container):
<br />&#160;&#160;&#160;&#160;let sum be the total price of the money in the item;
<br />&#160;&#160;&#160;&#160;decide on sum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4816_382" -->
<a id="c4816_382"></a><blockquote class="code"><p class="quoted">
When play begins: now every thing carried by the player is owned by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4817_382" -->
<a id="c4817_382"></a><blockquote class="code"><p class="quoted">
Section 3 - Purchasing and Sales
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4818_382" -->
<a id="c4818_382"></a><blockquote class="code"><p class="quoted">
Definition: a thing is worthless if the price of it is $0.00. Definition: a thing is valuable if it is not worthless.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4819_382" -->
<a id="c4819_382"></a><blockquote class="code"><p class="quoted">
A thing can be for sale.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4820_382" -->
<a id="c4820_382"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of something (called target) which is for sale (this is the disclose prices in room description rule): say &quot; ([price of the target])&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4821_382" -->
<a id="c4821_382"></a><blockquote class="code"><p class="quoted">
Before listing contents: group money together giving articles.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4822_382" -->
<a id="c4822_382"></a><blockquote class="code"><p class="quoted">
Instead of examining a for sale thing (this is the describe things by price rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] costs [the price of the noun], payable to [the owner of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>The cashbox is a theoretical construct, not something the player will ever encounter in the course of the game. It contains all the money that is available for non-player characters to use in making change. If we wanted, we could give each character his own stash of change, but this would increase the likelihood that any given person would run out of cash to make change with. (And in this example there is only one vendor anyway.)</p>
<!-- START CODE "c4823_382" -->
<a id="c4823_382"></a><blockquote class="code"><p class="quoted">
The cashbox is a container. The cashbox contains 10 pennies. The cashbox contains 10 nickels.  The cashbox contains 10 dimes.  The cashbox contains 10 quarters.  The cashbox contains 10 dollar bills.  The cashbox contains 10 five-dollar bills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4824_382" -->
<a id="c4824_382"></a><blockquote class="code"><p class="quoted">
The block buying rule is not listed in the check buying rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4825_382" -->
<a id="c4825_382"></a><blockquote class="code"><p class="quoted">
Check buying something:
<br />&#160;&#160;&#160;&#160;if the noun is not for sale, say &quot;[The owner of the noun] does not want to sell you [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player's cash is less than the price of the noun, say &quot;You can't afford the asking price of [the price of the noun] for [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4826_382" -->
<a id="c4826_382"></a><blockquote class="code"><p class="quoted">
Carry out buying something:
<br />&#160;&#160;&#160;&#160;let sum paid be $0.00;
<br />&#160;&#160;&#160;&#160;while sum paid is less than the price of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let current target be the price of the noun minus the sum paid;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let bill offered be the best money from the player for the current target;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the bill offered is money:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the bill offered to the owner of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the bill offered is spent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the sum paid by the price of the bill offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let current target be the price of the noun minus the sum paid;
<br />&#160;&#160;&#160;&#160;say &quot;You hand [the owner of the noun] [a list of spent money]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;let change be $0.00;
<br />&#160;&#160;&#160;&#160;if the sum paid is greater than the price of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the change is the sum paid minus the price of the noun;
<br />&#160;&#160;&#160;&#160;if change is greater than the sum in the cashbox:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the player carries every spent money;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every spent thing is fresh;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Whoa,' says [the owner of the noun], handing the cash back to you. 'I can't make change for that, man, sorry.'&quot; instead;
<br />&#160;&#160;&#160;&#160;now every spent thing is in the cashbox;
<br />&#160;&#160;&#160;&#160;now every spent thing is fresh;
<br />&#160;&#160;&#160;&#160;while change is greater than $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let change bill be the best money from the cashbox for change;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease change by the price of the change bill;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now change bill is spent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move change bill to player;
<br />&#160;&#160;&#160;&#160;if money is spent, say &quot;[The owner of the noun] makes change with [a list of spent money]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;now every spent thing is fresh;
<br />&#160;&#160;&#160;&#160;if the noun is not enclosed by the player and the owner of the noun can touch the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Here ya go,' says [the owner of the noun], handing [the noun] to you. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the player;
<br />&#160;&#160;&#160;&#160;now the player owns the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4827_382" -->
<a id="c4827_382"></a><blockquote class="code"><p class="quoted">
Money can be spent or fresh.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4828_382" -->
<a id="c4828_382"></a><blockquote class="code"><p class="quoted">
Report buying something:
<br />&#160;&#160;&#160;&#160;if the player owns the noun,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Your transaction is now complete, leaving you with [the player's cash].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We've skipped over defining what makes a denomination the best for a given transaction, so we'd better do that now. Our goal is to avoid ever having the player gratuitously overpay -- he should always offer the smallest amount of money that will meet the price of what he's buying.</p>
<p>We also assume that all money &quot;enclosed by the buyer&quot; -- that is, somewhere in the buyer's possession -- is available for use. This might not be true in a game where the player could pick up, say, a sealed lucite container with a ten-dollar bill inside; in that case we would have to define our terms more rigorously, perhaps by requiring that the bills be both enclosed and touchable by the buyer. The touchability check adds an extra layer of calculation, however, and since it is not necessary in this example (and probably not in most other cases either), we'll leave it out:</p>
<!-- START CODE "c4829_382" -->
<a id="c4829_382"></a><blockquote class="code"><p class="quoted">
Definition: money is costly if its price is $2.50 or more. Definition: money is cheap if its price is $0.99 or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4830_382" -->
<a id="c4830_382"></a><blockquote class="code"><p class="quoted">
Functional relation is a kind of value. The functional relations are overpayment, underpayment and irrelevant. Money has a functional relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4831_382" -->
<a id="c4831_382"></a><blockquote class="code"><p class="quoted">
To decide what money is the best money from (buyer - a thing) for (cost - a price):
<br />&#160;&#160;&#160;&#160;repeat with bill offered running through money:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the bill offered is enclosed by the buyer:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the price of the bill offered is the cost, decide on the bill offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the price of the bill offered is greater than the cost, now the functional relation of bill offered is overpayment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now the functional relation of the bill offered is underpayment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the functional relation of the bill offered is irrelevant;
<br />&#160;&#160;&#160;&#160;[say &quot;underpayment: [a list of underpayment money]
<br />&#160;&#160;&#160;&#160;overpayment: [a list of overpayment money]&quot;;]
<br />&#160;&#160;&#160;&#160;if the total price of underpayment money is less than the cost:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decide on the cheapest money which is overpayment;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decide on the costliest money which is underpayment.
</p></blockquote>
<!-- END CODE -->
<p>Notice the &quot;say underpayment/overpayment section...&quot; noted out, above. This is for debugging purposes: when writing complex code, it is sometimes useful to put in lines that will say explicitly what is going on. We can enclose them in brackets and Inform will ignore them as though they were comments; if we run into any problems with the code later, we can erase the brackets and see the diagnostic printed to the screen as we play.</p>
<!-- START CODE "c4832_382" -->
<a id="c4832_382"></a><blockquote class="code"><p class="quoted">
Instead of giving money to someone:
<br />&#160;&#160;&#160;&#160;say &quot;Best to keep the transaction simple by buying whatever you want.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4833_382" -->
<a id="c4833_382"></a><blockquote class="code"><p class="quoted">
Section 4 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4834_382" -->
<a id="c4834_382"></a><blockquote class="code"><p class="quoted">
The player carries 2 dollar bills. The player carries a nickel. The player carries 2 pennies. The player carries a five-dollar bill. The player carries 1 hundred-dollar bill.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4835_382" -->
<a id="c4835_382"></a><blockquote class="code"><p class="quoted">
The Subway Station is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4836_382" -->
<a id="c4836_382"></a><blockquote class="code"><p class="quoted">
The Bitterly Cold Street is north of the Subway Station. &quot;Even though there is no actual snow or ice, the street is about as cold as you can stand, for which reason walking the twenty blocks uptown is not an acceptable option.&quot; The Bitterly Cold Street contains a dollar bill.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4837_382" -->
<a id="c4837_382"></a><blockquote class="code"><p class="quoted">
The newspaper man is a man in the Subway Station. &quot;A newspaper man in a knit cap and fingerless gloves is hopping up and down behind his stand[if the turn count is 1]. Cold weather, caffeine overdose, or mental illness? You may never know. Welcome to New York[end if].&quot; The description is &quot;Eye contact with strangers is something to avoid around here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4838_382" -->
<a id="c4838_382"></a><blockquote class="code"><p class="quoted">
The stand is a supporter in the Station. The stand is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4839_382" -->
<a id="c4839_382"></a><blockquote class="code"><p class="quoted">
A copy of the New York Times is on the stand. The price of the New York Times is $1.25.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4840_382" -->
<a id="c4840_382"></a><blockquote class="code"><p class="quoted">
A pack of gum is on the stand. The price of the gum is $0.40.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4841_382" -->
<a id="c4841_382"></a><blockquote class="code"><p class="quoted">
A paperback novel is on the stand. The price of the paperback novel is $7.99.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4842_382" -->
<a id="c4842_382"></a><blockquote class="code"><p class="quoted">
A packet of trading cards is on the stand. The price of the packet is $0.99.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4843_382" -->
<a id="c4843_382"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every thing on the stand is owned by the newspaper man;
<br />&#160;&#160;&#160;&#160;now every thing on the stand is for sale.
</p></blockquote>
<!-- END CODE -->
<p>We could have done all that by hand, but the initialization requires a little less work.</p>
<!-- START CODE "c4844_382" -->
<a id="c4844_382"></a><blockquote class="code"><p class="quoted">
The ticket machine is a container in the Subway Station. It is fixed in place. The description of the ticket machine is &quot;An LED screen on the front instructs you to insert [remaining ticket total] to complete your purchase. You also notice that the NO CHANGE light is lit up.&quot; The light is part of the ticket machine. The printed name of the light is &quot;no change light&quot;. Understand &quot;no change&quot; or &quot;no change light&quot; as the light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4845_382" -->
<a id="c4845_382"></a><blockquote class="code"><p class="quoted">
The description of the light is &quot;In the whole of your recollection, the ticket machine has actually had change a total of twice. Usually, as now, the no-change light gleams angrily, daring you to put in more than you owe.&quot; A cash return button is part of the ticket machine. Instead of pushing the cash return button: say &quot;The ticket machine regurgitates [the list of things in the ticket machine].&quot;; now every thing in the ticket machine is carried by the player. Instead of taking something which is in the ticket machine: say &quot;The ticket machine has swallowed your money, but it can be retrieved (you hope) with the cash return button.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4846_382" -->
<a id="c4846_382"></a><blockquote class="code"><p class="quoted">
Instead of inserting a hundred-dollar bill into the ticket machine:
<br />&#160;&#160;&#160;&#160;say &quot;What, are you nuts?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4847_382" -->
<a id="c4847_382"></a><blockquote class="code"><p class="quoted">
To decide what price is the remaining ticket total:
<br />&#160;&#160;&#160;&#160;let absolute cost be $2.25;
<br />&#160;&#160;&#160;&#160;let remaining cost be absolute cost minus the total price of things in the ticket machine;
<br />&#160;&#160;&#160;&#160;if remaining cost is less than $0.00, decide on $0.00;
<br />&#160;&#160;&#160;&#160;decide on remaining cost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4848_382" -->
<a id="c4848_382"></a><blockquote class="code"><p class="quoted">
Instead of inserting something which is not money into the ticket machine: say &quot;The ticket machine only accepts money, not other tokens of your esteem and regard.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4849_382" -->
<a id="c4849_382"></a><blockquote class="code"><p class="quoted">
Instead of inserting a penny into the ticket machine:
<br />&#160;&#160;&#160;&#160;say &quot;The penny rattles out again mockingly: not even the ticket machine thinks these are worth anything.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4850_382" -->
<a id="c4850_382"></a><blockquote class="code"><p class="quoted">
A subway pass is a kind of thing. 15 subway passes are in the cashbox. The description of a subway pass is usually &quot;A rectangle of thick lavender paper with a black magnetic stripe running up the back side. It is good for one trip on the subway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4851_382" -->
<a id="c4851_382"></a><blockquote class="code"><p class="quoted">
After inserting something into the ticket machine:
<br />&#160;&#160;&#160;&#160;if the remaining ticket total is $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let purchased ticket be a random subway pass in the cashbox;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if purchased ticket is not a subway pass, say &quot;The ticket machine grunts disobligingly and then the unwelcome word MALFUNCTION parades across the LED screen, three letters at a time.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through things in the machine:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is nowhere;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move purchased ticket to player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The ticket machine beeps obligingly and disgorges a single subway pass.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The ticket machine beeps obligingly and adjusts its price down to [remaining ticket total].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And because even though the ticket machine is a container, we don't want to say (empty) after it in the room description:</p>
<!-- START CODE "c4852_382" -->
<a id="c4852_382"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of the ticket machine:
<br />&#160;&#160;&#160;&#160;do nothing instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4853_382" -->
<a id="c4853_382"></a><blockquote class="code"><p class="quoted">
Test me with &quot;buy novel / n / get dollar / s / buy novel&quot;.
</p></blockquote>
<!-- END CODE -->
<p>After all that, we should probably give the player a chance to win, as well:</p>
<!-- START CODE "c4854_382" -->
<a id="c4854_382"></a><blockquote class="code"><p class="quoted">
The turnstile is south of the Subway Station. &quot;A turnstile is all that separates you from the subway platform stairs.&quot; The turnstile is north of the Platform. The turnstile is a door. Before going down in the presence of the turnstile, try going south instead. The turnstile is openable. The turnstile is open.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4855_382" -->
<a id="c4855_382"></a><blockquote class="code"><p class="quoted">
Instead of going through the turnstile when the player carries a subway pass: say &quot;You enter the turnstile and begin your journey uptown...&quot;; end the story finally saying &quot;At last&quot;. Instead of going through the turnstile: say &quot;You can't go through the turnstile without a subway pass. They're very strict about this.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4856_382" -->
<a id="c4856_382"></a><blockquote class="code"><p class="quoted">
Instead of inserting money into the turnstile: say &quot;The turnstile takes passes, not money.&quot; Instead of inserting a subway pass into the turnstile, try entering the turnstile.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4857_382" -->
<a id="c4857_382"></a><blockquote class="code"><p class="quoted">
Test more with &quot;buy times / put all but five-dollar bill in machine / press button / buy gum / buy cards / i / put dollar in machine / g / put quarter in machine / i / d&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In fairness to the Metropolitan Transit Authority, we should admit that most of the ticketing machines in the real New York subway are better than this, and will accept, say, a debit card. But that would be so much less exciting to implement.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "263: Widget Enterprises" "e437" -->
<a id="e437"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e437" class="eglink"><b>263</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e437" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Widget Enterprises</span></b></a><br />Allowing the player to set a price for a widget on sale, then determining the resulting sales based on consumer demand, and the resulting profit and loss.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e437"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example437">
<p>Suppose the player is responsible for pricing at Widget Enterprises. Widget production entails a certain fixed cost as well as a cost per unit; and somewhere out in the world there are a number of customers interested in purchasing widgets, but the player starts without knowing what this distribution looks like.</p>
<p>We can express the profits as an equation: the total made by selling widgets, minus the cost thereof.</p>
<p>The Table of Customers holds the data about customer preferences, and whenever the player selects a widget price, we consult it to determine how many customers in total would be willing to buy at that price.</p>
<!-- START CODE "c4858_437" -->
<a id="c4858_437"></a><blockquote class="code"><p class="quoted">
&quot;Widget Enterprises&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4859_437" -->
<a id="c4859_437"></a><blockquote class="code"><p class="quoted">
Widget Stand is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4860_437" -->
<a id="c4860_437"></a><blockquote class="code"><p class="quoted">
A monetary value is a kind of value. $1.99 specifies a monetary value with parts dollars and cents.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4861_437" -->
<a id="c4861_437"></a><blockquote class="code"><p class="quoted">
Equation - Profit Equation
<br />&#160;&#160;&#160;&#160;P = nV - (F + nC)
<br />where P is a monetary value, F is the fixed cost, C is the unit cost, V is a monetary value, and n is a number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4862_437" -->
<a id="c4862_437"></a><blockquote class="code"><p class="quoted">
The fixed cost is a monetary value that varies. The fixed cost is $5.00.
<br />The unit cost is a monetary value that varies. The unit cost is $10.66.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4863_437" -->
<a id="c4863_437"></a><blockquote class="code"><p class="quoted">
Table of Customers
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">base</p></td><td class="quotedtablecell"><p class="quoted">maximum value</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">$26.00</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">$20.00</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8 </p></td><td class="quotedtablecell"><p class="quoted">$15.00</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">$13.50</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">$9.00</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4864_437" -->
<a id="c4864_437"></a><blockquote class="code"><p class="quoted">
To decide what number is the units sold at (V - a monetary value):
<br />&#160;&#160;&#160;&#160;let total units be 0;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Customers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if V is less than the maximum value entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase total units by the base entry;
<br />&#160;&#160;&#160;&#160;decide on total units.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4865_437" -->
<a id="c4865_437"></a><blockquote class="code"><p class="quoted">
Understand &quot;set price to [monetary value]&quot; as setting price to. Setting price to is an action applying to one monetary value.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4866_437" -->
<a id="c4866_437"></a><blockquote class="code"><p class="quoted">
Carry out setting price to:
<br />&#160;&#160;&#160;&#160;let V be the monetary value understood;
<br />&#160;&#160;&#160;&#160;let n be the units sold at the monetary value understood;
<br />&#160;&#160;&#160;&#160;let P be given by the Profit Equation;
<br />&#160;&#160;&#160;&#160;say &quot;You set the price of your widgets to [V], resulting in sales of [n] unit[s] and &quot;;
<br />&#160;&#160;&#160;&#160;if P is less than $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let L be $0.00 - P;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a loss of [L].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if P is $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;break even.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a profit of [P].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4867_437" -->
<a id="c4867_437"></a><blockquote class="code"><p class="quoted">
Test me with &quot;set price to $0.00 / set price to $100.00 / set price to $15.00 / set price to $8.00 / set price to $25.00 / set price to $14.99&quot;.
</p></blockquote>
<!-- END CODE -->
<p>As written this will be a rather dull guessing game for the player; more interesting would be to enhance it into a fuller economic simulator with more control over fixed costs and customer price points.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "264: Frozen Assets" "e67" -->
<a id="e67"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e67" class="eglink"><b>264</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e67" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Frozen Assets</span></b></a><br />A treatment of money which keeps track of how much the player has on him, and a BUY command which lets him go shopping.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e67"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example67">
<p>In our brave new world, everything will have a price, so we had better spell this out.</p>
<!-- START CODE "c4868_67" -->
<a id="c4868_67"></a><blockquote class="code"><p class="quoted">
&quot;Frozen Assets&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4869_67" -->
<a id="c4869_67"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price. A thing has a price. The price of a thing is usually $0.00. After examining something for sale, say &quot;It can be yours for [the price of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we assume a simple shopping model in which the player can't take anything without paying for it.</p>
<!-- START CODE "c4870_67" -->
<a id="c4870_67"></a><blockquote class="code"><p class="quoted">
Definition: a thing is free if the price of it is $0.00.
<br />Definition: a thing is for sale if it is not free.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4871_67" -->
<a id="c4871_67"></a><blockquote class="code"><p class="quoted">
Instead of taking something for sale:
<br />&#160;&#160;&#160;&#160;say &quot;You'll have to pay for that.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4872_67" -->
<a id="c4872_67"></a><blockquote class="code"><p class="quoted">
Before buying something for sale when the money is not in the wallet:
<br />&#160;&#160;&#160;&#160;say &quot;You're broke.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4873_67" -->
<a id="c4873_67"></a><blockquote class="code"><p class="quoted">
Before buying something for sale when the money is free:
<br />&#160;&#160;&#160;&#160;say &quot;You're broke.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4874_67" -->
<a id="c4874_67"></a><blockquote class="code"><p class="quoted">
Before buying something for sale when the price of the money is less than the price of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;Your funds do not run to the price of [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4875_67" -->
<a id="c4875_67"></a><blockquote class="code"><p class="quoted">
Instead of buying something:
<br />&#160;&#160;&#160;&#160;decrease the price of the money by the price of the noun;
<br />&#160;&#160;&#160;&#160;say &quot;You fork over [the price of the noun] for [the noun], leaving yourself with [the price of the money].&quot;;
<br />&#160;&#160;&#160;&#160;if the money is free:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the money is nowhere;
<br />&#160;&#160;&#160;&#160;now the price of the noun is $0.00;
<br />&#160;&#160;&#160;&#160;now the player is carrying the noun.
</p></blockquote>
<!-- END CODE -->
<p>The player's money object is going to be a bit unusual, because it has value but cannot itself be bought.</p>
<!-- START CODE "c4876_67" -->
<a id="c4876_67"></a><blockquote class="code"><p class="quoted">
The player carries a wallet. The wallet contains money. The price of the money is $4.50. The printed name of the money is &quot;[price of the money] in cash&quot;. Understand &quot;cash&quot; as the money.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4877_67" -->
<a id="c4877_67"></a><blockquote class="code"><p class="quoted">
Instead of taking the money:
<br />&#160;&#160;&#160;&#160;say &quot;Best to leave it alone until you need to buy something.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4878_67" -->
<a id="c4878_67"></a><blockquote class="code"><p class="quoted">
Instead of buying something free:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is yours already.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4879_67" -->
<a id="c4879_67"></a><blockquote class="code"><p class="quoted">
Instead of buying the money:
<br />&#160;&#160;&#160;&#160;say &quot;The money belongs to you; you buy things with it.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we just need something to buy.</p>
<!-- START CODE "c4880_67" -->
<a id="c4880_67"></a><blockquote class="code"><p class="quoted">
The Dessert Parlor is a room. &quot;An underlit, over-crowded room campily furnished with a lot of gilt-frame mirrors and twinkle lights: it is essentially a brothel of food. The service is slow at best, and on Saturday nights glacial. However. The wares on display more than make up for these trivial inconveniences.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4881_67" -->
<a id="c4881_67"></a><blockquote class="code"><p class="quoted">
The vanilla ice cream is an edible thing in the Parlor. The price of the ice cream is $2.45. The description is &quot;In the scale of ice creams, you recognize this as a very inferior vanilla because it has no adjectives in the title.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4882_67" -->
<a id="c4882_67"></a><blockquote class="code"><p class="quoted">
The raspberry tart is an edible thing in the Parlor. The price of the tart is $4.50. The description is &quot;An almond-laced shell packed with raspberries-under-glaze.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4883_67" -->
<a id="c4883_67"></a><blockquote class="code"><p class="quoted">
The syllabub is an edible thing in the Parlor. The price of the syllabub is $4.25. The description is &quot;Whipped cream, alcohol, and lime juice, a substance without any redeeming food value whatever.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4884_67" -->
<a id="c4884_67"></a><blockquote class="code"><p class="quoted">
The espresso cake is an edible thing in the Parlor. The price of the espresso cake is $5.50. The description is &quot;A lethal wedge of purest blackness.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4885_67" -->
<a id="c4885_67"></a><blockquote class="code"><p class="quoted">
Test me with &quot;inventory / examine syllabub / get syllabub / buy syllabub / drop it / get it / buy raspberry tart&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Implementing caloric units for this scenario is left as an exercise for the reader.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "265: Money for Nothing" "e20" -->
<a id="e20"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e20" class="eglink"><b>265</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e20" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Money for Nothing</span></b></a><br />An OFFER price FOR command, allowing the player to bargain with a flexible seller.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e20"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example20">
<!-- START CODE "c4886_20" -->
<a id="c4886_20"></a><blockquote class="code"><p class="quoted">
&quot;Money for Nothing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4887_20" -->
<a id="c4887_20"></a><blockquote class="code"><p class="quoted">
Section 1 - Prices and Bargaining
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4888_20" -->
<a id="c4888_20"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4889_20" -->
<a id="c4889_20"></a><blockquote class="code"><p class="quoted">
A person has a price called wealth. The wealth of the player is $15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4890_20" -->
<a id="c4890_20"></a><blockquote class="code"><p class="quoted">
A thing has a price called minimum value. The minimum value of a thing is usually $0.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4891_20" -->
<a id="c4891_20"></a><blockquote class="code"><p class="quoted">
A thing has a price called desired value. The desired value of a thing is usually $5.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4892_20" -->
<a id="c4892_20"></a><blockquote class="code"><p class="quoted">
Offering it for is an action applying to one price and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4893_20" -->
<a id="c4893_20"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] for [something]&quot; as offering it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4894_20" -->
<a id="c4894_20"></a><blockquote class="code"><p class="quoted">
After taking inventory, say &quot;You have [the wealth of the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4895_20" -->
<a id="c4895_20"></a><blockquote class="code"><p class="quoted">
Check offering it for:
<br />&#160;&#160;&#160;&#160;if the price understood is greater than the wealth of the player, say &quot;You don't have that kind of cash.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not carried by someone, say &quot;There's no one in a position to sell you [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is carried by the player, say &quot;[The second noun] is already yours.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the minimum value of the second noun is greater than the price understood, say &quot;[The holder of the second noun] cackles disdainfully. 'If yer just here to insult me you can take your business elsewhere!' he says.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the desired value of the second noun is greater than the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be the desired value of the second noun minus the price understood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be difference divided by two;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the desired value of the second noun by difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'How about [desired value of the second noun]?' suggests [the holder of the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the desired value of the second noun is the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From the avaricious gleam in the eye of [the holder of the second noun], you guess you could've gotten this purchase for less...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4896_20" -->
<a id="c4896_20"></a><blockquote class="code"><p class="quoted">
Carry out offering it for:
<br />&#160;&#160;&#160;&#160;increase the wealth of the holder of the second noun by the price understood;
<br />&#160;&#160;&#160;&#160;decrease the wealth of the player by the price understood;
<br />&#160;&#160;&#160;&#160;move the second noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4897_20" -->
<a id="c4897_20"></a><blockquote class="code"><p class="quoted">
Report offering it for:
<br />&#160;&#160;&#160;&#160;say &quot;You spend [the price understood], and now you possess [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4898_20" -->
<a id="c4898_20"></a><blockquote class="code"><p class="quoted">
When play begins: now right hand status line is &quot;Your funds: [wealth of the player]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:</p>
<!-- START CODE "c4899_20" -->
<a id="c4899_20"></a><blockquote class="code"><p class="quoted">
The last object offered is a thing that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4900_20" -->
<a id="c4900_20"></a><blockquote class="code"><p class="quoted">
Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the price understood is the desired value of the last object offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try offering the desired value of the last object offered for the last object offered.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4901_20" -->
<a id="c4901_20"></a><blockquote class="code"><p class="quoted">
Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You reject the offer firmly.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:</p>
<!-- START CODE "c4902_20" -->
<a id="c4902_20"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] to [someone]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;). Understand &quot;offer [someone] [price]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4903_20" -->
<a id="c4903_20"></a><blockquote class="code"><p class="quoted">
Understand &quot;buy [something]&quot; as a mistake (&quot;You'll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4904_20" -->
<a id="c4904_20"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4905_20" -->
<a id="c4905_20"></a><blockquote class="code"><p class="quoted">
The Flea Market is a room. The crotchety man is a man in the Market. &quot;A crotchety man here is selling [the list of things carried by the crotchety man].&quot; The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4906_20" -->
<a id="c4906_20"></a><blockquote class="code"><p class="quoted">
The minimum value of the brooch is $2.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4907_20" -->
<a id="c4907_20"></a><blockquote class="code"><p class="quoted">
Test me with &quot;offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "266: Lemonade" "e223" -->
<a id="e223"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e223" class="eglink"><b>266</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e223" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lemonade</span></b></a><br />Containers for liquid which keep track of how much liquid they are holding and of what kind, and allow quantities to be moved from one container to another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e223"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example223">
<p>Liquids, and all substances that can be mixed or broken off in partial amounts, pose a challenge to model in interactive fiction. The following example is a simple one, but adequate for many scenarios.</p>
<p>We start by assuming that all liquids in the game will always appear in containers. The player can pour liquids from one container to another, and the containers keep track of how full they are and describe themselves appropriately. The player can also refer to containers by content.</p>
<p>Mixture, however, is not allowed, nor is it possible to put liquids on other objects, pour them out on the ground, etc. These ideas would require a more complicated set-up.</p>
<!-- START CODE "c4908_223" -->
<a id="c4908_223"></a><blockquote class="code"><p class="quoted">
&quot;Lemonade&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4909_223" -->
<a id="c4909_223"></a><blockquote class="code"><p class="quoted">
A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4910_223" -->
<a id="c4910_223"></a><blockquote class="code"><p class="quoted">
A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called current volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4911_223" -->
<a id="c4911_223"></a><blockquote class="code"><p class="quoted">
The fluid capacity of a fluid container is usually 12.0 fl oz. The current volume of a fluid container is usually 0.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4912_223" -->
<a id="c4912_223"></a><blockquote class="code"><p class="quoted">
Liquid is a kind of value. The liquids are water, milk, lemonade, and iced tea. A fluid container has a liquid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4913_223" -->
<a id="c4913_223"></a><blockquote class="code"><p class="quoted">
Instead of examining a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You catch just a hint of [the liquid of the noun] at the bottom.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] contains [current volume of the noun in rough terms] of [liquid of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4914_223" -->
<a id="c4914_223"></a><blockquote class="code"><p class="quoted">
To say (amount - a volume) in rough terms:
<br />&#160;&#160;&#160;&#160;if the amount is less than 0.5 fl oz:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a swallow or two&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let estimate be ounces part of amount;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[estimate in words] or [estimate plus 1 in words] fluid ounces&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;about [ounces part of amount in words] fluid ounce[s]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4915_223" -->
<a id="c4915_223"></a><blockquote class="code"><p class="quoted">
Before printing the name of a fluid container (called the target) while not drinking:
<br />&#160;&#160;&#160;&#160;if the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;empty &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4916_223" -->
<a id="c4916_223"></a><blockquote class="code"><p class="quoted">
After printing the name of a fluid container (called the target) while not examining:
<br />&#160;&#160;&#160;&#160;unless the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; of [liquid of the target]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4917_223" -->
<a id="c4917_223"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] has too narrow a mouth to accept anything but liquids.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4918_223" -->
<a id="c4918_223"></a><blockquote class="code"><p class="quoted">
Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4919_223" -->
<a id="c4919_223"></a><blockquote class="code"><p class="quoted">
Understand &quot;drink from [fluid container]&quot; as drinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4920_223" -->
<a id="c4920_223"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is no more [liquid of the noun] within.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the current volume of the noun by 0.2 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current volume of the noun is less than 0.0 fl oz, now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You take a sip of [the liquid of the noun][if the noun is empty], leaving [the noun] empty[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We have allowed all liquids to be drunk, but it would be possible also to add checking, if we had a game where some liquids were beverages and others were, say, motor oil.</p>
<!-- START CODE "c4921_223" -->
<a id="c4921_223"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;fill&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4922_223" -->
<a id="c4922_223"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [fluid container] in/into/on/onto [fluid container]&quot; as pouring it into. Understand &quot;empty [fluid container] into [fluid container]&quot; as pouring it into. Understand &quot;fill [fluid container] with/from [fluid container]&quot; as pouring it into (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4923_223" -->
<a id="c4923_223"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [something] in/into/on/onto [something]&quot; as pouring it into. Understand &quot;empty [something] into [something]&quot; as pouring it into. Understand &quot;fill [something] with/from [something]&quot; as pouring it into (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4924_223" -->
<a id="c4924_223"></a><blockquote class="code"><p class="quoted">
Pouring it into is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4925_223" -->
<a id="c4925_223"></a><blockquote class="code"><p class="quoted">
Check pouring it into:
<br />&#160;&#160;&#160;&#160;if the noun is not a fluid container, say &quot;You can't pour [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a fluid container, say &quot;You can't pour liquids into [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the second noun, say &quot;You can hardly pour [the noun] into itself.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the liquid of the noun is not the liquid of the second noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second noun is empty, now the liquid of the second noun is the liquid of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;Mixing [the liquid of the noun] with [the liquid of the second noun] would give unsavory results.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;No more [liquid of the noun] remains in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is full, say &quot;[The second noun] cannot contain any more than it already holds.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4926_223" -->
<a id="c4926_223"></a><blockquote class="code"><p class="quoted">
Carry out pouring it into:
<br />&#160;&#160;&#160;&#160;let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;
<br />&#160;&#160;&#160;&#160;if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;
<br />&#160;&#160;&#160;&#160;increase the current volume of the second noun by available capacity;
<br />&#160;&#160;&#160;&#160;decrease the current volume of the noun by available capacity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4927_223" -->
<a id="c4927_223"></a><blockquote class="code"><p class="quoted">
Report pouring it into:
<br />&#160;&#160;&#160;&#160;say &quot;[if the noun is empty][The noun] is now empty;[otherwise][The noun] now contains [current volume of the noun in rough terms] of [liquid of the noun]; [end if]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[the second noun] contains [current volume of the second noun in rough terms] of [liquid of the second noun][if the second noun is full], and is now full[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is probably a drier description than we would actually want in our story, but it does allow us to see that the mechanics of the system are working, so we'll stick with this for the example.</p>
<p>Now we need a trick from a later chapter, which allows something to be described in terms of a property it has. This way, the story will understand not only &quot;pitcher&quot; and &quot;glass&quot; but also &quot;pitcher of lemonade&quot; and &quot;glass of milk&quot; -- and, indeed, &quot;glass of lemonade&quot;, if we empty the glass and refill it with another substance:</p>
<!-- START CODE "c4928_223" -->
<a id="c4928_223"></a><blockquote class="code"><p class="quoted">
Understand the liquid property as describing a fluid container. Understand &quot;of&quot; as a fluid container.
</p></blockquote>
<!-- END CODE -->
<p>And now the scenario itself:</p>
<!-- START CODE "c4929_223" -->
<a id="c4929_223"></a><blockquote class="code"><p class="quoted">
The Porch is a room. The porch swing is an enterable supporter in the Porch. &quot;An inviting swing hangs here at the end of the porch, allowing you to enjoy the summer with a cool beverage, and watch your neighbor Ted mowing his lawn with the very last manual powerless lawnmower on the block.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4930_223" -->
<a id="c4930_223"></a><blockquote class="code"><p class="quoted">
The glass is a fluid container carried by the player. The liquid of the glass is milk. The current volume of the glass is 0.8 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4931_223" -->
<a id="c4931_223"></a><blockquote class="code"><p class="quoted">
The pitcher is a fluid container in the Porch. The fluid capacity of the pitcher is 32.0 fl oz. The current volume of the pitcher is 20.0 fl oz. The liquid of the pitcher is lemonade.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4932_223" -->
<a id="c4932_223"></a><blockquote class="code"><p class="quoted">
Ted's Lawn is outside from the Porch. Ted is a man in Ted's Lawn. &quot;Ted has taken off his shirt, but still seems a bit oppressed by the sun.&quot; The description of Ted is &quot;He looks hot. In all senses.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4933_223" -->
<a id="c4933_223"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player: place Ted in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4934_223" -->
<a id="c4934_223"></a><blockquote class="code"><p class="quoted">
Instead of doing something to Ted when the player is in the Porch: say &quot;You can't really interact with Ted from this distance, except in the sense of eyeing him surreptitiously.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4935_223" -->
<a id="c4935_223"></a><blockquote class="code"><p class="quoted">
Instead of giving an empty fluid container to Ted: say &quot;Yes, taunt the poor man, why don't you?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4936_223" -->
<a id="c4936_223"></a><blockquote class="code"><p class="quoted">
Instead of giving a fluid container to Ted when the liquid of the noun is milk: say &quot;Ted looks ruefully at the milk. 'Thanks, but I'm lactose-intolerant,' he says.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4937_223" -->
<a id="c4937_223"></a><blockquote class="code"><p class="quoted">
The block giving rule is not listed in the check giving it to rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4938_223" -->
<a id="c4938_223"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if Ted is in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if Ted carries a fluid container (called refreshment):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try Ted drinking the refreshment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise if a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Ted pushes the ineffective mower over some dandelions.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4939_223" -->
<a id="c4939_223"></a><blockquote class="code"><p class="quoted">
Instead of someone drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try the person asked giving the noun to the player;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the current volume of the noun by 2.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current volume of the noun is less than 0.0 fl oz, now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The person asked] gulps down some [liquid of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4940_223" -->
<a id="c4940_223"></a><blockquote class="code"><p class="quoted">
After someone giving something to the player:
<br />&#160;&#160;&#160;&#160;say &quot;'Here,' says [the person asked], handing [the noun] back to you. 'Thanks, I owe you one.'&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4941_223" -->
<a id="c4941_223"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x milk / x lemonade / drink lemonade / drink milk / pour lemonade into glass / drink milk / x milk / drink milk / g / i / fill glass with lemonade / drink lemonade / drop glass / drink lemonade / pitcher&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4942_223" -->
<a id="c4942_223"></a><blockquote class="code"><p class="quoted">
Test Ted with &quot;out / give milk to ted / drink milk / g / g / g / give glass to ted / in / fill glass with lemonade / out / give lemonade to ted / wait / z / z / z &quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "267: Savannah" "e339" -->
<a id="e339"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e339" class="eglink"><b>267</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e339" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Savannah</span></b></a><br />Using the liquid implementation demonstrated in Lemonade for putting out fires.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e339"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example339">
<p>Here we build very slightly on the existing liquid implementation to add a puzzle where the player puts out a fire with a bucket of water. Most of the liquid implementation remains the same as before, but now we understand the names of containers according to the liquids they contain.</p>
<p>The new material, pertaining to extinguishing fires, is at the bottom in section 2.</p>
<!-- START CODE "c4943_339" -->
<a id="c4943_339"></a><blockquote class="code"><p class="quoted">
&quot;Savannah&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4944_339" -->
<a id="c4944_339"></a><blockquote class="code"><p class="quoted">
Section 1 - Essentials of Liquid
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4945_339" -->
<a id="c4945_339"></a><blockquote class="code"><p class="quoted">
A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4946_339" -->
<a id="c4946_339"></a><blockquote class="code"><p class="quoted">
A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called current volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4947_339" -->
<a id="c4947_339"></a><blockquote class="code"><p class="quoted">
The fluid capacity of a fluid container is usually 12.0 fl oz. The current volume of a fluid container is usually 0.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4948_339" -->
<a id="c4948_339"></a><blockquote class="code"><p class="quoted">
Liquid is a kind of value. A fluid container has a liquid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4949_339" -->
<a id="c4949_339"></a><blockquote class="code"><p class="quoted">
Instead of examining a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You catch just a hint of [the liquid of the noun] at the bottom.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] contains [current volume of the noun in rough terms] of [liquid of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4950_339" -->
<a id="c4950_339"></a><blockquote class="code"><p class="quoted">
To say (amount - a volume) in rough terms:
<br />&#160;&#160;&#160;&#160;if the amount is less than 0.5 fl oz:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a swallow or two&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let estimate be ounces part of amount;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[estimate in words] or [estimate plus 1 in words] fluid ounces&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;about [ounces part of amount in words] fluid ounce[s]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4951_339" -->
<a id="c4951_339"></a><blockquote class="code"><p class="quoted">
Before printing the name of a fluid container (called the target) while not drinking:
<br />&#160;&#160;&#160;&#160;if the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;empty &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4952_339" -->
<a id="c4952_339"></a><blockquote class="code"><p class="quoted">
After printing the name of a fluid container (called the target) while not examining:
<br />&#160;&#160;&#160;&#160;unless the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; of [liquid of the target]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4953_339" -->
<a id="c4953_339"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] has too narrow a mouth to accept anything but liquids.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4954_339" -->
<a id="c4954_339"></a><blockquote class="code"><p class="quoted">
Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4955_339" -->
<a id="c4955_339"></a><blockquote class="code"><p class="quoted">
Understand &quot;drink from [fluid container]&quot; as drinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4956_339" -->
<a id="c4956_339"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is no more [liquid of the noun] within.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the current volume of the noun by 0.2 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current volume of the noun is less than 0.0 fl oz, now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You take a sip of [the liquid of the noun][if the noun is empty], leaving [the noun] empty[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4957_339" -->
<a id="c4957_339"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;fill&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4958_339" -->
<a id="c4958_339"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [fluid container] in/into/on/onto [fluid container]&quot; as pouring it into. Understand &quot;empty [fluid container] into [fluid container]&quot; as pouring it into. Understand &quot;fill [fluid container] with/from [fluid container]&quot; as pouring it into (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4959_339" -->
<a id="c4959_339"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [something] in/into/on/onto [something]&quot; as pouring it into. Understand &quot;empty [something] into [something]&quot; as pouring it into. Understand &quot;fill [something] with/from [something]&quot; as pouring it into (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4960_339" -->
<a id="c4960_339"></a><blockquote class="code"><p class="quoted">
Pouring it into is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4961_339" -->
<a id="c4961_339"></a><blockquote class="code"><p class="quoted">
Check pouring it into:
<br />&#160;&#160;&#160;&#160;if the noun is not a fluid container, say &quot;You can't pour [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a fluid container, say &quot;You can't pour liquids into [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the second noun, say &quot;You can hardly pour [the noun] into itself.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the liquid of the noun is not the liquid of the second noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the second noun is empty, now the liquid of the second noun is the liquid of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;Mixing [the liquid of the noun] with [the liquid of the second noun] would give unsavory results.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;No more [liquid of the noun] remains in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is full, say &quot;[The second noun] cannot contain any more than it already holds.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4962_339" -->
<a id="c4962_339"></a><blockquote class="code"><p class="quoted">
Carry out pouring it into:
<br />&#160;&#160;&#160;&#160;let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;
<br />&#160;&#160;&#160;&#160;if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;
<br />&#160;&#160;&#160;&#160;increase the current volume of the second noun by available capacity;
<br />&#160;&#160;&#160;&#160;decrease the current volume of the noun by available capacity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4963_339" -->
<a id="c4963_339"></a><blockquote class="code"><p class="quoted">
Report pouring it into:
<br />&#160;&#160;&#160;&#160;say &quot;[if the noun is empty][The noun] is now empty;[otherwise][The noun] now contains [current volume of the noun in rough terms] of [liquid of the noun]; [end if]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[the second noun] contains [current volume of the second noun in rough terms] of [liquid of the second noun][if the second noun is full], and is now full[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4964_339" -->
<a id="c4964_339"></a><blockquote class="code"><p class="quoted">
Understand the liquid property as describing a fluid container. Understand &quot;of&quot; as a fluid container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4965_339" -->
<a id="c4965_339"></a><blockquote class="code"><p class="quoted">
Section 2 - Putting Out Fires
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4966_339" -->
<a id="c4966_339"></a><blockquote class="code"><p class="quoted">
The Beach is a room. &quot;The Atlantic stretches east to the horizon, though it is at low tide at the moment. It is dawn: time to pack up and go home.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We will skip implementing the Pacific ocean itself, though the example Lakeside Living shows how to incorporate large bodies of water into our liquid simulation.</p>
<!-- START CODE "c4967_339" -->
<a id="c4967_339"></a><blockquote class="code"><p class="quoted">
The liquids are seawater. [We could include others, but for the moment...]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4968_339" -->
<a id="c4968_339"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container when the liquid of the noun is seawater:
<br />&#160;&#160;&#160;&#160;say &quot;Blech!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4969_339" -->
<a id="c4969_339"></a><blockquote class="code"><p class="quoted">
The bucket is a fluid container carried by the player. The liquid of the bucket is seawater. The current volume of the bucket is 64.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4970_339" -->
<a id="c4970_339"></a><blockquote class="code"><p class="quoted">
The fire is a fixed in place thing in the beach. &quot;A low fire crackles here, left over from an attempt at s'mores much earlier in the evening.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4971_339" -->
<a id="c4971_339"></a><blockquote class="code"><p class="quoted">
Instead of touching or rubbing or taking the fire, say &quot;You're not such a glutton for punishment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4972_339" -->
<a id="c4972_339"></a><blockquote class="code"><p class="quoted">
Instead of pouring something into the fire:
<br />&#160;&#160;&#160;&#160;now the fire is nowhere;
<br />&#160;&#160;&#160;&#160;now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] goes out in a great hiss.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4973_339" -->
<a id="c4973_339"></a><blockquote class="code"><p class="quoted">
Test me with &quot;drink seawater / pour seawater on fire / x bucket / i&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This is still a specific implementation: if we wanted to weave liquids together with a full-scale burning model (as in &quot;In Fire or in Flood&quot;), where pretty much any object in the game can be flaming (currently on fire) or damp (extinguished), we might generalize our rule to</p>
<!-- START CODE "c4974_339" -->
<a id="c4974_339"></a><blockquote class="code"><p class="quoted">
Instead of pouring something into a flaming thing:
<br />&#160;&#160;&#160;&#160;now the second noun is damp;
<br />&#160;&#160;&#160;&#160;now the current volume of the noun is 0.0 fl oz;
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] goes out in a great hiss.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Of course, the merging of fire and liquids also raises the possibility of gasoline and explosives, of heating and boiling liquids, etc.: as always, it's wise to incorporate a simulation that is only as detailed as the game's interactions really justify.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "268: Depth" "e317" -->
<a id="e317"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e317" class="eglink"><b>268</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e317" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Depth</span></b></a><br />Receptacles that calculate internal volume and the amount of room available, and  cannot be overfilled.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e317"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example317">
<p>In the following, we pretend that every item has a cuboidal shape. Every thing has a length, width and depth, while a &quot;measured container&quot; also has interior dimensions. (Thus a 10x10x10 container with 1cm-thick sides might have interior dimensions 9x9x9.)</p>
<!-- START CODE "c4975_317" -->
<a id="c4975_317"></a><blockquote class="code"><p class="quoted">
&quot;Depth&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4976_317" -->
<a id="c4976_317"></a><blockquote class="code"><p class="quoted">
A length is a kind of value. 10 cm specifies a length. An area is a kind of value. 10 sq cm specifies an area. A length times a length specifies an area. A volume is a kind of value. 10 cu cm specifies a volume. A length times an area specifies a volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4977_317" -->
<a id="c4977_317"></a><blockquote class="code"><p class="quoted">
A thing has a length called height. A thing has a length called width. A thing has a length called depth. The height of a thing is usually 10 cm. The width of a thing is usually 10 cm. The depth of a thing is usually 10 cm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4978_317" -->
<a id="c4978_317"></a><blockquote class="code"><p class="quoted">
To decide what volume is the exterior volume of (item - a thing):
<br />&#160;&#160;&#160;&#160;let base area be the height of the item multiplied by the width of the item;
<br />&#160;&#160;&#160;&#160;let base volume be the base area multiplied by the depth of the item;
<br />&#160;&#160;&#160;&#160;decide on the base volume.
</p></blockquote>
<!-- END CODE -->
<p>In order to see how these shapes might fit together spatially, we need to work out the three dimensions in order of size. (If we were only dealing with portable objects, we could simply insist that the length always be greater than the width which in turn must be greater than the depth, because we could always turn them over in our hands until this was so: but some of the things we deal with may be fixed in place.) A clever way to do this might be to put them in a table of three rows and sort it, but we will write the calculation out longhand:</p>
<!-- START CODE "c4979_317" -->
<a id="c4979_317"></a><blockquote class="code"><p class="quoted">
To decide what length is the largest dimension of (item - a thing):
<br />&#160;&#160;&#160;&#160;let long side be the height of item;
<br />&#160;&#160;&#160;&#160;if the width of the item is greater than the long side, now the long side is the width of the item;
<br />&#160;&#160;&#160;&#160;if the depth of the item is greater than the long side, now the long side is the depth of the item;
<br />&#160;&#160;&#160;&#160;decide on the long side.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4980_317" -->
<a id="c4980_317"></a><blockquote class="code"><p class="quoted">
To decide what length is the middling dimension of (item - a thing):
<br />&#160;&#160;&#160;&#160;let longer side be the height of item;
<br />&#160;&#160;&#160;&#160;let shorter side be the width of item;
<br />&#160;&#160;&#160;&#160;if the width of the item is greater than the height of the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let shorter side be the height of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let longer side be the width of item;
<br />&#160;&#160;&#160;&#160;if the depth of the item is greater than the longer side, decide on the longer side;
<br />&#160;&#160;&#160;&#160;if the depth of the item is less than the shorter side, decide on the shorter side;
<br />&#160;&#160;&#160;&#160;decide on the depth of the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4981_317" -->
<a id="c4981_317"></a><blockquote class="code"><p class="quoted">
To decide what length is the shortest dimension of (item - a thing):
<br />&#160;&#160;&#160;&#160;let short side be the height of item;
<br />&#160;&#160;&#160;&#160;if the width of the item is less than the short side, now the short side is the width of the item;
<br />&#160;&#160;&#160;&#160;if the depth of the item is less than the short side, now the short side is the depth of the item;
<br />&#160;&#160;&#160;&#160;decide on the short side.
</p></blockquote>
<!-- END CODE -->
<p>When testing this example, the author made use of the following: it's no longer needed, but may be useful to anyone else planning elaborations.</p>
<!-- START CODE "c4982_317" -->
<a id="c4982_317"></a><blockquote class="code"><p class="quoted">
To test the dimensions of (item - a thing):
<br />&#160;&#160;&#160;&#160;say &quot;[the item] - height [height of the item], width [width of the item], depth [depth of the item].&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;largest side [largest dimension of the item], middling [middling dimension of the item], smallest [shortest dimension of the item].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We now introduce a new kind: a measured container, which not only has exterior dimensions - the height, width and depth which every thing now has - but also interior measurements. A convenient way to do calculations with the hollow interior is to regard it as if it were a solid shape in its own right, and we do this with the aid of something out of world, which the player never sees: the &quot;imaginary cuboid&quot;, which is made into the shape of whatever measured container's interior is being thought about.</p>
<!-- START CODE "c4983_317" -->
<a id="c4983_317"></a><blockquote class="code"><p class="quoted">
A measured container is a kind of container. A measured container has a length called interior height. A measured container has a length called interior width. A measured container has a length called interior depth.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4984_317" -->
<a id="c4984_317"></a><blockquote class="code"><p class="quoted">
There is an imaginary cuboid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4985_317" -->
<a id="c4985_317"></a><blockquote class="code"><p class="quoted">
To imagine the interior of (receptacle - a measured container) as a cuboid:
<br />&#160;&#160;&#160;&#160;now the height of the imaginary cuboid is the interior height of the receptacle;
<br />&#160;&#160;&#160;&#160;now the width of the imaginary cuboid is the interior width of the receptacle;
<br />&#160;&#160;&#160;&#160;now the depth of the imaginary cuboid is the interior depth of the receptacle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4986_317" -->
<a id="c4986_317"></a><blockquote class="code"><p class="quoted">
To decide what volume is the interior volume of (receptacle - a measured container):
<br />&#160;&#160;&#160;&#160;imagine the interior of the receptacle as a cuboid;
<br />&#160;&#160;&#160;&#160;decide on the exterior volume of the imaginary cuboid.
</p></blockquote>
<!-- END CODE -->
<p>If we assume that we could always pack items into a measured container with perfect ease, never wasting any space, then the only volume constraint will be that the total volume of the contents must not exceed the volume of the inside of the container. So we need to calculate the available volume.</p>
<!-- START CODE "c4987_317" -->
<a id="c4987_317"></a><blockquote class="code"><p class="quoted">
To decide what volume is the available volume of (receptacle - a measured container):
<br />&#160;&#160;&#160;&#160;let the remaining space be the interior volume of the receptacle;
<br />&#160;&#160;&#160;&#160;repeat with item running through things in the receptacle:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the remaining space by the exterior volume of the item;
<br />&#160;&#160;&#160;&#160;if the remaining space is less than 0 cu cm, decide on 0 cu cm;
<br />&#160;&#160;&#160;&#160;decide on the remaining space.
</p></blockquote>
<!-- END CODE -->
<p>If we only constrained volume, a 140 cm-long fishing rod could fit into a 12 cm by 12 cm compact disc box. So we also insist the basic shape must fit, in some orientation perpendicular to one of the sides (i.e.: we can turn the item over in any of its three sides, but not turn it diagonally or wedge it in at a tilt). This requires the longest side of the item to be less than the longest side of the receptacle, and the middle-length side, and also the shortest side. The number of these conditions to fail gives us a clue as to how we can best describe the reason why the shape won't squeeze in.</p>
<!-- START CODE "c4988_317" -->
<a id="c4988_317"></a><blockquote class="code"><p class="quoted">
Check inserting something (called the item) into a measured container (called the receptacle):
<br />&#160;&#160;&#160;&#160;if the exterior volume of the item is greater than the interior volume of the receptacle, say &quot;[The item] will never fit inside [the receptacle].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the exterior volume of the item is greater than the available volume of the receptacle, say &quot;[The item] will not fit into [the receptacle] with [the list of things in the receptacle].&quot; instead;
<br />&#160;&#160;&#160;&#160;imagine the interior of the receptacle as a cuboid;
<br />&#160;&#160;&#160;&#160;if the largest dimension of the item is greater than the largest dimension of the imaginary cuboid, say &quot;[The item] is too long to fit into [the receptacle].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the middling dimension of the item is greater than the middling dimension of the imaginary cuboid, say &quot;[The item] is too wide to fit into [the receptacle].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the shortest dimension of the item is greater than the shortest dimension of the imaginary cuboid, say &quot;[The item] is too bulky to fit into [the receptacle].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>And finally a situation to try out these rules.</p>
<!-- START CODE "c4989_317" -->
<a id="c4989_317"></a><blockquote class="code"><p class="quoted">
The Cubist Lab is a room. &quot;A laboratory which, as the art critic Louis Vauxcelles said about Braque's paintings in 1908, is full of little cubes: everyday objects rendered as if cuboidal.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4990_317" -->
<a id="c4990_317"></a><blockquote class="code"><p class="quoted">
The box is a measured container. The interior height is 10 cm. The interior depth is 5 cm. The interior width is 6 cm. The player carries the box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4991_317" -->
<a id="c4991_317"></a><blockquote class="code"><p class="quoted">
A pebble is a kind of thing. The height is usually 2 cm. The depth is usually 2 cm. The width is usually 2 cm. The player carries 25 pebbles.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4992_317" -->
<a id="c4992_317"></a><blockquote class="code"><p class="quoted">
A red rubber ball is carried by the player. The depth is 5 cm. The width is 5 cm. The height is 5 cm.
<br />An arrow is carried by the player. The height is 40 cm. The width is 1 cm. The depth is 1 cm.
<br />A crusty baguette is carried by the player. The height is 80 cm. The width is 4 cm. The depth is 5 cm.
<br />A child's book is carried by the player. The height is 1 cm. The width is 9 cm. The depth is 9 cm.
<br />A featureless white cube is carried by the player. The height is 6 cm. The width is 6 cm. The depth is 6 cm.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4993_317" -->
<a id="c4993_317"></a><blockquote class="code"><p class="quoted">
Test me with &quot;put arrow in box / put book in box / put cube in box / put ball in box / put baguette in box / put pebbles in box&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Several warnings about this. First, the numbers can't go very high (if the Settings for the project set the story file format to the Z-machine): while the volume can in theory go to 32,767, in practice this equates to an object 32 cm on a side, which is not very large. One way to avoid this is to use the Glulx format, allowing for sizes in excess of 10 m on a side: or we could simply scale the dimensions to suit our purposes, using a decimeter (10 cm) as the basic unit of measurement, for instance.</p>
<p>Second, the system will require a height, width, and depth for every portable object in the game, which is a large commitment to data entry; it may become tiresome. So it is probably not worth bothering with this kind of simulation unless it is going to be genuinely significant.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "269: Fabrication" "e134" -->
<a id="e134"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e134" class="eglink"><b>269</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e134" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fabrication</span></b></a><br />A system of assembling clothing from a pattern and materials; both the pattern and the different fabrics have associated prices.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e134"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example134">
<p>When we make a new kind of value, the new named values can themselves have properties. That is convenient because, for instance, we might want to associate a material (itself the property of an object) with certain features, such as price.</p>
<!-- START CODE "c4994_134" -->
<a id="c4994_134"></a><blockquote class="code"><p class="quoted">
&quot;Fabrication&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4995_134" -->
<a id="c4995_134"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4996_134" -->
<a id="c4996_134"></a><blockquote class="code"><p class="quoted">
A material is a kind of value. The materials are silk, velvet, cotton, and wool.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4997_134" -->
<a id="c4997_134"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $1.99 specifies a price.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4998_134" -->
<a id="c4998_134"></a><blockquote class="code"><p class="quoted">
Area is a kind of value. 5 sq yards specifies an area.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4999_134" -->
<a id="c4999_134"></a><blockquote class="code"><p class="quoted">
Cost is a kind of value.. $1.99 per sq yard specifies a cost.  A cost times an area specifies a price.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5000_134" -->
<a id="c5000_134"></a><blockquote class="code"><p class="quoted">
A material has a cost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5001_134" -->
<a id="c5001_134"></a><blockquote class="code"><p class="quoted">
The cost of silk is usually $5.75 per sq yard. The cost of velvet is usually $9.50 per sq yard. The cost of cotton is usually $2.29 per sq yard. The cost of wool is usually $4.75 per sq yard.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5002_134" -->
<a id="c5002_134"></a><blockquote class="code"><p class="quoted">
A pattern is a kind of thing. A pattern has a material. A pattern has an area. A pattern has a price. The price of a pattern is usually $9.99. Understand &quot;pattern&quot; as a pattern. Understand &quot;patterns&quot; as the plural of a pattern.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5003_134" -->
<a id="c5003_134"></a><blockquote class="code"><p class="quoted">
After printing the name of a pattern:
<br />&#160;&#160;&#160;&#160;if planning:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; pattern&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5004_134" -->
<a id="c5004_134"></a><blockquote class="code"><p class="quoted">
To decide what price is the material price of (chosen item - pattern):
<br />&#160;&#160;&#160;&#160;let C be the cost of the material of the chosen item;
<br />&#160;&#160;&#160;&#160;let A be the area of the chosen item;
<br />&#160;&#160;&#160;&#160;decide on C * A.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5005_134" -->
<a id="c5005_134"></a><blockquote class="code"><p class="quoted">
To decide what price is the overall price of (chosen item - pattern):
<br />&#160;&#160;&#160;&#160;let P be the price of the chosen item;
<br />&#160;&#160;&#160;&#160;let M be the material price of the chosen item;
<br />&#160;&#160;&#160;&#160;decide on P + M.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5006_134" -->
<a id="c5006_134"></a><blockquote class="code"><p class="quoted">
Understand &quot;plan [material] [pattern]&quot; as planning it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5007_134" -->
<a id="c5007_134"></a><blockquote class="code"><p class="quoted">
Planning it for is an action applying to one material and one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5008_134" -->
<a id="c5008_134"></a><blockquote class="code"><p class="quoted">
Carry out planning it for:
<br />&#160;&#160;&#160;&#160;now the material of the second noun is the material understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5009_134" -->
<a id="c5009_134"></a><blockquote class="code"><p class="quoted">
Report planning it for:
<br />&#160;&#160;&#160;&#160;say &quot;You lay plans for a [material understood] [second noun], running [material price of the second noun] for materials and [price of the second noun] for the pattern itself, for a total of [overall price of the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5010_134" -->
<a id="c5010_134"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5011_134" -->
<a id="c5011_134"></a><blockquote class="code"><p class="quoted">
Joanne's Fabrics is a room. Joanne's Fabrics contains a pattern bin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5012_134" -->
<a id="c5012_134"></a><blockquote class="code"><p class="quoted">
The cape is a pattern. The material of the cape is velvet. The area of the cape is 9 sq yards.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5013_134" -->
<a id="c5013_134"></a><blockquote class="code"><p class="quoted">
The bodice is a pattern. The material of the bodice is silk. The area of the bodice is 2 sq yards. The price of the bodice is $11.99.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5014_134" -->
<a id="c5014_134"></a><blockquote class="code"><p class="quoted">
The cape and the bodice are in the pattern bin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5015_134" -->
<a id="c5015_134"></a><blockquote class="code"><p class="quoted">
Test me with &quot;plan silk bodice / plan velvet bodice / plan velvet cape / plan wool cape&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "270: The Speed of Thought" "e355" -->
<a id="e355"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_15.html#e355" class="eglink"><b>270</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15.html#e355" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Speed of Thought</span></b></a><br />Describing scientifically-measured objects in units more familiar to the casual audience.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e355"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example355">
<p>Suppose that we have a number of objects in the game that are sized in some conventional unit (such as meters), but which we would like to describe in slightly less formal terms. To do this, we will start with measurements as defined in the built-in extension Metric Units, so we don't have to recreate all these.</p>
<p>We'll add our own set of &quot;conceptual units&quot; -- things we're familiar with in real life. As we'll see below, Inform will automatically choose a unit of the right order to express a given distance if we tell it to print a length &quot;in conceptual units&quot;.</p>
<p>Note: the following will compile only if you have settings set for Glulx. (To change this, go to the Settings panel and click on the Glulx option.) The Glulx virtual machine is capable of handling larger numbers than the Z-machine.</p>
<!-- START CODE "c5016_355" -->
<a id="c5016_355"></a><blockquote class="code"><p class="quoted">
&quot;The Speed of Thought&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5017_355" -->
<a id="c5017_355"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5018_355" -->
<a id="c5018_355"></a><blockquote class="code"><p class="quoted">
Include Metric Units by Graham Nelson.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5019_355" -->
<a id="c5019_355"></a><blockquote class="code"><p class="quoted">
1 quarter (in conceptual units, in quarters, singular) or 2 quarters (in conceptual units, in quarters, plural) specifies a length equivalent to 24mm.
<br />1 pencil (in conceptual units, in pencils, singular) or 2 pencils (in conceptual units, in pencils, plural) specifies a length equivalent to 18cm.
<br />1 bathtub (in conceptual units, in bathtubs, singular) or 2 bathtubs (in conceptual units, in bathtubs, plural) specifies a length equivalent to 152cm.
<br />1 Olympic swimming pool (in conceptual units, in Olympic swimming pools, singular) or 2 Olympic swimming pools (in conceptual units, in Olympic swimming pools, plural) specifies a length equivalent to 50 meters.
<br />1 Empire state building (in conceptual units, in Empire State buildings, singular) or 2 Empire State buildings (in conceptual units, in Empire State buildings, plural) specifies a length equivalent to 443m.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5020_355" -->
<a id="c5020_355"></a><blockquote class="code"><p class="quoted">
1 credit card (in conceptual units, in credit cards, singular) or 2 credit cards (in conceptual units, in credit cards, plural) specifies an area equivalent to 46 sq cm.
<br />1 letter sheet (in conceptual units, in letter sheets, singular) or 2 letter sheets (in conceptual units, in letter sheets, plural) specifies an area equivalent to 603 sq cm.
<br />1 queen-sized mattress (in conceptual units, in queen-sized mattresses, singular) or 2 queen-sized mattresses (in conceptual units, in queen-sized mattresses, plural) specifies an area equivalent to 3 square meters.
<br />1 football field (in conceptual units, in football fields, singular) or 2 football fields (in conceptual units, in football fields, plural) specifies an area equivalent to 5351 square meters.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5021_355" -->
<a id="c5021_355"></a><blockquote class="code"><p class="quoted">
Understand &quot;report [something]&quot; as reporting. Reporting is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5022_355" -->
<a id="c5022_355"></a><blockquote class="code"><p class="quoted">
Check reporting:
<br />&#160;&#160;&#160;&#160;if the noun is not a fact:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The public doesn't want to hear about [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5023_355" -->
<a id="c5023_355"></a><blockquote class="code"><p class="quoted">
Carry out reporting:
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5024_355" -->
<a id="c5024_355"></a><blockquote class="code"><p class="quoted">
Report reporting:
<br />&#160;&#160;&#160;&#160;if the extent of the noun is greater than 0mm and the surface of the noun is greater than 0 sq cm:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;contextualize &quot;'[The noun] has a length of [about] [extent of the noun in conceptual units] and an area of [about] [surface of the noun in conceptual units].'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the extent of the noun is greater than 0mm:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;contextualize &quot;'[The noun] has a length of [about] [extent of the noun in conceptual units].'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the surface of the noun is greater than 0 sq cm:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;contextualize &quot;'[The noun] has an area of [about] [surface of the noun in conceptual units].'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'[The noun] is... pretty hard to imagine,' you say weakly. That's not going to go over well.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5025_355" -->
<a id="c5025_355"></a><blockquote class="code"><p class="quoted">
To say about:
<br />&#160;&#160;&#160;&#160;say &quot;[one of]roughly[or]about[or]around[or]approximately[at random]&quot;;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5026_355" -->
<a id="c5026_355"></a><blockquote class="code"><p class="quoted">
To contextualize (chosen information - text):
<br />&#160;&#160;&#160;&#160;say &quot;[one of]You turn to the camera and speak:[or][or]Turning to another camera angle, you add:[or][stopping] &quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[chosen information] &quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[one of][line break][or]Right now the station will be cutting over to a visual of that.[or][line break][or]Pity the kids in audiovisual who have to scare that image together in a hurry.[or]You smile brightly.[stopping]&quot;;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5027_355" -->
<a id="c5027_355"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5028_355" -->
<a id="c5028_355"></a><blockquote class="code"><p class="quoted">
The Science Journalism Desk is a room. &quot;From here you, the Science Anchor, have the privilege of reporting the latest and most fascinating stories to an eager public.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5029_355" -->
<a id="c5029_355"></a><blockquote class="code"><p class="quoted">
After looking:
<br />&#160;&#160;&#160;&#160;try thinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5030_355" -->
<a id="c5030_355"></a><blockquote class="code"><p class="quoted">
Instead of thinking:
<br />&#160;&#160;&#160;&#160;say &quot;Currently you have to report on the International Space Station. Your story could include [the list of facts carried by the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5031_355" -->
<a id="c5031_355"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;It looks foolish to be fiddling with your possessions on camera.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5032_355" -->
<a id="c5032_355"></a><blockquote class="code"><p class="quoted">
Instead of dropping a fact:
<br />&#160;&#160;&#160;&#160;say &quot;You decide to omit [the noun] from your lineup.&quot;;
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5033_355" -->
<a id="c5033_355"></a><blockquote class="code"><p class="quoted">
A fact is a kind of thing. Every fact is carried by the player. A fact has a length called the extent. A fact has an area called the surface.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5034_355" -->
<a id="c5034_355"></a><blockquote class="code"><p class="quoted">
The experiment module is a fact. The extent is 1116cm.
<br />The logistics module is a fact. The extent is 421cm.
<br />The solar array is a fact. The surface is 375 sq m. The extent is 58m.
<br />An individual solar cell is a fact. The surface is 8 sq cm.
<br />The orbit height is a fact.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5035_355" -->
<a id="c5035_355"></a><blockquote class="code"><p class="quoted">
Report reporting the orbit height:
<br />&#160;&#160;&#160;&#160;contextualize &quot;'The station orbits at heights between [about] [278km in conceptual units] and [460km in conceptual units] above the earth.'&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5036_355" -->
<a id="c5036_355"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the player carries no facts:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;And that's all! The channel cuts to weather.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story saying &quot;Time for lunch&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5037_355" -->
<a id="c5037_355"></a><blockquote class="code"><p class="quoted">
Test me with &quot;report experiment module / report logistics / report height / report array / report solar cell&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
