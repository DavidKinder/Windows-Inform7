<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>Chapter 9: Time</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 9: Time</p>
<p class="chaptercontents"><a href="WI_9.html#s1" class="standardlink"><span class="chaptercontentsitem">§9.1. When play begins</span></a>; <a href="WI_9.html#s2" class="standardlink"><span class="chaptercontentsitem">§9.2. Awarding points</span></a>; <a href="WI_9.html#s3" class="standardlink"><span class="chaptercontentsitem">§9.3. Introducing tables: rankings</span></a>; <a href="WI_9.html#s4" class="standardlink"><span class="chaptercontentsitem">§9.4. When play ends</span></a>; <a href="WI_9.html#s5" class="standardlink"><span class="chaptercontentsitem">§9.5. Every turn</span></a>; <a href="WI_9.html#s6" class="standardlink"><span class="chaptercontentsitem">§9.6. The time of day</span></a>; <a href="WI_9.html#s7" class="standardlink"><span class="chaptercontentsitem">§9.7. Telling the time</span></a>; <a href="WI_9.html#s8" class="standardlink"><span class="chaptercontentsitem">§9.8. Approximate times, lengths of time</span></a>; <a href="WI_9.html#s9" class="standardlink"><span class="chaptercontentsitem">§9.9. Comparing and shifting times</span></a>; <a href="WI_9.html#s10" class="standardlink"><span class="chaptercontentsitem">§9.10. Calculating times</span></a>; <a href="WI_9.html#s11" class="standardlink"><span class="chaptercontentsitem">§9.11. Future events</span></a>; <a href="WI_9.html#s12" class="standardlink"><span class="chaptercontentsitem">§9.12. Actions as conditions</span></a>; <a href="WI_9.html#s13" class="standardlink"><span class="chaptercontentsitem">§9.13. The past and perfect tenses</span></a>; <a href="WI_9.html#s14" class="standardlink"><span class="chaptercontentsitem">§9.14. How many times?</span></a>; <a href="WI_9.html#s15" class="standardlink"><span class="chaptercontentsitem">§9.15. How many turns?</span></a></p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_1.html" class="standardlink"><img alt="arrow-up-left.png" src="images/arrow-up-left.png" /></a></td><td><a href="WI_1.html" class="standardlink">Contents of <i>Writing with Inform</i></a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_8.html" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_8.html" class="standardlink">Chapter 8: Change</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_10.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_10.html" class="standardlink">Chapter 10: Scenes</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><p class="sectionheading"><a id="s1"></a>§9.1. When play begins</p>
<p>With the material from previous chapters, we are now able to set up a simulated world, to respond to the player's actions within it, and to make it change in perhaps unexpected ways.</p>
<p>The resulting experience can be as lively as we want to make it, but so far we have no very good ways to give it any structure: a beginning and an end, for instance, or a sense of plot. This next chapter is all about the passage of time, and it begins at the beginning.</p>
<p>We have already seen an example of how to write a rule which applies just once, at the start of the story:</p>
<!-- START CODE "c2061" -->
<a id="c2061"></a><blockquote class="code"><p class="quoted">
When play begins: say &quot;Welcome to Old Marston Grange, a country house cut off by fog.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The &quot;when play begins&quot; rules are checked only at the start of a story, not when a saved session is restored from disc. What happens is that these rules are followed, then the story's banner is printed, then the initial room description is printed up, and then the player is asked for a first command.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_8.html#s19" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_8.html#s19" class="standardlink">Back to Chapter 8: Change: §8.19. Random choices of things</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s2" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s2" class="standardlink">Onward to §9.2. Awarding points</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e180" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e180" class="standardlink">Example 135: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Clueless</b>&#160;&#160;&#160; A murderer for the mystery is selected randomly at the beginning of the game.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§9.2. Awarding points</p>
<p>Traditionally-written stories award points throughout play, as an indication of progress. If we want to be traditional, we must first write:</p>
<!-- START CODE "c2062" -->
<a id="c2062"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<p>Without this, the SCORE, NOTIFY ON and NOTIFY OFF commands do not work; the final score is not shown at the end of a story; and the status line above the player's text area shows only the turn count, not (as is more usual) both the score and the turn count. Changing the &quot;score&quot; (see below) has no visible effect, though it is not actually illegal.</p>
<p>With &quot;Use scoring&quot; in place, we can award points as follows:</p>
<!-- START CODE "c2063" -->
<a id="c2063"></a><blockquote class="code"><p class="quoted">
increase the score by 5;
</p></blockquote>
<!-- END CODE -->
<p>substituting whatever number we feel is appropriate. We should be careful not to give out the same points over and over, that is, not to reward the same basic achievement many times over if the player simply repeats the same action. This, for instance, is open to abuse:</p>
<!-- START CODE "c2064" -->
<a id="c2064"></a><blockquote class="code"><p class="quoted">
After taking the trophy:
<br />&#160;&#160;&#160;&#160;increase the score by 5;
<br />&#160;&#160;&#160;&#160;say &quot;Well done!&quot;
</p></blockquote>
<!-- END CODE -->
<p>The player may simply take the trophy, drop it again, take it again, ... and win five points every time around. We can prevent this by phrasing the rule more carefully:</p>
<!-- START CODE "c2065" -->
<a id="c2065"></a><blockquote class="code"><p class="quoted">
After taking the trophy when the trophy is not handled:
<br />&#160;&#160;&#160;&#160;increase the score by 5;
<br />&#160;&#160;&#160;&#160;say &quot;Well done!&quot;
</p></blockquote>
<!-- END CODE -->
<p>Rather than being an open-ended scoring system, IF normally has a maximum possible score, which can be specified with a sentence like so:</p>
<!-- START CODE "c2066" -->
<a id="c2066"></a><blockquote class="code"><p class="quoted">
The maximum score is 10.
</p></blockquote>
<!-- END CODE -->
<p>The score and maximum score are just numbers that vary, so we can freely change them:</p>
<!-- START CODE "c2067" -->
<a id="c2067"></a><blockquote class="code"><p class="quoted">
After eating the poisoned mushroom:
<br />&#160;&#160;&#160;&#160;now the score is -100.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s1" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s1" class="standardlink">Back to §9.1. When play begins</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s3" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s3" class="standardlink">Onward to §9.3. Introducing tables: rankings</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e259" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e259" class="standardlink">Example 136: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Mutt's Adventure</b>&#160;&#160;&#160; Awarding points for visiting a room for the first time.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e280" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e280" class="standardlink">Example 137: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>No Place Like Home</b>&#160;&#160;&#160; Recording a whole table of scores for specific treasures.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§9.3. Introducing tables: rankings</p>
<p>Another tradition of interactive fiction is that the player has a current 'rank' according to how far his or her score has got. We can (but need not) choose to provide such rankings, and should do so by specifying a table like this:</p>
<!-- START CODE "c2068" -->
<a id="c2068"></a><blockquote class="code"><p class="quoted">
Table 1 - Rankings
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">Score</p></td><td class="quotedtablecell"><p class="quoted">Rank</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">&quot;Beginner&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">25</p></td><td class="quotedtablecell"><p class="quoted">&quot;Amateur Adventurer&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">50</p></td><td class="quotedtablecell"><p class="quoted">&quot;Novice Adventurer&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">100</p></td><td class="quotedtablecell"><p class="quoted">&quot;Junior Adventurer&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">200</p></td><td class="quotedtablecell"><p class="quoted">&quot;Adventurer&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">300</p></td><td class="quotedtablecell"><p class="quoted">&quot;Master&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">330</p></td><td class="quotedtablecell"><p class="quoted">&quot;Wizard&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">350</p></td><td class="quotedtablecell"><p class="quoted">&quot;Master Adventurer&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Typographically, tables in Inform look as much as possible like those found in non-fiction books: they can have many columns, so this is only a simple example (drawn from the actual rankings used by Infocom's <span class="italic">Zork I</span>, 1979). Each line in the source represents one row in the table, and the entries on a line must be separated by at least one tab character. (An entry might of course have several words with spaces in between, so a space is not enough to separate entries: this is the only context when Inform distinguishes between spaces and tabs.) The table must occupy a single whole paragraph, with no skipped lines or missing entries. We are free to use extra tabs to indent it if we like.</p>
<p>Ordinarily we must explicitly ask to use the information presented in a table, but the table of rankings is a special case: Inform uses it automatically, if it is provided at all. To be recognised it must have the name &quot;Rankings&quot; and must have two columns named and arranged as shown. The scores should be given in ascending order. Customarily, the score in the final row should be the maximum possible achieved in the story - so that only a player with maximum possible score can be awarded the final ranking - and the value of &quot;maximum score&quot; is automatically set to this bottom-row value if it has not been explicitly set anywhere else in the source text.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s2" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s2" class="standardlink">Back to §9.2. Awarding points</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s4" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s4" class="standardlink">Onward to §9.4. When play ends</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§9.4. When play ends</p>
<p>Short of something like a power cut, the story can only end when one of the two participants chooses to end it: either the player, by deciding that enough is enough, or us.</p>
<p>In story-telling, there are many kinds of ending: happy, sad, decisive, bittersweet, surprise. Inform doesn't try to interfere in that kind of artistic choice, but it does need to know one thing about the ending: is it final, or not? Many authors like to make additional menu items available if the player has completed the story right through, but not if she has reached an early or wrong ending. (See the activity &quot;amusing a victorious player&quot;, for example.)</p>
<!-- START PHRASE "defn90" -->
<div class="definition"><a id="defn90"></a><p class="defnprototype"><b>end the story</b></p>
<!-- END PHRASE -->
<!-- definition of ph_end -->

<p>This phrase ends the story at the next opportunity (typically as soon as the current rule ends), with the closing message &quot;The End.&quot; The end is not considered final.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn91" -->
<div class="definition"><a id="defn91"></a><p class="defnprototype"><b>end the story finally</b></p>
<!-- END PHRASE -->
<!-- definition of ph_endfinally -->

<p>This phrase ends the story at the next opportunity (typically as soon as the current rule ends), with the closing message &quot;The End.&quot; The end is considered final, and any hidden menu options will be revealed.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn92" -->
<div class="definition"><a id="defn92"></a><p class="defnprototype"><b>end the story saying </b>(text)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_endsaying -->

<p>This phrase ends the story at the next opportunity (typically as soon as the current rule ends), with the closing message given in the text. The end is not considered final. Example:</p>
<!-- START CODE "c2069" -->
<a id="c2069"></a><blockquote class="code"><p class="quoted">
end the story saying &quot;You have been stymied&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn93" -->
<div class="definition"><a id="defn93"></a><p class="defnprototype"><b>end the story finally saying </b>(text)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_endfinallysaying -->

<p>This phrase ends the story at the next opportunity (typically as soon as the current rule ends), with the closing message given in the text. The end is considered final, and any hidden menu options will be revealed. Example:</p>
<!-- START CODE "c2070" -->
<a id="c2070"></a><blockquote class="code"><p class="quoted">
end the story finally saying &quot;You have defeated Sauron&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>The closing message is traditionally set out in asterisks:</p>
<!-- START CODE "c2071" -->
<a id="c2071"></a><blockquote class="code"><p class="quoted">
*** The End ***
</p></blockquote>
<!-- END CODE -->
<p>This style is traditional in IF, and goes back to 1980 if not earlier.</p>
<p>We can test the current state like so:</p>
<!-- START PHRASE "defn94" -->
<div class="definition"><a id="defn94"></a><p class="defnprototype"><b>if story has ended:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_ended -->

<p>This condition is true if an end has been declared using one of the &quot;end the story...&quot; phrases.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn95" -->
<div class="definition"><a id="defn95"></a><p class="defnprototype"><b>if story has not ended:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_notended -->

<p>This condition is true if no end has been declared using one of the &quot;end the story...&quot; phrases.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn96" -->
<div class="definition"><a id="defn96"></a><p class="defnprototype"><b>if story has ended finally:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_finallyended -->

<p>This condition is true if an end has been declared using one of the &quot;end the story finally...&quot; phrases, so that an ending has been reached which the author feels is a completion of the player's experience.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn97" -->
<div class="definition"><a id="defn97"></a><p class="defnprototype"><b>if story has not ended finally:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_notfinallyended -->

<p>This condition is true if an end has been declared using one of the &quot;end the story...&quot; phrases, but not &quot;finally&quot;, so the author feels that the player can get further experience by playing again and trying different approaches.</p>

<!-- end definition -->
</div>

<p>The rulebook &quot;when play ends&quot; is the matching bookend to &quot;when play begins&quot;. It is followed when the story decides to end (not when the player simply gives up and quits), and before any epitaph like</p>
<!-- START CODE "c2072" -->
<a id="c2072"></a><blockquote class="code"><p class="quoted">
*** You have been poisoned ***
</p></blockquote>
<!-- END CODE -->
<p>appears. For example:</p>
<!-- START CODE "c2073" -->
<a id="c2073"></a><blockquote class="code"><p class="quoted">
When play ends, say &quot;Oh dear.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Surprisingly, the end is not always the end:</p>
<!-- START PHRASE "defn98" -->
<div class="definition"><a id="defn98"></a><p class="defnprototype"><b>resume the story</b></p>
<!-- END PHRASE -->
<!-- definition of ph_resume -->

<p>This phrase causes an ended story to resume exactly as if no &quot;end the story...&quot; phrase had been used. Example:</p>
<!-- START CODE "c2074" -->
<a id="c2074"></a><blockquote class="code"><p class="quoted">
When play ends:
<br />&#160;&#160;&#160;&#160;if the story has not ended finally:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Oh dear. Still, here's another chance.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resume the story.
</p></blockquote>
<!-- END CODE -->
<p>The phrase is likely to be sensible only as part of a &quot;when play ends&quot; rule. Other traditional uses include giving the player three lives, as in an old-school arcade machine.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s3" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s3" class="standardlink">Back to §9.3. Introducing tables: rankings</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s5" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s5" class="standardlink">Onward to §9.5. Every turn</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e205" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e205" class="standardlink">Example 138: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Big Sky Country</b>&#160;&#160;&#160; Allowing the player to continue play after a fatal accident, but penalizing him by scattering his possessions around the game map.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§9.5. Every turn</p>
<p>The passage of time in interactive fiction is broken up into a succession of turns, in each of which the player types a request and is given a response. Usually each such request triggers one action, but sometimes a whole sequence are fired off, as when the player types &quot;get all&quot; in a cluttered room.</p>
<p>As we've seen, the variable &quot;turn count&quot; holds the number of turns of play so far. By convention turn number 0 is the time when Inform prints up the banner and any initial text; it becomes turn number 1 when the player's first command is typed.</p>
<p>One of the last things to happen in each turn is that Inform will apply any rules which have been set to occur &quot;every turn&quot;, like so:</p>
<!-- START CODE "c2075" -->
<a id="c2075"></a><blockquote class="code"><p class="quoted">
Every turn, say &quot;The summer breeze shakes the apple-blossom.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is equivalent to writing:</p>
<!-- START CODE "c2076" -->
<a id="c2076"></a><blockquote class="code"><p class="quoted">
An every turn rule: say &quot;The summer breeze shakes the apple-blossom.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that the text about blossom, which will quickly become tiresome, is said at the end of every turn, not at the beginning, and in particular not before the player's first opportunity to type a command.</p>
<p>As usual when defining rules, we can add stipulations: any condition can be attached using &quot;when&quot;.</p>
<!-- START CODE "c2077" -->
<a id="c2077"></a><blockquote class="code"><p class="quoted">
Every turn when the location is the Orchard, say &quot;The summer breeze shakes the apple-blossom.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2078" -->
<a id="c2078"></a><blockquote class="code"><p class="quoted">
Every turn when the player can see the rotting fish, say &quot;Your nose twitches involuntarily.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s4" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s4" class="standardlink">Back to §9.4. When play ends</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s6" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s6" class="standardlink">Onward to §9.6. The time of day</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e24" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e24" class="standardlink">Example 139: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Witnessed 1</b>&#160;&#160;&#160; A kind of battery which can be put into different devices, and which will lose power after extended use.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e151" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e151" class="standardlink">Example 140: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Text Foosball</b>&#160;&#160;&#160; A game of foosball which relies heavily on every-turn rules.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s6"></a>§9.6. The time of day</p>
<p>Inform keeps track of the time of day automatically: play ordinarily begins at 9 AM and each turn takes one minute. In some works of interactive fiction, time of day is crucial: in others, it is irrelevant or even, by a sort of tacit convention, non-existent. So Inform does nothing to act upon the time, or to reveal it to the player, without instruction. Nevertheless it is there.</p>
<p>A sentence like the following allows the initial time to be set up as something other than 9 AM:</p>
<!-- START CODE "c2079" -->
<a id="c2079"></a><blockquote class="code"><p class="quoted">
The time of day is 3:13 PM.
</p></blockquote>
<!-- END CODE -->
<p>Here, &quot;3:13 PM&quot; is a constant value of a kind not seen before: it's a kind of value called &quot;time&quot;, and the value &quot;time of day&quot; is a time that varies. After one turn it will be 3:14 PM, then 3:15 PM and so on.</p>
<p>Note that the sentence above is an assertion (a statement about the initial state of affairs), not an instruction which can be part of a rule. It would be equivalent to write:</p>
<!-- START CODE "c2080" -->
<a id="c2080"></a><blockquote class="code"><p class="quoted">
When play begins: now the time of day is 3:13 PM.
</p></blockquote>
<!-- END CODE -->
<p>We more often change &quot;time of day&quot; to take care of drastic events:</p>
<!-- START CODE "c2081" -->
<a id="c2081"></a><blockquote class="code"><p class="quoted">
At the time when the player loses consciousness:
<br />&#160;&#160;&#160;&#160;now the time of day is 10:12 AM;
<br />&#160;&#160;&#160;&#160;say &quot;A mist comes over your vision, and when you come to, it is morning and you are in bed.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s5" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s5" class="standardlink">Back to §9.5. Every turn</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s7" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s7" class="standardlink">Onward to §9.7. Telling the time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e202" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e202" class="standardlink">Example 141: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>IPA</b>&#160;&#160;&#160; Shops which each have opening and closing hours, so that it is impossible to go in at the wrong times, and the player is kicked out if he overstays his welcome.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s7"></a>§9.7. Telling the time</p>
<p>Now that we have the time of day, we can of course use this value in room descriptions and the like:</p>
<!-- START CODE "c2082" -->
<a id="c2082"></a><blockquote class="code"><p class="quoted">
The Clock Chamber is a room. &quot;The dark chamber behind the clock face, a mill-room of gears which grind down the seconds. Through the glass you can see the reversed hands reading [the time of day].&quot;
</p></blockquote>
<!-- END CODE -->
<p>It seems odd, though, to read a precise numerical description of the time here: after all, it isn't a digital clock. A friendlier version would use:</p>
<!-- START PHRASE "defn99" -->
<div class="definition"><a id="defn99"></a><p class="defnprototype"><b>say &quot;[</b>(time)<b> in words]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_timewords -->

<p>This text substitution produces the given time written out in English sentence form. For example:</p>
<!-- START CODE "c2083" -->
<a id="c2083"></a><blockquote class="code"><p class="quoted">
&quot;Through the glass you can see the reversed hands reading [the time of day in words].&quot;
</p></blockquote>
<!-- END CODE -->
<p>might produce</p>
<!-- START CODE "c2084" -->
<a id="c2084"></a><blockquote class="code"><p class="quoted">
Through the glass you can see the reversed hands reading twenty to nine.
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>To reiterate an example which came up earlier, we could even work the time of day into the command prompt, which would lend the proper sense of urgency to a story played out against the clock:</p>
<!-- START CODE "c2085" -->
<a id="c2085"></a><blockquote class="code"><p class="quoted">
When play begins: now the command prompt is &quot;[time of day] &gt;&quot;.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s6" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s6" class="standardlink">Back to §9.6. The time of day</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s8" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s8" class="standardlink">Onward to §9.8. Approximate times, lengths of time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e348" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e348" class="standardlink">Example 142: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Situation Room</b>&#160;&#160;&#160; Printing the time of day in 24-hour time, as in military situations.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s8"></a>§9.8. Approximate times, lengths of time</p>
<p>Clocks and watches vary considerably in how much detail they show, and we tend not to report the time over-precisely: half-past ten is an elastic concept. The following room description for the Clock Chamber comes across much more naturally:</p>
<!-- START CODE "c2086" -->
<a id="c2086"></a><blockquote class="code"><p class="quoted">
The Clock Chamber is a room. &quot;The dark chamber behind the clock face, a mill-room of gears which grind down the seconds. Through the glass you can see the reversed hands reading [the time of day to the nearest five minutes in words].&quot;
</p></blockquote>
<!-- END CODE -->
<p>The phrase &quot;... to the nearest ...&quot; rounds off the given time, just as it sounds; as we'll see later, it can actually round off any arithmetic values, not just times. For instance, &quot;9:58 PM to the nearest ten minutes&quot; is 10:00 PM.</p>
<p>In talking about lengths of time, rather than times of day, it's useful to have these:</p>
<!-- START PHRASE "defn100" -->
<div class="definition"><a id="defn100"></a><p class="defnprototype"><b></b>(number)<b> minutes ... time</b></p>
<!-- END PHRASE -->
<!-- definition of ph_durationmins -->

<p>This phrase converts numbers into lengths of time. Example:</p>
<!-- START CODE "c2087" -->
<a id="c2087"></a><blockquote class="code"><p class="quoted">
15 minutes
</p></blockquote>
<!-- END CODE -->
<p>Because it's a phrase, not just a notation for writing constants down, the number doesn't have to be given literally:</p>
<!-- START CODE "c2088" -->
<a id="c2088"></a><blockquote class="code"><p class="quoted">
let X be 5;
<br />if the player is in the Slow Room, now X is 10;
<br />let deadline be the time of day plus X minutes;
</p></blockquote>
<!-- END CODE -->
<p>Note that lengths of time can't exceed 1440 minutes.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn101" -->
<div class="definition"><a id="defn101"></a><p class="defnprototype"><b></b>(number)<b> hours ... time</b></p>
<!-- END PHRASE -->
<!-- definition of ph_durationhours -->

<p>This phrase converts numbers into lengths of time. Example:</p>
<!-- START CODE "c2089" -->
<a id="c2089"></a><blockquote class="code"><p class="quoted">
10 hours
</p></blockquote>
<!-- END CODE -->
<p>Note that lengths of time can't exceed 24 hours.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s7" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s7" class="standardlink">Back to §9.7. Telling the time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s9" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s9" class="standardlink">Onward to §9.9. Comparing and shifting times</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s9"></a>§9.9. Comparing and shifting times</p>
<p>Carrying out easy calculations with times is straightforward:</p>
<!-- START CODE "c2090" -->
<a id="c2090"></a><blockquote class="code"><p class="quoted">
The chronometer is in the Clock Chamber. &quot;On one wall is a terribly self-important chronometer showing the time in major world cities. London: [time of day]. Paris: [one hour after the time of day]. Tokyo: [9 hours after the time of day]. Cupertino, California: [7 hours before the time of day].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here we are using two phrases:</p>
<!-- START PHRASE "defn102" -->
<div class="definition"><a id="defn102"></a><p class="defnprototype"><b></b>(time)<b> before </b>(time)<b> ... time</b></p>
<!-- END PHRASE -->
<!-- definition of ph_shiftbefore -->

<p>This phrase produces a time earlier by the amount given, keeping within the 24 hour clock. Example:</p>
<!-- START CODE "c2091" -->
<a id="c2091"></a><blockquote class="code"><p class="quoted">
7 hours before 5:30 AM
</p></blockquote>
<!-- END CODE -->
<p>produces 10:30 PM.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn103" -->
<div class="definition"><a id="defn103"></a><p class="defnprototype"><b></b>(time)<b> after </b>(time)<b> ... time</b></p>
<!-- END PHRASE -->
<!-- definition of ph_shiftafter -->

<p>This phrase produces a time later by the amount given, keeping within the 24 hour clock. Example:</p>
<!-- START CODE "c2092" -->
<a id="c2092"></a><blockquote class="code"><p class="quoted">
9 hours after 11 AM
</p></blockquote>
<!-- END CODE -->
<p>produces 8 PM.</p>

<!-- end definition -->
</div>

<p>Similarly, we have conditions:</p>
<!-- START PHRASE "defn104" -->
<div class="definition"><a id="defn104"></a><p class="defnprototype"><b>if </b>(time)<b> is before </b>(time)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_timebefore -->

<p>This condition is true if the first time occurs earlier in the day than the second. In recognition of the fact that very few stories begin before 4 AM, whereas many run on past midnight, the start of the day is taken to be 4 AM: thus 3:59 AM is after 11:10 PM, but 4:04 AM is before it.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn105" -->
<div class="definition"><a id="defn105"></a><p class="defnprototype"><b>if </b>(time)<b> is after </b>(time)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_timeafter -->

<p>This condition is true if the first time occurs later in the day than the second. In recognition of the fact that very few stories begin before 4 AM, whereas many run on past midnight, the start of the day is taken to be 4 AM: thus 3:59 AM is after 11:10 PM, but 4:04 AM is before it.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s8" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s8" class="standardlink">Back to §9.8. Approximate times, lengths of time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s10" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s10" class="standardlink">Onward to §9.10. Calculating times</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s10"></a>§9.10. Calculating times</p>
<p>We will occasionally need to perform more complex calculations with time, and in order to do that, we have a way to convert the time of day to numbers. Thus the phrase &quot;the minutes part of ...&quot; takes a time and produces a number from 0 to 59; similarly &quot;the hours part of ...&quot; extracts a number from 0 to 23, using the twenty-four hour clock.</p>
<!-- START PHRASE "defn106" -->
<div class="definition"><a id="defn106"></a><p class="defnprototype"><b>minutes part of </b>(time)<b> ... number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_minspart -->

<p>This phrase converts a time to a number, then takes the result mod 60, which in effect produces the number of minutes after the hours are thrown away. Example:</p>
<!-- START CODE "c2093" -->
<a id="c2093"></a><blockquote class="code"><p class="quoted">
minutes part of 12:41 PM
</p></blockquote>
<!-- END CODE -->
<p>produces 41.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn107" -->
<div class="definition"><a id="defn107"></a><p class="defnprototype"><b>hours part of </b>(time)<b> ... number</b></p>
<!-- END PHRASE -->
<!-- definition of ph_hourspart -->

<p>This phrase converts a time to a number, then divides the result by 60, which in effect produces the number of hours after minutes are thrown away. Example:</p>
<!-- START CODE "c2094" -->
<a id="c2094"></a><blockquote class="code"><p class="quoted">
hours part of 8:21 AM
</p></blockquote>
<!-- END CODE -->
<p>produces 8.</p>

<!-- end definition -->
</div>

<p>To go the other way, we can convert any number to a duration by writing &quot;minutes&quot; or &quot;hours&quot; after it. For instance:</p>
<!-- START CODE "c2095" -->
<a id="c2095"></a><blockquote class="code"><p class="quoted">
The clock error is a number that varies. To thump the mechanism: now the clock error is a random number from -10 to 10.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2096" -->
<a id="c2096"></a><blockquote class="code"><p class="quoted">
The broken grandfather clock is in the Chamber. &quot;An erratic grandfather clock seems to say it is [clock error minutes after the time of day].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2097" -->
<a id="c2097"></a><blockquote class="code"><p class="quoted">
When play begins, thump the mechanism. Instead of attacking the broken clock: thump the mechanism; say &quot;You thump the clock, which now reads [clock error minutes after the time of day].&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that &quot;clock error&quot; is a number, but &quot;clock error minutes&quot; is a time.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s9" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s9" class="standardlink">Back to §9.9. Comparing and shifting times</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s11" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s11" class="standardlink">Onward to §9.11. Future events</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s11"></a>§9.11. Future events</p>
<p>We often want to arrange for something to happen at some point in the future. Here is yet another timepiece:</p>
<!-- START CODE "c2098" -->
<a id="c2098"></a><blockquote class="code"><p class="quoted">
An egg-timer is in the Chamber. &quot;A plastic egg timer in the shape of a chicken can be pressed to set it going.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2099" -->
<a id="c2099"></a><blockquote class="code"><p class="quoted">
Instead of pushing the egg-timer:
<br />&#160;&#160;&#160;&#160;say &quot;It begins to mark time.&quot;;
<br />&#160;&#160;&#160;&#160;the egg-timer clucks in four turns from now.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2100" -->
<a id="c2100"></a><blockquote class="code"><p class="quoted">
At the time when the egg-timer clucks:
<br />&#160;&#160;&#160;&#160;say &quot;Cluck! Cluck! Cluck! says the egg-timer.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The event here is called &quot;the egg-timer clucks&quot;. It only happens if we instruct so, using one of the following phrases:</p>
<!-- START PHRASE "defn108" -->
<div class="definition"><a id="defn108"></a><p class="defnprototype"><b></b>(rule)<b> in </b>(time)<b> from now</b></p>
<!-- END PHRASE -->
<!-- definition of ph_timefromnow -->

<p>This phrase causes the given rule to be run at a given time offset from the current time of day. Example:</p>
<!-- START CODE "c2101" -->
<a id="c2101"></a><blockquote class="code"><p class="quoted">
the egg-timer clucks in 18 minutes from now;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn109" -->
<div class="definition"><a id="defn109"></a><p class="defnprototype"><b></b>(rule)<b> in </b>(number)<b> turn</b>/turns<b> from now</b></p>
<!-- END PHRASE -->
<!-- definition of ph_turnsfromnow -->

<p>This phrase causes the given rule to be run at a given number of turns after the current one. Example:</p>
<!-- START CODE "c2102" -->
<a id="c2102"></a><blockquote class="code"><p class="quoted">
the egg-timer clucks in four turns from now;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn110" -->
<div class="definition"><a id="defn110"></a><p class="defnprototype"><b></b>(rule)<b> at </b>(time)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_attime -->

<p>This phrase causes the given rule to be run at a given time of day. Example:</p>
<!-- START CODE "c2103" -->
<a id="c2103"></a><blockquote class="code"><p class="quoted">
the egg-timer clucks at 11:35 AM;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>If we know in advance what time we want something to happen, we can more simply write:</p>
<!-- START CODE "c2104" -->
<a id="c2104"></a><blockquote class="code"><p class="quoted">
At 4 PM: say &quot;The great bells of the clock tower chime four.&quot;
</p></blockquote>
<!-- END CODE -->
<p>(Note that in either case such rules begin with the word &quot;at&quot;: they are the only rules allowed to begin with the word &quot;at&quot;.)</p>
<p>A small warning: timed events like these only have a chance to occur during the turn sequence, that is, once every turn. In most stories, one turn takes one minute, so there will in due course be a turn happening at exactly (say) 11:35 AM. But if the clock is being advanced faster than this, it's possible that there are turns at (say) 11:32 AM and then not until 11:37 AM. But an event set for 11:35 AM will nevertheless happen -- it will run at the first available turn after that time, which will be 11:37 AM. Events can thus happen up to half an hour late, though Inform cancels them if the elapsed time is greater than that.</p>
<p>The Scenes panel of the Index can be a useful way to see what events have been set.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s10" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s10" class="standardlink">Back to §9.10. Calculating times</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s12" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s12" class="standardlink">Onward to §9.12. Actions as conditions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e254" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e254" class="standardlink">Example 143: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>MRE</b>&#160;&#160;&#160; Hunger that eventually kills the player, and foodstuffs that can delay the inevitable by different amounts of time.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e113" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e113" class="standardlink">Example 144: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Totality</b>&#160;&#160;&#160; To schedule an eclipse of the sun, which involves a number of related events.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e389" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e389" class="standardlink">Example 145: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Empire</b>&#160;&#160;&#160; A train which follows a schedule, stopping at a number of different locations.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e191" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e191" class="standardlink">Example 146: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Hour of the Wren</b>&#160;&#160;&#160; Allowing the player to make an appointment, which is then kept.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s12"></a>§9.12. Actions as conditions</p>
<p>There are two ways that descriptions of actions can be used as conditions. First, we can simply describe an action, and then the condition will be true if that is what the player is trying to do, and not otherwise:</p>
<!-- START CODE "c2105" -->
<a id="c2105"></a><blockquote class="code"><p class="quoted">
if taking a container, ...
</p></blockquote>
<!-- END CODE -->
<p>This is actually an abbreviation for the longer, some would say preferable form:</p>
<!-- START CODE "c2106" -->
<a id="c2106"></a><blockquote class="code"><p class="quoted">
if we are taking a container, ...
</p></blockquote>
<!-- END CODE -->
<p>Secondly, we can talk about the past as well as the present, which is very useful since interactive fiction often contains situations which are changed by earlier events.</p>
<!-- START CODE "c2107" -->
<a id="c2107"></a><blockquote class="code"><p class="quoted">
Instead of waiting when we have taken the lantern, say &quot;No, your acquisitive nature is roused now, and simply waiting will no longer do.&quot;
</p></blockquote>
<!-- END CODE -->
<p>More on the past tense later follows in the next section: note that &quot;we are taking&quot; has become &quot;we have taken&quot;. For the rule to apply, it is not enough that the action &quot;taking the lantern&quot; has been tried: it must have succeeded. Note also that it's enough for any actor in the story to have successfully taken the lantern: it doesn't have to be the player.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s11" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s11" class="standardlink">Back to §9.11. Future events</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s13" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s13" class="standardlink">Onward to §9.13. The past and perfect tenses</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e263" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e263" class="standardlink">Example 147: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Night Sky</b>&#160;&#160;&#160; A room which changes its description depending on whether an object has been examined.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e255" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e255" class="standardlink">Example 148: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Zero</b>&#160;&#160;&#160; A box which called "horribly heavy box" after the player has tried to take it the first time.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s13"></a>§9.13. The past and perfect tenses</p>
<p>The remaining sections of this chapter go into more technical ways to think about the progress of the story through time, and can be skipped at a first reading.</p>
<p>Conditions are clauses which require Inform to make a decision: is such-and-such true, or not true? We have already seen conditions attached to rules using &quot;when&quot;:</p>
<!-- START CODE "c2108" -->
<a id="c2108"></a><blockquote class="code"><p class="quoted">
Instead of waiting when the Sorting Hat is in the Hall: ...
</p></blockquote>
<!-- END CODE -->
<p>and, as we shall later see, we will often want to write instructions like:</p>
<!-- START CODE "c2109" -->
<a id="c2109"></a><blockquote class="code"><p class="quoted">
if the Sorting Hat is in the Hall, say &quot;Hermione blinks apprehensively.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The condition is &quot;the Sorting Hat is in the Hall&quot;, and during play this will sometimes be true and sometimes false.</p>
<p>A condition in the form &quot;X is Y&quot; is of course written in the present tense, and refers to the current state of affairs. Three other tenses are allowed. First, the present perfect:</p>
<!-- START CODE "c2110" -->
<a id="c2110"></a><blockquote class="code"><p class="quoted">
if X has been Y ...
</p></blockquote>
<!-- END CODE -->
<p>is true if it has ever been the case that &quot;X is Y&quot; at the start of any turn (or any action). So, for instance,</p>
<!-- START CODE "c2111" -->
<a id="c2111"></a><blockquote class="code"><p class="quoted">
if the gate has been open ...
</p></blockquote>
<!-- END CODE -->
<p>will be valid if and only if the gate has ever been made open by any action (even if it is closed now), or if it started out by being open when play began.</p>
<p>Next is the past tense:</p>
<!-- START CODE "c2112" -->
<a id="c2112"></a><blockquote class="code"><p class="quoted">
if X was Y ...
</p></blockquote>
<!-- END CODE -->
<p>holds if and only if &quot;X is Y&quot; was true at the start of the most recent action. This is convenient when trying to describe what has changed in the course of the action, but sometimes also when making the action itself happen. For instance:</p>
<!-- START CODE "c2113" -->
<a id="c2113"></a><blockquote class="code"><p class="quoted">
if the lantern was switched on, now the lantern is switched off;
<br />if the lantern was switched off, now the lantern is switched on;
</p></blockquote>
<!-- END CODE -->
<p>Completing the set is the past perfect:</p>
<!-- START CODE "c2114" -->
<a id="c2114"></a><blockquote class="code"><p class="quoted">
if X had been Y ...
</p></blockquote>
<!-- END CODE -->
<p>which records whether &quot;X has been Y&quot; was true at the start of the most recent action. All these verbs can of course be negated (though &quot;wasn't&quot; and &quot;hadn't&quot; are disallowed as poor style: we use &quot;was not&quot; and &quot;had not&quot; instead). So for example,</p>
<!-- START CODE "c2115" -->
<a id="c2115"></a><blockquote class="code"><p class="quoted">
if the player had not been in the Ballroom ...
</p></blockquote>
<!-- END CODE -->
<p>is true if the player hadn't visited the Ballroom at the start of the most recent action.</p>
<p>Something we must watch out for is that variables might not have the same values in the past that they have now. As a result, writing conditions such as &quot;if the noun has been open&quot; is a bad idea, because in the past &quot;the noun&quot; very likely referred to something different. It is really only safe to talk in the past tense about definite, fixed things: &quot;if the Great Gates of Kiev have been open&quot; would be fine.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s12" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s12" class="standardlink">Back to §9.12. Actions as conditions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s14" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s14" class="standardlink">Onward to §9.14. How many times?</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e377" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e377" class="standardlink">Example 149: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Tense Boxing</b>&#160;&#160;&#160; An overview of all the variations of past and present tenses, and how they might be used.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e61" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e61" class="standardlink">Example 150: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Bruneseau's Journey</b>&#160;&#160;&#160; A candle which reacts to lighting and blowing actions differently depending on whether it has already been lit once.</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e119" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e119" class="standardlink">Example 151: <img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Elsie</b>&#160;&#160;&#160; A door that closes automatically one turn after the player opens it.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s14"></a>§9.14. How many times?</p>
<p>There are two further ways to examine the historical record. Given any condition, we can say</p>
<!-- START CODE "c2116" -->
<a id="c2116"></a><blockquote class="code"><p class="quoted">
if (...condition...) for the second time ...
<br />if (...condition...) twice ...
<br />if (...condition...) 2 times...
<br />if (...condition...) two times...
</p></blockquote>
<!-- END CODE -->
<p>(all of which are synonymous: the words once, twice, thrice, one, two, three, four, five, six, seven, eight, nine, ten, first, second, third, fourth, fifth, sixth, seventh, eighth, ninth and tenth all mean what they obviously should). The result is true if the condition holds now and has held for only one previous spell in the past. A condition holding for, say, fifteen consecutive turns without a break counts as only one &quot;time&quot; - so what we mean by &quot;twice&quot; here is that it is true now, was previously false for a while, and was previously true for a while before that, but no more. In effect, then,</p>
<!-- START CODE "c2117" -->
<a id="c2117"></a><blockquote class="code"><p class="quoted">
if the player is in the Ballroom for the third time ...
</p></blockquote>
<!-- END CODE -->
<p>is true if this is the third visit to the Ballroom. We can also say</p>
<!-- START CODE "c2118" -->
<a id="c2118"></a><blockquote class="code"><p class="quoted">
if the player is in the Ballroom for more than the third time ...
</p></blockquote>
<!-- END CODE -->
<p>or similarly &quot;less than&quot;, &quot;at least&quot;, &quot;at most&quot;. It would be more natural, though, to say</p>
<!-- START CODE "c2119" -->
<a id="c2119"></a><blockquote class="code"><p class="quoted">
if the player has been in the Ballroom three times ...
</p></blockquote>
<!-- END CODE -->
<p>The adjective &quot;only&quot; (or equivalently &quot;exactly&quot;) can be added to obtain</p>
<!-- START CODE "c2120" -->
<a id="c2120"></a><blockquote class="code"><p class="quoted">
if the player has been in the Ballroom only three times ...
</p></blockquote>
<!-- END CODE -->
<p>To recap, this means there have been exactly three visits to the Ballroom in history, whereas</p>
<!-- START CODE "c2121" -->
<a id="c2121"></a><blockquote class="code"><p class="quoted">
if the player is in the Ballroom for the third time ...
</p></blockquote>
<!-- END CODE -->
<p>means there have been exactly three visits, the third of which is still going on - an important distinction.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s13" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s13" class="standardlink">Back to §9.13. The past and perfect tenses</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s15" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_9.html#s15" class="standardlink">Onward to §9.15. How many turns?</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e199" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e199" class="standardlink">Example 152: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Infiltration</b>&#160;&#160;&#160; A room whose description changes depending on the number of times the player has visited.</a></td></tr>
</table><hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s15"></a>§9.15. How many turns?</p>
<p>So much for &quot;times&quot; - spells in which a condition is true. We can also test the length of time, in turns of play, that something has been true. Thus:</p>
<!-- START CODE "c2122" -->
<a id="c2122"></a><blockquote class="code"><p class="quoted">
if ... for three turns;
</p></blockquote>
<!-- END CODE -->
<p>means that the condition holds now, and held at the start of this turn, at the start of last turn, and at the start of the turn before that. In particular:</p>
<!-- START CODE "c2123" -->
<a id="c2123"></a><blockquote class="code"><p class="quoted">
if the floppy hat has been worn for three turns ...
</p></blockquote>
<!-- END CODE -->
<p>will be false if the hat is not currently worn (even if it has been often in the past) and, on the other hand, will be true if the hat has been worn for twenty turns. Here again we can be more specific. These are synonymous:</p>
<!-- START CODE "c2124" -->
<a id="c2124"></a><blockquote class="code"><p class="quoted">
if the floppy hat is worn for the third turn ...
<br />if the floppy hat has been worn for only 3 turns ...
<br />if the floppy hat has been worn for exactly three turns ...
</p></blockquote>
<!-- END CODE -->
<p>all requiring that the hat wasn't worn four turns ago. As before, &quot;more than&quot;, &quot;less than&quot;, &quot;at least&quot; and &quot;at most&quot; so forth can also be used - say, &quot;for at least 21 turns&quot;.</p>
<p>A warning: we must be careful when writing something like</p>
<!-- START CODE "c2125" -->
<a id="c2125"></a><blockquote class="code"><p class="quoted">
if the noun has been open ...
</p></blockquote>
<!-- END CODE -->
<p>since this tests whether it has ever been true that the noun of the then action was open: not whether the current noun-object has ever been open.</p>
<p>Lastly, note that the beginning of play - when (usually) initial text and a banner is printed, followed by a room description - counts towards these counts. In effect, this is a turn: one in which the player compulsorily performs the looking action, rather than being asked for a command. (By convention it is numbered as turn number 0, and doesn't contribute towards the turn count.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#s14" class="standardlink"><img alt="arrow-left.png" src="images/arrow-left.png" /></a></td><td><a href="WI_9.html#s14" class="standardlink">Back to §9.14. How many times?</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_10.html#s1" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_10.html#s1" class="standardlink">Onward to Chapter 10: Scenes: §10.1. Introduction to scenes</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9.html#e10" class="standardlink"><img alt="arrow-down.png" src="images/arrow-down.png" /></a></td><td><a href="WI_9.html#e10" class="standardlink">Example 153: <img class="asterisk" alt="*" src="images/asterisk.png" /> <b>Annoyotron Jr</b>&#160;&#160;&#160; A child who after a certain period in the car starts asking annoying questions.</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading">Examples from Chapter 9: Time</p><table class="centredtable"><tr><td class="roadsigndirection"><a href="WI_9.html" class="standardlink"><img alt="arrow-up.png" src="images/arrow-up.png" /></a></td><td><a href="WI_9.html" class="standardlink">Start of this chapter</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_10.html" class="standardlink"><img alt="arrow-right.png" src="images/arrow-right.png" /></a></td><td><a href="WI_10.html" class="standardlink">Chapter 10: Scenes</a></td></tr>
<tr><td class="roadsigndirection"><a href="examples_alphabetical.html" class="standardlink"><img alt="arrow-down-right.png" src="images/arrow-down-right.png" /></a></td><td><a href="examples_alphabetical.html" class="standardlink">Indexes of the examples</a></td></tr>
</table><!-- START EXAMPLE "135: Clueless" "e180" -->
<a id="e180"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e180" class="eglink"><b>135</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e180" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Clueless</span></b></a><br />A murderer for the mystery is selected randomly at the beginning of the game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e180"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example180">
<p>&quot;When play begins&quot; is the best point to initialize any aspects of the game that are meant to change between playings. For instance, in this scenario, we would randomly select one of the other characters to be guilty of murder:</p>
<!-- START CODE "c2126_180" -->
<a id="c2126_180"></a><blockquote class="code"><p class="quoted">
&quot;Clueless&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2127_180" -->
<a id="c2127_180"></a><blockquote class="code"><p class="quoted">
The murderer is a person that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2128_180" -->
<a id="c2128_180"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the murderer is a random person who is not the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2129_180" -->
<a id="c2129_180"></a><blockquote class="code"><p class="quoted">
The Billiards Room is a room. Colonel Mustard and Professor Plum are men in the Billiards Room. Miss Scarlet and Mrs White are women in the Billiards Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2130_180" -->
<a id="c2130_180"></a><blockquote class="code"><p class="quoted">
Instead of examining the murderer:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] certainly looks fiendish!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2131_180" -->
<a id="c2131_180"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x mustard / x plum / x scarlet / x white&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "136: Mutt's Adventure" "e259" -->
<a id="e259"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e259" class="eglink"><b>136</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e259" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Mutt's Adventure</span></b></a><br />Awarding points for visiting a room for the first time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e259"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example259">
<p>Suppose we want to reward the player the first time he reaches a given room. The &quot;unvisited&quot; attribute is useful for this: unlike such constructions as &quot;going to a room for the first time&quot;, it doesn't develop false positives when the player has merely tried to go to the room in question. &quot;Every turn when the player is in a room for the first time&quot; is also unhelpful, because it continues to be true as long as the player is in a room on his first visit there.</p>
<!-- START CODE "c2132_259" -->
<a id="c2132_259"></a><blockquote class="code"><p class="quoted">
&quot;Mutt's Adventure&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2133_259" -->
<a id="c2133_259"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2134_259" -->
<a id="c2134_259"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2135_259" -->
<a id="c2135_259"></a><blockquote class="code"><p class="quoted">
A room can be scored or unscored.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2136_259" -->
<a id="c2136_259"></a><blockquote class="code"><p class="quoted">
Carry out going to a unvisited scored room:
<br />&#160;&#160;&#160;&#160;increment the score.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2137_259" -->
<a id="c2137_259"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2138_259" -->
<a id="c2138_259"></a><blockquote class="code"><p class="quoted">
The Incan Palace Compound is a room. &quot;After numerous false leads through the jungles of Peru, and an arduous trek along the Amazon, you have arrived, at last, here: at Atagon, the lost city of untold treasure.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2139_259" -->
<a id="c2139_259"></a><blockquote class="code"><p class="quoted">
The startlingly intricate door is a door. It is inside from Incan Palace Compound and outside from the Treasure Room. &quot;A door carved all over with figures of ancient gods, and protected by an assortment of gears and latches, [if open]stands open[otherwise]blocks progress[end if] towards [the other side of the intricate door].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2140_259" -->
<a id="c2140_259"></a><blockquote class="code"><p class="quoted">
The description of the Treasure Room is &quot;To your considerable surprise, the treasure room is stocked with art objects from a vast range of eras and geographical locations: beside the expected pre-Columbian gold there are Cycladic figurines, Chinese Tang-dynasty pottery, purses that might have been stolen from Sutton Hoo. [one of]If the British Museum developed a nasty expectorant cough, this is what you'd find in its hanky.[or][stopping]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2141_259" -->
<a id="c2141_259"></a><blockquote class="code"><p class="quoted">
The Treasure Room is scored.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2142_259" -->
<a id="c2142_259"></a><blockquote class="code"><p class="quoted">
Test me with &quot;in / out / in&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "137: No Place Like Home" "e280" -->
<a id="e280"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e280" class="eglink"><b>137</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e280" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">No Place Like Home</span></b></a><br />Recording a whole table of scores for specific treasures.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e280"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example280">
<p>Suppose we want to assign scores for a whole range of objects the player might pick up. One systematic way to do this would be with a table of point values for things:</p>
<!-- START CODE "c2143_280" -->
<a id="c2143_280"></a><blockquote class="code"><p class="quoted">
&quot;No Place Like Home&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2144_280" -->
<a id="c2144_280"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2145_280" -->
<a id="c2145_280"></a><blockquote class="code"><p class="quoted">
The Hall of the Gnome King is a room. The emerald cow is a thing in the Hall of the Gnome King. The ivory chessman is a thing in the Hall of the Gnome King. The book of incantations is a thing in the Hall of the Gnome King.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2146_280" -->
<a id="c2146_280"></a><blockquote class="code"><p class="quoted">
Table of Point Values
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">item</p></td><td class="quotedtablecell"><p class="quoted">score</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">cow</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">incantations</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">chessman</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2147_280" -->
<a id="c2147_280"></a><blockquote class="code"><p class="quoted">
Report taking an item listed in the Table of Point Values:
<br />&#160;&#160;&#160;&#160;increase the score by the score entry;
<br />&#160;&#160;&#160;&#160;blank out the whole row.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2148_280" -->
<a id="c2148_280"></a><blockquote class="code"><p class="quoted">
Test me with &quot;take all&quot;.
</p></blockquote>
<!-- END CODE -->
<p>&quot;Blank out the whole row&quot; removes the line from the table, so that each award will occur only once. The player will not be able to earn more and more points by dropping and taking the same item again.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "138: Big Sky Country" "e205" -->
<a id="e205"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e205" class="eglink"><b>138</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e205" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Big Sky Country</span></b></a><br />Allowing the player to continue play after a fatal accident, but penalizing him by scattering his possessions around the game map.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_11.html#e205"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example205">
<p>Some older games allowed the player to be resurrected after a death, but punished him by distributing his possessions far and wide. Here we emulate that effect.</p>
<!-- START CODE "c2149_205" -->
<a id="c2149_205"></a><blockquote class="code"><p class="quoted">
&quot;Big Sky Country&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2150_205" -->
<a id="c2150_205"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2151_205" -->
<a id="c2151_205"></a><blockquote class="code"><p class="quoted">
When play begins: say &quot;There's a bit of a drive over from Anaconda, Montana, and then through a couple or three ghost towns, but finally you find what you're looking for, and strike out on foot...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2152_205" -->
<a id="c2152_205"></a><blockquote class="code"><p class="quoted">
Entrance to Devil's Canyon is a room. &quot;You are at the top of a steep road, which proceeds down into the canyon proper.&quot; A sign is in Devil's Canyon. It is fixed in place. &quot;An ominous sign has been put up by the local sheriff's office.&quot; The description is &quot;PROCEED AT OWN RISK - NO RESCUES!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2153_205" -->
<a id="c2153_205"></a><blockquote class="code"><p class="quoted">
Instead of going down when a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;say &quot;Whoooops, your footing is not as secure as you thought...&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2154_205" -->
<a id="c2154_205"></a><blockquote class="code"><p class="quoted">
Dusty Path is below Entrance. &quot;A dusty path, with grey-brown thorny bushes on either side. Immediately to your right is a sheer drop; far below you can see the rusting remains of a Model T that some fool tried to drive by here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2155_205" -->
<a id="c2155_205"></a><blockquote class="code"><p class="quoted">
Hairpin is below Dusty Path. &quot;A sharp bend in the road, doubling back down towards the bottom of the canyon. Just north of here there is also a small cavern of some kind[if the stick pin is in the cavern], which attracts your eye with some glittery thing[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2156_205" -->
<a id="c2156_205"></a><blockquote class="code"><p class="quoted">
The Cavern is north of Hairpin. &quot;Really not much more than a little hollow in the side of the canyon.&quot; In the cavern are a snake and a diamond stick pin. The snake is an animal. The description of the snake is &quot;You're no expert, but it looks like a rattler.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2157_205" -->
<a id="c2157_205"></a><blockquote class="code"><p class="quoted">
Instead of taking the diamond stick pin in the presence of the snake: say &quot;Turns out the snake is partial to that there pin, and takes exception to your intending to make off with it.&quot;; end the story.
</p></blockquote>
<!-- END CODE -->
<p>In a fuller implementation of this game, we might make it possible to get by the snake, but in this version, it's just going to remain troublesome.</p>
<!-- START CODE "c2158_205" -->
<a id="c2158_205"></a><blockquote class="code"><p class="quoted">
Crooked Path is below Hairpin. &quot;You're about two thirds of the way down to the bottom of the cavern at this point.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2159_205" -->
<a id="c2159_205"></a><blockquote class="code"><p class="quoted">
At the Spot is below Crooked Path. &quot;This'll be it: a bare patch of ground that might as well have an X painted right on it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2160_205" -->
<a id="c2160_205"></a><blockquote class="code"><p class="quoted">
Rule for supplying a missing noun while digging:
<br />&#160;&#160;&#160;&#160;now noun is the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2161_205" -->
<a id="c2161_205"></a><blockquote class="code"><p class="quoted">
Understand &quot;dig&quot; or &quot;dig hole/here&quot; or &quot;dig in ground/dirt/earth&quot; as digging. Digging is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2162_205" -->
<a id="c2162_205"></a><blockquote class="code"><p class="quoted">
Instead of digging at the spot:
<br />&#160;&#160;&#160;&#160;say &quot;You dig and dig, and after a half hour or so, sure enough, you do turn up a big box of gold! You're going to be richer than God and Bill Gates put together.&quot;;
<br />&#160;&#160;&#160;&#160;increase the score by 5;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2163_205" -->
<a id="c2163_205"></a><blockquote class="code"><p class="quoted">
Instead of digging at the spot when the player does not carry the shovel:
<br />&#160;&#160;&#160;&#160;say &quot;What, without your shovel? That won't work too well.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2164_205" -->
<a id="c2164_205"></a><blockquote class="code"><p class="quoted">
The player carries a walking stick. The player wears a hat, a whistle, and a daypack. The daypack contains a mylar blanket, a granola bar, a cellular phone, a water bottle, a folding shovel, and a photocopied map. The granola bar is edible. Instead of drinking the water, say &quot;You quench your thirst, for the time being.&quot; The description of the map is &quot;The map shows the winding path of Devil's Canyon, with a large X down by the south end. That would be where your uncle Jesse buried the gold from the train robbery.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2165_205" -->
<a id="c2165_205"></a><blockquote class="code"><p class="quoted">
The maximum score is 5.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2166_205" -->
<a id="c2166_205"></a><blockquote class="code"><p class="quoted">
When play ends when the story has not ended finally:
<br />&#160;&#160;&#160;&#160;say &quot;Oh dear, that ought to be fatal! However, if you like I can get you out of it...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2167_205" -->
<a id="c2167_205"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Shall I? &gt;&quot;;
<br />&#160;&#160;&#160;&#160;if the player consents:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through things had by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the item to a random visited room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;A strong wind picks you up and sets you back at [the location], though perhaps minus a few of your things.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resume the story;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try looking.
</p></blockquote>
<!-- END CODE -->
<p>&quot;If the player consents&quot; is just a convenient way to ask a yes/no question that the player must answer before going on with the game.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "139: Witnessed 1" "e24" -->
<a id="e24"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e24" class="eglink"><b>139</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e24" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Witnessed 1</span></b></a><br />A kind of battery which can be put into different devices, and which will lose power after extended use.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e24"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example24">
<p>The following example makes fairly ample use of material that we haven't seen yet, but gives some idea of the flexibility of every turn rules. Suppose we want to have a number of electrical devices, all of which may be powered by a set of batteries. The batteries will all need to be discharged as they are used (regardless of what device they happen to be controlling at the moment). So:</p>
<!-- START CODE "c2168_24" -->
<a id="c2168_24"></a><blockquote class="code"><p class="quoted">
&quot;Witnessed&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2169_24" -->
<a id="c2169_24"></a><blockquote class="code"><p class="quoted">
A battery is a kind of thing. A battery has a number called charge. The charge of a battery is usually 15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2170_24" -->
<a id="c2170_24"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with hollow running through battery compartments:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the hollow is part of a switched on device (called the machine):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a battery (called cell) is in the hollow:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement the charge of the cell;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the warning about failure activity with the machine;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the cell is discharged, carry out the putting out activity with the machine;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the putting out activity with the machine.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2171_24" -->
<a id="c2171_24"></a><blockquote class="code"><p class="quoted">
Warning about failure of something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2172_24" -->
<a id="c2172_24"></a><blockquote class="code"><p class="quoted">
Rule for warning about failure of a device (called the machine):
<br />&#160;&#160;&#160;&#160;if a random battery compartment which is part of the machine contains a battery (called the power source):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the charge of the power source is 2, say &quot;[The machine] is obviously going to go out quite soon.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2173_24" -->
<a id="c2173_24"></a><blockquote class="code"><p class="quoted">
Putting out something is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2174_24" -->
<a id="c2174_24"></a><blockquote class="code"><p class="quoted">
Rule for putting out a device (called the machine):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The machine] loses power and switches off![line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try switching off the machine.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2175_24" -->
<a id="c2175_24"></a><blockquote class="code"><p class="quoted">
A battery compartment is a kind of container. A battery compartment is usually closed and openable. One battery compartment is part of every device. Instead of inserting something which is not a battery into a battery compartment, say &quot;Only batteries should go in a battery compartment.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And to get rid of annoying messages like &quot;Which would you like to close, the flashlight or the flashlight's battery compartment?&quot; when only the compartment is closable, we might add some understanding instructions:</p>
<!-- START CODE "c2176_24" -->
<a id="c2176_24"></a><blockquote class="code"><p class="quoted">
Understand &quot;turn on [device]&quot; as switching on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2177_24" -->
<a id="c2177_24"></a><blockquote class="code"><p class="quoted">
Understand &quot;turn off [device]&quot; as switching off.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2178_24" -->
<a id="c2178_24"></a><blockquote class="code"><p class="quoted">
Understand &quot;open [openable closed thing]&quot; as opening.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2179_24" -->
<a id="c2179_24"></a><blockquote class="code"><p class="quoted">
Understand &quot;close [openable open thing]&quot; as closing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2180_24" -->
<a id="c2180_24"></a><blockquote class="code"><p class="quoted">
Understand &quot;put [something] in [container]&quot; as inserting it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2181_24" -->
<a id="c2181_24"></a><blockquote class="code"><p class="quoted">
Instead of opening a device, try opening a random battery compartment which is part of the noun. Instead of closing a device, try closing a random battery compartment which is part of the noun. Instead of inserting a battery into a device, try inserting the noun into a random battery compartment which is part of the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2182_24" -->
<a id="c2182_24"></a><blockquote class="code"><p class="quoted">
Instead of switching on an empty device:
<br />&#160;&#160;&#160;&#160;say &quot;Nothing happens, perhaps because there isn't a charged battery in [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2183_24" -->
<a id="c2183_24"></a><blockquote class="code"><p class="quoted">
Instead of switching on a battery compartment which is part of a device (called the power user), try switching on the power user.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2184_24" -->
<a id="c2184_24"></a><blockquote class="code"><p class="quoted">
Definition: a device is empty:
<br />&#160;&#160;&#160;&#160;if a random battery compartment which is part of it contains a battery (called the power source):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the power source is discharged, yes;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2185_24" -->
<a id="c2185_24"></a><blockquote class="code"><p class="quoted">
Definition: a battery is discharged if its charge &lt; 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2186_24" -->
<a id="c2186_24"></a><blockquote class="code"><p class="quoted">
A light source is a kind of device. Carry out switching on a light source: now the noun is lit. Carry out switching off a light source: now the noun is unlit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2187_24" -->
<a id="c2187_24"></a><blockquote class="code"><p class="quoted">
The flashlight is a light source. A D battery is a battery carried by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2188_24" -->
<a id="c2188_24"></a><blockquote class="code"><p class="quoted">
The cassette recorder is a device. Every turn: if the cassette recorder is switched on, say &quot;The cassette recorder hisses faintly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2189_24" -->
<a id="c2189_24"></a><blockquote class="code"><p class="quoted">
Rule for warning about failure of the cassette recorder:
<br />&#160;&#160;&#160;&#160;if a random battery compartment which is part of the cassette recorder contains a battery (called the power source):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the charge of the power source is 2, say &quot;The hiss from [the cassette recorder] begins to warble ominously.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2190_24" -->
<a id="c2190_24"></a><blockquote class="code"><p class="quoted">
The player wears a backpack. The backpack is openable. In the backpack is the flashlight and the cassette recorder.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2191_24" -->
<a id="c2191_24"></a><blockquote class="code"><p class="quoted">
The description of the cassette recorder is &quot;Useful both for recording your notes and for capturing any odd ghostly sounds you may hear.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2192_24" -->
<a id="c2192_24"></a><blockquote class="code"><p class="quoted">
The description of the backpack is &quot;An old familiar pack, which you know so well that you can find all its pockets and take things in and out of it in pitch darkness. To avoid it showing up oddly in photographs, it is entirely black, with no shiny or metallic attachments.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2193_24" -->
<a id="c2193_24"></a><blockquote class="code"><p class="quoted">
The description of the flashlight is &quot;You bought a new one just for this occasion, because you were worried about bringing something too small or light. This is a heavy-duty flashlight with an adjustable-focus beam. The case is made of metal, rather than plastic, and there is a spare light-bulb inside as well. You've put a band of masking tape around the handle and written in your initials in red marker.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2194_24" -->
<a id="c2194_24"></a><blockquote class="code"><p class="quoted">
There is a piece of red cellophane attached to the business end of the flashlight to keep it from being overly bright.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2195_24" -->
<a id="c2195_24"></a><blockquote class="code"><p class="quoted">
The red cellophane is part of the flashlight.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2196_24" -->
<a id="c2196_24"></a><blockquote class="code"><p class="quoted">
Instead of doing something to the red cellophane: say &quot;You need the cellophane on the flashlight so that using it does not completely destroy your night vision.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2197_24" -->
<a id="c2197_24"></a><blockquote class="code"><p class="quoted">
Thirtieth Street Station is a room. &quot;A huge, high, rectangular room with coffered ceilings, which looks grand but mostly makes you feel lonely and small. There are long benches in rows down the middle of the room, and an information desk with the train times, and a series of ticket windows, none of which matters very much at the moment.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2198_24" -->
<a id="c2198_24"></a><blockquote class="code"><p class="quoted">
The benches are an enterable supporter. They are scenery in the Station. The information desk is scenery in the Station. Some ticket windows are scenery in the Station. Instead of examining scenery in the Station: say &quot;You're fairly sure that whatever is going on here has nothing to do with [the noun].&quot; Understand &quot;window&quot; as ticket windows.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2199_24" -->
<a id="c2199_24"></a><blockquote class="code"><p class="quoted">
The mural is fixed in place in Thirtieth Street. &quot;At the north side of the station is a particularly pointless and empty annex to the main room. It is dominated by a huge relief of sorts, and this is what you remember.&quot; Understand &quot;metal&quot; or &quot;relief&quot; or &quot;huge&quot; as the mural. The description of the mural is &quot;It is both stylized and confusing, but you think it might be supposed to represent the various tasks and occupations of Philadelphia's population. The portions closer to the ground look as though they have recently been subjected to a light dusting of talcum powder. No unusual prints are evident.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2200_24" -->
<a id="c2200_24"></a><blockquote class="code"><p class="quoted">
The wind chimes are fixed in place in Thirtieth Street. &quot;Carefully attached to the wall with a piece of duct tape and a hook is a light-weight set of wind chimes. Someone else has been here before you, it seems.&quot; The description is &quot;Several of your friends use wind chimes as a sort of ghost alarm, since ghosts sometimes cause very localized movements of air when there is no natural breeze.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And this last bit, borrowed from the chapter on Understanding, adds some special instructions to help Inform decide when the player is likely to be referring to a compartment and when he's likely to be referring to the device itself.</p>
<!-- START CODE "c2201_24" -->
<a id="c2201_24"></a><blockquote class="code"><p class="quoted">
Does the player mean doing something other than searching to a battery compartment: it is unlikely. [We discourage Inform from choosing a compartment when the player uses just the name of a device or the word 'battery'.]
</p></blockquote>
<!-- END CODE -->
<p>We also need to deal with commands like PUT BATTERY IN FLASHLIGHT, where Inform might construe BATTERY as the D battery, the flashlight's battery compartment, or the cassette recorder's battery compartment -- and might also construe FLASHLIGHT as either the flashlight's battery compartment or the flashlight itself.</p>
<!-- START CODE "c2202_24" -->
<a id="c2202_24"></a><blockquote class="code"><p class="quoted">
Does the player mean inserting into a battery compartment:
<br />&#160;&#160;&#160;&#160;if the noun is nothing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;it is very likely;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make no decision.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2203_24" -->
<a id="c2203_24"></a><blockquote class="code"><p class="quoted">
Does the player mean inserting a battery compartment into: it is very unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2204_24" -->
<a id="c2204_24"></a><blockquote class="code"><p class="quoted">
Does the player mean inserting something into a device: it is unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2205_24" -->
<a id="c2205_24"></a><blockquote class="code"><p class="quoted">
Does the player mean searching a battery compartment: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2206_24" -->
<a id="c2206_24"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test first / test second&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2207_24" -->
<a id="c2207_24"></a><blockquote class="code"><p class="quoted">
Test first with &quot;i / open flashlight compartment / put battery in it / turn on flashlight / take d battery / open cassette compartment / turn on cassette / put battery in cassette compartment / turn on cassette / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2208_24" -->
<a id="c2208_24"></a><blockquote class="code"><p class="quoted">
Test second with &quot;get d battery / put d battery in flashlight compartment / turn on flashlight / z / z / z / z / z / z / turn off flashlight / z / z / turn on flashlight / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "140: Text Foosball" "e151" -->
<a id="e151"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e151" class="eglink"><b>140</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e151" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Text Foosball</span></b></a><br />A game of foosball which relies heavily on every-turn rules.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e151"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example151">
<p>Suppose we want a game of foosball in which our opponent acts every turn, but does different things depending on where the ball currently lies. We can put together a sequence of every-turn rules to account for this, as follows:</p>
<!-- START CODE "c2209_151" -->
<a id="c2209_151"></a><blockquote class="code"><p class="quoted">
&quot;Text Foosball&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2210_151" -->
<a id="c2210_151"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2211_151" -->
<a id="c2211_151"></a><blockquote class="code"><p class="quoted">
The Lounge is a room. &quot;The Lounge is appointed with everything necessary to rest and relaxation: a vending machine, a potted palm, a stack of Entertainment Weekly issues from 1993, and -- your pride and joy -- a foosball game.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2212_151" -->
<a id="c2212_151"></a><blockquote class="code"><p class="quoted">
The foosball game is scenery in the Lounge. Understand &quot;table&quot; or &quot;football&quot; or &quot;foozball&quot; or &quot;fussball&quot; or &quot;soccer&quot; as the foosball game. The game is a supporter. On the game is a small white ball. The ball can be still, approaching, receding, or unreachable. The description of the ball is &quot;Currently [small white ball condition].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2213_151" -->
<a id="c2213_151"></a><blockquote class="code"><p class="quoted">
After printing the name of the small white ball, say &quot; ([small white ball condition])&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2214_151" -->
<a id="c2214_151"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;You: [score]&quot;;
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;Joey: [Joey's score]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2215_151" -->
<a id="c2215_151"></a><blockquote class="code"><p class="quoted">
Some tiny men on sticks are part of the game. Understand &quot;handles&quot; as the tiny men. The description is &quot;Okay, a couple of the tiny men have had their feet broken off, and the table surface itself is a bit warped, and the ball resembles a quail egg in respect of shape and color. This makes for a game of unusual randomness, but skill is overrated.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2216_151" -->
<a id="c2216_151"></a><blockquote class="code"><p class="quoted">
Instead of attacking or pulling or pushing the game when the ball is unreachable:
<br />&#160;&#160;&#160;&#160;say &quot;You give the table a good shove, and the ball moves ever-so-slightly.&quot;;
<br />&#160;&#160;&#160;&#160;now the ball is still.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2217_151" -->
<a id="c2217_151"></a><blockquote class="code"><p class="quoted">
Instead of taking the white ball:
<br />&#160;&#160;&#160;&#160;say &quot;You'd forfeit the game if you did that.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2218_151" -->
<a id="c2218_151"></a><blockquote class="code"><p class="quoted">
Instead of turning the tiny men when the ball is unreachable:
<br />&#160;&#160;&#160;&#160;say &quot;The ball has somehow gotten to a mystical point on the table where it cannot be reached, no matter what. Close inspection reveals that this point has been marked in chalk with a tiny X. Not that that does any good.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2219_151" -->
<a id="c2219_151"></a><blockquote class="code"><p class="quoted">
Instead of turning the tiny men when the ball is approaching:
<br />&#160;&#160;&#160;&#160;if a random chance of 2 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a random chance of 1 in 2 succeeds, now the ball is receding;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now the ball is still;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[if the ball is still]Thunk. [otherwise]Thwack! [end if]You keep the ball from reaching its goal! Now it is [small white ball condition].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let Joey score.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2220_151" -->
<a id="c2220_151"></a><blockquote class="code"><p class="quoted">
To let Joey score:
<br />&#160;&#160;&#160;&#160;now the ball is still;
<br />&#160;&#160;&#160;&#160;now Joey's score is Joey's score + 1;
<br />&#160;&#160;&#160;&#160;say &quot;The ball rolls neatly into your goal, despite your efforts. &quot;;
<br />&#160;&#160;&#160;&#160;if Joey's score &lt; score, say &quot;You put the ball back in the center with a snap. No reason to worry yet; you're still ahead. Joey looks determined, though.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;After allowing a moment or two for Joey's gloating to pass, you replace it at the center.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2221_151" -->
<a id="c2221_151"></a><blockquote class="code"><p class="quoted">
Instead of turning the tiny men when a random chance of 1 in 13 succeeds:
<br />&#160;&#160;&#160;&#160;if the ball is unreachable, continue the action;
<br />&#160;&#160;&#160;&#160;now the ball is unreachable;
<br />&#160;&#160;&#160;&#160;say &quot;You hit the ball off-center and it rolls sluggishly into a little dip in the surface of the foosball table. &quot;;
<br />&#160;&#160;&#160;&#160;if Joey's score &gt; 7, say &quot;'You did that on purpose!' Joey exclaims indignantly.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You and Joey exchange glances. This is never good.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2222_151" -->
<a id="c2222_151"></a><blockquote class="code"><p class="quoted">
Instead of turning the tiny men:
<br />&#160;&#160;&#160;&#160;say &quot;You madly rotate the tiny men on sticks! &quot;;
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 2 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Hoorah! You hit the ball!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ball is receding;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Somehow you fail to bring your monopodal player into contact with the ball.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2223_151" -->
<a id="c2223_151"></a><blockquote class="code"><p class="quoted">
Joey is a man in the Lounge. &quot;Joey is hunkered over the foosball handles on his side of the table.&quot; Joey can be active or inactive.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2224_151" -->
<a id="c2224_151"></a><blockquote class="code"><p class="quoted">
Joey's score is a number that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2225_151" -->
<a id="c2225_151"></a><blockquote class="code"><p class="quoted">
Every turn: now Joey is active.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2226_151" -->
<a id="c2226_151"></a><blockquote class="code"><p class="quoted">
Every turn when the ball is approaching and Joey is active:
<br />&#160;&#160;&#160;&#160;let total be Joey's score + score;
<br />&#160;&#160;&#160;&#160;if total &gt; 9, make no decision;
<br />&#160;&#160;&#160;&#160;now Joey is inactive;
<br />&#160;&#160;&#160;&#160;let Joey score;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2227_151" -->
<a id="c2227_151"></a><blockquote class="code"><p class="quoted">
Every turn when the ball is unreachable and Joey is active:
<br />&#160;&#160;&#160;&#160;let total be Joey's score + score;
<br />&#160;&#160;&#160;&#160;if total &gt; 9, make no decision;
<br />&#160;&#160;&#160;&#160;now Joey is inactive;
<br />&#160;&#160;&#160;&#160;say &quot;Joey glares angrily at the stuck ball.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2228_151" -->
<a id="c2228_151"></a><blockquote class="code"><p class="quoted">
Every turn when the ball is receding and Joey is active:
<br />&#160;&#160;&#160;&#160;let total be Joey's score + score;
<br />&#160;&#160;&#160;&#160;if total &gt; 9, make no decision;
<br />&#160;&#160;&#160;&#160;if the ball is unreachable, make no decision;
<br />&#160;&#160;&#160;&#160;now Joey is inactive;
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 2 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if a random chance of 1 in 2 succeeds, now the ball is still;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now the ball is approaching;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Joey connects with your shot. Now the ball is [small white ball condition]!&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ball is still;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Joey tries to block, but misses! Back it goes in the center, where it is [small white ball condition].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the score.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2229_151" -->
<a id="c2229_151"></a><blockquote class="code"><p class="quoted">
Every turn when the ball is still and Joey is active:
<br />&#160;&#160;&#160;&#160;let total be Joey's score + score;
<br />&#160;&#160;&#160;&#160;if total &gt; 9, make no decision;
<br />&#160;&#160;&#160;&#160;if the ball is unreachable, make no decision;
<br />&#160;&#160;&#160;&#160;now Joey is inactive;
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 2 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ball is approaching;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Joey hits the ball solidly down towards your goal. Now it is [small white ball condition].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Joey fails to hit the ball in your direction. It remains [small white ball condition].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2230_151" -->
<a id="c2230_151"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;let total be Joey's score + score;
<br />&#160;&#160;&#160;&#160;if total &gt; 9:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if Joey's score &gt; score, end the story saying &quot;Rats! Joey wins!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if Joey's score &lt; score, end the story finally saying &quot;Victory is yours!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if Joey's score is score, end the story saying &quot;A perfect tie.&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "141: IPA" "e202" -->
<a id="e202"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e202" class="eglink"><b>141</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e202" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">IPA</span></b></a><br />Shops which each have opening and closing hours, so that it is impossible to go in at the wrong times, and the player is kicked out if he overstays his welcome.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_4.html#e202"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example202">
<p>Suppose we wanted a game set in a living town, with locations opening and closing at different times of day, and business carrying on as usual. The point might be to force the player to plan his itinerary carefully to hit the right spots at the right times; or we might be writing a more contemplative piece, where part of the enjoyment came from just watching the characters wander around doing their daily business...</p>
<!-- START CODE "c2231_202" -->
<a id="c2231_202"></a><blockquote class="code"><p class="quoted">
&quot;IPA&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2232_202" -->
<a id="c2232_202"></a><blockquote class="code"><p class="quoted">
When play begins: now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2233_202" -->
<a id="c2233_202"></a><blockquote class="code"><p class="quoted">
The time of day is 9:50 AM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2234_202" -->
<a id="c2234_202"></a><blockquote class="code"><p class="quoted">
A shop is a kind of room. A shop has a time called the opening hour. The opening hour of the shop is usually 8 AM. A shop has a time called the closing hour. A shop usually has closing hour 6 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2235_202" -->
<a id="c2235_202"></a><blockquote class="code"><p class="quoted">
Check going to a shop (called the target):
<br />&#160;&#160;&#160;&#160;if the time of day is before the opening hour of the target,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The target] is locked up until [the opening hour of the target].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2236_202" -->
<a id="c2236_202"></a><blockquote class="code"><p class="quoted">
Check going to a shop (called the target):
<br />&#160;&#160;&#160;&#160;if the time of day is after the closing hour of the target,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The target] has been closed since [the closing hour of the target].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2237_202" -->
<a id="c2237_202"></a><blockquote class="code"><p class="quoted">
Every turn when the location is a shop:
<br />&#160;&#160;&#160;&#160;let deadline be the closing hour of the location;
<br />&#160;&#160;&#160;&#160;if the deadline is before the time of day:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let target be a random adjacent room which is not a shop;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are gently but firmly ushered out, since [the location] is closing.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the player to the target.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2238_202" -->
<a id="c2238_202"></a><blockquote class="code"><p class="quoted">
The Strip-mall Parking Lot is a room. &quot;Dead Christmas trees are heaped outside the bagel shop. Strips of dirty ice survive along the curb, and in the shadows of the lamp-posts. A wet, almost illegible sheet of algebra homework is plastered to the asphalt.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2239_202" -->
<a id="c2239_202"></a><blockquote class="code"><p class="quoted">
Pinewood Brewing Supply is at the east end of the lot.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2240_202" -->
<a id="c2240_202"></a><blockquote class="code"><p class="quoted">
Pinewood Brewing Supply is a shop. It is east of Parking Lot. The opening hour of Pinewood Brewing Supply is 10:00 AM. The closing hour of Pinewood Brewing Supply is 3:30 PM. &quot;Shelves and shelves of malt and hops; large glass carboys, and plastic tubing; empty bottles; bottle-caps; bottle-labeling kits; starters for vinegar, sourdough, root beer.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2241_202" -->
<a id="c2241_202"></a><blockquote class="code"><p class="quoted">
A sweet malty smell hangs in the air.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2242_202" -->
<a id="c2242_202"></a><blockquote class="code"><p class="quoted">
Instead of going to Brewing Supply when the time of day is before the opening hour of Brewing Supply for the second time:
<br />&#160;&#160;&#160;&#160;say &quot;You rattle at the door again. 'Hold your horses, for crying out loud,' yells a voice from within.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2243_202" -->
<a id="c2243_202"></a><blockquote class="code"><p class="quoted">
Noah's Bagels is a shop. It is north of the Parking Lot. The opening hour of Noah's Bagels is 6:00 AM. The closing hour of Noah's Bagels is 11:00 AM. &quot;The selection has been somewhat picked over, leaving you with your choice of Pumpernickel, Asiago, or Everything.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2244_202" -->
<a id="c2244_202"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / e / n / z / s / e / z / e / z / z / e&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "142: Situation Room" "e348" -->
<a id="e348"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e348" class="eglink"><b>142</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e348" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Situation Room</span></b></a><br />Printing the time of day in 24-hour time, as in military situations.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_4.html#e348"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example348">
<p>Though Inform normally prints times in AM/PM terms, it stores the hours and minutes as 24-hour time; so, if we like, we can easily extract that information again thus:</p>
<!-- START CODE "c2245_348" -->
<a id="c2245_348"></a><blockquote class="code"><p class="quoted">
&quot;Situation Room&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2246_348" -->
<a id="c2246_348"></a><blockquote class="code"><p class="quoted">
The Situation Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2247_348" -->
<a id="c2247_348"></a><blockquote class="code"><p class="quoted">
To say (relevant time - a time) as 24h time:
<br />&#160;&#160;&#160;&#160;let H be the hours part of relevant time;
<br />&#160;&#160;&#160;&#160;let M be the minutes part of relevant time;
<br />&#160;&#160;&#160;&#160;say &quot;[if H is less than 10]0[end if][H][if M is less than 10]0[end if][M]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2248_348" -->
<a id="c2248_348"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the time of day is 6:09 PM;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day as 24h time]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2249_348" -->
<a id="c2249_348"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "143: MRE" "e254" -->
<a id="e254"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e254" class="eglink"><b>143</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e254" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">MRE</span></b></a><br />Hunger that eventually kills the player, and foodstuffs that can delay the inevitable by different amounts of time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_9.html#e254"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example254">
<p>Many older interactive fiction games required the player to find food and eat on a regular basis in order to avoid death. This effect was often unrealistic (since most people can survive much longer than a few hours without eating) and is often seen as an annoyance. However, for the sake of argument, suppose that we do want to construct a hunger-and-death system.</p>
<p>To make things a little more interesting, we will postulate that different foods are differently filling, so that if the player manages to find something really caloric, he is off the hook on his hunger search for a while.</p>
<p>We will also implement the system so that the player gets messages when he is hungry, then dies a short time later. (The times involved are ludicrously short, but this allows us to see the effects within a simple example. In a real game we would want to allow a considerably longer timer for the hunger to play out.)</p>
<p>First, a little scene-setting:</p>
<!-- START CODE "c2250_254" -->
<a id="c2250_254"></a><blockquote class="code"><p class="quoted">
&quot;MRE&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2251_254" -->
<a id="c2251_254"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2252_254" -->
<a id="c2252_254"></a><blockquote class="code"><p class="quoted">
They were wrong.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2253_254" -->
<a id="c2253_254"></a><blockquote class="code"><p class="quoted">
The Base Camp Larder is a room. &quot;This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you're inside now.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:</p>
<!-- START CODE "c2254_254" -->
<a id="c2254_254"></a><blockquote class="code"><p class="quoted">
Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2255_254" -->
<a id="c2255_254"></a><blockquote class="code"><p class="quoted">
A person can be hungry or replete. The player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2256_254" -->
<a id="c2256_254"></a><blockquote class="code"><p class="quoted">
The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2257_254" -->
<a id="c2257_254"></a><blockquote class="code"><p class="quoted">
Check eating something which is not food:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] might be edible, but it's not what you'd consider really food.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2258_254" -->
<a id="c2258_254"></a><blockquote class="code"><p class="quoted">
Check eating something when the player is not hungry:
<br />&#160;&#160;&#160;&#160;say &quot;You're not hungry right now.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2259_254" -->
<a id="c2259_254"></a><blockquote class="code"><p class="quoted">
Carry out eating something:
<br />&#160;&#160;&#160;&#160;now the player is replete;
<br />&#160;&#160;&#160;&#160;hunger resumes in the satisfaction period of the noun from now.
</p></blockquote>
<!-- END CODE -->
<p>The first of those two phrases, &quot;now the player is replete&quot;, causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:</p>
<!-- START CODE "c2260_254" -->
<a id="c2260_254"></a><blockquote class="code"><p class="quoted">
At the time when hunger resumes:
<br />&#160;&#160;&#160;&#160;starvation occurs in three minutes from now;
<br />&#160;&#160;&#160;&#160;now the player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2261_254" -->
<a id="c2261_254"></a><blockquote class="code"><p class="quoted">
At the time when starvation occurs:
<br />&#160;&#160;&#160;&#160;if the player is hungry, end the story saying &quot;You have starved&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note &quot;if the player is hungry&quot;: it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.</p>
<p>And now, since we really ought to give the player some warning of what is happening to him:</p>
<!-- START CODE "c2262_254" -->
<a id="c2262_254"></a><blockquote class="code"><p class="quoted">
Every turn when the player is hungry:
<br />&#160;&#160;&#160;&#160;choose a random row in the Table of Hunger Complaints;
<br />&#160;&#160;&#160;&#160;say &quot;[hunger entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2263_254" -->
<a id="c2263_254"></a><blockquote class="code"><p class="quoted">
Table of Hunger Complaints
<br />hunger
<br />&quot;Gosh, you're starving.&quot;
<br />&quot;It feels as though you haven't eaten in days. Weeks, almost.&quot;
<br />&quot;The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs.&quot;
<br />&quot;You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2264_254" -->
<a id="c2264_254"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "144: Totality" "e113" -->
<a id="e113"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e113" class="eglink"><b>144</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e113" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Totality</span></b></a><br />To schedule an eclipse of the sun, which involves a number of related events.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e113"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example113">
<p>First we define the events, and then we create a phrase to schedule them:</p>
<!-- START CODE "c2265_113" -->
<a id="c2265_113"></a><blockquote class="code"><p class="quoted">
&quot;Totality&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2266_113" -->
<a id="c2266_113"></a><blockquote class="code"><p class="quoted">
At the time when the penumbra appears:
<br />&#160;&#160;&#160;&#160;say &quot;The sunlight dies away to an eerie, brownish penumbra.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2267_113" -->
<a id="c2267_113"></a><blockquote class="code"><p class="quoted">
At the time when the eclipse begins:
<br />&#160;&#160;&#160;&#160;say &quot;The moon passes across the disc of the sun, plunging the world into darkness.&quot;;
<br />&#160;&#160;&#160;&#160;now the Chamber is dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2268_113" -->
<a id="c2268_113"></a><blockquote class="code"><p class="quoted">
At the time when the eclipse ends:
<br />&#160;&#160;&#160;&#160;say &quot;The moon passes away from the sun, and a gloomy penumbral light returns.&quot;;
<br />&#160;&#160;&#160;&#160;now the Chamber is lighted.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2269_113" -->
<a id="c2269_113"></a><blockquote class="code"><p class="quoted">
At the time when normal sunlight returns:
<br />&#160;&#160;&#160;&#160;say &quot;The sun shines once more bright in the sky, not to be eclipsed again on this spot for another thirty-seven years.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2270_113" -->
<a id="c2270_113"></a><blockquote class="code"><p class="quoted">
To schedule an eclipse for (totality - a time):
<br />&#160;&#160;&#160;&#160;the penumbra appears at two minutes before totality;
<br />&#160;&#160;&#160;&#160;the eclipse begins at totality;
<br />&#160;&#160;&#160;&#160;the eclipse ends at three minutes after totality;
<br />&#160;&#160;&#160;&#160;normal sunlight returns at five minutes after totality.
</p></blockquote>
<!-- END CODE -->
<p>Now we make use of the new phrase:</p>
<!-- START CODE "c2271_113" -->
<a id="c2271_113"></a><blockquote class="code"><p class="quoted">
When play begins, schedule an eclipse for 3:27 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2272_113" -->
<a id="c2272_113"></a><blockquote class="code"><p class="quoted">
The Chamber is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2273_113" -->
<a id="c2273_113"></a><blockquote class="code"><p class="quoted">
The time of day is 3:25 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2274_113" -->
<a id="c2274_113"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We shall see much more about creating phrases later. Their advantage is that they enable a complicated sequence of operations to be given a meaningful name, and that they can be re-used many times as needed.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "145: Empire" "e389" -->
<a id="e389"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e389" class="eglink"><b>145</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e389" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Empire</span></b></a><br />A train which follows a schedule, stopping at a number of different locations.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_8.html#e389"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example389">
<p>Suppose we want to have a train which, at fixed times, arrives at and leaves stations. It should be possible for the player to get on and off the train when it is stopped, but not while the train is in motion.</p>
<!-- START CODE "c2275_389" -->
<a id="c2275_389"></a><blockquote class="code"><p class="quoted">
&quot;Empire&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2276_389" -->
<a id="c2276_389"></a><blockquote class="code"><p class="quoted">
The Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2277_389" -->
<a id="c2277_389"></a><blockquote class="code"><p class="quoted">
The description of the Empire Builder is &quot;One of the (relatively) plush long-distance Amtrak trains. You're in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2278_389" -->
<a id="c2278_389"></a><blockquote class="code"><p class="quoted">
[if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2279_389" -->
<a id="c2279_389"></a><blockquote class="code"><p class="quoted">
Instead of exiting when the player is in the Train:
<br />&#160;&#160;&#160;&#160;if the station of the Train is the Train:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The train is not stopped at a station.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the player to the station of the train instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2280_389" -->
<a id="c2280_389"></a><blockquote class="code"><p class="quoted">
Before going outside when the player is in the Train:
<br />&#160;&#160;&#160;&#160;try exiting instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2281_389" -->
<a id="c2281_389"></a><blockquote class="code"><p class="quoted">
Before going inside when the player is in the station of the Train:
<br />&#160;&#160;&#160;&#160;move the player to the Train instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2282_389" -->
<a id="c2282_389"></a><blockquote class="code"><p class="quoted">
Seattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually &quot;The scenic train station of [the location][if the location is the station of the train].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2283_389" -->
<a id="c2283_389"></a><blockquote class="code"><p class="quoted">
The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now our schedule for the train -- somewhat truncated, admittedly, since the full three-day journey from Seattle to Chicago is a bit long even for an ambitious example.</p>
<!-- START CODE "c2284_389" -->
<a id="c2284_389"></a><blockquote class="code"><p class="quoted">
At 4:45 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train]!&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2285_389" -->
<a id="c2285_389"></a><blockquote class="code"><p class="quoted">
At 5:10 PM:
<br />&#160;&#160;&#160;&#160;now the station of the Train is Edmonds;
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls into Edmonds and comes to a stop.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2286_389" -->
<a id="c2286_389"></a><blockquote class="code"><p class="quoted">
At 5:17 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train], running north along the shore towards Everett.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2287_389" -->
<a id="c2287_389"></a><blockquote class="code"><p class="quoted">
At 5:39 PM:
<br />&#160;&#160;&#160;&#160;now the station of the Train is Everett;
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2288_389" -->
<a id="c2288_389"></a><blockquote class="code"><p class="quoted">
At 5:44 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and turns east.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2289_389" -->
<a id="c2289_389"></a><blockquote class="code"><p class="quoted">
At 8:39 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is Wenatchee.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2290_389" -->
<a id="c2290_389"></a><blockquote class="code"><p class="quoted">
At 8:44 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<p>Playing this out would of course require near inhuman patience. Let's set things up so that the player at least doesn't have to wait too long for his first departure:</p>
<!-- START CODE "c2291_389" -->
<a id="c2291_389"></a><blockquote class="code"><p class="quoted">
The time of day is 4:43 PM.
</p></blockquote>
<!-- END CODE -->
<p>...and provide fair warning of how slowly time is elapsing.</p>
<!-- START CODE "c2292_389" -->
<a id="c2292_389"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2293_389" -->
<a id="c2293_389"></a><blockquote class="code"><p class="quoted">
Test me with &quot;out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2294_389" -->
<a id="c2294_389"></a><blockquote class="code"><p class="quoted">
Test more with &quot;out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "146: Hour of the Wren" "e191" -->
<a id="e191"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e191" class="eglink"><b>146</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e191" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hour of the Wren</span></b></a><br />Allowing the player to make an appointment, which is then kept.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_4.html#e191"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example191">
<p>Here we allow the player to set the time at which some future event is going to happen, rather than letting the game decide. We'll need to borrow the syntax for defining new actions from a later chapter:</p>
<!-- START CODE "c2295_191" -->
<a id="c2295_191"></a><blockquote class="code"><p class="quoted">
&quot;Hour of the Wren&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2296_191" -->
<a id="c2296_191"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;You more or less stumble across them in Central Park: a disparate group of people, all of different ages, sitting in a circle. They aren't talking to one another -- in fact, they seem to be trying very hard to ignore one another, like people in the waiting room of an especially embarrassing kind of doctor. You are about to go around when a woman in a grey pressed suit comes up to you. Her suit-skirt is trimmed in lavender cord, and she looks as though she might have been extremely sharp-dressed in 1944. She hands you a card.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2297_191" -->
<a id="c2297_191"></a><blockquote class="code"><p class="quoted">
The Circle in the Grass is a room. &quot;No one is looking at you, except for the secretary, if that is what she is.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2298_191" -->
<a id="c2298_191"></a><blockquote class="code"><p class="quoted">
The player carries a card. The description of the card is &quot;Typed: 'Active astrology - dislike your fortunes? change your stars! - make an appointment now - hour of the wren STILL AVAILABLE.'&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2299_191" -->
<a id="c2299_191"></a><blockquote class="code"><p class="quoted">
The time of day is 1:55 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2300_191" -->
<a id="c2300_191"></a><blockquote class="code"><p class="quoted">
Understand &quot;pick [time]&quot; or &quot;choose [time]&quot; or &quot;make appointment for [time]&quot; or &quot;make an appointment for [time]&quot; as making an appointment for. Making an appointment for is an action applying to one time.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2301_191" -->
<a id="c2301_191"></a><blockquote class="code"><p class="quoted">
Carry out making an appointment for:
<br />&#160;&#160;&#160;&#160;say &quot;Fate cannot be commanded more than once.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2302_191" -->
<a id="c2302_191"></a><blockquote class="code"><p class="quoted">
Instead of making an appointment for the time understood for the first time:
<br />&#160;&#160;&#160;&#160;say &quot;You settle on [the time understood] for your appointment. The woman makes a note of it in an appointment book, which she carries in a brown paper bag. 'Excellent choice, ma'am,' she says in a low, urgent voice. 'You'll be very satisfied.'&quot;;
<br />&#160;&#160;&#160;&#160;stars shift at the time understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2303_191" -->
<a id="c2303_191"></a><blockquote class="code"><p class="quoted">
Understand &quot;hour of the wren&quot; as 2:00 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2304_191" -->
<a id="c2304_191"></a><blockquote class="code"><p class="quoted">
At the time when stars shift:
<br />&#160;&#160;&#160;&#160;end the story saying &quot;insert cataclysm here&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2305_191" -->
<a id="c2305_191"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x card / make appointment for hour of the wren / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "147: Night Sky" "e263" -->
<a id="e263"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e263" class="eglink"><b>147</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e263" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Night Sky</span></b></a><br />A room which changes its description depending on whether an object has been examined.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e263"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example263">
<p>Sometimes a nice effect is to change the way things are described depending on the information the player has gained in the course of play. We could for instance write this:</p>
<!-- START CODE "c2306_263" -->
<a id="c2306_263"></a><blockquote class="code"><p class="quoted">
&quot;Night Sky&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2307_263" -->
<a id="c2307_263"></a><blockquote class="code"><p class="quoted">
The Planetarium is a room. &quot;[if we have examined the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2308_263" -->
<a id="c2308_263"></a><blockquote class="code"><p class="quoted">
The sinister message is a thing in the Planetarium. &quot;A message is taped to the wall.&quot; The description is &quot;'BEWARE.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2309_263" -->
<a id="c2309_263"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / x message / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>On the other hand, beware that this would not work as desired:</p>
<!-- START CODE "c2310_263" -->
<a id="c2310_263"></a><blockquote class="code"><p class="quoted">
&quot;Night Sky&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2311_263" -->
<a id="c2311_263"></a><blockquote class="code"><p class="quoted">
The Planetarium is a room. &quot;[if we have listened to the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2312_263" -->
<a id="c2312_263"></a><blockquote class="code"><p class="quoted">
The sinister message is a thing in the Planetarium. &quot;A message plays very softly, so that you would have to listen to hear it.&quot; Instead of doing anything other than listening to the message: say &quot;It's only a sound, after all.&quot;. Instead of listening to the sinister message: say &quot;A voice whispers, 'BEWARE'.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2313_263" -->
<a id="c2313_263"></a><blockquote class="code"><p class="quoted">
Test me with &quot;listen to message / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The reason is that our Instead rule has pre-empted normal listening, so Inform considers that we have never successfully heard the message. The moral here is that &quot;if we have...&quot; is useful for tracking events that otherwise proceeded completely normally (picking up ordinary objects, examining things); if we have used instead to make some change, we will have to use a different approach to record that the event did occur as scheduled.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "148: Zero" "e255" -->
<a id="e255"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e255" class="eglink"><b>148</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e255" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zero</span></b></a><br />A box which called "horribly heavy box" after the player has tried to take it the first time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_5.html#e255"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example255">
<p>The names of objects might want to change also:</p>
<!-- START CODE "c2314_255" -->
<a id="c2314_255"></a><blockquote class="code"><p class="quoted">
&quot;Zero&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2315_255" -->
<a id="c2315_255"></a><blockquote class="code"><p class="quoted">
Weight is a kind of value. The weights are light, manageable, and horribly heavy. Everything has a weight.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2316_255" -->
<a id="c2316_255"></a><blockquote class="code"><p class="quoted">
A thing is usually manageable.
</p></blockquote>
<!-- END CODE -->
<p>This does require a rule for an activity (see the chapter on Activities), but it's a fairly straightforward one:</p>
<!-- START CODE "c2317_255" -->
<a id="c2317_255"></a><blockquote class="code"><p class="quoted">
Before printing the name of a horribly heavy thing (called weighty object):
<br />&#160;&#160;&#160;&#160;if we have taken the weighty object, say &quot;[weight] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2318_255" -->
<a id="c2318_255"></a><blockquote class="code"><p class="quoted">
The Nearly Empty Living Room is a room. &quot;Nearly everything is out, all of Helen's possessions and most of yours.&quot; A man called Mr Zero is in the Nearly Empty Living Room. &quot;Mr Zero, despite being heavily paid to assist in this operation, is giving you a look that clearly conveys his lack of interest in budging even one more item.&quot; The description of Mr Zero is &quot;Many muscles, no hair.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2319_255" -->
<a id="c2319_255"></a><blockquote class="code"><p class="quoted">
The book box is a horribly heavy thing in the Living Room. The clothing box is a manageable thing in the Living Room. A broom, a dustpan, some packing tape, and a discarded newspaper are light things in the Living Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2320_255" -->
<a id="c2320_255"></a><blockquote class="code"><p class="quoted">
After taking a horribly heavy thing:
<br />&#160;&#160;&#160;&#160;say &quot;Taken. (Oof.)&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2321_255" -->
<a id="c2321_255"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get clothing / look / get book box / look / i / drop book box / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "149: Tense Boxing" "e377" -->
<a id="e377"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e377" class="eglink"><b>149</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e377" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tense Boxing</span></b></a><br />An overview of all the variations of past and present tenses, and how they might be used.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_5.html#e377"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example377">
<p>Here we have a box that prints out its current state and its history each time we open and close it:</p>
<!-- START CODE "c2322_377" -->
<a id="c2322_377"></a><blockquote class="code"><p class="quoted">
&quot;Tense Boxing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2323_377" -->
<a id="c2323_377"></a><blockquote class="code"><p class="quoted">
The Temporal Prism is a room. &quot;A room of angled mirrors, in whose surfaces you can see what is now; what just was; what has always been. A final mirror is broken and its frame gapes blackly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2324_377" -->
<a id="c2324_377"></a><blockquote class="code"><p class="quoted">
The mysterious box is in the Temporal Prism. It is an openable closed container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2325_377" -->
<a id="c2325_377"></a><blockquote class="code"><p class="quoted">
To assess the box:
<br />&#160;&#160;&#160;&#160;if the box was not open, say &quot;The box was not open.&quot;;
<br />&#160;&#160;&#160;&#160;if the box was open, say &quot;The box was open.&quot;;
<br />&#160;&#160;&#160;&#160;if the box had not been open, say &quot;The box had not been open.&quot;;
<br />&#160;&#160;&#160;&#160;if the box had been open, say &quot;The box had been open.&quot;;
<br />&#160;&#160;&#160;&#160;if the box is not open, say &quot;The box is not open.&quot;;
<br />&#160;&#160;&#160;&#160;if the box is open, say &quot;The box is open.&quot;;
<br />&#160;&#160;&#160;&#160;if the box has not been open, say &quot;The box has not been open.&quot;;
<br />&#160;&#160;&#160;&#160;if the box has been open, say &quot;The box has been open.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2326_377" -->
<a id="c2326_377"></a><blockquote class="code"><p class="quoted">
Before opening the mysterious box:
<br />&#160;&#160;&#160;&#160;say &quot;You are about to open the box.&quot;;
<br />&#160;&#160;&#160;&#160;assess the box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2327_377" -->
<a id="c2327_377"></a><blockquote class="code"><p class="quoted">
Before closing the mysterious box:
<br />&#160;&#160;&#160;&#160;say &quot;You are about to close the box.&quot;;
<br />&#160;&#160;&#160;&#160;assess the box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2328_377" -->
<a id="c2328_377"></a><blockquote class="code"><p class="quoted">
After opening the mysterious box:
<br />&#160;&#160;&#160;&#160;say &quot;You now open the box.&quot;;
<br />&#160;&#160;&#160;&#160;assess the box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2329_377" -->
<a id="c2329_377"></a><blockquote class="code"><p class="quoted">
After closing the mysterious box:
<br />&#160;&#160;&#160;&#160;say &quot;You now close the box.&quot;;
<br />&#160;&#160;&#160;&#160;assess the box.
</p></blockquote>
<!-- END CODE -->
<p>Note that &quot;was...&quot; and &quot;was not...&quot; and so on may describe conditions more complicated than simple properties: we could equally well ask &quot;if the box has been in the sack&quot;, &quot;if the box had been carried by the player&quot;, and so on.</p>
<p>The past (&quot;if the box was...&quot;) and past perfect (&quot;if the box had been...&quot;) are especially useful for cases where we want to report on an action after the state of the item has changed; so, for instance:</p>
<!-- START CODE "c2330_377" -->
<a id="c2330_377"></a><blockquote class="code"><p class="quoted">
After taking the mysterious box:
<br />&#160;&#160;&#160;&#160;if the box had not been carried by the player, say &quot;You lift the mysterious box for the first time.&quot;;
<br />&#160;&#160;&#160;&#160;if the box had been carried by the player, say &quot;You again pick up the mysterious box.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2331_377" -->
<a id="c2331_377"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open box / close box / open box / take box / drop box / take box&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This is in many respects similar to a rule beginning &quot;After taking the mysterious box for the first time...&quot;, but it is superior in most circumstances, for two reasons.</p>
<p>First, it will respond correctly even if the player has somehow carried the box before without taking it explicitly: for instance, if another character gave him the box, if the box were moved into his inventory as a result of another action, or if the player carried the box at the start of play. Inform begins its reckoning of time when the game begins, so if the box is defined as being open at the outset, &quot;if the box has been open&quot; will always be true.</p>
<p>Second, &quot;after taking... for the first time&quot; fires only the first time the player attempts to take something. If the player tried to take the box, failed, and then tried again later, the &quot;for the first time...&quot; rule would not fire; our &quot;if the box has not been carried...&quot; rule would.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "150: Bruneseau's Journey" "e61" -->
<a id="e61"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e61" class="eglink"><b>150</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e61" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bruneseau's Journey</span></b></a><br />A candle which reacts to lighting and blowing actions differently depending on whether it has already been lit once.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_10.html#e61"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example61">
<!-- START CODE "c2332_61" -->
<a id="c2332_61"></a><blockquote class="code"><p class="quoted">
&quot;Sire,&quot; said the Minister of the Interior to Napoleon, &quot;yesterday I saw the most intrepid man in your Empire.&quot; - &quot;What man is that?&quot; said the Emperor brusquely, &quot;and what has he done?&quot; - &quot;He wants to do something, Sire.&quot; - &quot;What is it?&quot; - &quot;To visit the sewers of Paris.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2333_61" -->
<a id="c2333_61"></a><blockquote class="code"><p class="quoted">
This man existed and his name was Bruneseau.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2334_61" -->
<a id="c2334_61"></a><blockquote class="code"><p class="quoted">
- Victor Hugo, Les Miserables
</p></blockquote>
<!-- END CODE -->
<p>Let's say that our intrepid explorer has a candle that can be lit and blown out again, and should accordingly appear unlit, burning, or partly burnt:</p>
<!-- START CODE "c2335_61" -->
<a id="c2335_61"></a><blockquote class="code"><p class="quoted">
&quot;Bruneseau's Journey&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2336_61" -->
<a id="c2336_61"></a><blockquote class="code"><p class="quoted">
The Sewer Beneath St Denis is a room. &quot;A narrow, stone-lined passageway, with only a little ledge to walk above the level of the refuse that flows down towards the Seine.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2337_61" -->
<a id="c2337_61"></a><blockquote class="code"><p class="quoted">
The candle is carried by the player. The description of the candle is &quot;A candle, [if the candle has been lit]partially burnt[otherwise]still in pristine condition with untouched wick[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2338_61" -->
<a id="c2338_61"></a><blockquote class="code"><p class="quoted">
Instead of examining the lit candle, say &quot;It burns with a pure heart.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2339_61" -->
<a id="c2339_61"></a><blockquote class="code"><p class="quoted">
The block burning rule is not listed in the check burning rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2340_61" -->
<a id="c2340_61"></a><blockquote class="code"><p class="quoted">
Instead of burning the lit candle:
<br />&#160;&#160;&#160;&#160;say &quot;The candle is already lit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2341_61" -->
<a id="c2341_61"></a><blockquote class="code"><p class="quoted">
Check burning:
<br />&#160;&#160;&#160;&#160;if the noun is not the candle, say &quot;[The noun] cannot profitably be set on fire.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2342_61" -->
<a id="c2342_61"></a><blockquote class="code"><p class="quoted">
Carry out burning the candle:
<br />&#160;&#160;&#160;&#160;now the candle is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2343_61" -->
<a id="c2343_61"></a><blockquote class="code"><p class="quoted">
Report burning:
<br />&#160;&#160;&#160;&#160;if the candle had been lit, say &quot;You relight the candle.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You light the candle for the first time.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2344_61" -->
<a id="c2344_61"></a><blockquote class="code"><p class="quoted">
Understand &quot;blow out [something]&quot; as blowing out. Understand &quot;blow [something] out&quot; as blowing out. Blowing out is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2345_61" -->
<a id="c2345_61"></a><blockquote class="code"><p class="quoted">
Carry out blowing out the candle:
<br />&#160;&#160;&#160;&#160;now the candle is unlit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2346_61" -->
<a id="c2346_61"></a><blockquote class="code"><p class="quoted">
Report blowing out:
<br />&#160;&#160;&#160;&#160;if the noun is the candle and the candle was lit, say &quot;You blow out [the noun].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You blow on [the noun], to little effect.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2347_61" -->
<a id="c2347_61"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x candle / light candle / x candle / blow out candle / x candle&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We must be careful: &quot;if the noun was lit&quot; would throw errors because past-tense rules can only be applied to specific items, not to variables that could be anything.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "151: Elsie" "e119" -->
<a id="e119"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e119" class="eglink"><b>151</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e119" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Elsie</span></b></a><br />A door that closes automatically one turn after the player opens it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e119"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example119">
<p>Suppose we want to create an automated door of the sort that closes when it isn't in use. A convenient way is to write a rule that fires &quot;every turn when the sliding door was open&quot;. This will be true only if the door was open at the beginning of the turn: if the player just opened it this turn, it stays open, and if it was already closed, it stays closed. Thus:</p>
<!-- START CODE "c2348_119" -->
<a id="c2348_119"></a><blockquote class="code"><p class="quoted">
&quot;Elsie&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2349_119" -->
<a id="c2349_119"></a><blockquote class="code"><p class="quoted">
The axis-ward is a direction. The opposite of axis-ward is hub-ward. Understand &quot;aw&quot; or &quot;axisward&quot; as axis-ward.
<br />The hub-ward is a direction. The opposite of hub-ward is axis-ward. Understand &quot;hw&quot; or &quot;hubward&quot; as hub-ward.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2350_119" -->
<a id="c2350_119"></a><blockquote class="code"><p class="quoted">
The Ship's Bridge is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2351_119" -->
<a id="c2351_119"></a><blockquote class="code"><p class="quoted">
The sliding door is a door. It is axis-ward from Bridge and hub-ward from C Deck. The initial appearance is &quot;There is a door in this wall[if closed] -- or at least, the potential for a door, since currently it is sealed, distinguishable from the rest of the wall only by the warning stripes on its surface[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2352_119" -->
<a id="c2352_119"></a><blockquote class="code"><p class="quoted">
Every turn when the sliding door was open:
<br />&#160;&#160;&#160;&#160;now the sliding door is closed;
<br />&#160;&#160;&#160;&#160;if the player can see the sliding door:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The sliding door slips back into place, sealing the wall as though there had never been a breach.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2353_119" -->
<a id="c2353_119"></a><blockquote class="code"><p class="quoted">
After opening the sliding door:
<br />&#160;&#160;&#160;&#160;say &quot;You press the appropriate buttons, and a section of wall slides away.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2354_119" -->
<a id="c2354_119"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open door / look / enter door / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "152: Infiltration" "e199" -->
<a id="e199"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e199" class="eglink"><b>152</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e199" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Infiltration</span></b></a><br />A room whose description changes depending on the number of times the player has visited.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_3.html#e199"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example199">
<p>Suppose we have a location that makes the player uncomfortable, and we want its description to change slightly each time he goes there, to reflect his increasing unease. We also want the door to that room to show whether he is going there for the first time, or whether this is a repeat visit.</p>
<p>We start with an ordinary room:</p>
<!-- START CODE "c2355_199" -->
<a id="c2355_199"></a><blockquote class="code"><p class="quoted">
&quot;Infiltration&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2356_199" -->
<a id="c2356_199"></a><blockquote class="code"><p class="quoted">
The Wasteland is a room. &quot;In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now the door, which will change from saying &quot;leads inside...&quot; to &quot;leads back inside...&quot; when this becomes appropriate:</p>
<!-- START CODE "c2357_199" -->
<a id="c2357_199"></a><blockquote class="code"><p class="quoted">
The portal is a door. It is inside from the Wasteland and outside from the Secure Zone. &quot;[if the player is in the Wasteland]To the west, a[otherwise]A[end if] portal in the cinder-block and barbed wire wall leads[if the player is in the Wasteland and the Zone is visited] back[end if] [if the player is in the Wasteland]inside[otherwise]outside[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here we haven't used any conditions that we didn't know about in previous sections: the portal line only reflects whether the Zone has been visited never or visited once. But the Secure Zone itself makes use of the number of times visited:</p>
<!-- START CODE "c2358_199" -->
<a id="c2358_199"></a><blockquote class="code"><p class="quoted">
The Secure Zone has the description &quot;[if the player is in the Zone for the second time]Re-entering the Zone has not made you any more comfortable inside. [end if]Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don't belong. Not that very many people are visible here[if the player is in the Zone for more than the second time] -- the place seems more desolate than ever[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2359_199" -->
<a id="c2359_199"></a><blockquote class="code"><p class="quoted">
Instead of going west in the Wasteland, try going inside. Instead of going east in the Secure Zone, try going outside.
</p></blockquote>
<!-- END CODE -->
<p>And finally, to be sure that the player does see our fancy changing descriptions:</p>
<!-- START CODE "c2360_199" -->
<a id="c2360_199"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2361_199" -->
<a id="c2361_199"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / open portal / w / look / e / look / w / e / w&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that the description of the Secure Zone changes from visit to visit, but that looking repeatedly during a single visit changes nothing.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
<!-- START EXAMPLE "153: Annoyotron Jr" "e10" -->
<a id="e10"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="WI_9.html#e10" class="eglink"><b>153</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9.html#e10" class="eglink"><img class="asterisk" alt="*" src="images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Annoyotron Jr</span></b></a><br />A child who after a certain period in the car starts asking annoying questions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="RB_7.html#e10"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example10">
<!-- START CODE "c2362_10" -->
<a id="c2362_10"></a><blockquote class="code"><p class="quoted">
&quot;Annoyotron Jr&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2363_10" -->
<a id="c2363_10"></a><blockquote class="code"><p class="quoted">
The Minivan is a room. The Open Road is outside from the Minivan. Pete is a man in the Minivan. &quot;Pete [if the player has been in the Minivan for 3 turns]is starting to look bored[otherwise]is playing with his travel activity book[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2364_10" -->
<a id="c2364_10"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the player has been in the Minivan for 5 turns, say &quot;'Are we there [if saying no]now?'[otherwise]yet?' asks Pete.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2365_10" -->
<a id="c2365_10"></a><blockquote class="code"><p class="quoted">
Instead of saying no:
<br />&#160;&#160;&#160;&#160;say &quot;'Oh,' says Pete. There is a blessed, momentary silence.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2366_10" -->
<a id="c2366_10"></a><blockquote class="code"><p class="quoted">
Instead of going to the Open Road:
<br />&#160;&#160;&#160;&#160;say &quot;You leap to your death.&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2367_10" -->
<a id="c2367_10"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / look / g / g / g / no / z / z / z / no / z / out&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
