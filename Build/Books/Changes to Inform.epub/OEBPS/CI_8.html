<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc.css" rel="stylesheet" type="text/css" />
<title>Chapter 8: The Standard Rules</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 8: The Standard Rules</p>
<p class="chaptercontents"><a href="CI_8.html#s1" class="standardlink"><span class="chaptercontentsitem">§8.1. Actions and the world model</span></a>; <a href="CI_8.html#s2" class="standardlink"><span class="chaptercontentsitem">§8.2. Implicit taking</span></a>; <a href="CI_8.html#s3" class="standardlink"><span class="chaptercontentsitem">§8.3. Story conclusion and scoring</span></a>; <a href="CI_8.html#s4" class="standardlink"><span class="chaptercontentsitem">§8.4. Miscellaneous minor changes to the Standard Rules</span></a></p><p class="sectionheading"><a id="s1"></a>§8.1. Actions and the world model</p>
<p>In describing actions, Inform now distinguishes between:</p>
<!-- START CODE "c251" -->
<a id="c251"></a><blockquote class="code"><p class="quoted">
(a) doing something other than taking the apple
<br />(b) doing something other than taking to the apple
</p></blockquote>
<!-- END CODE -->
<p>To see the difference, suppose the action is &quot;going north&quot;. In all builds of Inform, that fails (b): it certainly isn't performing an action on the apple. But in past builds, it also failed (a), because Inform couldn't distinguish the two meanings. In the new build, &quot;doing something other than taking the apple&quot; matches absolutely any action (by the player) which is not &quot;taking the apple&quot;, so it does indeed match &quot;going north&quot;.</p>
<p>(See bug report 0000784, though I think this was really a suggestion.)</p>
<p>If an action takes place as a result of persuasion, &quot;after&quot; rules are now called on the persuasion action as well as the generated action. For example:</p>
<!-- START CODE "c252" -->
<a id="c252"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Bob to try doing something: rule succeeds.
<br />After asking Bob to try waiting:
<br />&#160;&#160;&#160;&#160;say &quot;You asked Bob to wait!&quot;; continue the action.
<br />After Bob waiting: say &quot;Bob did wait!&quot;; continue the action.
</p></blockquote>
<!-- END CODE -->
<p>now results in the following in response to &quot;BOB, WAIT&quot;:</p>
<!-- START CODE "c253" -->
<a id="c253"></a><blockquote class="code"><p class="quoted">
[asking Bob to try waiting]
<br />[(1) Bob waiting]
<br />Bob did wait!
<br />Bob waits.
<br />[(1) Bob waiting - succeeded]
<br />You asked Bob to wait!
<br />[asking Bob to try waiting - succeeded]
</p></blockquote>
<!-- END CODE -->
<p>(Previously, the &quot;After asking Bob to try waiting&quot; rule could never have effect.)</p>
<p>The property &quot;publically-named&quot; has been respelled &quot;publicly-named&quot;. The spelling &quot;publically&quot;, which GN habitually uses, is in fact archaic; it has also been corrected in the Inform manuals.</p>
<p>(See suggestion 905217.)</p>
<p>The following rules have been renamed and moved:</p>
<!-- START CODE "c254" -->
<a id="c254"></a><blockquote class="code"><p class="quoted">
the block tasting rule
<br />the block smelling rule
<br />the block listening rule
<br />the block jumping rule
<br />the block waving hands rule
<br />the block rubbing rule
</p></blockquote>
<!-- END CODE -->
<p>Each rule has become a Report rule, not a Check rule; and &quot;block&quot; in the name has become &quot;report&quot; - for example, we now have the &quot;report tasting rule&quot;. These are all cases where the Standard Rules printed a message suggesting that the action had taken place but with no interesting effect; but because the messages were produced by Check rules blocking the action, it was considered to have failed rather than succeeded. It now succeeds.</p>
<p>This change will cause a few existing source texts to fail because they explicitly removed the old rules, for instance like so:</p>
<!-- START CODE "c255" -->
<a id="c255"></a><blockquote class="code"><p class="quoted">
The block smelling rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<p>In some cases sentences like this won't be needed any more, and in others they can simply be replaced by:</p>
<!-- START CODE "c256" -->
<a id="c256"></a><blockquote class="code"><p class="quoted">
The report smelling rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<p>Note that as a result of these changes, other actors can also succeed in these actions, and this means there are new &quot;library messages&quot; to report that: for example,</p>
<!-- START CODE "c257" -->
<a id="c257"></a><blockquote class="code"><p class="quoted">
&gt; JUMP
<br />You jump on the spot.
<br />&gt; CLARK, JUMP
<br />Clark Gable jumps on the spot.
</p></blockquote>
<!-- END CODE -->
<p>The second version here is new. Note also that Inform's default response used to be &quot;You jump on the spot, fruitlessly.&quot; - we have removed &quot;fruitlessly&quot;. Similarly, on waving hands, the player is no longer &quot;feeling foolish&quot;.</p>
<p>Because the rubbing action now succeeds, people can now in principle rub each other. This of course is not unknown in real life, but it's socially loaded enough that we shouldn't allow it without the author's intervention. So there is a new rule:</p>
<!-- START CODE "c258" -->
<a id="c258"></a><blockquote class="code"><p class="quoted">
can't rub another person rule
</p></blockquote>
<!-- END CODE -->
<p>to block this (&quot;Keep your hands to yourself.&quot;).</p>
<p>(See suggestion 750970.)</p>
<p>The &quot;singing&quot; action has been removed from the Standard Rules. In cases where it was useful, it was a nuisance to modify in order to make its responses appropriate - simply writing a singing action fresh is easier and clearer. The main case for removing it was that beginners often forgot to do anything about the &quot;singing&quot; action at all, so that singing would be possible in the most unlikely circumstances -- swimming underwater, creeping up on somebody, and so on.</p>
<p>(Again, see suggestion 750970.)</p>
<p>The &quot;swearing strongly&quot; and &quot;swearing mildly&quot; actions have been removed from the Standard Rules, and by default, Inform story files no longer respond to swear-words at all. This change is made partly because they weren't useful enough actions to belong in the Standard Rules core set, and partly because of concerns about the use of Inform in education.</p>
<p>(See suggestion 873945.)</p>
<p>The &quot;dropping&quot; action has a new rule:</p>
<!-- START CODE "c259" -->
<a id="c259"></a><blockquote class="code"><p class="quoted">
can't drop body parts rule
</p></blockquote>
<!-- END CODE -->
<p>which provides a better response to attempts to do so (&quot;You can't drop part of yourself.&quot; rather than &quot;You haven't got that.&quot;).</p>
<p>(See suggestion 751260.)</p>
<p>The &quot;entering&quot; action has a new rule:</p>
<!-- START CODE "c260" -->
<a id="c260"></a><blockquote class="code"><p class="quoted">
can't enter if this exceeds carrying capacity rule
</p></blockquote>
<!-- END CODE -->
<p>which means that if the player puts an apple on a table with carrying capacity 1, then tries to stand on the table, she will be prevented on the grounds that there's not enough room.</p>
<p>(See bug report 0001062.)</p>
<p>The &quot;eating&quot; action no longer requires the noun to be carried. This allows people to graze on giant mushrooms, eat berries straight from the bush, and so on, and it also gets over awkward situations over commands like &quot;EAT SOUP&quot; when the soup is a thing on a dining table. What now happens is that an implicit taking action occurs if the food is portable, but not otherwise. (Because of the rule ordering, it also only happens if the supposed food is in fact edible.) For realism's sake, we also, by default, block the eating of food carried by other people.</p>
<p>There are two new rules:</p>
<!-- START CODE "c261" -->
<a id="c261"></a><blockquote class="code"><p class="quoted">
can't eat other people's food rule
<br />can't eat portable food without carrying it rule
</p></blockquote>
<!-- END CODE -->
<p>and there's also a new &quot;library message&quot; covering the first of these.</p>
<p>(See suggestion 750956.)</p>
<p>The &quot;can't put onto something being carried rule&quot; has been removed. There are already ways in which it's possible for a supporter to continue to hold something up while being carried -- for instance, the tray created thus:</p>
<!-- START CODE "c262" -->
<a id="c262"></a><blockquote class="code"><p class="quoted">
The tray is a portable supporter. On the tray is a bottle of absinthe.
</p></blockquote>
<!-- END CODE -->
<p>can be picked up. The effect of removing this rule is that it's now possible to, say, put a glass onto the tray while still holding the tray, which seems reasonable enough.</p>
<p>(See suggestion 1564863.)</p>
<p>In effect, we're now saying that it's within the rules of the world model for people to carry supporters which are in use as such. Initial situations like this one:</p>
<!-- START CODE "c263" -->
<a id="c263"></a><blockquote class="code"><p class="quoted">
The player is carrying the tray. On the tray is a bottle of absinthe.
</p></blockquote>
<!-- END CODE -->
<p>are therefore now allowed; in previous builds the tray would have been assumed to be fixed in place, being a supporter, but now it's assumed to be portable, being carried.</p>
<p>Supported items can now have initial appearances, or rather, their initial appearances are now made use of. For example:</p>
<!-- START CODE "c264" -->
<a id="c264"></a><blockquote class="code"><p class="quoted">
An old oak tree-stump is here. A golden acorn is on the tree-stump.
<br />&quot;A gleaming gold acorn shines out from the gnarled wood of [the tree-stump].&quot;
</p></blockquote>
<!-- END CODE -->
<p>enables the following:</p>
<!-- START CODE "c265" -->
<a id="c265"></a><blockquote class="code"><p class="quoted">
A gleaming gold acorn shines out from the gnarled wood of the old oak tree-stump.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c266" -->
<a id="c266"></a><blockquote class="code"><p class="quoted">
&gt;get acorn
<br />Taken.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c267" -->
<a id="c267"></a><blockquote class="code"><p class="quoted">
&gt;look
<br />Forest Glade
<br />You can see an old oak tree-stump here.
</p></blockquote>
<!-- END CODE -->
<p>This is enabled by a new rule:</p>
<!-- START CODE "c268" -->
<a id="c268"></a><blockquote class="code"><p class="quoted">
initial appearance on supporters rule
</p></blockquote>
<!-- END CODE -->
<p>If unwanted, the new behaviour can be removed by removing this rule.</p>
<p>(See suggestion 1615745.)</p>
<p>The &quot;taking off&quot; action, for removing articles of clothing, used to mandate that the article in question be carried. This sounded sensible, since after all you could hardly take off a hat which was already on the floor. But it had the unfortunate side-effect that typing REMOVE HAT in this situation would cause an implicit action of taking the hat before going on to tell the player that he can't remove it because he's not wearing it. Taking off now doesn't require the article to be carried as part of the specification, and instead it includes the disambiguation hint:</p>
<!-- START CODE "c269" -->
<a id="c269"></a><blockquote class="code"><p class="quoted">
Does the player mean taking off something worn: it is very likely.
</p></blockquote>
<!-- END CODE -->
<p>(See suggestion 2899370.)</p>
<p>A new activity, &quot;printing inventory details&quot;, exactly parallels the existing activity &quot;printing room description details&quot; - but, of course, it prints additional information about items in inventory listings, not in room descriptions. For example:</p>
<!-- START CODE "c270" -->
<a id="c270"></a><blockquote class="code"><p class="quoted">
&gt; INVENTORY
<br />&#160;&#160;&#160;&#160;a flaming branch (providing light)
</p></blockquote>
<!-- END CODE -->
<p>The bracketed addition here was added by this activity.</p>
<p>As example rules:</p>
<!-- START CODE "c271" -->
<a id="c271"></a><blockquote class="code"><p class="quoted">
Rule for printing inventory details: stop.
</p></blockquote>
<!-- END CODE -->
<p>gets rid of these addenda; and</p>
<!-- START CODE "c272" -->
<a id="c272"></a><blockquote class="code"><p class="quoted">
Rule for printing inventory details of something edible:
<br />&#160;&#160;&#160;&#160;say &quot; (yummy!)[run paragraph on]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>adds a new one.</p>
<p>(See suggestion 868581.)</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§8.2. Implicit taking</p>
<p>&quot;Implicit taking&quot; is what happens in situations like this one:</p>
<!-- START CODE "c273" -->
<a id="c273"></a><blockquote class="code"><p class="quoted">
In the wooden bread-bin is a croissant.
<br />&gt; EAT CROISSANT
<br />(first taking the croissant)
<br />Delicious.
</p></blockquote>
<!-- END CODE -->
<p>Although the command doesn't directly call for a taking action, it's implicit, and Inform pauses the eating action while a taking action is tried first.</p>
<p>The business of this is carried out by an activity called &quot;implicitly taking&quot;. This has existed for some time, but only as hook on which to hang rules. That is, you could modify how implicit taking was done, but you couldn't change the circumstances under which it was done. This is no longer true, and you can now write rules like this:</p>
<!-- START CODE "c274" -->
<a id="c274"></a><blockquote class="code"><p class="quoted">
Check an actor eating (this is the can't eat portable food without
<br />&#160;&#160;&#160;&#160;carrying it rule):
<br />&#160;&#160;&#160;&#160;if the noun is portable and the actor is not carrying the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the implicitly taking activity with the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the actor is not carrying the noun, stop the action.
</p></blockquote>
<!-- END CODE -->
<p>which is, in fact, how the Standard Rules makes the dialogue above happen. Note that if the activity doesn't succeed in taking the item, it's expected to print some text explaining this, which is why we don't need to say anything further.</p>
<p>This reform also means that the following rules:</p>
<!-- START CODE "c275" -->
<a id="c275"></a><blockquote class="code"><p class="quoted">
can't insert what's not held rule
<br />can't put what's not held rule
</p></blockquote>
<!-- END CODE -->
<p>now generate implicit takes properly, using the activity, rather than simply imitating this (as they did in previous builds).</p>
<p>The implementation of the activity has changed as part of this process. It used to be empty by default - containing no rules, that is, except any which the user chose to add. But it now contains a &quot;for&quot; rule as the last rule in &quot;for implicitly taking&quot;:</p>
<!-- START CODE "c276" -->
<a id="c276"></a><blockquote class="code"><p class="quoted">
standard implicit taking rule
</p></blockquote>
<!-- END CODE -->
<p>This prints the text &quot;(first taking ...)&quot; and then silently tries the taking action. (See suggestion 1207603.)</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§8.3. Story conclusion and scoring</p>
<p>In previous builds, Inform produced story files which kept score (and showed the score in the status line, and so on) by default: it only removed scoring if the option</p>
<!-- START CODE "c277" -->
<a id="c277"></a><blockquote class="code"><p class="quoted">
Use no scoring.
</p></blockquote>
<!-- END CODE -->
<p>was used. This was a hangover to the days when all IF was game-based, and we now think it's out of date. So by default Inform now has no score; the new option</p>
<!-- START CODE "c278" -->
<a id="c278"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<p>has to be used to put it back. If this isn't done, and the source text ever changes the &quot;score&quot; variable, Inform issues a problem message; so in practice Inform won't silently compile existing source text which expects scoring but doesn't get it.</p>
<p>In story files with no scoring, Inform previously defaulted to showing the turn count in the right hand part of the status line. We don't think this is useful any more, either, so the right hand status line is now blank for no-scoring stories (by default). The status line's appearance for scoring stories is unchanged.</p>
<p>(This implements suggestions 1564911 and 1565295.)</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§8.4. Miscellaneous minor changes to the Standard Rules</p>
<p>** It has always been the case that if the author doesn't specify the room where the player begins, Inform assumes the player begins in the first room created. In past builds, however, it was possible for that to be a room created in an extension, since &quot;Include...&quot; sentences tend to come early on. In this build, Inform gives preference to the main source text, and will only put the player (by default) into a room created by an extension if there are no rooms created by the main source text. In practice this rarely arose because very few extensions need to create rooms, but for those which do, it could lead to quite some confusion.</p>
<p>** The property &quot;mentioned&quot; is used to mark items which have been named already in the course of a room description, but it used to apply only to naming after the room's main description was printed. It now applies either since the beginning of the turn, or since the current looking action began to be carried out, whichever is more recent. So:</p>
<!-- START CODE "c279" -->
<a id="c279"></a><blockquote class="code"><p class="quoted">
The Grange is a room. &quot;Welcome to the home of [the fisherman].&quot;
<br />The fisherman and the green net are here.
</p></blockquote>
<!-- END CODE -->
<p>produces:</p>
<!-- START CODE "c280" -->
<a id="c280"></a><blockquote class="code"><p class="quoted">
Welcome to the home of the fisherman.
<br />You can see a green net here.
</p></blockquote>
<!-- END CODE -->
<p>rather than &quot;You can see the fisherman and a green net here.&quot;</p>
<p>The following restores the previous behaviour:</p>
<!-- START CODE "c281" -->
<a id="c281"></a><blockquote class="code"><p class="quoted">
A first before printing the locale description rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is not mentioned.
</p></blockquote>
<!-- END CODE -->
<p>Whereas the following makes the new behaviour even stronger:</p>
<!-- START CODE "c282" -->
<a id="c282"></a><blockquote class="code"><p class="quoted">
The declare everything unmentioned rule is not listed in the carry out looking rulebook.
</p></blockquote>
<!-- END CODE -->
<p>so that &quot;mentioned&quot; would mean &quot;named somewhere since the start of this turn&quot;. (See suggestion 831441.)</p>
<p>** In previous builds of Inform, the rules on touchability applied rather oddly to two-sided doors. This only really showed up when non-players were trying actions outside the player's location, but that case led to a number of bug reports (0000886, 0001163, 0001164). These anomalies have been removed, and doors are now subject to the same rules on touch and reach as anything else. I'm noting that here because a few source texts just might depend on the old way: the example &quot;Rope&quot; had to be modified because it relied on trying an opening action on a door a long way from the player (at the other end of the rope), which worked in the old build because Inform wasn't checking for touchability. In the new build, &quot;reaching inside&quot; rules had to be added to make the door touchable.</p>
<p>** Previous builds of Inform had two actions to handle swear-words typed in at the command prompt, for mild and strong obscenities, respectively. These had to be handled a little coyly in the Index to avoid Inform being considered a &quot;mature audiences only&quot; program, which would get in the way of classroom use. But they were also inappropriate for many games, and added nothing of any great value to the world model; they have now been withdrawn.</p>
<p>(This doesn't implement suggestion 873945 from the forum as such, but it does resolve the unsatisfactory situation this drew attention to; see also suggestion 751338.)</p>
<p>** There's a new rule, the -</p>
<!-- START CODE "c283" -->
<a id="c283"></a><blockquote class="code"><p class="quoted">
exclude people from drop all rule
</p></blockquote>
<!-- END CODE -->
<p>which does just what it says, using the &quot;deciding whether all includes&quot; activity. (See the maintenance section below under 0000433.)</p>
<p>** There's a new rule, the -</p>
<!-- START CODE "c284" -->
<a id="c284"></a><blockquote class="code"><p class="quoted">
can't push from within rule
</p></blockquote>
<!-- END CODE -->
<p>which stops people getting into vehicles which are also pushable between rooms and then pushing them in some direction from the inside. One can imagine a few such vehicles - a bobsleigh, maybe, or a punt - but they would probably be better modelled a different way in any case. (See bug report 0000630.)</p>
<p>** New rules:</p>
<!-- START CODE "c285" -->
<a id="c285"></a><blockquote class="code"><p class="quoted">
can't exceed carrying capacity when taking off rule
<br />can't exceed carrying capacity when giving rule
</p></blockquote>
<!-- END CODE -->
<p>defend against sneaky ways to exceed peoples' carrying capacity. (See bug reports 0000787, 0000788, 0000804.)</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
