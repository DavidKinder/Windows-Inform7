<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Generated by indoc on 11 Aug 2016 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc.css" rel="stylesheet" type="text/css" />
<title>Chapter 7: The Inform language</title>
</head>
<body class="paper papertint"><p class="chapterheading">Chapter 7: The Inform language</p>
<p class="chaptercontents"><a href="CI_7.html#s1" class="standardlink"><span class="chaptercontentsitem">§7.1. Text</span></a>; <a href="CI_7.html#s2" class="standardlink"><span class="chaptercontentsitem">§7.2. Story viewpoint and story tense</span></a>; <a href="CI_7.html#s3" class="standardlink"><span class="chaptercontentsitem">§7.3. Adaptive text</span></a>; <a href="CI_7.html#s4" class="standardlink"><span class="chaptercontentsitem">§7.4. Verbs as values</span></a>; <a href="CI_7.html#s5" class="standardlink"><span class="chaptercontentsitem">§7.5. Non-English Inform</span></a>; <a href="CI_7.html#s6" class="standardlink"><span class="chaptercontentsitem">§7.6. Responses</span></a>; <a href="CI_7.html#s7" class="standardlink"><span class="chaptercontentsitem">§7.7. Variables and named constants</span></a>; <a href="CI_7.html#s8" class="standardlink"><span class="chaptercontentsitem">§7.8. Floating-point arithmetic</span></a>; <a href="CI_7.html#s9" class="standardlink"><span class="chaptercontentsitem">§7.9. Miscellaneous minor changes to the language</span></a>; <a href="CI_7.html#s10" class="standardlink"><span class="chaptercontentsitem">§7.10. Removal of procedural rules</span></a>; <a href="CI_7.html#s11" class="standardlink"><span class="chaptercontentsitem">§7.11. Removal of deprecated phrases</span></a></p><p class="sectionheading"><a id="s1"></a>§7.1. Text</p>
<p>Previous builds of Inform supported two incompatible kinds of value for holding and dealing with text: &quot;text&quot; and &quot;indexed text&quot;. &quot;Indexed text&quot; was much more flexible, but incurred speed and memory costs. Despite quite complicated semantics which allowed text to be converted into indexed text, with many such changes occurring silently so far as the author was concerned, this all made text handling more complicated than it needed to be. The author needed to remember to make some properties and variables indexed, others not, and so on; and some kinds of manipulation were impossible.</p>
<p>What does this mean? The short answer is: you can stop typing the word &quot;indexed&quot; and everything will be fine. For example:</p>
<!-- START CODE "c48" -->
<a id="c48"></a><blockquote class="code"><p class="quoted">
let T be an indexed text;
<br />let T be &quot;Jinxed wizards pluck ivy from my quilt&quot;;
</p></blockquote>
<!-- END CODE -->
<p>now doesn't need the first line in order to make T possible to alter or manipulate, and similarly for kind declarations in table columns. Inform still understands the term &quot;indexed text&quot;, but it is synonymous with &quot;text&quot;, and it has been removed from the Standard Rules throughout. Thus, for example, the phrase definition:</p>
<!-- START CODE "c49" -->
<a id="c49"></a><blockquote class="code"><p class="quoted">
To decide what indexed text is line number (N - a number) in (T - indexed
<br />&#160;&#160;&#160;&#160;text): ...
</p></blockquote>
<!-- END CODE -->
<p>has been rewritten as the more generally applicable:</p>
<!-- START CODE "c50" -->
<a id="c50"></a><blockquote class="code"><p class="quoted">
To decide what text is line number (N - a number) in (T - text): ...
</p></blockquote>
<!-- END CODE -->
<p>and many other existing phrases can similarly be applied in a wider setting.</p>
<p>Most textual properties in past builds of the Standard Rules were declared as &quot;text&quot;, not &quot;indexed text&quot;. So, for example, the following would have failed to compile, and could not have worked:</p>
<!-- START CODE "c51" -->
<a id="c51"></a><blockquote class="code"><p class="quoted">
The Grange is a room. A green Citroen, a fisherman, a brace of pheasants
<br />and a topiary duck are here.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c52" -->
<a id="c52"></a><blockquote class="code"><p class="quoted">
The player carries an E-bomb.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c53" -->
<a id="c53"></a><blockquote class="code"><p class="quoted">
After dropping the E-bomb:
<br />&#160;&#160;&#160;&#160;say &quot;There is an almighty explosion!&quot;;
<br />&#160;&#160;&#160;&#160;remove the E-bomb from play;
<br />&#160;&#160;&#160;&#160;repeat with item running through things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;replace the text &quot;e&quot; in the printed name of the item with &quot;*&quot;.
</p></blockquote>
<!-- END CODE -->
<p>It now does the following:</p>
<!-- START CODE "c54" -->
<a id="c54"></a><blockquote class="code"><p class="quoted">
Grange
<br />You can see a green Citroen, a fisherman, a brace of pheasants and a
<br />topiary duck here.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c55" -->
<a id="c55"></a><blockquote class="code"><p class="quoted">
&gt;drop all
<br />(the E-bomb)
<br />There is an almighty explosion!
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c56" -->
<a id="c56"></a><blockquote class="code"><p class="quoted">
&gt;l
<br />Grange
<br />You can see a gr**n Citro*n, a fish*rman, a brac* of ph*asants and a
<br />topiary duck here.
</p></blockquote>
<!-- END CODE -->
<p>Similarly, it's now easy to find the length of names:</p>
<!-- START CODE "c57" -->
<a id="c57"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat with item running through things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[item]: [number of words in the printed name of
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;the item] word[s].&quot;
</p></blockquote>
<!-- END CODE -->
<p>produces</p>
<!-- START CODE "c58" -->
<a id="c58"></a><blockquote class="code"><p class="quoted">
yourself: 1 word.
<br />E-bomb: 2 words.
<br />green Citroen: 2 words.
<br />fisherman: 1 word.
<br />brace of pheasants: 3 words.
<br />topiary duck: 2 words.
</p></blockquote>
<!-- END CODE -->
<p>In particular, this means that many I6-level hacks used to determine the lengths of strings - such as those used by the &quot;Basic Screen Effects&quot; extension in past builds - can go.</p>
<p>From the language design point of view, there are really no disadvantages, but there is one complication. What should this do?</p>
<!-- START CODE "c59" -->
<a id="c59"></a><blockquote class="code"><p class="quoted">
let X be (put either text or indexed text here);
<br />now the score is 10;
<br />now X is &quot;Your score is [score].&quot;;
<br />increase the score by 5;
<br />say X;
</p></blockquote>
<!-- END CODE -->
<p>In all past builds of Inform, this prints &quot;Your score is 15.&quot; if X is a text, but &quot;Your score is 10.&quot; if it's an indexed text. The difference hangs on when &quot;[score]&quot; is substituted: a text could hold unsubstituted material which would be substituted later (when printed), but an indexed text couldn't.</p>
<p>The new rule is as follows:</p>
<!-- START CODE "c60" -->
<a id="c60"></a><blockquote class="code"><p class="quoted">
permanent substitution occurs immediately if the text refers to a local
<br />variable which will soon no longer exist, and otherwise
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c61" -->
<a id="c61"></a><blockquote class="code"><p class="quoted">
permanent substitution occurs when the text is changed for the first time,
<br />and otherwise
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c62" -->
<a id="c62"></a><blockquote class="code"><p class="quoted">
temporary substitution is made each time the text is printed.
</p></blockquote>
<!-- END CODE -->
<p>Thus the above would print &quot;Your score is 15.&quot; (&quot;score&quot; is referred to, but it's a global variable) but this:</p>
<!-- START CODE "c63" -->
<a id="c63"></a><blockquote class="code"><p class="quoted">
now the score is 10;
<br />let X be &quot;Your score is [score in words].&quot;;
<br />replace the text &quot;e&quot; in X with &quot;*&quot;;
<br />increase the score by 5;
<br />say X;
</p></blockquote>
<!-- END CODE -->
<p>prints &quot;Your scor* is t*n.&quot;, not &quot;Your scor* is fift**n.&quot;, because a permanent substitution occurred when the replacement was made.</p>
<p>On the whole we think this is what people would expect, and it means that existing code such as:</p>
<!-- START CODE "c64" -->
<a id="c64"></a><blockquote class="code"><p class="quoted">
now the right hand status line is &quot;Time: [time of day]&quot;;
</p></blockquote>
<!-- END CODE -->
<p>continues to work as before.</p>
<p>But there may be times when people will want to fix the text now. So there's a new phrase:</p>
<!-- START CODE "c65" -->
<a id="c65"></a><blockquote class="code"><p class="quoted">
substituted form of (T - text)
</p></blockquote>
<!-- END CODE -->
<p>which produces T with all substitution made - which will leave most texts alone, but change &quot;It's [time of day].&quot; into &quot;It's 9:13 AM.&quot;, and so on. A new adjective for texts, &quot;substituted&quot; vs &quot;unsubstituted&quot;, will tell us whether a text is carrying a [bombshell] or not.</p>
<p>The rarely-used use option:</p>
<!-- START CODE "c66" -->
<a id="c66"></a><blockquote class="code"><p class="quoted">
Use maximum indexed text length of at least N.
</p></blockquote>
<!-- END CODE -->
<p>is now renamed:</p>
<!-- START CODE "c67" -->
<a id="c67"></a><blockquote class="code"><p class="quoted">
Use maximum text length of at least N.
</p></blockquote>
<!-- END CODE -->
<p>The maximum, of course, applies only if the text is in its substituted form.</p>
<p>That's it for the changes as seen by the writer of I7 source text, and the remainder of this section of the log gives some technical details for I6 hackers only.</p>
<p>At the I6 level, of course, things are drastically changed. The price we pay for the benefits above is that the old T/IT division was more efficient in its use of time and memory, because it made the user hand-optimise code by constantly choosing between T (fast and small) and IT (slow and large). The new text format is a hybrid, which involves some compromise.</p>
<p>(i) There's always a heap now. In past builds, I7 would only compile the storage for a run-time pool of available memory (&quot;the heap&quot;), and the code to deal with it, if it was actually needed. Technically that's still true, but since text has to use the heap now, and text is ubiquitous, in practice there's always a heap. This costs memory space.</p>
<p>There's something a little ironic about typing about 8K of memory usage in programs as complex as those compiled by Inform, especially since I do it while listening to a Crazy Horse song on a copy of iTunes currently claiming 442 MB of unpaged memory. But memory concerns are not frivolous, given that IF needs to run in a browser now. To mitigate this, reference-counting in the heap means that many fewer copies of data are stored than in past builds, and so Inform generally needs a smaller heap to handle lists, texts, and so on. For large source texts involving lots of list-handling and hacking with text, the new system may actually need less memory at run-time, and will also run substantially faster. The worst case scenario is a very large source text, pushing the limits of the Z-machine, but which never did any text-hacking and never used lists: that kind of story file may now have to move to Glulx. (This is exactly the fate of &quot;Bronze&quot;, for example.)</p>
<p>(ii) In past builds, a valid I7 text had to be either a packed string or a pointer to a routine. For example, the I6 code:</p>
<!-- START CODE "c68" -->
<a id="c68"></a><blockquote class="code"><p class="quoted">
x = &quot;deerstalker&quot;;
<br />y = Elementary;
<br />...
<br />[ Elementary; print &quot;You know my methods, Watson. Apply them.&quot;; ];
</p></blockquote>
<!-- END CODE -->
<p>creates what used to be valid I7 texts, but no longer. If you need to define a new text in I6 code being used with I7, you have several options. In an inclusion, or a template file, just use (+ and +). For example, at one point the Standard Rules says:</p>
<!-- START CODE "c69" -->
<a id="c69"></a><blockquote class="code"><p class="quoted">
Include (-
<br />&#160;&#160;&#160;&#160;with saved_short_name (+ &quot;yourself&quot; +),
<br /> -) when defining yourself.
</p></blockquote>
<!-- END CODE -->
<p>The effect of (+ and +) is that &quot;yourself&quot; is compiled by I7 into a valid text, rather than being left for I6 to get wrong.</p>
<p>If you can't do that, and you need a text variable, try this:</p>
<!-- START CODE "c70" -->
<a id="c70"></a><blockquote class="code"><p class="quoted">
Array MyTextVariable --&gt; PACKED_TEXT_STORAGE EMPTY_TEXT_PACKED;
</p></blockquote>
<!-- END CODE -->
<p>(Don't use &quot;&quot;: write EMPTY_TEXT_PACKED.) That's if it starts out blank; alternatively something like:</p>
<!-- START CODE "c71" -->
<a id="c71"></a><blockquote class="code"><p class="quoted">
Array MyTextVariable --&gt; PACKED_TEXT_STORAGE &quot;briar pipe&quot;;
</p></blockquote>
<!-- END CODE -->
<p>Then &quot;MyTextVariable&quot; is a valid I7 text.</p>
<p>If you have a constant piece of text, on the other hand, you can protect it from accidental damage and speed up its use slightly by writing:</p>
<!-- START CODE "c72" -->
<a id="c72"></a><blockquote class="code"><p class="quoted">
Array MyTextConstant --&gt; CONSTANT_PACKED_TEXT_STORAGE &quot;Lestrade&quot;;
</p></blockquote>
<!-- END CODE -->
<p>Don't mess with CONSTANT_PERISHABLE_TEXT_STORAGE and UNPACKED_TEXT_STORAGE.</p>
<p>(iii) If you need to change the value of a text variable, use BlkValueCopy:</p>
<!-- START CODE "c73" -->
<a id="c73"></a><blockquote class="code"><p class="quoted">
BlkValueCopy(to, from);
</p></blockquote>
<!-- END CODE -->
<p>where &quot;to&quot; and &quot;from&quot; are both texts. Note that &quot;to&quot; must already be a valid text: it's not sufficient for &quot;to&quot; to point to 2 words of memory somewhere. For example,</p>
<!-- START CODE "c74" -->
<a id="c74"></a><blockquote class="code"><p class="quoted">
BlkValueCopy(to, EMPTY_TEXT_VALUE);
</p></blockquote>
<!-- END CODE -->
<p>(iv) If you really need to generate texts on the fly, you can do so with:</p>
<!-- START CODE "c75" -->
<a id="c75"></a><blockquote class="code"><p class="quoted">
x = BlkValueCreate(TEXT_TY);
</p></blockquote>
<!-- END CODE -->
<p>which will be created empty. However, if so, then to prevent memory leaks you must subsequently:</p>
<!-- START CODE "c76" -->
<a id="c76"></a><blockquote class="code"><p class="quoted">
BlkValueFree(x);
</p></blockquote>
<!-- END CODE -->
<p>Don't mess with BlkValueDestroy.</p>
<p>(v) To print a text, use one of these:</p>
<!-- START CODE "c77" -->
<a id="c77"></a><blockquote class="code"><p class="quoted">
TEXT_TY_Say(x);
<br />print (TEXT_TY_Say) x;
</p></blockquote>
<!-- END CODE -->
<p>Some old extensions call a routine called I7_String(x); this still exists, and does the same as TEXT_TY_Say. Another routine in past builds was called PrintText(x), and although this still exists, it has been renamed</p>
<!-- START CODE "c78" -->
<a id="c78"></a><blockquote class="code"><p class="quoted">
PrintI6Text(x)
</p></blockquote>
<!-- END CODE -->
<p>since it prints a packed string or calls an I6 routine, but won't work on the new I7 text value.</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s2"></a>§7.2. Story viewpoint and story tense</p>
<p>A conspicuous difference between interactive fiction and a traditional novel is the point of view from which it's told. Inform usually produces text like:</p>
<!-- START CODE "c79" -->
<a id="c79"></a><blockquote class="code"><p class="quoted">
You can see a grey cat in the basket.
</p></blockquote>
<!-- END CODE -->
<p>where a novel would usually write:</p>
<!-- START CODE "c80" -->
<a id="c80"></a><blockquote class="code"><p class="quoted">
He could see a grey cat in the basket.
</p></blockquote>
<!-- END CODE -->
<p>Traditional IF is second person singular, and present tense, whereas most novels are told in the third person singular, and past tense. But these are just conventions - a few novels, for example, use the so-called present historic (&quot;Napoleon looks up at the sky and sighs. Must Ney always be so doubting?&quot;), and plenty are told in the first person singular (&quot;I always get the shakes before a drop.&quot;). Inform now allows this too. The two values:</p>
<!-- START CODE "c81" -->
<a id="c81"></a><blockquote class="code"><p class="quoted">
story viewpoint
<br />story tense
</p></blockquote>
<!-- END CODE -->
<p>control the style of the text produced. The story viewpoint has to be one of the values:</p>
<!-- START CODE "c82" -->
<a id="c82"></a><blockquote class="code"><p class="quoted">
first person singular
<br />second person singular
<br />third person singular
<br />first person plural
<br />second person plural
<br />third person plural
</p></blockquote>
<!-- END CODE -->
<p>(from a kind called &quot;narrative viewpoint&quot;), while the story tense is one of:</p>
<!-- START CODE "c83" -->
<a id="c83"></a><blockquote class="code"><p class="quoted">
past tense
<br />present tense
<br />future tense
</p></blockquote>
<!-- END CODE -->
<p>(from a kind called &quot;tense&quot;). Combining these gives 18 possibilities in all.</p>
<p>Note that these settings change only the person and tense used by the texts produced by Inform as responses to commands; for example, they might change the dialogue</p>
<!-- START CODE "c84" -->
<a id="c84"></a><blockquote class="code"><p class="quoted">
&gt;EAST
<br />You can't go that way.
</p></blockquote>
<!-- END CODE -->
<p>to</p>
<!-- START CODE "c85" -->
<a id="c85"></a><blockquote class="code"><p class="quoted">
&gt;EAST
<br />I couldn't go that way.
</p></blockquote>
<!-- END CODE -->
<p>So in order to maintain the narrative voice, the author's own source text has to be written to match. For example:</p>
<!-- START CODE "c86" -->
<a id="c86"></a><blockquote class="code"><p class="quoted">
The Taj Mahal is a room. &quot;You stand and admire the Taj Mahal.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c87" -->
<a id="c87"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the story viewpoint is first person plural;
<br />&#160;&#160;&#160;&#160;now the story tense is past tense.
</p></blockquote>
<!-- END CODE -->
<p>In short, tense and viewpoint switching is neat, but it isn't magic. (It can, however, be changed dynamically during play.)</p>
<p>If we want to write text which will work in whatever the current tense is, the following turn out to be useful little conveniences:</p>
<!-- START CODE "c88" -->
<a id="c88"></a><blockquote class="code"><p class="quoted">
&quot;[here]&quot; produces &quot;here&quot; in the present tense, and &quot;there&quot; otherwise;
<br />&quot;[now]&quot; produces &quot;now&quot; in the present tense, and &quot;then&quot; otherwise.
</p></blockquote>
<!-- END CODE -->
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s3"></a>§7.3. Adaptive text</p>
<p>Paying attention to the tense and viewpoint is one reason why text might need to adapt. Another is that it might need to adapt according to whether nouns are singular or plural. For example, the following rule isn't ideal:</p>
<!-- START CODE "c89" -->
<a id="c89"></a><blockquote class="code"><p class="quoted">
Instead of taking:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is pinned down by Dr Zarkov's force field.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Most of the time it's fine (&quot;The V-ray is pinned down by Dr Zarkov's force field&quot;), but then:</p>
<!-- START CODE "c90" -->
<a id="c90"></a><blockquote class="code"><p class="quoted">
&gt; GET ME
<br />You is pinned down by Dr Zarkov's force field.
<br />&gt; GET CONDENSERS
<br />The condensers is pinned down by Dr Zarkov's force field.
</p></blockquote>
<!-- END CODE -->
<p>The correction is very easy:</p>
<!-- START CODE "c91" -->
<a id="c91"></a><blockquote class="code"><p class="quoted">
Instead of taking:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] [are] pinned down by Dr Zarkov's force field.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The result is much better: &quot;The V-ray is pinned down...&quot;; &quot;You are...&quot;; &quot;The condensers are...&quot;. In fact, it's also convenient because it adapts to the story viewpoint and story tense: &quot;The condensers will be pinned down...&quot;; &quot;He was pinned down...&quot;.</p>
<p>Note that &quot;[are]&quot; is not a specially-written text substitution. In fact Inform can do this with any verb that it has a definition of. For example,</p>
<!-- START CODE "c92" -->
<a id="c92"></a><blockquote class="code"><p class="quoted">
&quot;[The noun] [carry] too much static charge.&quot;
</p></blockquote>
<!-- END CODE -->
<p>would also adapt itself - &quot;The V-ray carries too much static charge&quot;, and so on. The Standard Rules know many such verbs already, and can adapt all of them. Here is section SR4/1 of the SR, at time of writing:</p>
<!-- START CODE "c93" -->
<a id="c93"></a><blockquote class="code"><p class="quoted">
To seem is a verb. To pick is a verb. To lack is a verb. To put is a verb.
<br />To need is a verb. To eat is a verb. To lead is a verb. To go is a verb.
<br />To arrive is a verb. To get is a verb. To look is a verb. To see is a verb.
<br />To find is a verb. To search is a verb. To discover is a verb.
<br />To switch is a verb. To close is a verb. To talk is a verb.
<br />To provoke is a verb. To wave is a verb. To lock is a verb. To give is a verb.
<br />To open is a verb. To touch is a verb. To take is a verb. To may is a verb.
<br />To wait is a verb. To feel is a verb. To happen is a verb. To push is a verb.
<br />To pull is a verb. To turn is a verb. To achieve is a verb. To squeeze is a verb.
<br />To smell is a verb. To sniff is a verb. To hear is a verb. To listen is a verb.
<br />To taste is a verb. To jump is a verb. To rub is a verb. To pass is a verb.
</p></blockquote>
<!-- END CODE -->
<p>Negative forms like &quot;[are not]&quot; are also available:</p>
<!-- START CODE "c94" -->
<a id="c94"></a><blockquote class="code"><p class="quoted">
&quot;[The noun] [cannot touch] the ionizer terminal.&quot;
</p></blockquote>
<!-- END CODE -->
<p>might produce &quot;The V-ray will not be able to touch the ionizer terminal.&quot;, for example.</p>
<p>As these examples hint, the verb adapts itself to the most recently printed object name. All of this only works if the previous object's name is printed from a substitution. So:</p>
<!-- START CODE "c95" -->
<a id="c95"></a><blockquote class="code"><p class="quoted">
&quot;[The condensers] [are] working.&quot;
</p></blockquote>
<!-- END CODE -->
<p>will work -- correctly forming &quot;The condensers are working.&quot;, &quot;The condensers will be working.&quot; or &quot;The condensers were working.&quot;, according to the story tense -- but</p>
<!-- START CODE "c96" -->
<a id="c96"></a><blockquote class="code"><p class="quoted">
&quot;The condensers [are] working.&quot;
</p></blockquote>
<!-- END CODE -->
<p>probably won't work. Inform doesn't have any way to understand the raw text outside of the text substitution marks &quot;[&quot; and &quot;]&quot;.</p>
<p>That object's identity is a value stored in &quot;prior named object&quot;, which it's very occasionally useful to change by hand:</p>
<!-- START CODE "c97" -->
<a id="c97"></a><blockquote class="code"><p class="quoted">
now the prior named object is the noun;
<br />say &quot;Oh, [are] [they]?&quot;
</p></blockquote>
<!-- END CODE -->
<p>which will produce &quot;Oh, is it?&quot;, &quot;Oh, are they?&quot;, or equivalents in other tenses, depending on whether the noun is singular or plural, even though the noun wasn't explicitly named in the text. Occasionally it's even useful to clear the prior named object altogether:</p>
<!-- START CODE "c98" -->
<a id="c98"></a><blockquote class="code"><p class="quoted">
now the prior named object is nothing;
<br />say &quot;There [are] no room.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This forces the &quot;[are]&quot; to take a singular form - &quot;is&quot;, &quot;was&quot;, &quot;will be&quot;. We need to do this because &quot;There&quot; in English is a sort of meaningless placeholder noun; it doesn't represent any object.</p>
<p>Something else to be careful with is the use of lists. If we write this:</p>
<!-- START CODE "c99" -->
<a id="c99"></a><blockquote class="code"><p class="quoted">
&quot;[The condensers] and [the V-ray] [are] smashed by Voltan's birdmen.&quot;
</p></blockquote>
<!-- END CODE -->
<p>then Inform is likely to print:</p>
<!-- START CODE "c100" -->
<a id="c100"></a><blockquote class="code"><p class="quoted">
The condensers and the V-ray is smashed by Voltan's birdmen.
</p></blockquote>
<!-- END CODE -->
<p>because it looks at the most recently named object - the V-ray, singular - to decide whether to use &quot;is&quot; or &quot;are&quot;. On the other hand, Inform gets this right:</p>
<!-- START CODE "c101" -->
<a id="c101"></a><blockquote class="code"><p class="quoted">
&quot;[The list of things on the bench] [are] smashed by Voltan's birdmen.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Because Inform constructs the list itself, it's able to appreciate that the things listed are jointly the subject of the verb, and it uses that information to decide on &quot;is&quot; or &quot;are&quot;. So:</p>
<!-- START CODE "c102" -->
<a id="c102"></a><blockquote class="code"><p class="quoted">
The condensers and the V-ray are smashed by Voltan's birdmen.
<br />The Atomic Furnace shovel is smashed by Voltan's birdmen.
</p></blockquote>
<!-- END CODE -->
<p>If we need an adaptive message with a verb which doesn't belong to Inform's built-in set, all we need do is declare it. For example:</p>
<!-- START CODE "c103" -->
<a id="c103"></a><blockquote class="code"><p class="quoted">
To retrofit is a verb.
</p></blockquote>
<!-- END CODE -->
<p>defines a verb without telling Inform what it means. Inform will throw a Problem message if we try to write text like &quot;Flash retrofits the meteor beam&quot; because, after all, it doesn't know what &quot;retrofit&quot; means. But it does still know how to print it, so this works:</p>
<!-- START CODE "c104" -->
<a id="c104"></a><blockquote class="code"><p class="quoted">
&quot;[The actor] [retrofit] the Mecha-Mole.&quot;
</p></blockquote>
<!-- END CODE -->
<p>which might come out as &quot;Dale retrofits the Mecha-Mole&quot;, or &quot;Barin's archers retrofitted the Mecha-Mole&quot;, and so on.</p>
<p>This is especially neat for writing a single response to an action which works regardless of who the actor was. For example, the Standard Rules include:</p>
<!-- START CODE "c105" -->
<a id="c105"></a><blockquote class="code"><p class="quoted">
say &quot;[The actor] [put] [the noun] on [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And this can make either:</p>
<!-- START CODE "c106" -->
<a id="c106"></a><blockquote class="code"><p class="quoted">
You put the revolver on the table.
<br />General Lee puts the revolver on the table.
</p></blockquote>
<!-- END CODE -->
<p>In second-person-singular IF, the player is always &quot;you&quot;. Many messages look like so:</p>
<!-- START CODE "c107" -->
<a id="c107"></a><blockquote class="code"><p class="quoted">
&quot;You have twenty minutes remaining.&quot;
</p></blockquote>
<!-- END CODE -->
<p>where the subject, or the object, of the sentence is &quot;you&quot;. But what if we want to have this text adapt itself to multiple narrative viewpoints? The solution is to use the following:</p>
<!-- START CODE "c108" -->
<a id="c108"></a><blockquote class="code"><p class="quoted">
&quot;[We]&quot; or &quot;[we]&quot;
<br />&quot;[Us]&quot; or &quot;[us]&quot;
<br />&quot;[Our]&quot; or &quot;[our]&quot;
<br />&quot;[Ours]&quot; or &quot;[ours]&quot;
<br />&quot;[Ourselves]&quot; or &quot;[ourselves]&quot;
</p></blockquote>
<!-- END CODE -->
<p>For example:</p>
<!-- START CODE "c109" -->
<a id="c109"></a><blockquote class="code"><p class="quoted">
&quot;[We] [carry] the Queen's warrant.&quot;
<br />&quot;The birds drop pebbles on [us]. Right on [our] heads!&quot;
<br />&quot;[Ours] [are] the burdens of office, which [we] take on [ourselves].&quot;
</p></blockquote>
<!-- END CODE -->
<p>(Notice that all five of these forms are differently worded, in English. That's the reason why we use the plural to write them - the traditional second person plural forms would be &quot;you&quot;, &quot;you&quot;, &quot;your&quot;, &quot;yours&quot; and &quot;yourself&quot;, so we wouldn't know if &quot;[you]&quot; was supposed to be the subject or the object of the verb. So the convention with all of these adaptive forms is that we use &quot;we&quot; and its variations. That's also why the verbs are written in the plural - &quot;[are]&quot;, not &quot;[is]&quot;; &quot;[carry]&quot;, not &quot;[carries]&quot;.)</p>
<p>We have similar adaptive pronouns for objects other than the player:</p>
<!-- START CODE "c110" -->
<a id="c110"></a><blockquote class="code"><p class="quoted">
&quot;[They]&quot; or &quot;[they]&quot;
<br />&quot;[Them]&quot; or &quot;[them]&quot;
<br />&quot;[Their]&quot; or &quot;[their]&quot;
<br />&quot;[Theirs]&quot; or &quot;[theirs]&quot;
<br />&quot;[Themselves]&quot; or &quot;[themselves]&quot;
</p></blockquote>
<!-- END CODE -->
<p>For example:</p>
<!-- START CODE "c111" -->
<a id="c111"></a><blockquote class="code"><p class="quoted">
Instead of examining in the Netherworld:
<br />&#160;&#160;&#160;&#160;say &quot;[regarding the noun][They] [have] no clear outline in this
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;misty netherworld.&quot;
</p></blockquote>
<!-- END CODE -->
<p>produces:</p>
<!-- START CODE "c112" -->
<a id="c112"></a><blockquote class="code"><p class="quoted">
&gt; EXAMINE ME
<br />You have no clear outline in this misty netherworld.
<br />&gt; EXAMINE MARK
<br />He has no clear outline in this misty netherworld.
<br />&gt; EXAMINE DRUMS
<br />They have no clear outline in this misty netherworld.
</p></blockquote>
<!-- END CODE -->
<p>Note that we have to say &quot;[regarding the noun]&quot;, not just start in with &quot;[They]&quot;, because nothing has been named so far in the sentence - so Inform doesn't know what object it refers to. &quot;[regarding the noun]&quot; prints nothing, and simply tells the printing part of Inform that the subject has changed.</p>
<p>This isn't always needed:</p>
<!-- START CODE "c113" -->
<a id="c113"></a><blockquote class="code"><p class="quoted">
&quot;[We] [have] a look at [the noun], but [they] [are] just too big.&quot;
</p></blockquote>
<!-- END CODE -->
<p>works fine, because printing &quot;[the noun]&quot; changes the subject to that, and then &quot;[they]&quot; agrees with it automatically. The text might come out, for example, as:</p>
<!-- START CODE "c114" -->
<a id="c114"></a><blockquote class="code"><p class="quoted">
I had a look at Peter Rabbit, but he was just too big.
<br />You have a look at the chessmen, but they are just too big.
<br />We have a look at ourselves, but we are just too big.
</p></blockquote>
<!-- END CODE -->
<p>There's also the peculiar impersonal non-object for English sentences like &quot;It is raining&quot; or &quot;There are books&quot;:</p>
<!-- START CODE "c115" -->
<a id="c115"></a><blockquote class="code"><p class="quoted">
&quot;[It]&quot; or &quot;[it]&quot;
<br />&quot;[There]&quot; or &quot;[there]&quot;
</p></blockquote>
<!-- END CODE -->
<p>These look pointless - but consider the two texts</p>
<!-- START CODE "c116" -->
<a id="c116"></a><blockquote class="code"><p class="quoted">
&quot;[We] [take] [the noun]. It [rain] harder.&quot;
<br />&quot;[We] [take] [the noun]. [It] [rain] harder.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The first one risks printing &quot;We took the scissors. It rain harder.&quot;, because it makes &quot;[rain]&quot; agree with &quot;scissors&quot;, which are plural. But the second text makes &quot;[rain]&quot; agree with &quot;[it]&quot;. And, as a convenience:</p>
<!-- START CODE "c117" -->
<a id="c117"></a><blockquote class="code"><p class="quoted">
&quot;[It's]&quot; or &quot;[it's]&quot;
<br />&quot;[There's]&quot; or &quot;[there's]&quot;
</p></blockquote>
<!-- END CODE -->
<p>do the obvious thing using the current story tense.</p>
<p>Next up, demonstratives: &quot;[Those]&quot; or &quot;[those]&quot; adapt as needed. For example,</p>
<!-- START CODE "c118" -->
<a id="c118"></a><blockquote class="code"><p class="quoted">
&quot;[We] really [are not] tall enough to reach [regarding the noun][those].&quot;
</p></blockquote>
<!-- END CODE -->
<p>might expand to</p>
<!-- START CODE "c119" -->
<a id="c119"></a><blockquote class="code"><p class="quoted">
You really are not tall enough to reach that.
<br />He really was not tall enough to reach those.
<br />They really will not be tall enough to reach her.
</p></blockquote>
<!-- END CODE -->
<p>with &quot;[those]&quot; expanding to &quot;that&quot;, &quot;those&quot;, &quot;her&quot; and so on as needed.</p>
<p>We can also adapt using &quot;[Possessive]&quot; or &quot;[possessive]&quot;:</p>
<!-- START CODE "c120" -->
<a id="c120"></a><blockquote class="code"><p class="quoted">
&quot;[regarding the noun][Possessive] height&quot;
</p></blockquote>
<!-- END CODE -->
<p>might adapt to, say, &quot;Our height&quot; or &quot;Alice's height&quot; as appropriate.</p>
<p>For any verb V which Inform knows, we can form modal auxiliaries as follows:</p>
<!-- START CODE "c121" -->
<a id="c121"></a><blockquote class="code"><p class="quoted">
&quot;[can V]&quot; or &quot;[cannot V]&quot; or &quot;[can't V]&quot;
<br />&quot;[could V]&quot; or &quot;[could not V]&quot; or &quot;[couldn't V]&quot;
<br />&quot;[may V]&quot; or &quot;[may not V]&quot; or &quot;[mayn't V]&quot;
<br />&quot;[might V]&quot; or &quot;[might not V]&quot; or &quot;[mightn't V]&quot;
<br />&quot;[must V]&quot; or &quot;[must not V]&quot; or &quot;[mustn't V]&quot;
<br />&quot;[should V]&quot; or &quot;[should not V]&quot; or &quot;[shouldn't V]&quot;
<br />&quot;[would V]&quot; or &quot;[would not V]&quot; or &quot;[wouldn't V]&quot;
</p></blockquote>
<!-- END CODE -->
<p>For example, &quot;Dale [cannot go] to the Cave.&quot; might adapt as &quot;Dale could not have gone to the Cave.&quot; Most of the English modal verbs are defective in that they do not exist in all tenses or parts of speech - that's why you can't say &quot;to must&quot; or &quot;I am musting&quot; or &quot;I will must&quot; - so there are limits to how good Inform's adaption is, in some of these cases. The modal &quot;can&quot; even uses rewording: Inform says &quot;Dale will be able to go to the Cave.&quot; to avoid having to say the impossible &quot;Dale will can go to the Cave.&quot;</p>
<p>Finally, we can adapt English contracted forms of verbs:</p>
<!-- START CODE "c122" -->
<a id="c122"></a><blockquote class="code"><p class="quoted">
&quot;[aren't]&quot;
<br />&quot;[don't]&quot;
<br />&quot;[haven't]&quot;
<br />&quot;[won't]&quot;
</p></blockquote>
<!-- END CODE -->
<p>So, for example:</p>
<!-- START CODE "c123" -->
<a id="c123"></a><blockquote class="code"><p class="quoted">
Instead of taking something:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] [are] pinned down by Dr Zarkov's force field.
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[They] [aren't] free to move. [They] [can't] move, and [they]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[shouldn't] move. [They] [won't] move. [They] [haven't] a chance
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;to move. Anyhow, [they] [don't] move.&quot;
</p></blockquote>
<!-- END CODE -->
<p>can (depending on the viewpoint) produce variations like these:</p>
<!-- START CODE "c124" -->
<a id="c124"></a><blockquote class="code"><p class="quoted">
The condensers are pinned down by Dr Zarkov's force field. They aren't
<br />free to move. They can't move, and they shouldn't move. They won't
<br />move. They haven't a chance to move. Anyhow, they don't move.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c125" -->
<a id="c125"></a><blockquote class="code"><p class="quoted">
You were pinned down by Dr Zarkov's force field. You weren't free to
<br />move. You couldn't move, and you shouldn't move. You wouldn't move. You
<br />hadn't a chance to move. Anyhow, you didn't move.
</p></blockquote>
<!-- END CODE -->
<p>(See suggestion 751226.)</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s4"></a>§7.4. Verbs as values</p>
<p>Each verb known to Inform is also a value of the new kind &quot;verb&quot;. For example:</p>
<!-- START CODE "c126" -->
<a id="c126"></a><blockquote class="code"><p class="quoted">
showme the verb contain;
<br />showme the verb might;
<br />showme the verb provoke;
</p></blockquote>
<!-- END CODE -->
<p>produces:</p>
<!-- START CODE "c127" -->
<a id="c127"></a><blockquote class="code"><p class="quoted">
verb: verb contain
<br />verb: verb might
<br />verb: verb provoke
</p></blockquote>
<!-- END CODE -->
<p>As this demonstrates, if V is the infinitive form of the verb, then &quot;verb V&quot; is a value of the kind &quot;verb&quot;.</p>
<p>Two adjectives are provided for use with verbs: &quot;modal&quot; (or &quot;non-modal&quot;) to pick out verbs like might, could, should, and so on; and &quot;meaningful&quot; (or &quot;meaningless&quot;) to pick out verbs which have a defined meaning as an Inform relation. For example, in the Standard Rules, the verb contain is meaningful, the verb might is modal, and the verb provoke is meaningless.</p>
<p>If V has a meaning as a relation of objects, then &quot;meaning of V&quot; produces that relation. For example,</p>
<!-- START CODE "c128" -->
<a id="c128"></a><blockquote class="code"><p class="quoted">
showme the meaning of the verb contain;
<br />showme the meaning of the verb provoke;
</p></blockquote>
<!-- END CODE -->
<p>produces:</p>
<!-- START CODE "c129" -->
<a id="c129"></a><blockquote class="code"><p class="quoted">
&quot;meaning of the verb contain&quot; = relation of objects: containment relation
<br />&quot;meaning of the verb provoke&quot; = relation of objects: equality relation
</p></blockquote>
<!-- END CODE -->
<p>(As this demonstrates, if a verb has no meaning, or its meaning doesn't relate to objects, we get just the equality relation.)</p>
<p>In fact, Inform even defines a verb &quot;to mean&quot;: it's meaningful, and its meaning is the meaning relation. Thus:</p>
<!-- START CODE "c130" -->
<a id="c130"></a><blockquote class="code"><p class="quoted">
if the verb mean means the meaning relation...
</p></blockquote>
<!-- END CODE -->
<p>is true. More usefully, we can search our vocabulary like this:</p>
<!-- START CODE "c131" -->
<a id="c131"></a><blockquote class="code"><p class="quoted">
showme the list of verbs meaning the containment relation;
</p></blockquote>
<!-- END CODE -->
<p>which produces:</p>
<!-- START CODE "c132" -->
<a id="c132"></a><blockquote class="code"><p class="quoted">
&quot;list of verbs meaning the containment relation&quot; = list of verbs: {verb contain}
</p></blockquote>
<!-- END CODE -->
<p>One use for verbs as values is that it enables adaption to other tenses or numbers. For example,</p>
<!-- START CODE "c133" -->
<a id="c133"></a><blockquote class="code"><p class="quoted">
&quot;we [adapt the verb provoke in the future tense from the first person plural]&quot;
</p></blockquote>
<!-- END CODE -->
<p>produces the text &quot;we will provoke&quot;. In general, we can use:</p>
<!-- START CODE "c134" -->
<a id="c134"></a><blockquote class="code"><p class="quoted">
&quot;[adapt V]&quot;
<br />&quot;[adapt V in T]&quot;
<br />&quot;[adapt V from VP]&quot;
<br />&quot;[adapt V in T from VP]&quot;
<br />&quot;[negate V]&quot;
<br />&quot;[negate V in T]&quot;
<br />&quot;[negate V from VP]&quot;
<br />&quot;[negate V in T from VP]&quot;
</p></blockquote>
<!-- END CODE -->
<p>for any tense T or viewpoint VP; these default to the current story tense and the current story viewpoint if not supplied. The verb doesn't have to be named explicitly, so for example:</p>
<!-- START CODE "c135" -->
<a id="c135"></a><blockquote class="code"><p class="quoted">
To decide which text is the rendering of (V - verb) (this is verb rendering):
<br />&#160;&#160;&#160;&#160;decide on &quot;[negate V in the past perfect tense]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c136" -->
<a id="c136"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;showme verb rendering applied to the list of meaningful verbs.
</p></blockquote>
<!-- END CODE -->
<p>produces:</p>
<!-- START CODE "c137" -->
<a id="c137"></a><blockquote class="code"><p class="quoted">
&quot;verb rendering applied to the list of meaningful verbs&quot; = list of texts:
<br />{&quot;had not had&quot;, &quot;had not related&quot;, &quot;had not meant&quot;, &quot;had not provided&quot;,
<br />&quot;had not contained&quot;, &quot;had not supported&quot;, &quot;had not incorporated&quot;, &quot;had not
<br />enclosed&quot;, &quot;had not carried&quot;, &quot;had not held&quot;, &quot;had not worn&quot;, &quot;had not
<br />been able to see&quot;, &quot;had not been able to touch&quot;, &quot;had not concealed&quot;, &quot;had
<br />not unlocked&quot;}
</p></blockquote>
<!-- END CODE -->
<p>Lastly, we can obtain:</p>
<!-- START CODE "c138" -->
<a id="c138"></a><blockquote class="code"><p class="quoted">
&quot;[infinitive of V]&quot;
<br />&quot;[past participle of V]&quot;
<br />&quot;[present participle of V]&quot;
</p></blockquote>
<!-- END CODE -->
<p>For example, &quot;[present participle of the verb incorporate]&quot; is &quot;incorporating&quot;.</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s5"></a>§7.5. Non-English Inform</p>
<p>Intensive work has gone into making both the adaptive text system and Inform's syntax analyser flexible enough to work in languages other than English. For example, an experimental stab at French Inform has adaptive pronouns such as &quot;[celui]&quot;, &quot;[il]&quot;, &quot;[le]&quot;, &quot;[lui]&quot;, &quot;[son]&quot; and &quot;[le sien]&quot;; it supports tenses not existing in English, such as the past historic; and it can conjugate the whole gamut of French verbs, which are very much harder than English ones. For example, once the experimental French Inform extension is included, the sentence:</p>
<!-- START CODE "c139" -->
<a id="c139"></a><blockquote class="code"><p class="quoted">
In French craindre is a verb.
</p></blockquote>
<!-- END CODE -->
<p>will automatically create a text substitution &quot;[craignis]&quot; which can come out in about 100 different forms: &quot;a crainte&quot; (a female person has been feared), &quot;craignirent&quot; (third-person plural past historic active), and so on.</p>
<p>Inform's adaptive linguistics are specified by programming the new Inform syntax analysis layer using a grammar called Preform. French, for example, takes about 2200 lines of Preform grammar just to handle verbs properly. Preform is not documented in the main Inform manual, and it remains experimental, but see the newly published syntax specification.</p>
<p>Internationalising Inform 7 remains a long-term goal, but these are major steps towards it. The scheme is that a translator creates an extension called, say, French Language, and that this contains some material similar to that in I6's &quot;language definition files&quot; together with Preform grammar, translations of responses in the Standard Rules, creations of unusual tenses, and so on. The draft &quot;French Language&quot; extension, which is still incomplete in that it doesn't translate the Responses, is published alongside this build for the benefit of anybody interested.</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s6"></a>§7.6. Responses</p>
<p>Many of the short texts written by Inform in play do not appear in the source text for the story, and come instead from extensions, and especially from the Standard Rules. They are often replies to commands:</p>
<!-- START CODE "c140" -->
<a id="c140"></a><blockquote class="code"><p class="quoted">
&gt; INV
<br />You are carrying nothing.
</p></blockquote>
<!-- END CODE -->
<p>Such texts are called &quot;responses&quot;. The Inform 6 jargon here was &quot;library messages&quot;, and a crude low-level way to alter these using I6 code was up to now the best way to customise the dialogue appearing in play. (In practice most authors used Inform 7 extensions to do this for them, but those extensions in turn relied on horrible I6 hacks.)</p>
<p>Inform now provides a flexible way for any extension to make its responses customisable, and every built-in extension has been rewritten to do so. We expect many third-party extensions to follow suit.</p>
<p>For example, many of the smaller rules in the SR are capable of producing one or two standard responses. These are now labelled with the rule's name and then a bracketed letter - (A), (B), (C), ... as needed so that every response has its own unique name. For example, the SR lays down:</p>
<!-- START CODE "c141" -->
<a id="c141"></a><blockquote class="code"><p class="quoted">
Carry out taking inventory (this is the print empty inventory rule):
<br />&#160;&#160;&#160;&#160;if the first thing held by the player is nothing,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[We] [are] carrying nothing.&quot; (A) instead.
</p></blockquote>
<!-- END CODE -->
<p>which makes the familiar text &quot;You are carrying nothing.&quot; a response named:</p>
<!-- START CODE "c142" -->
<a id="c142"></a><blockquote class="code"><p class="quoted">
print empty inventory rule response (A)
</p></blockquote>
<!-- END CODE -->
<p>These names are actually values, belonging to the kind &quot;response&quot;. Because of that, if we try this:</p>
<!-- START CODE "c143" -->
<a id="c143"></a><blockquote class="code"><p class="quoted">
say &quot;Hmm: [print empty inventory rule response (A)]&quot;
</p></blockquote>
<!-- END CODE -->
<p>Inform will produce</p>
<!-- START CODE "c144" -->
<a id="c144"></a><blockquote class="code"><p class="quoted">
Hmm: print empty inventory rule response (A)
</p></blockquote>
<!-- END CODE -->
<p>since we gave Inform a value to print, and that's just what it then did. But:</p>
<!-- START CODE "c145" -->
<a id="c145"></a><blockquote class="code"><p class="quoted">
say &quot;Hmm: [text of print empty inventory rule response (A)]&quot;
</p></blockquote>
<!-- END CODE -->
<p>produces &quot;Hmm: You are carrying nothing.&quot;, unless of course the response has been changed.</p>
<p>It's very easy to change responses:</p>
<!-- START CODE "c146" -->
<a id="c146"></a><blockquote class="code"><p class="quoted">
The print empty inventory rule response (A) is &quot;Your hands are, like,
<br />totally empty. Lame.&quot;
</p></blockquote>
<!-- END CODE -->
<p>and we can even do this dynamically during play:</p>
<!-- START CODE "c147" -->
<a id="c147"></a><blockquote class="code"><p class="quoted">
now the print empty inventory rule response (A) is &quot;Your hands ...&quot;;
</p></blockquote>
<!-- END CODE -->
<p>just as if we were setting a variable.</p>
<p>In practice we can't change these responses unless we know what they're called. One way to find out is just to read through the extensions we're using, but that's a laborious process. A more practical answer is to type:</p>
<!-- START CODE "c148" -->
<a id="c148"></a><blockquote class="code"><p class="quoted">
&gt; RESPONSES
</p></blockquote>
<!-- END CODE -->
<p>which replies by listing the sets of responses currently available; for example, it says that RESPONSES 1 is the set of responses for the Standard Rules. We can then type exactly that:</p>
<!-- START CODE "c149" -->
<a id="c149"></a><blockquote class="code"><p class="quoted">
&gt; RESPONSES 1
<br />Standard Rules:
<br />&#160;&#160;&#160;&#160;block vaguely going rule response (A): &quot;You'll have to say which
<br />&#160;&#160;&#160;&#160;compass direction to go in.&quot;
<br />&#160;&#160;&#160;&#160;print the final prompt rule response (A): &quot;&gt; [run paragraph on]&quot;
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>and so on. This lists all of the responses, rule by rule, along with their current texts.</p>
<p>A more selective trick is to make use of the new activity &quot;issuing the response text of&quot;. If we write:</p>
<!-- START CODE "c150" -->
<a id="c150"></a><blockquote class="code"><p class="quoted">
Before issuing the response text of a response (called R): say &quot;[R]: &quot;.
</p></blockquote>
<!-- END CODE -->
<p>we get dialogue like:</p>
<!-- START CODE "c151" -->
<a id="c151"></a><blockquote class="code"><p class="quoted">
&gt;WAIT
<br />standard report waiting rule response (A): Time passes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c152" -->
<a id="c152"></a><blockquote class="code"><p class="quoted">
&gt;NORTH
<br />can't go that way rule response (A): You can't go that way.
</p></blockquote>
<!-- END CODE -->
<p>(See suggestion 751870.)</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s7"></a>§7.7. Variables and named constants</p>
<p>The customary way to create a variable in Inform is write something like:</p>
<!-- START CODE "c153" -->
<a id="c153"></a><blockquote class="code"><p class="quoted">
The wolf count is a number which varies.
</p></blockquote>
<!-- END CODE -->
<p>(Or &quot;a number variable&quot;, equivalently.) This creates it and gives it the default value for whatever its kind is -- 0, in this case. So to give it a definite value takes a second sentence:</p>
<!-- START CODE "c154" -->
<a id="c154"></a><blockquote class="code"><p class="quoted">
The wolf count is 31.
</p></blockquote>
<!-- END CODE -->
<p>This is all rather a lot of typing, so a new way to do both steps in one is:</p>
<!-- START CODE "c155" -->
<a id="c155"></a><blockquote class="code"><p class="quoted">
The wolf count is initially 31.
</p></blockquote>
<!-- END CODE -->
<p>This creates &quot;wolf count&quot; as a number which varies, if it hasn't already been created, and gives it the initial value 31.</p>
<p>In the case of objects, it can be ambiguous what the kind is; Inform treats this situation in the same way it does when working out the kind of columns in tables, by being permissive rather than restrictive. For example:</p>
<!-- START CODE "c156" -->
<a id="c156"></a><blockquote class="code"><p class="quoted">
Peter is a man. The accursed one is initially Peter.
</p></blockquote>
<!-- END CODE -->
<p>This creates &quot;accursed one&quot; as an object which varies, to be on the safe side. Inform can see that it currently contains a &quot;man&quot; (Peter), but it doesn't know if the variable will later need to hold something else -- a woman called Jane, say, or even a black hat. If in fact the variable must be more restrictive, it's legal to write:</p>
<!-- START CODE "c157" -->
<a id="c157"></a><blockquote class="code"><p class="quoted">
Peter is a man. The accursed one is initially Peter.
<br />The accursed one is a man that varies.
</p></blockquote>
<!-- END CODE -->
<p>thus telling Inform exactly what is intended.</p>
<p>It's also now possible to create named constants:</p>
<!-- START CODE "c158" -->
<a id="c158"></a><blockquote class="code"><p class="quoted">
The speed limit is always 55.
</p></blockquote>
<!-- END CODE -->
<p>makes &quot;speed limit&quot; a number constant. Any attempt to set this elsewhere, or change its value, will result in a Problem message, and moreover it can be used in contexts where variables wouldn't be allowed. For example,</p>
<!-- START CODE "c159" -->
<a id="c159"></a><blockquote class="code"><p class="quoted">
The list of significant speeds is initially {30, the speed limit, 90}.
</p></blockquote>
<!-- END CODE -->
<p>is legal, since the braced list is a constant, and produces</p>
<!-- START CODE "c160" -->
<a id="c160"></a><blockquote class="code"><p class="quoted">
&quot;list of significant speeds&quot; = list of numbers: {30, 55, 90}
</p></blockquote>
<!-- END CODE -->
<p>Similarly a named constant can be used as a table entry, and as the value of a property, so for example:</p>
<!-- START CODE "c161" -->
<a id="c161"></a><blockquote class="code"><p class="quoted">
A person has a number called maximum comfort speed.
<br />The maximum comfort speed of Trevor is the speed limit.
</p></blockquote>
<!-- END CODE -->
<p>means that the SHOWME TREVOR testing command produces, among other data,</p>
<!-- START CODE "c162" -->
<a id="c162"></a><blockquote class="code"><p class="quoted">
maximum comfort speed: 55
</p></blockquote>
<!-- END CODE -->
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s8"></a>§7.8. Floating-point arithmetic</p>
<p>Inform has a new kind of value, &quot;real number&quot;, which is only available for projects set to Glulx. &quot;real number&quot; behaves very like the &quot;float&quot; type in C, C++, Java and similar programming languages, since, like them, it follows the IEEE-754 binary32 standard for floating-point arithmetic.</p>
<p>It may seem odd to be creating a second kind of number, having just gone to great effort to unify two kinds of text, but the difference here is that arithmetic is fundamentally different for floating-point numbers.</p>
<p>Real numbers are typed much the way that they would be in science or mathematics textbooks. Thus:</p>
<!-- START CODE "c163" -->
<a id="c163"></a><blockquote class="code"><p class="quoted">
let gamma be 0.5772156649;
<br />let Avogadro's number be 6.022141 x 10^23;
</p></blockquote>
<!-- END CODE -->
<p>(Inform will instead use notations like 4.32E-22 if the use option &quot;Use engineering notation&quot; is on, but by default it's off.)</p>
<p>The fundamental trade-off with computer representations of real numbers is that we compromise on the accuracy of numbers, but not their size, which can be enormously large or small. The range we can hold is roughly:</p>
<!-- START CODE "c164" -->
<a id="c164"></a><blockquote class="code"><p class="quoted">
1.18 x 10^−38 to 3.4 x 10^38
</p></blockquote>
<!-- END CODE -->
<p>The mathematical constants &quot;pi&quot; and &quot;e&quot; are built in to Inform, but must be typed in lower case.</p>
<p>Numbers can always be used where real numbers are expected: for example, &quot;cosine of 2&quot; does the same as &quot;cosine of 2.0&quot; and produces -0.41615. The standard arithmetic operations work on numbers unless one of the values worked on is a real number, in which case the real-number calculation is done instead. Thus &quot;3 / 2&quot; is 1, because the whole number 2 goes into 3 only once, but &quot;3 / 2.0&quot; and &quot;3.0 / 2&quot; both produce the real number 1.5.</p>
<p>On the other hand, real numbers can't be used in place of numbers, so e.g.:</p>
<!-- START CODE "c165" -->
<a id="c165"></a><blockquote class="code"><p class="quoted">
word number 1.6 in &quot;The Great Wall of China&quot;
</p></blockquote>
<!-- END CODE -->
<p>is not allowed. But conversion can be made explicitly: &quot;1.6 to the nearest whole number&quot; produces the number 2.</p>
<p>For details on real arithmetic, and on how infinities and non-numbers are represented, see &quot;Writing With Inform&quot;.</p>
<p>Text substitutions make it easy to print real numbers in the form needed:</p>
<!-- START CODE "c166" -->
<a id="c166"></a><blockquote class="code"><p class="quoted">
&quot;The semicircle is roughly [pi to 3 decimal places] paces around.&quot;
<br />&quot;[1.23457 x 10^8 in decimal notation]&quot;
<br />&quot;[the reciprocal of 137 in scientific notation]&quot;
</p></blockquote>
<!-- END CODE -->
<p>and so on. Real numbers can similarly appear in Understand grammar. An extensive suite of mathematical functions is provided:</p>
<!-- START CODE "c167" -->
<a id="c167"></a><blockquote class="code"><p class="quoted">
real square root of X [unlike &quot;square root of&quot;, which produces a number]
<br />floor of X
<br />ceiling of X
<br />absolute value of X
<br />reciprocal of X
<br />X to the power Y
<br />exponential of X
<br />logarithm of X [which is a natural log]
<br />logarithm to base Y of X
<br />X degrees [which converts X from degrees to radians]
<br />sine of X
<br />cosine of X
<br />tangent of X
<br />arcsine of X
<br />arccosine of X
<br />arctangent of X
<br />hyperbolic sine of X
<br />hyperbolic cosine of X
<br />hyperbolic tangent of X
<br />hyperbolic arcsine of X
<br />hyperbolic arccosine of X
<br />hyperbolic arctangent of X
</p></blockquote>
<!-- END CODE -->
<p>And these conform to IEEE-754 in the usual way.</p>
<p>Inform has always been able to create arithmetic kinds of value; for example:</p>
<!-- START CODE "c168" -->
<a id="c168"></a><blockquote class="code"><p class="quoted">
Weight is a kind of value. 10 kg specifies a weight.
</p></blockquote>
<!-- END CODE -->
<p>Now that there are two ways to perform arithmetic, Inform needs to decide which to use in each case. It decides on the basis of whether floating-point numbers are used in the notation. Above, for example, &quot;10 kg&quot; looks like a whole number of kilograms, so Inform uses number arithmetic. But this:</p>
<!-- START CODE "c169" -->
<a id="c169"></a><blockquote class="code"><p class="quoted">
Weight is a kind of value. 1.0 kg specifies a weight.
</p></blockquote>
<!-- END CODE -->
<p>looks real, so Inform uses real number arithmetic. This allows, for example,</p>
<!-- START CODE "c170" -->
<a id="c170"></a><blockquote class="code"><p class="quoted">
1.9891 x 10^30 kg [the mass of the Sun]
<br />9.109383 x 10^−31 kg [the mass of an electron]
</p></blockquote>
<!-- END CODE -->
<p>and enables reasonably accurate scientific calculations to be made. The built-in extension Metric Units has been completely rewritten to use real arithmetic throughout.</p>
<p>Inform has for some years supported &quot;equations&quot; - calculations written out as formulae - but up to now they have used only the basic four functions on a calculator: addition, subtraction, multiplication, division.</p>
<p>In this build, arithmetic phrases can be used in abbreviated form in equations. For example:</p>
<!-- START CODE "c171" -->
<a id="c171"></a><blockquote class="code"><p class="quoted">
let x be given by sin x = 1 where x is a real number;
</p></blockquote>
<!-- END CODE -->
<p>works out x as pi divided by 4, which is to say, 90 degrees. The Phrasebook entries on the mathematical functions give their abbreviations, but here they all are as a list:</p>
<!-- START CODE "c172" -->
<a id="c172"></a><blockquote class="code"><p class="quoted">
abs, root, ceiling, floor, int, log, exp, sin, cos, tan,
<br />arcsin, arccos, arctan, sinh, cosh, tanh, arcsinh, arccosh, arctanh
</p></blockquote>
<!-- END CODE -->
<p>(&quot;root&quot; automatically means the real-number form of square root operation.) As an example, here's the definition of arcsinh given in the Standard Rules:</p>
<!-- START CODE "c173" -->
<a id="c173"></a><blockquote class="code"><p class="quoted">
To decide which real number is the hyperbolic arcsine of (R - a real number)
<br />&#160;&#160;&#160;&#160;(this is the arcsinh function inverse to sinh):
<br />&#160;&#160;&#160;&#160;let x be given by x = log(R + root(R^2 + 1)) where x is a real number;
<br />&#160;&#160;&#160;&#160;decide on x.
</p></blockquote>
<!-- END CODE -->
<p>The final bracketed clause &quot;this is the arcsinh function inverse to sinh&quot; tells Inform two useful things - to call this &quot;arcsinh&quot; in equations, and that it can solve implicit equations like &quot;arcsinh x = 1&quot; using the inverse function, viz., by performing &quot;x = sinh 1&quot;. It's quite legal to create new mathematical functions in this way.</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s9"></a>§7.9. Miscellaneous minor changes to the language</p>
<p>** It's conventional for web pages to provide &quot;alt-text&quot; for significant images displayed, so that partially sighted or blind users can get an idea of what is being shown. Inform adopts the March 2014 extensions to the Blorb format and the Babel standard in order to provide such text for figures and sounds. The author simply adds short paraphrases in brackets, like so:</p>
<!-- START CODE "c174" -->
<a id="c174"></a><blockquote class="code"><p class="quoted">
Fugue is the file &quot;Bach.ogg&quot; (&quot;A church organ playing a Bach fugue.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c175" -->
<a id="c175"></a><blockquote class="code"><p class="quoted">
Figure 2 is the file &quot;butterfly.jpg&quot; (&quot;A red admiral butterfly.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c176" -->
<a id="c176"></a><blockquote class="code"><p class="quoted">
Release along with cover art (&quot;A cathedral at sunset.&quot;).
</p></blockquote>
<!-- END CODE -->
<p>** In previous builds it has been legal to mark headings with &quot;(not for release)&quot; to say that the material inside shouldn't be included on a release; it's now legal to do the reverse, using &quot;(for release only)&quot; to mark material which is only included on a release. (See suggestion 999953.)</p>
<p>** The I6 code generated by Inform now includes comments noting which paragraphs of the template originate which I6 code. This makes no difference to the effect of the code, but may help debuggers and template hackers. (Not suggested on Uservoice, but by Andrew Plotkin in the Inform 6 maintenance mailing list.)</p>
<p>** In previous builds all commands starting with a given verb could be removed:</p>
<!-- START CODE "c177" -->
<a id="c177"></a><blockquote class="code"><p class="quoted">
Understand the &quot;take&quot; command as something new.
</p></blockquote>
<!-- END CODE -->
<p>It's now also legal to clear out all the commands leading to a given action:</p>
<!-- START CODE "c178" -->
<a id="c178"></a><blockquote class="code"><p class="quoted">
Understand nothing as taking.
</p></blockquote>
<!-- END CODE -->
<p>Note that other senses of &quot;take&quot; - for taking off clothes, for example - would be unchanged, as would other senses of &quot;get&quot; - for getting out of rooms, etc. (See suggestion 751396.)</p>
<p>** When defining phrases, Inform has for some years allowed &quot;one/two/--&quot; to mean that the word in question can be &quot;one&quot;, &quot;two&quot;, or omitted altogether. The same is now true when giving slashed alternatives in Understand grammar. Thus:</p>
<!-- START CODE "c179" -->
<a id="c179"></a><blockquote class="code"><p class="quoted">
Understand &quot;brief underwood/urquhart/--&quot; as briefing.
</p></blockquote>
<!-- END CODE -->
<p>matches BRIEF, BRIEF UNDERWOOD, or BRIEF URQUHART. (See suggestion 751366.)</p>
<p>** A new use option, &quot;Use unabbreviated object names&quot;, instructs Inform not to recognise names in the source text other than in full. For example,</p>
<!-- START CODE "c180" -->
<a id="c180"></a><blockquote class="code"><p class="quoted">
West of the Kitchen is the Roaring Range. South of the Range is the Pantry.
</p></blockquote>
<!-- END CODE -->
<p>is ordinarily read by Inform as constructing three rooms (Kitchen, Roaring Range, Pantry); but with this use option set, it makes four (Kitchen, Roaring Range, Range, Pantry), in two disconnected pieces of map. Namespace purists have asked for this option, which makes Inform behave a little more like a conventional programming language; but it is very much off by default.</p>
<p>Note that this has no effect on what commands are recognised in play, and affects only how Inform reads the source text of the project. (See suggestion 751458.)</p>
<p>** New phrases have been added to make it easier to see the contents of tables as they change:</p>
<!-- START CODE "c181" -->
<a id="c181"></a><blockquote class="code"><p class="quoted">
To showme the contents of (T - table name): ...
<br />To say the/-- current table row: ...
<br />To say row (N - number) in/from (T - table name): ...
<br />To say (TC - table column) in/from (T - table name): ...
</p></blockquote>
<!-- END CODE -->
<p>These are intended to authors with testing, not for players to see. The typical output for a full table is:</p>
<!-- START CODE "c182" -->
<a id="c182"></a><blockquote class="code"><p class="quoted">
Table of Frogs
<br />(row 1)  | 13 | fish |
<br />(row 2)  | 21 | toad |
</p></blockquote>
<!-- END CODE -->
<p>while a column comes out as a comma-separated list &quot;fish, toad&quot;. (See suggestion 751330.)</p>
<p>** In past builds, if authors wanted an action to have a past participle then this had to be specified by hand:</p>
<!-- START CODE "c183" -->
<a id="c183"></a><blockquote class="code"><p class="quoted">
Photographing is an action with past participle photographed, applying
<br />to one thing.
</p></blockquote>
<!-- END CODE -->
<p>The &quot;with&quot; was optional. It is now compulsory, but in any case, past participles are automatically generated using the adaptive linguistics tricks discussed above - in most cases &quot;-ing&quot; is replaced with &quot;-ed&quot;, but Inform knows some 460 irregular exceptions, such as caught, fled, crossbred, taken, woven. In all likelihood, past participle declarations can simply be removed from existing source text.</p>
<p>** The RULES ALL testing command now works better, fixing a bug causing it not always to list all inapplicable rules, and giving a brief reason why such rules are inapplicable.</p>
<p>** Rulebooks were previously limited to 10 named outcomes (each); there is now no limit.</p>
<p>** The construction &quot;list of D&quot;, where D is a description, now allows the description to include references to &quot;let&quot; and loop variables. Thus for example:</p>
<!-- START CODE "c184" -->
<a id="c184"></a><blockquote class="code"><p class="quoted">
let L be the list of things in Downton Abbey;
</p></blockquote>
<!-- END CODE -->
<p>always worked, but</p>
<!-- START CODE "c185" -->
<a id="c185"></a><blockquote class="code"><p class="quoted">
let the place be Downton Abbey;
<br />let L be the list of things in the place;
</p></blockquote>
<!-- END CODE -->
<p>only now works. (See suggestion 751032.)</p>
<p>** Inform's understanding of the &quot;-where&quot; words has been improved: that is, the words somewhere, anywhere, nowhere and everywhere. Inform considers anywhere to be the same as somewhere, so there are really three cases here.</p>
<p>In previous builds, &quot;somewhere&quot; and &quot;nowhere&quot; meant, roughly speaking, &quot;a room&quot; and &quot;no room&quot;. Sometimes this was sensible (&quot;if somewhere is visited, ...&quot;), but it gave sentences like these a strange reading:</p>
<!-- START CODE "c186" -->
<a id="c186"></a><blockquote class="code"><p class="quoted">
if the marble is somewhere, ...
<br />if the marble is nowhere, ...
</p></blockquote>
<!-- END CODE -->
<p>with the first asking if the marble is a room (no) and the second if it is not a room (yes). Past builds did understand &quot;if B is everywhere&quot;, in the case where B was a backdrop, but that was a special case.</p>
<p>In the new build, &quot;-where&quot; words as objects of the copular form of &quot;to be&quot; refer to the room which something is in. To put that another way, sentences such as</p>
<!-- START CODE "c187" -->
<a id="c187"></a><blockquote class="code"><p class="quoted">
if somewhere is visited, ...
</p></blockquote>
<!-- END CODE -->
<p>mean just what they did before; but</p>
<!-- START CODE "c188" -->
<a id="c188"></a><blockquote class="code"><p class="quoted">
if the marble is somewhere, ...
<br />if the marble is nowhere, ...
</p></blockquote>
<!-- END CODE -->
<p>now tests whether the marble is (indirectly) in a room. This is the same test which used to be called &quot;on-stage&quot; and &quot;off-stage&quot;, which still work fine, but we prefer the new wording in the documentation. These are linguistically more interesting than adjectives, and we could write, for example:</p>
<!-- START CODE "c189" -->
<a id="c189"></a><blockquote class="code"><p class="quoted">
if the marble is somewhere dark, ...
<br />if the marble is somewhere which is not dark, ...
</p></blockquote>
<!-- END CODE -->
<p>Note that the place referred to by &quot;somewhere&quot; is the room which ultimately contains the marble. For example, if a glowing marble is in a closed wooden box on a table at the bottom of the Coal Mine, then it is still &quot;somewhere dark&quot;, even though there's light inside the box. Note also that:</p>
<!-- START CODE "c190" -->
<a id="c190"></a><blockquote class="code"><p class="quoted">
if the Coal Mine is somewhere dark, ...
</p></blockquote>
<!-- END CODE -->
<p>continues be true, and that the meaning of &quot;to be in&quot; has not changed. Thus</p>
<!-- START CODE "c191" -->
<a id="c191"></a><blockquote class="code"><p class="quoted">
if the marble is in a dark room, ...
<br />if the marble is in somewhere dark, ...
</p></blockquote>
<!-- END CODE -->
<p>both continue to talk about what the marble is immediately inside - the wooden box, which is not a room, so both are false.</p>
<p>It's legal to use the -where words in assertions, too:</p>
<!-- START CODE "c192" -->
<a id="c192"></a><blockquote class="code"><p class="quoted">
Godot is a man. Godot is nowhere.
</p></blockquote>
<!-- END CODE -->
<p>in which case Godot begins off-stage - not in any of the rooms. At the opposite extreme:</p>
<!-- START CODE "c193" -->
<a id="c193"></a><blockquote class="code"><p class="quoted">
The stars are a backdrop which is everywhere.
</p></blockquote>
<!-- END CODE -->
<p>(Only backdrops can be everywhere.) Moreover, these can be changed with &quot;now&quot;:</p>
<!-- START CODE "c194" -->
<a id="c194"></a><blockquote class="code"><p class="quoted">
now the Lady is nowhere;
</p></blockquote>
<!-- END CODE -->
<p>duplicates the effect of the old phrase &quot;remove the Lady from play&quot;, which, again, we now prefer not to use, but which still works. This works for backdrops too:</p>
<!-- START CODE "c195" -->
<a id="c195"></a><blockquote class="code"><p class="quoted">
After sleeping:
<br />&#160;&#160;&#160;&#160;say &quot;It's a bright new day!&quot;;
<br />&#160;&#160;&#160;&#160;now the stars are nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c196" -->
<a id="c196"></a><blockquote class="code"><p class="quoted">
After waiting:
<br />&#160;&#160;&#160;&#160;say &quot;Darkness falls rapidly here.&quot;;
<br />&#160;&#160;&#160;&#160;now the stars are everywhere.
</p></blockquote>
<!-- END CODE -->
<p>Writing &quot;now the marble is somewhere&quot; is not allowed, since this is too vague about where.</p>
<p>(See the discussion following suggestion 1286087.)</p>
<p>** On Glulx-compiled projects, you can now have up to 256 temporary values (&quot;let&quot; and &quot;repeat&quot; variables, etc.) at a time. Previously the limit was 15, and for Z-compiled projects it still is, since this is a restriction from the virtual machine itself. (See bug report 0001092, a blatant and successful attempt to pitch a suggestion under cover of the bug report database.)</p>
<p>** The Understand tokens</p>
<!-- START CODE "c197" -->
<a id="c197"></a><blockquote class="code"><p class="quoted">
[anything]
<br />[anybody]
<br />[anyone]
<br />[anywhere]
</p></blockquote>
<!-- END CODE -->
<p>are now equivalent to &quot;[any thing]&quot;, &quot;[any person]&quot; and &quot;[any room]&quot;. Note that &quot;[anything]&quot; was previously read as equivalent to &quot;[something]&quot;, and &quot;[anybody]&quot; and &quot;[anyone]&quot; as &quot;[someone]&quot;: the crucial difference is that &quot;[any thing]&quot; matches any named thing anywhere in the story, whereas &quot;[something]&quot; is restricted to the player's vicinity.</p>
<p>** Five new values have been added to the kind &quot;command parser error&quot;, specifically:</p>
<!-- START CODE "c198" -->
<a id="c198"></a><blockquote class="code"><p class="quoted">
can't again the addressee error
<br />comma can't begin error
<br />can't see whom to talk to error
<br />can't talk to inanimate things error
<br />didn't understand addressee's last name error
</p></blockquote>
<!-- END CODE -->
<p>This routes five of the parser's errors through the &quot;printing a parser error&quot; activity for the first time. (See bug report 0000525.)</p>
<p>** Last and very much least, it is now legal to write a sentence like:</p>
<!-- START CODE "c199" -->
<a id="c199"></a><blockquote class="code"><p class="quoted">
&quot;Madame Fanny has rules.&quot; is a text.
</p></blockquote>
<!-- END CODE -->
<p>though there is really no good reason to do so. (See problem 0000685 from the bug tracker.)</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s10"></a>§7.10. Removal of procedural rules</p>
<p>In June 2010 it was announced that Inform's procedural rules would be withdrawn in the next major release. We have had some minor releases in between, but the time has now come.</p>
<p>Procedural rules were originally designed to provide a last-resort way to alter the working of the Standard Rules (and of other extensions) by allowing certain rules to be ignored, substituted and so on. In practice, they caused confusion in use, and incurred significant run-time overheads in terms of both memory and running time.</p>
<p>There is therefore no longer a &quot;procedural rulebook&quot;, and attempts to create rules such as this:</p>
<!-- START CODE "c200" -->
<a id="c200"></a><blockquote class="code"><p class="quoted">
Procedural rule: ignore the print final score rule.
</p></blockquote>
<!-- END CODE -->
<p>will produce problem messages.</p>
<p>The functionality provided by procedural rules wasn't needed often, but it remains useful to have a last-resort mechanism. The following is available instead:</p>
<!-- START CODE "c201" -->
<a id="c201"></a><blockquote class="code"><p class="quoted">
The print final score rule does nothing.
</p></blockquote>
<!-- END CODE -->
<p>The rule continues to be listed in any rulebook it would normally be listed in, but now it doesn't do anything. More usefully, we can attach a condition:</p>
<!-- START CODE "c202" -->
<a id="c202"></a><blockquote class="code"><p class="quoted">
The print final score rule does nothing if the score is 0.
<br />The print final score rule does nothing unless the score is 100.
</p></blockquote>
<!-- END CODE -->
<p>We can also substitute a rule of our own:</p>
<!-- START CODE "c203" -->
<a id="c203"></a><blockquote class="code"><p class="quoted">
This is the print fancy final score rule:
<br />&#160;&#160;&#160;&#160;say &quot;Oh my, you scored a mammoth [score]!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c204" -->
<a id="c204"></a><blockquote class="code"><p class="quoted">
The print fancy final score rule substitutes for the print final score rule.
</p></blockquote>
<!-- END CODE -->
<p>and once again a condition can be applied:</p>
<!-- START CODE "c205" -->
<a id="c205"></a><blockquote class="code"><p class="quoted">
The print fancy final score rule substitutes for the print final score
<br />rule when the score is greater than 100.
</p></blockquote>
<!-- END CODE -->
<p>The following phrases, which could be used only in procedural rules, have been removed from the built-in set:</p>
<!-- START CODE "c206" -->
<a id="c206"></a><blockquote class="code"><p class="quoted">
ignore (rule)
<br />reinstate (rule)
<br />reject the result of (rule)
<br />accept the result of (rule)
<br />substitute (rule) for (rule)
<br />restore the original (rule)
<br />move (rule) to before (rule)
<br />move (rule) to after (rule)
</p></blockquote>
<!-- END CODE -->
<p>Anybody who never used procedural rules will never notice that these have gone, but one other related change might affect them. There used to be two subtly different ways to make a rule or rulebook apply:</p>
<!-- START CODE "c207" -->
<a id="c207"></a><blockquote class="code"><p class="quoted">
follow the print fancy final score rule;
<br />consider the print fancy final score rule;
</p></blockquote>
<!-- END CODE -->
<p>The difference was arcane and had to do with procedural rules, which were taken into consideration for &quot;follow&quot; but not &quot;consider&quot;. This difference has now vanished, and to avoid confusion &quot;consider&quot; is being withdrawn. In all cases it can simply be replaced by &quot;follow&quot;.</p>
<p>What do we gain by these changes? The language becomes simpler, and the new syntax is easier to read; run-time memory and stack usage is reduced for everyone, even people not using procedural rules in the first place; and, similarly, there are significant run-time savings in speed (in one test, of about 15%). It's also now possible to index the effects of rule manipulation, making it possible to see from the Rules Index page what has been altered. (See suggestions 751182 and 837651.)</p>
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
<p class="sectionheading"><a id="s11"></a>§7.11. Removal of deprecated phrases</p>
<p>In June 2010 it was announced that a number of Inform's built-in phrases would be withdrawn in the next major release. That day has dawned.</p>
<p>This means there is every chance that upgrading to the new build will cause existing source text, including perhaps in extensions, to cause Problems. (They will either cause Problem messages or will work as normal - they won't behave differently in a secretive, difficult-to-detect way.)</p>
<p>Before upgrading, we recommend that any user concerned about this should try adding the following to source text:</p>
<!-- START CODE "c208" -->
<a id="c208"></a><blockquote class="code"><p class="quoted">
Use no deprecated features.
</p></blockquote>
<!-- END CODE -->
<p>In builds from 6E59 onwards, this causes Inform to produce Problem messages for any of the usages we are now withdrawing, and points to documentation on how to make the change. That advice has now been removed from the documentation, but is reproduced below instead.</p>
<!-- START CODE "c209" -->
<a id="c209"></a><blockquote class="code"><p class="quoted">
award (number) point/points
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c210" -->
<a id="c210"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use &quot;increase the score by 5&quot; or similar instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c211" -->
<a id="c211"></a><blockquote class="code"><p class="quoted">
change (a stored value) to (value)
<br />change (object) to (enumerated value)
<br />change (object) to (property)
<br />change the/-- player to (object)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c212" -->
<a id="c212"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use &quot;now the score is 10&quot; or similar instead; that is, try &quot;now ... is&quot;
<br />&#160;&#160;&#160;&#160;in place of &quot;change ... to&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c213" -->
<a id="c213"></a><blockquote class="code"><p class="quoted">
consider (rule)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c214" -->
<a id="c214"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use &quot;follow&quot; instead (see above).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c215" -->
<a id="c215"></a><blockquote class="code"><p class="quoted">
delete (a table entry)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c216" -->
<a id="c216"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use &quot;blank out&quot; instead of &quot;delete&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c217" -->
<a id="c217"></a><blockquote class="code"><p class="quoted">
end the game in death
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c218" -->
<a id="c218"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Instead, use: end the story saying &quot;You have died&quot;;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c219" -->
<a id="c219"></a><blockquote class="code"><p class="quoted">
end the game in victory
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c220" -->
<a id="c220"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Instead, use: end the story finally saying &quot;You have won&quot;;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c221" -->
<a id="c221"></a><blockquote class="code"><p class="quoted">
end the game saying (text)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c222" -->
<a id="c222"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use the word &quot;story&quot; instead of &quot;game&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c223" -->
<a id="c223"></a><blockquote class="code"><p class="quoted">
if (a condition) then (a phrase)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c224" -->
<a id="c224"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use a comma instead of &quot;then&quot;, or use a colon and put the phrase
<br />&#160;&#160;&#160;&#160;on the next line, indented one stop inward.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c225" -->
<a id="c225"></a><blockquote class="code"><p class="quoted">
if game ended in death:
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c226" -->
<a id="c226"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use: if the story has ended and the story has not ended finally, ...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c227" -->
<a id="c227"></a><blockquote class="code"><p class="quoted">
if game ended in victory:
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c228" -->
<a id="c228"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use: if the story has ended finally, ...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c229" -->
<a id="c229"></a><blockquote class="code"><p class="quoted">
if game is in progress:
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c230" -->
<a id="c230"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use: if the story has not ended, ...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c231" -->
<a id="c231"></a><blockquote class="code"><p class="quoted">
if game is over:
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c232" -->
<a id="c232"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use: if the story has ended, ...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c233" -->
<a id="c233"></a><blockquote class="code"><p class="quoted">
if in (object):
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c234" -->
<a id="c234"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use &quot;if the location is the Hall of Mists&quot; or similar instead.
<br />&#160;&#160;&#160;&#160;Note: don't use &quot;if the player is in the Hall of Mists&quot;, because
<br />&#160;&#160;&#160;&#160;that will fail if the player is inside a container in the Hall.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c235" -->
<a id="c235"></a><blockquote class="code"><p class="quoted">
if it is after (time):
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c236" -->
<a id="c236"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use &quot;if the time of day is after 6:00 PM&quot; or similar instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c237" -->
<a id="c237"></a><blockquote class="code"><p class="quoted">
if it is before (time):
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c238" -->
<a id="c238"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use &quot;if the time of day is before 6:00 PM&quot; or similar instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c239" -->
<a id="c239"></a><blockquote class="code"><p class="quoted">
if using the/-- (use option):
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c240" -->
<a id="c240"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use &quot;if the American dialect option is active&quot; or similar instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c241" -->
<a id="c241"></a><blockquote class="code"><p class="quoted">
resume the game
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c242" -->
<a id="c242"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use &quot;resume the story&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c243" -->
<a id="c243"></a><blockquote class="code"><p class="quoted">
say &quot;[contents of object]&quot;
<br />say &quot;[the contents of object]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c244" -->
<a id="c244"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use &quot;[list of things carried by Darcy]&quot; or similar instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c245" -->
<a id="c245"></a><blockquote class="code"><p class="quoted">
set pronouns from possessions of the player
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c246" -->
<a id="c246"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use the following:
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c247" -->
<a id="c247"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through things held by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set pronouns from the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c248" -->
<a id="c248"></a><blockquote class="code"><p class="quoted">
while (a condition) repeatedly (a phrase)
<br />while (a condition), (a phrase)
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c249" -->
<a id="c249"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Use the block version of &quot;while&quot; instead:
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c250" -->
<a id="c250"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while a person (called Muggins) is in the Hall:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move Muggins to the Y2 Rock Room.
</p></blockquote>
<!-- END CODE -->
<hr />
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
